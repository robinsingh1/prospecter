/** @jsx React.DOM */

var Templates = require('./templates.js.min.js');
var Schedules = require('./schedule.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      selectedScreen: 'Templates'
    }
  },
  
  toggleScreen: function(screen) {
    this.setState({selectedScreen : screen})
  },

  render: function() {
    console.log(this.state.selectedScreen)
    switch (this.state.selectedScreen){
      case 'Templates':
        CurrentScreen = Templates(null)
        break;
      case 'Schedules':
        CurrentScreen = Schedules(null)
        break;
    }

    return (
      //:
      React.DOM.div({className: "", style: {height:'400px'}}, 
        React.DOM.div({className: "container", style: {padding:'0',width:'100%',height:'100%'}}, 
            SideMenu({toggleScreen: this.toggleScreen}), 
          React.DOM.div({className: "col-md-10", style: {padding:'0',height:'100%'}}, 
            CurrentScreen
          )
        )
      )
    );
  }
});

var SideMenu = React.createClass({displayName: 'SideMenu',
  toggleScreen: function(e) {
    this.props.toggleScreen($(e.target).text().trim())
  },
  render: function() {
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'100%',backgroundColor:'rgb(90, 107, 119)',borderBottomLeftRadius:'3px'}}, 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", className: "sharp btn btn-default", onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-file-text"}), "   Templates"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default", onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-clock-o"}), "   Schedules"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-code-fork"}), "  ",  
            React.DOM.span({style: {marginLeft:'4px'}}, "Rules")
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "   Sent Mail"
          )
        )
      )
    );
  }
});
