(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
   //Analytics
  render: function () {
    return (
      React.DOM.div({style: {height:'400px'}, className: ""}, 
        React.DOM.div({className: "container", style: {width:'100%',padding:'0',height:'100%'}}, 
          AnalyticsSideMenu(null), 
          React.DOM.div({className: "col-md-3", style: {padding:'0'}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead(null, 
                React.DOM.th(null, "Stat"), 
                React.DOM.th(null, "#")
              ), 
              React.DOM.tbody(null, 
                React.DOM.tr(null, React.DOM.td(null, "# of People Prospected"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Companies Prospected"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Sent"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Delivered"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Delivery Failures"), React.DOM.td(null, "lil"))
              )
            )
          )
        )
      )
    );
  }
});

var AnalyticsSideMenu = React.createClass({displayName: 'AnalyticsSideMenu',
  render: function() {
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'100%',backgroundColor:'rgb(90, 107, 119)',borderBottomLeftRadius:'3px'}}, 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-search"}), "   Prospecting Overview"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "   Email Outreach"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-user"}), "   Team Stats"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-cloud"}), "   CRM Integration"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-circle-o"}), "   Sales Cycle"
          )
        )
      )
    );
  }
});

},{}]},{},[1])


},{}],2:[function(require,module,exports){
/** @jsx React.DOM */

/* TODO
 * 
 * - All count change, when prospect is archived
 * - When is list is chaanged from all and then returned to All prospects take a long     time to load
 * - Fix pagination issues
 *
 * - Parallelize Workers
 * - Scale up google scrape to hundreds of workers (heroku)
 *
 * - Company Shortcuts 
 * - Add ability to switch accounts for admins
 * - Add email uneditable email fields
 */

var Prospects = require('./prospects.js.min.js');
var CompanyProspect = require('./company.js.min.js');
var CompanyProspects = require('./company_prospects.js.min.js');
var DataTable = require('./data_table.js.min.js');
var MiningJob = require('./mining_job.js.min.js');
var Campaigns = require('./email.js.min.js');
var Analytics = require('./analytics.js.min.js');
var SignUp = require('./signup.js.min.js');
var Login = require('./login.js.min.js');
var LandingPage = require('./landing_page.js.min.js');
var LandingPage = require('./landing_page_concept.js.min.js');
var FreeTrial = require('./free_trial.js.min.js');
var Pricing = require('./pricing.js.min.js');
var Signals = require('./signals.js.min.js');
var MouseTrap = require('../lib/mousetrap.min.min.js')
//var checkAuth = require('./auth.min.js')

var Home = React.createClass({displayName: 'Home',
  componentWillMount: function(){
    checkAuth()
  },

  getInitialState: function() {
    // num_of_pages
    return {prospects: [] , 
            currentPage: 1, 
            pages: 1, 
            count:"~", 
            prospectType:'Prospect', 
            selectedScreen: 'Prospects'}
  },

  toggleScreen: function(e) {
    e.preventDefault()
    this.setState({selectedScreen : $(e.target).text().trim()})
  },

  logout: function() {
    localStorage.clear()
    location.href = "#get_started"
  },

  listDropdown: function() {
    console.log('dropdown')
    //$('.dropdown-menu').dropdown()
    $('.prospect-list-select').css('border-bottom-right-radius','0px')
    $('.prospect-list-select').css('border-bottom-left-radius','0px')
      
    $('.list-select-dropdown').css('border-top-left-radius','0px')
    $('.list-select-dropdown').css('border-top-right-radius','0px')
  },

  selectChange : function() {

  },

  stripeCheckout: function() {
    handler.open({
      name: 'Customero',
      description: 'Get 900 free email credits!',
      amount: 0,
      panelLabel: "Start Your Free Trial!",
      opened: function() {
      },
      closed: function() {
        console.log("closed")
        location.reload()
      }
    });
  },

  componentDidMount: function() {
    // Credit Card Verified Check
    localStorage.selectedProspects = "[]"
    currentUser = JSON.parse(localStorage.currentUser)
    if(!currentUser.creditCardVerified)
      this.stripeCheckout()

    /*
     * Make Request To Get Most Up to Date Info
     * On Success Add To Intercom
    */

    /*
    $.ajax({
      url:''
      success: function(res) {
        // Number of Prospects for user
        // Number of Lists
        // Number of Emails found
        Intercom('boot', {
          app_id: 'abc12345',
          email: 'john.doe@example.com',
          created_at: 1234567890,
          name: 'John Doe',
          user_id: '9876'
        });
      },
      error: function(err) {
      }
    });
    */
    // Intercom
    // Mixpanel
  },

  render: function() {
    prospects = "choose btn btn-primary "
    companyProspects = "choose btn btn-primary "
    campaigns = "choose btn btn-primary "
    signals = "choose btn btn-primary "
    switch (this.state.selectedScreen) {
      case 'Prospects':
        currentScreen = Prospects(null)
        prospects = "choose btn btn-primary app-active"
        break;
      case 'Companies':
        currentScreen = CompanyProspects(null)
        currentScreen = DataTable({listClassName: 'CompanyProspectList', 
                                   tableHeader: ['Name','Added On','Industry',
                                                 '# of Prospects','Signals',
                                                 '',''], 
                                   className: 'CompanyProspect'})
        companyProspects = "choose btn btn-primary app-active"
        break;
      case 'Mining Jobs':
        currentScreen = MiningJob(null)
        break;
      case 'Analytics':
        currentScreen = Analytics(null)
        break;
      case 'Campaigns':
        currentScreen = Campaigns(null)
        campaigns = "choose btn btn-primary app-active"
        break;
      case 'Signals':
        currentScreen = Signals(null)
        signals = "choose btn btn-primary app-active"
        break;
      case 'Settings':
        currentScreen = Settings(null)
        break;
    }

    return (
      React.DOM.div(null, 
      React.DOM.br(null), 
      React.DOM.br(null), 
      React.DOM.div({className: "container"}, 
        React.DOM.h1({style: {fontWeight:'bold',display:'inline',fontWeight:'100',color:'#1ca3fd'}}, 
          React.DOM.img({src: "build/img/network.png", 
            style: { height:32, marginTop:-4,
              marginRight:5, }}
          ), 
          React.DOM.span({style: {fontWeight:'bold',fontSize:32,fontFamily:'Proxima-Nova'}}, "Customero ")
        ), 
      React.DOM.span({style: {float:'right'}}, 
        React.DOM.img({src: "build/img/user.png", style: {height:'40px',width:'40px',padding:'2px',marginTop:'5px',borderRadius:'23px',display:'inline'}, className: "thumbnail"}), "   ",  
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline'}}, "Welcome")
      ), 
      React.DOM.span({style: {float:'right', marginRight:'150px'}}, 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline',}}, React.DOM.a({href: "javascript:", onClick: this.logout, style: {color:'#1ca3fd'}}, "Logout")), 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline',marginRight:'10px'}}, React.DOM.a({href: "#pricing", style: {color:'#1ca3fd'}}, "Pricing")), 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline', marginRight:'10px'}}, React.DOM.a({href: "http://resources.customerohq.com", style: {color:'#1ca3fd'}}, "Resources"))
      ), 
      React.DOM.br(null), 
      React.DOM.br(null), 
        React.DOM.div({className: "panel panel-default"}, 
        React.DOM.div({id: "navbar", className: "panel-heading"}, 

          React.DOM.div({className: "btn-group col-md-offset-4"}, 
            React.DOM.a({href: "javascript:", className: signals, style: {display:'block'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-wifi"}), " Signals"
            ), 
            React.DOM.a({href: "javascript:", className: prospects, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-user"}), " Prospects"
            ), 
            React.DOM.a({href: "javascript:", className: "choose btn btn-primary", style: {display:'none'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-bar-chart-o"}), " Analytics"
            ), 
            React.DOM.a({href: "javascript:", className: "choose btn btn-primary", 
                  style: {width:162,display:'none'}, 
                  onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-tasks"}), " Mining Jobs  ", 
                React.DOM.span({className: "label label-default"}, "BETA")
            ), 
            React.DOM.a({href: "javascript:", className: companyProspects, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-building"}), " Companies"
            ), 
            React.DOM.a({href: "javascript:", className: campaigns, style: {display:'block'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-envelope"}), " Campaigns"
            )
          ), 
          React.DOM.a({href: "javascript:", 
            style: {marginTop:7, float:'right'}, 
            className: "btn btn-success btn-sm", 
            onClick: this.downloadSocialProspecter}, 
            "Download Social Prospecter"
          )
        ), 

          currentScreen

        )
      )
      )
    );
  },
  
  downloadSocialProspecter: function() {
    //chrome.webstore.install('https://chrome.google.com/webstore/detail/ofcalkjbogaiipekcocdefjenclioeci')
    chrome.webstore.install()
    console.log('download')
  },

  /*
          <a href="#" className="btn btn-success" onClick={this.downloadFile}
                  style={{float:'right',marginTop:'6px'}}>
            <i className="fa fa-download" />&nbsp;&nbsp;
            <h5 style={{display:'inline'}} >Download CSV</h5>
          </a>
  */

  deleteProspect: function(objectId, endpoint) {
    var filtered = _.filter(this.state.prospects, function(item) {
       return item.objectId != objectId
    });
    this.setState({prospects: filtered})

    $.ajax({
      url:'https://api.parse.com/1/classes/'+endpoint+'/'+objectId,
      type:'DELETE',
      headers: parse_headers,
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
      }
    });
  }
});


var Workspace = Backbone.Router.extend({
  routes: {
    //landing_page
    ""            : "home",
    "get_started" : "landing_page",
    "free_trial"  : "free_trial",
    "signup"      : "signup",
    "login"       : "login",
    "pricing"     : "pricing",
  },
  home: function() {
    currentUser = localStorage.getItem('currentUser')
    if (currentUser) 
      React.renderComponent(Home(), document.getElementById('content'));
    else
      location.href = "#get_started"
  },
  landing_page: function() {
    React.renderComponent(LandingPage(), document.getElementById('content'));
  },
  free_trial: function() {
    React.renderComponent(FreeTrial(), document.getElementById('content'));
  },

  signup: function() {
    React.renderComponent(SignUp(), document.getElementById('content'));
  },
  login: function() {
    React.renderComponent(Login(), document.getElementById('content'));
  },
  pricing: function() {
    React.renderComponent(Pricing(), document.getElementById('content'));
  }
});

$(document).ready(function(){
  checkAuth()
  var workspace = new Workspace;
  Backbone.history.start();
});
/*
          <div className="dropdown" style={{display:'block',float:'left'}}>
            <a data-toggle="dropdown" onClick={this.listDropdown} className="prospect-list-select" href="javascript:">Default&nbsp;&nbsp;&nbsp;<i className="fa fa-chevron-circle-down" /></a>
              <ul className="list-select-dropdown dropdown-menu" role="menu" aria-labelledby="dLabel" style={{marginTop:'-1px'}}>
                <li>LOL</li>
                <li>LMAO</li>
                <li>LMFAO</li>
              </ul>
          </div>
*/

},{"../lib/mousetrap.min.min.js":52,"./analytics.js.min.js":1,"./company.js.min.js":5,"./company_prospects.js.min.js":6,"./data_table.js.min.js":17,"./email.js.min.js":20,"./free_trial.js.min.js":23,"./landing_page.js.min.js":24,"./landing_page_concept.js.min.js":25,"./login.js.min.js":27,"./mining_job.js.min.js":29,"./pricing.js.min.js":33,"./prospects.js.min.js":34,"./signals.js.min.js":43,"./signup.js.min.js":44}],3:[function(require,module,exports){
/** @jsx React.DOM */
var TemplatesMenu = require('./templates_menu.js.min.js');
var EditTemplateView = require('./edit_template.js.min.js');
var CreateTemplateView = require('./create_template.js.min.js');
var FollowupTimeline = require('./followup_timeline.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  // Campaign Detail
  getInitialState: function() {
    return {
      selectedTemplate: 0,
      templateDetailMode: false,
      editMode: false,
      followupDay: 0,
      templates:[],
      currentTemplate:'',
      prospectListCount:'~',
      prospects:[],
    }
  },

  componentDidMount: function() {
     thissss = this;
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     qry = 'where={"company":'+company+'}'
    $.ajax({
      url:'https://api.parse.com/1/classes/Template',
      headers: appConfig.headers,
      data: qry,
      success: function(res) { thissss.setState({templates: res.results}) },
      error: function(err) { console.log('error') }
    });

    currentList = JSON.stringify({
      '__type'    : 'Pointer', 
      'className' : 'ProspectList',
      'objectId'  : this.props.selectedCampaign.prospect_list.objectId, 
    })
    qry = 'where={"lists":'+currentList+'}&limit=1000&count=1'
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect',
      headers: appConfig.headers,
      data: qry,
      success: function (res) {
        thissss.setState({
          prospects: res.results,
          prospectListCount: res.count 
        })
      },
      error: function(err) { }
    })
  },

  returnToOverview: function() {
    this.props.toggleScreen('Campaigns')
  },

  render: function() {
    //console.log('campaign detail')
    thiss = this;
    return (
      React.DOM.div({className: "container", 
           style: {width:'100%',height:'100%',paddingLeft:0,paddingRight:0}}, 
        React.DOM.div({style: {marginBottom:30}, id: "campaign-top-detail"}, 
        React.DOM.h5({style: {marginTop:20,marginLeft:20}}, 
          React.DOM.a({href: "javascript:", onClick: this.returnToOverview}, "Campaigns "), 
          React.DOM.small(null, 
            React.DOM.i({style: {marginLeft:10, marginRight:10}, 
               className: "fa fa-chevron-right"})
          ), 
          this.props.selectedCampaign.name
        ), 
        React.DOM.h6({style: {marginLeft:20,display:'inline-block',marginRight:15}}, 
          React.DOM.span({className: "text-muted"}, "Prospect List:"), "  ", 
          (this.props.selectedCampaign.prospect_list.signal_list) ? React.DOM.span(null, React.DOM.i({className: "fa fa-wifi"}), " ") : "", 
          this.props.selectedCampaign.prospect_list.name
        ), 
        React.DOM.span({className: "badge"}, this.state.prospectListCount), 

        React.DOM.h6({style: {marginLeft:20,display:'inline-block',marginRight:15}}, 
          "Batches :"
        ), 
        React.DOM.span({className: "badge"}, "2"), 
        React.DOM.a({href: "javascript:", 
           style: {float: 'right', marginTop: -35, marginRight: 30, display:'none'}, 
           className: "btn btn-success btn-sm"}, 
          React.DOM.i({className: "fa fa-envelope"}), " Send!"
        )
        ), 
          React.DOM.div({className: "col-md-8 panel panel-default", 
               style: {height:'443px',paddingLeft:305,paddingTop:50,overflow:'auto',borderRight:0,borderRadius:0}}, 
               FollowupTimeline({
                  templates: this.state.templates, 
                  prospects: this.state.prospects, 
                  currentCampaign: this.props.selectedCampaign, 
                  toggleTemplateEditMenu: this.toggleTemplateEditMenu, 
                  initialFollowups: this.props.selectedCampaign.followups})
          ), 
          React.DOM.div({className: "col-md-4", 
               style: {paddingLeft:0,paddingRight:0,height:443}}, 
            TemplatesMenu({
              templates: this.state.templates, 
              toggleTemplateEditMenu: this.toggleTemplateEditMenu})
          ), 

          (this.state.templateDetailMode) ? EditTemplateView({
            editMode: this.state.editMode, 
            initialTemplateValues: this.state.currentTemplate, 
            saveTemplate: this.saveTemplate, 
            prospect: this.state.prospects[0], 
            toggleTemplateEditMenu: this.toggleTemplateEditMenu, 
            followupDay: this.state.followupDay}) : ""
      )
    );
  },

  saveTemplate: function(template, newTemplate) {
    templates = this.state.templates
    for(i=0;i< this.state.templates.length; i++)
      if(this.state.templates[i].name == template.name)
        break
    
    console.log(template)
    if(newTemplate){
      template.subject = template.subject
      template.name = template.name
      template.body = template.body
      templates.push(template)

      $.ajax({
        url:'https://api.parse.com/1/classes/Template',
        headers:appConfig.headers,
        type:'POST',
        data:JSON.stringify({
          name : template.name,
          subject: template.subject,
          body: template.body,
          user:{
            __type: 'Pointer',
            className:'_User',
            objectId:JSON.parse(localStorage.currentUser).objectId,
          },
          company:JSON.parse(localStorage.currentUser).company,
        }),
        success: function(res) {
          console.log(res)
        },
        error: function() {
        }
      })
    } else {
      templates[i].subject = template.subject
      templates[i].body = template.body

      $.ajax({
        url:'https://api.parse.com/1/classes/Template/'+templates[i].objectId,
        type:'PUT',
        headers:appConfig.headers,
        data:JSON.stringify({
          name : template.name,
          subject: template.subject,
          body: template.body,
        }),
        success: function(res) {
          console.log(res)
        },
        error: function() {
        }
      })
    }

    this.setState({templates: templates })

  },

  toggleTemplateEditMenu: function(currentTemplate, editMode) {
    editMode = (editMode) ? true : false
    this.setState({
      currentTemplate: currentTemplate,
      templateDetailMode: !this.state.templateDetailMode,
    })
  }
});

},{"./create_template.js.min.js":15,"./edit_template.js.min.js":19,"./followup_timeline.js.min.js":22,"./templates_menu.js.min.js":46}],4:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Campaigns
  getInitialState: function() {
    return {
      selectedScreen: 'Overview',
    }
  },

  changeSelectedCampaign: function(campaign) {
    //this.props.toggleScreen('CampaignDetail')
    this.props.changeSelectedCampaign('CampaignDetail', campaign)
  },

  render: function() {
    campaigns = []
    console.log(this.props)
    for(i=0;i< this.props.campaigns.length; i++){ 
      campaigns.push(CampaignRow({
                        toggleScreen: this.toggleScreen, 
                        changeSelectedCampaign: this.changeSelectedCampaign, 
                        campaign: this.props.campaigns[i]}) )
    }
    return (
      React.DOM.div({style: {overflow:'auto',height:550}}, 
        React.DOM.table({className: "table table-striped"}, 
          React.DOM.thead(null, 
            React.DOM.th(null), 
            React.DOM.th(null, "Campaign Name"), 
            React.DOM.th(null, "Prospect List"), 
            React.DOM.th({style: {textAlign:'center'}}, "Delivered"), 
            React.DOM.th({style: {textAlign:'center'}}, "Opened"), 
            React.DOM.th({style: {textAlign:'center',display:'none'}}, "Replied"), 
            React.DOM.th({style: {textAlign:'center',display:'none'}}, "Link Clicks"), 
            React.DOM.th({style: {textAlign:'center'}}, "Bounces"), 
            React.DOM.th({style: {width:150,textAlign:'center'}}, " ")
          ), 
          React.DOM.tbody(null, 
            campaigns
          )
        )
      )
    );
  }
});

var CampaignRow = React.createClass({displayName: 'CampaignRow',
  toggleScreen: function() {
    //this.props.toggleScreen()
    this.props.changeSelectedCampaign(this.props.campaign)
  },

  render: function() {
    if(this.props.campaign.prospect_list.list_type == "signal_list")
        iconType = React.DOM.i({className: "fa fa-wifi", style: {marginRight:5}})
    else if(this.props.campaign.prospect_list.list_type == "mining_job")
        iconType = React.DOM.i({className: "fa fa-cloud-download", style: {marginRight:5}})
    else 
        iconType =""
    return (
      React.DOM.tr({style: {cursor:'pointer'}, onClick: this.toggleScreen}, 
        React.DOM.td(null), 
        React.DOM.td(null, " ", React.DOM.h6(null, 
            this.props.campaign.name
        ), " "), 
        React.DOM.td(null, " ", React.DOM.h6(null, 
            iconType, 
            this.props.campaign.prospect_list.name
        ), " "), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "badge", style: {backgroundColor:'#f0ad4e'}}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "  " + ' ' +
            "100%"
          )
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-success"}, 
            React.DOM.i({className: "fa fa-eye"}), "  " + ' ' +
            "100%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12,display:'none'}}, 
          React.DOM.span({className: "label label-primary"}, 
            React.DOM.i({className: "fa fa-mail-reply"}), "  " + ' ' +
            "100%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12,display:'none'}}, 
          React.DOM.span({className: "label label-info"}, 
            React.DOM.i({className: "fa fa-external-link-square"}), "  " + ' ' +
            "18%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-default"}, 
            React.DOM.i({className: "fa fa-exclamation-circle"}), "  " + ' ' +
            "11%")
        ), 
        React.DOM.td({style: {textAlign:'center',paddingTop:12}}, 
          React.DOM.a({href: "javascript:", className: "btn btn-primary btn-xs", 
            style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important;',display:'none'}}, 
            React.DOM.i({className: "fa fa-copy", style: {fontWeight:'bold'}}), "  Clone"), 
          React.DOM.a({href: "javascript:", className: "btn btn-primary btn-xs", 
            style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important',marginLeft:5}}, " ", React.DOM.i({className: "fa fa-trash"}))
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12,display:'none'}}, 
          React.DOM.h4({style: {margin:0}}, 
            React.DOM.span({className: "label label-success"}, "Ready")
          )
        )
      )
    )
  }
});

},{}],5:[function(require,module,exports){
/** @jsx React.DOM */
// 

module.exports = React.createClass({displayName: 'exports',
  //CompanyProspect
  render: function () {
    prospect = this.props.prospect
    website = (prospect.website) ? React.DOM.a({href: 'http://'+prospect.website}, React.DOM.i({className: "fa fa-globe"})) : ''
    linkedin_profile = (prospect.profile != "") ? React.DOM.a({href: prospect.profile}, React.DOM.i({className: "fa fa-linkedin-square"})) : ''

  /*
            <a href="javascript:" className="btn btn-success btn-xs"
              style={{background: 'linear-gradient(#34c520,#219211)'}}> 
              <i className="fa fa-search" /> &nbsp;
              Find Prospects
            </a>
  */

  console.log

  //<td><a href="javascript:" onClick={this.deleteProspect}><i className="fa fa-times-circle" /></a></td>
    return (
        React.DOM.tr(null, 
          React.DOM.td({style: {width:'300px'}}, 
            React.DOM.span({style: {fontWeight:'bold'}}, prospect.name), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, prospect.headcount)
          ), 
          React.DOM.td(null, 
            React.DOM.h6({style: {margin:'0px'}}, moment(prospect.createdAt,'YYYY-MM-DDTh:mm:ss').fromNow())), 
          React.DOM.td(null, 
            React.DOM.h6({style: {margin:'0px'}}, prospect.industry)
          ), 
          React.DOM.td({style: {textAlign:'center',width:137,display:'none'}}, 
            React.DOM.span({className: "label label-primary", style: {display: 'block', width: 'auto', marginRight: 'auto', marginLeft: 'auto', width: '25px'}}, "0")
          ), 
          React.DOM.td({style: {display:'none'}}, 
            React.DOM.span({className: "label label-info"}, "Hiring")), 
          React.DOM.td({style: {width:320}}, 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openLinkedinCompanyProfile, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
              "Search Profiles"
            ), 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openSimilarCompanies, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-copy"}), "  " + ' ' +
              "Find Similar Companies"
            )
          ), 
          React.DOM.td(null, " ", linkedin_profile, "   ", website, " ")
        )
    );
  },

  openLinkedinCompanyProfile: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/p?f_CC="+cid)
  },

  openSimilarCompanies: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/c?rsid=526440371409184768175&pivotType=sim&pid="+cid+"&trk=sim_companies_res_sim&trkInfo=VSRPsearchId%3A526440371409184768175%2CVSRPtargetId%3A1025%2CVSRPcmpt%3Aprimary")
  },

  deleteProspect: function() {
    this.props.deleteProspect(this.props.prospect.objectId, 'CompanyProspect')
  }
});

},{}],6:[function(require,module,exports){
/** @jsx React.DOM */

var CompanyProspect = require('./company.js.min.js');
var LoadingSpinner = require('./loading_spinner.js.min.js')
var SideMenuProspects = require('./side_menu_user_prospects.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {  prospects   : [],
              currentPage : 1,
              loading     : true,
              pages       : 1,
              count       : "~", }
  },
  /*
   *
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    console.log(this.props)
    window.open("https://www.linkedin.com/vsearch/p?f_CC="+cid)
  */
  
  render: function() {
    console.log('company')
    prospects = []
    for(i=0;i<this.state.prospects.length;i++) {
      url = this.state.prospects[i].url

      if(url != "no linkedin website" && typeof(url) != "undefined" && url != ""){
        url = url.replace('http://','')
        the_link = React.DOM.a({href: 'http://'+url}, React.DOM.i({className: "fa fa-globe"}))
      } else {
        the_link = ""
      }

      profile = this.state.prospects[i].profile
      //profile = profile.replace('http://','')
      li = React.DOM.a({href: 'http://'+profile}, React.DOM.i({className: "fa fa-linkedin-square"}))

      if(this.props.prospectType == 'Prospect') {
        prospects.push(
          UserProspect({deleteProspect: this.deleteProspect, 
                        prospect: this.state.prospects[i], 
                        key: this.generate_id(), 
                        link: the_link, li: li})
        )
      } else {
        prospects.push(
          CompanyProspect({deleteProspect: this.deleteProspect, 
                           key: this.generate_id(), 
                           prospect: this.state.prospects[i]})
        )
      }
    }

    previous = (this.state.currentPage - 1) ? '' : 'disabled'
    forward = (this.state.currentPage == this.state.pages) ? 'disabled' : ''

    lowerLimit = (this.state.currentPage-1)*100
    upperLimit = this.state.currentPage*100

    lowerLimit = (lowerLimit) ? lowerLimit : 1
    upperLimit = (upperLimit > this.state.count) ? this.state.count : upperLimit
  
    console.log(prospects.length)
    companyStyle= (prospects.length) ? {padding:'0'} : {display:'none'}

    return (
      React.DOM.div(null, 
      React.DOM.div({className: "container bg-radius", style: {width:'100%',padding:'0'}}, 
        (prospects.length == 0 && this.state.loading == false) ? EmptyCompanyProspectsPanel(null) : "", 
        (this.state.loading) ? LoadingSpinner(null) : "", 
        React.DOM.div({className: "col-md-12", style: companyStyle}, 
          React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead({style: {backgroundColor:'white'}}, 
                CompanyProspectHeader(null)
              ), 
              React.DOM.tbody(null, 
                prospects
              )
            )
          )
        )
      ), 
        React.DOM.div({className: "panel-footing", id: "navbar", style: {height:'35px',padding:'0px',paddingTop:'7px'}}, 
          React.DOM.span({style: {float:'right',marginRight:'20px'}}, 
          React.DOM.a({href: "javascript:", style: {marginRight:'5px'}, onClick: this.paginatePrevious, className: "blue-gradient btn btn-primary btn-xs " + previous}, React.DOM.i({className: "fa fa-fast-backward"})), 
          React.DOM.a({href: "javascript:", onClick: this.paginatePrevious, className: "blue-gradient btn btn-primary btn-xs " + previous}, React.DOM.i({className: "fa fa-chevron-left"})), 
          "   ", 
          React.DOM.span({className: ""}, lowerLimit + ' - '+upperLimit+' of '+this.state.count), 
          "   ", 
          React.DOM.a({href: "javascript:", onClick: this.paginateForward, className: "blue-gradient btn btn-primary btn-xs " + forward}, React.DOM.i({className: "fa fa-chevron-right"})), 
          React.DOM.a({href: "javascript:", style: {marginLeft:'5px'}, onClick: this.paginateForward, className: "blue-gradient btn btn-primary btn-xs " + forward}, React.DOM.i({className: "fa fa-fast-forward"}))
          )
        )
      )
    );
  },

  componentDidMount: function() {
    thisss = this;
    parse_headers = {'X-Parse-Application-Id':'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 'X-Parse-REST-API-Key':'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb'}
    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)

    $.ajax({
      url: 'https://api.parse.com/1/classes/CompanyProspect',
      type:'GET',
      headers: parse_headers,
      async: true,
      data: 'where={"company":'+company+'}&count=1&order=-createdAt',
      success: function(res){
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        thisss.setState({pages: Math.ceil(res.count/100)})
        thisss.setState({loading: false})
      },
      error: function(res){
        console.log('error')
        console.log(res)
      }
    });
  },

  generate_id : function () {
    return '_' + Math.random().toString(36).substr(2, 9);
  },
});

var SideMenuCompanyProspects = React.createClass({displayName: 'SideMenuCompanyProspects',
  render: function() {
        
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'400px',backgroundColor:'#e0e9ee',borderRight:'1px solid #b0b8bf',textAlign:'center'}}, 
        React.DOM.div({className: "prospect-list-header"}, 
          "Lists"
        ), 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Templates"), 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Schedules"), 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Rules")
        ), 
        React.DOM.br(null), 
        React.DOM.br(null), 
        React.DOM.a({href: "javascript:", className: "btn btn-primary", 
              style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
          React.DOM.i({className: "fa fa-plus-circle"}), " New Class"
        ), 
        React.DOM.br(null)
      )
    );
  },

  paginatePrevious: function() {
    console.log('previous')
    console.log((this.state.currentPage - 1)*100)
    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+(thiss.state.currentPage-2)*100,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        thiss.setState({prospects: res.results})
        thiss.setState({currentPage: thiss.state.currentPage - 1})
      },
      error: function(res){
        console.log(res)
      }
    });
  },

  paginateForward: function() {
    console.log('forward')

    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+thiss.state.currentPage*100,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        thiss.setState({prospects: res.results})
        thiss.setState({currentPage: thiss.state.currentPage + 1})
      },
      error: function(res){
        console.log(res)
      }
    });
  },
});

var EmptyCompanyProspectsPanel = React.createClass({displayName: 'EmptyCompanyProspectsPanel',
  openLinkedinWindow: function() {
    window.open('https://www.linkedin.com/vsearch/c?type=companies')
  },

  render: function() {
    return (
      React.DOM.div({className: "col-md-offset-3 col-md-6", style: {height:400}}, 
      React.DOM.div({className: "panel panel-default", style: {marginTop:100,height:200}}, 
        React.DOM.div({className: "panel-body"}, 
          React.DOM.h1({className: "lead", style: {textAlign:'center'}}, "Start Prospecting On Linkedin"), 
          React.DOM.a({href: "javascript:", onClick: this.openLinkedinWindow, className: "btn btn-success", style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important',display:'block',marginRight:'auto',marginLeft:'auto',width:200, marginTop:50}}, 
            React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
            "Search for companies!")
        )
      )
    )
    );
  }
});

var CompanyProspectHeader = React.createClass({displayName: 'CompanyProspectHeader',
  render: function() {
    return (
      React.DOM.tr(null, 
        React.DOM.th(null, "Name"), 
        React.DOM.th(null, "Added On"), 
        React.DOM.th(null, "Industry"), 
        React.DOM.th(null, "# of Prospects"), 
        React.DOM.th(null, "Signals"), 
        React.DOM.th(null, " "), 
        React.DOM.th(null, " ")
      )
    );
  }
});

},{"./company.js.min.js":5,"./loading_spinner.js.min.js":26,"./side_menu_user_prospects.js.min.js":39}],7:[function(require,module,exports){
/** @jsx React.DOM */


module.exports = React.createClass({displayName: 'exports',
  // SignalCard
  render: function() {
    company = this.props.company
    return (
      React.DOM.div({className: "panel panel-default signal-card"}, 
        React.DOM.div({className: "panel-body", style: {paddingLeft:25, paddingRight:25}}, 
          React.DOM.h4({style: {display:'inline-block',width:'100%'}}, 
            React.DOM.span({style: { float:'left',maxWidth: '60%', whiteSpace: 'nowrap',
                overflow: 'hidden', textOverflow: 'ellipsis'}}, 
              company.name), 
            React.DOM.span({className: "label label-success", 
              style: {marginLeft:7, float:'right',fontSize:12,
                maxWidth: '40%', whiteSpace: 'nowrap',
                overflow: 'hidden', textOverflow: 'ellipsis'}}, 
              React.DOM.i({className: "fa fa-suitcase"}), "  ", 
              company.signals[0].job_title
            )
          ), 
          React.DOM.a({href: "javascript:", className: "btn btn-success", 
            style: {float:'right',marginTop:15, fontWeight:'bold'}}, 
            "Prospect This Company"), 
          React.DOM.p({style: {fontSize:12,width:'75%'}}, 
            company.signals[0].summary
          ), 
          React.DOM.h6(null, " ", React.DOM.i({className: "fa fa-map-marker"}), 
            "  ", company.signals[0].location)
        )
      )
    );
  }
});

},{}],8:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createCampaign: function(e) {
    e.preventDefault()
    //console.log($('#newListName').val())
    newCampaignName = $('#newCampaignName').val()
    prospectListName = $('#prospect_lists').val()
    thiss = this
    for(i=0;i< this.props.prospectLists.length; i++){
      if(this.props.prospectLists[i].name == prospectListName){
        prospect_list = this.props.prospectLists[i]; 
        break;
      }
    }
    if(newCampaignName.trim() != "")
      this.props.createCampaign({
        name: newCampaignName,
        prospect_list: prospect_list
      })
    // Disable Modal
    $('.modal-backdrop').click()
    $('.fade').click()
    $('#newCampaignName').val('')
  },

  render: function() {
    prospect_lists = []
    for(i=0;i< this.props.prospectLists.length; i++) {
      prospect_lists.push( React.DOM.option(null, this.props.prospectLists[i].name))
    }

    return (
      React.DOM.div({className: "modal fade bs-createCampaign-modal-sm", 
           tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 
           'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-envelope"}), "  Create Campaign")
                ), 

                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.createCampaign}, 
                    React.DOM.input({id: "newCampaignName", 
                           type: "text", 
                           placeholder: "Enter Campaign Name...", 
                           className: "form-control"}), 

                    React.DOM.select({className: "form-control", 
                            id: "prospect_lists", 
                            style: {marginTop:20,marginBottom:20}}, 
                      prospect_lists
                    ), 

                    React.DOM.a({href: "javascript:", 
                      onClick: this.createCampaign, 
                      className: "btn btn-success", 
                      style: {display:'block', width:'100%'}}, 
                      "Create Campaign"
                    )
                  )
                )
              )
            )
          )
    );
  }
});


},{}],9:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createCompanyProfileModal
  render: function() {
    return (
      React.DOM.div({className: "modal fade bs-createSignal-modal-md", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", 
           id: "createCompanyProfileModal", 
           style: {top:'50px',overflow:'hidden'}}, 
            React.DOM.div({className: "modal-dialog modal-sm", style: {width:650}}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    "Create Company Profile"
                  ), 
                  React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                     onClick: this.createCompanyProfile, 
                     style: {float:'right',marginTop:-28,marginRight:-5}}, 
                    "Create Profile"
                  )
                ), 
                React.DOM.div({className: "modal-body"}, 
                  CreateHiringSignal(null)
                ), 
              React.DOM.div({className: "modal-footer", style: {display:'none'}}, 
                React.DOM.button({type: "button", className: "btn btn-default"}, 
                  "Close"
                ), 
                React.DOM.button({type: "button", className: "btn btn-primary"}, 
                  "Send Email"
                )
              )
              )
            )
          )
    );
  },

  createCompanyProfile: function() {
    profileName = $(".company-profile-name").val()
    industryProfile = {
      'className': 'IndustryProfile',
      'industries' : $('.company-profile-industries').tagsinput('items').reverse()
    }

    locationProfile = {
      'className': 'LocationProfile',
      'locale'    : $('.company-profile-location').tagsinput('items').reverse()
    }

    employeeProfile = {
      'className':'EmployeeProfile', 
      'employees': _.map($('#company-profile-employeeBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() }).reverse()
    }

    revenueProfile = {
      'className':'RevenueProfile', 
      'revenues': _.map($('#company-profile-companyRevenueBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() }).reverse()
    }

    console.log(locationProfile)
    
    profiles = [industryProfile, locationProfile,
                employeeProfile, revenueProfile]

    nonemptyProfiles = _.filter(profiles, function(profile) {
      if(_.values(profile)[1]){ return _.values(profile)[1].length }
    });

    newProfile = {
      name: profileName,
      profiles: nonemptyProfiles,
      mining_job:true,
      user:{
        __type:'Pointer',
        className:'_User',
        objectId:JSON.parse(localStorage.currentUser).objectId
      },
      company: JSON.parse(localStorage.currentUser).company
    }

    if(nonemptyProfiles.length) {
      this.persistSignal(nonemptyProfiles, 
                         _.omit(newProfile,'profiles'))
      this.props.addProfile(newProfile)
      $('.modal').click()
    }
  },

  persistSignal: function(nonemptyProfiles, newProfile) {
    console.log('NEW PROFILE')
    console.log(newProfile)
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectProfile',
      headers:appConfig.headers,
      type:'POST',
      data:JSON.stringify(newProfile),
      success:function(ress) {
        // Add Signal List
        _.map(nonemptyProfiles, function(profile) {
          $.ajax({
            url:'https://api.parse.com/1/classes/'+_.values(profile)[0],
            headers:appConfig.headers,
            type:'POST',
            data:JSON.stringify( _.pick(profile, _.keys(profile)[1]) ),
            success:function(res) {
              $.ajax({
                url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
                type:'PUT',
                headers:appConfig.headers,
                data:JSON.stringify({profiles:{
                  __op: 'AddUnique',
                  objects:[{
                    __type:'Pointer',
                    className: _.values(profile)[0],
                    objectId:res.objectId
                  }]}
                }),
              })
            },
          })
        });

      },
    })
  },

});

var CreateHiringSignal = React.createClass({displayName: 'CreateHiringSignal',
  componentDidMount: function() {
    _.map($('.hiring-role'),function(input){$(input).tagsinput()})
    $(this.getDOMNode()).find('.hiring-role').tagsinput()
    $('.bootstrap-tagsinput').width(400)

    $(this.getDOMNode()).find('.btn-default').click(function(e) {

      if($(e.target).parent('label').hasClass('active'))
        $(e.target).parent('label').removeClass('active')
      else
        $(e.target).parent('label').addClass('active')

      console.log($(e.target).parent('label'))
    });
  },

  render: function(){
    return (
      React.DOM.div(null, 
        React.DOM.form({className: "createSignal", onSubmit: this.createSignal}, 
          React.DOM.span(null, 
            React.DOM.h6({style: {width:140,display:'inline-block',marginBottom:20}}, 
              "Company Profile Name:  "), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%'}, 
                   className: "form-control company-profile-name", 
                   placeholder: "Company Profile Name ..."})
          ), 
          React.DOM.br(null), 
          React.DOM.span({style: {display:'block',marginBottom:-10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, 
              "Industries:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control hiring-role company-profile-industries"}), 

                React.DOM.a({href: "javascript:", 
                   className: "btn btn-xs btn-success", style: {display:'none'}}, 
                  React.DOM.i({className: "fa fa-plus"})
                )
          ), 
          React.DOM.br(null), 
          React.DOM.span({style: {display:'block',marginBottom:-10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, 
              "Location:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control hiring-role company-profile-location"}), 

            React.DOM.a({href: "javascript:", 
               className: "btn btn-xs btn-success", style: {display:'none'}}, 
              React.DOM.i({className: "fa fa-plus"})
            )
          ), 
        React.DOM.div(null, 
            React.DOM.br(null), 
            React.DOM.h6({style: {display:'inline-block',margin:0,
                        width:140,marginBottom:20}}, "Company Size "), 
              React.DOM.div({className: "btn-group", 'data-toggle': "buttons", 
                style: {width:'73.5%'}, 
                id: "company-profile-employeeBtns"}, 
                React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                  React.DOM.input({type: "checkbox"}), " 1 - 50"
                ), 
                React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                  React.DOM.input({type: "checkbox"}), " 50 - 250"
                ), 
                React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                  React.DOM.input({type: "checkbox"}), " 250 - 1000"
                ), 
                React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                  React.DOM.input({type: "checkbox"}), " 1000 +"
                )
              ), 

              React.DOM.br(null), " ", React.DOM.h6({style: {display:'none',margin:0,width:140}}, 
                "Approx. Revenue  "), 
              React.DOM.div({className: "btn-group", 'data-toggle': "buttons", 
                style: {display:'none'}, 
                id: "company-profile-companyRevenueBtns"}, 
                React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                  React.DOM.input({type: "checkbox"}), " ", '< $1M'
                ), 
                React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                  React.DOM.input({type: "checkbox"}), " $1M - $5M"
                ), 
                React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                  React.DOM.input({type: "checkbox"}), " $5M - $25M"
                ), 
                React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                  React.DOM.input({type: "checkbox"}), " $25M +"
                )
              )
        ), 

          React.DOM.div({style: {marginTop:10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, "Auto Prospect:  "), 
            React.DOM.div({className: "btn-group autoprospect", 'data-toggle': "buttons"}, 
              React.DOM.label({className: "btn btn-sm btn-default active"}, 
                React.DOM.input({type: "radio"}), " Yes"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "radio"}), " No"
              )
            )
          )
        )
      )
    )
  },
});

},{}],10:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createCompanyProfileModal
  createProfile: function(e) {
    e.preventDefault()
    profileName = $('.funding-profile-name').val()
    
    //Stage
    //Amount Raised
    //Company Size
    //Approx Revenue

    amountRaisedProfile = {
      'className':'FundingProfile', 
      'revenues': _.map($('#amountRaisedBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() }).reverse()
    }

    console.log(amountRaisedProfile)
    profiles = [amountRaisedProfile]

    nonemptyProfiles = _.filter(profiles, function(profile) {
      if(_.values(profile)[1]){ return _.values(profile)[1].length }
    });

    newProfile = {
      name: profileName,
      profiles: nonemptyProfiles,
      user:{
        __type:'Pointer',
        className:'_User',
        objectId:JSON.parse(localStorage.currentUser).objectId
      },
      company: JSON.parse(localStorage.currentUser).company
    }

    if(nonemptyProfiles.length) {
      this.persistSignal(nonemptyProfiles.reverse(), 
                         _.omit(newProfile,'profiles'))

      this.props.addProfile(newProfile)
      $('.modal').click()
    }
  },

  persistSignal: function(nonemptyProfiles, newProfile) {
    console.log('NEW PROFILE')
    console.log(newProfile)
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectProfile',
      headers:appConfig.headers,
      type:'POST',
      data:JSON.stringify(newProfile),
      success:function(ress) {
        // Add Signal List
        _.map(nonemptyProfiles, function(profile) {
          $.ajax({
            url:'https://api.parse.com/1/classes/'+_.values(profile)[0],
            headers:appConfig.headers,
            type:'POST',
            data:JSON.stringify( _.pick(profile, _.keys(profile)[1]) ),
            success:function(res) {
              $.ajax({
                url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
                type:'PUT',
                headers:appConfig.headers,
                data:JSON.stringify({profiles:{
                  __op: 'AddUnique',
                  objects:[{
                    __type:'Pointer',
                    className: _.values(profile)[0],
                    objectId:res.objectId
                  }]}
                }),
              })
            },
          })
        });

      },
    })
  },

  render: function() {
    return (
      React.DOM.div({className: "modal fade ", tabIndex: "-1", role: "dialog", 
           'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", 
           id: "createFundingSignalModal", 
           style: {top:'50px',overflow:'hidden'}}, 
            React.DOM.div({className: "modal-dialog modal-sm", style: {width:650}}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    "Create Funding Signal"
                  ), 
                  React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                     onClick: this.createProfile, 
                     style: {float:'right',marginTop:-28,marginRight:-5}}, 
                    "Create Profile"
                  )
                ), 
                React.DOM.div({className: "modal-body"}, 

                  React.DOM.div(null, 
                    React.DOM.form({className: "createSignal", onSubmit: this.createProfile}, 
                      React.DOM.span(null, 
                        React.DOM.h6({style: {width:140,display:'inline-block',
                                    marginBottom:20}}, 
                          "Funding Profile Name:  "), 
                        React.DOM.input({type: "text", 
                               style: {display:'inline-block',width:'73.1%'}, 
                               className: "form-control funding-profile-name", 
                               placeholder: "Funding Profile Name ..."})
                      ), 
                      CompanyProfile(null), 

                      React.DOM.div({style: {marginTop:10,display:'none'}}, 
                        React.DOM.h6({style: {width:140,display:'inline-block'}}, 
                          "Auto Prospect:  "), 
                        React.DOM.div({className: "btn-group autoprospect", 
                              'data-toggle': "buttons"}, 
                          React.DOM.label({className: "btn btn-sm btn-default active"}, 
                            React.DOM.input({type: "radio"}), " Yes"
                          ), 
                          React.DOM.label({className: "btn btn-sm btn-default"}, 
                            React.DOM.input({type: "radio"}), " No"
                          )
                        )
                      )
                    )
                  )

                )
              )
            )
          )
    );
  },

  createFundingProfile: function() {
  },

  componentDidMount: function() {
    _.map($('.hiring-role'),function(input){$(input).tagsinput()})
    $(this.getDOMNode()).find('.hiring-role').tagsinput()
    $('.bootstrap-tagsinput').width('59.1%')
  },

});

var CompanyProfile = React.createClass({displayName: 'CompanyProfile',
  companyFormSubmit: function(e) { e.preventDefault() },

  componentDidMount: function() {
    $(this.getDOMNode()).find('.btn-default').click(function(e) {
      label = $(e.target).parent('label')
      if(label.hasClass('active'))
        label.removeClass('active')
      else
        label.addClass('active')
    });
  },

  render: function() {
    return (
      React.DOM.div(null, 
          React.DOM.h6({style: {display:'none',margin:0,
                      width:140,marginBottom:20}}, "Stage "), 
          React.DOM.div({className: "btn-group", 'data-toggle': "buttons", id: "employeeBtns", 
              style: {display:'none'}}, 
              React.DOM.label({className: "btn btn-sm btn-default", style: {width:'20%'}}, 
                React.DOM.input({type: "checkbox"}), " Seed"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default ", style: {width:'20%'}}, 
                React.DOM.input({type: "checkbox"}), " Series A"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default", style: {width:'20%'}}, 
                React.DOM.input({type: "checkbox"}), " Series B"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default", style: {width:'20%'}}, 
                React.DOM.input({type: "checkbox"}), " Series C"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default", style: {width:'20%'}}, 
                React.DOM.input({type: "checkbox"}), " Series D+"
              )
            ), 
            React.DOM.br(null), 
            React.DOM.h6({style: {display:'inline-block',margin:0,width:140,marginBottom:20}}, 
              "Amount Raised  "), 
            React.DOM.div({className: "btn-group profile-btns", 'data-toggle': "buttons", 
              id: "amountRaisedBtns", style: {width:'74%'}}, 
              React.DOM.label({className: "btn btn-sm btn-default amountRaisedBtn", style: {width:'25%'}}, 
                React.DOM.input({type: "checkbox"}), " ", '< $1M'
              ), 
              React.DOM.label({className: "btn btn-sm btn-default amountRaisedBtn", style: {width:'25%'}}, 
                React.DOM.input({type: "checkbox"}), " $1M - $5M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default amountRaisedBtn", style: {width:'25%'}}, 
                React.DOM.input({type: "checkbox"}), " $5M - $25M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default amountRaisedBtn", style: {width:'25%'}}, 
                React.DOM.input({type: "checkbox"}), " $25M +"
              )
            ), 

          React.DOM.br(null), 


          React.DOM.h6({style: {display:'none',margin:0,
                      width:140,marginBottom:20}}, "Company Size "), 
            React.DOM.div({className: "btn-group", 'data-toggle': "buttons", id: "employeeBtns", 
              style: {display:'none'}}, 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 1 - 50"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 50 - 250"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 250 - 1000"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 1000 +"
              )
            ), 

            React.DOM.br(null), " ", React.DOM.h6({style: {display:'none',margin:0,width:140}}, 
              "Approx. Revenue  "), 
            React.DOM.div({className: "btn-group", 'data-toggle': "buttons", id: "revenueBtns", 
              style: {display:'none'}}, 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " ", '< $1M'
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $1M - $5M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $5M - $25M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $25M +"
              )
            )
      )
    )
  }
});

},{}],11:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // CreateHiringSignalModal
  createSignal: function() {
    profileName = $('.hiring-profile-name').val()
    autoProspect = $('.autoprospect > .active').text() ==  " Yes"

    hiringProfile = {
      'className': 'HiringProfile',
      'roles'    : $('.hiring-roles').tagsinput('items')
    }

    revenueProfile = {
      'className':'RevenueProfile', 
      'revenues': _.map($('#hiring-revenueBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() })
    }

    employeeProfile = {
      'className':'EmployeeProfile', 
      'employees': _.map($('#hiring-employeeBtns').find('.active'), 
                         function(empBtn){ return $(empBtn).text().trim() })
    }

    prospectProfile = {
      'className':'ProspectTitleProfile',
      'title_keywords' : $('.prospectRoleKeywords').tagsinput('items')
    }

    profiles = [hiringProfile, revenueProfile, 
                employeeProfile, prospectProfile]

    nonemptyProfiles = _.filter(profiles, function(profile) {
      if(_.values(profile)[1]){ return _.values(profile)[1].length }
    });


    newProfile = {
      name: profileName,
      autoProspect: autoProspect,
      profiles: nonemptyProfiles,
      user:{
        __type:'Pointer',
        className:'_User',
        objectId:JSON.parse(localStorage.currentUser).objectId
      },
      company: JSON.parse(localStorage.currentUser).company
    }

    if(nonemptyProfiles.length) {
      this.persistSignal(nonemptyProfiles, 
                         _.omit(newProfile,'profiles'))
      this.props.addProfile(newProfile)
      $('.modal').click()
    }
  },

  persistSignal: function(nonemptyProfiles, newProfile) {
    console.log('NEW PROFILE')
    console.log(newProfile)
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectProfile',
      headers:appConfig.headers,
      type:'POST',
      data:JSON.stringify(newProfile),
      success:function(ress) {
        // Add Signal List
        _.map(nonemptyProfiles, function(profile) {
          $.ajax({
            url:'https://api.parse.com/1/classes/'+_.values(profile)[0],
            headers:appConfig.headers,
            type:'POST',
            data:JSON.stringify( _.pick(profile, _.keys(profile)[1]) ),
            success:function(res) {
              $.ajax({
                url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
                type:'PUT',
                headers:appConfig.headers,
                data:JSON.stringify({profiles:{
                  __op: 'AddUnique',
                  objects:[{
                    __type:'Pointer',
                    className: _.values(profile)[0],
                    objectId:res.objectId
                  }]}
                }),
              })
            },
          })
        });

      },
    })
  },

  render: function() {
    return (
      React.DOM.div({className: "modal fade bs-createSignal-modal-md", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createHiringSignalModal", 
           style: {top:'50px',overflow:'hidden'}}, 
            React.DOM.div({className: "modal-dialog modal-sm", style: {width:650}}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    "Create Hiring Signal"
                  ), 
                  React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                     onClick: this.createSignal, 
                     style: {float:'right',marginTop:-28,marginRight:-5}}, 
                    "Create Signal"
                  )
                ), 
                React.DOM.div({className: "modal-body"}, 
                  CreateHiringSignal(null)
                ), 
              React.DOM.div({className: "modal-footer", style: {display:'none'}}, 
                React.DOM.button({type: "button", className: "btn btn-default"}, 
                  "Close"
                ), 
                React.DOM.button({type: "button", className: "btn btn-primary"}, 
                  "Send Email"
                )
              )
              )
            )
          )
    );
  }
});

var CreateHiringSignal = React.createClass({displayName: 'CreateHiringSignal',
  getInitialState: function() {
    return {
      addCompany: false,
      addProspect: false,
      hideCompanyDetails: false,
      hideProspectDetails: false,
    }
  },

  componentDidMount: function() {

  },
  
  toggleCompany : function() {
    this.setState({addCompany: !this.state.addCompany})
  },

  toggleProspect : function() {
    this.setState({addProspect: !this.state.addProspect})
  },

  toggleCompanyDetails: function() {
    this.setState({hideCompanyDetails: !this.state.hideCompanyDetails})
  },

  toggleProspectDetails: function() {
    this.setState({hideProspectDetails: !this.state.hideProspectDetails})
  },

  componentDidMount: function() {
    $(this.getDOMNode()).find('.hiring-role').tagsinput()
    $('.bootstrap-tagsinput').width(400)
  },

  render: function(){
    addCompany = (!this.state.addCompany) ? React.DOM.a({href: "javascript:", 
                                           onClick: this.toggleCompany, 
                                           className: "btn btn-sm btn-default"}, 
                                          React.DOM.i({className: "fa fa-plus"}), " " + ' ' +
                                          "Add Company Details"
                                        ) : CompanyProfile({hideCompanyDetails: this.state.hideCompanyDetails})

    addProspect = (!this.state.addProspect) ? React.DOM.a({href: "javascript:", 
                                           onClick: this.toggleProspect, 
                                           className: "btn btn-sm btn-default"}, 
                                          React.DOM.i({className: "fa fa-plus"}), " " + ' ' +
                                          "Add Prospect Details"
                                        ) : ProspectProfile({hideProspectDetails: this.state.hideProspectDetails})
    addCompanyStyle = (!this.state.addCompany) ? {display:'block',textAlign:'center'} : {}
    addProspectStyle = (!this.state.addProspect) ? {display:'block',textAlign:'center'} : {}

    closeCompanyBtns = (!this.state.addCompany) ? "" : React.DOM.span(null, React.DOM.a({href: "javascript:", className: "btn btn-xs btn-default", 
               onClick: this.toggleCompany, 
               style: {float:'right',marginTop:-5}}, 
               React.DOM.i({className: "fa fa-times"})), 
               React.DOM.a({href: "javascript:", className: "btn btn-xs btn-default", 
                  onClick: this.toggleCompanyDetails, 
                  style: {float:'right',marginTop:-5,marginRight:5}}, 
              React.DOM.i({className: (this.state.hideCompanyDetails) ? "fa fa-plus" :"fa fa-minus"})
          ))

    closeProspectBtns = (!this.state.addProspect) ? "" : React.DOM.span(null, React.DOM.a({href: "javascript:", className: "btn btn-xs btn-default", 
               onClick: this.toggleProspect, 
               style: {float:'right',marginTop:-5}}, 
               React.DOM.i({className: "fa fa-times"})), 
               React.DOM.a({href: "javascript:", className: "btn btn-xs btn-default", 
               onClick: this.toggleProspectDetails, 
               style: {float:'right',marginTop:-5,marginRight:5}}, 
              React.DOM.i({className: (this.state.hideProspectDetails) ? "fa fa-plus" :"fa fa-minus"})
          ))

    companyHeading = (!this.state.addCompany) ? "" : React.DOM.h5(null, React.DOM.i({className: "fa fa-building"}), "  Company Details")
    prospectHeading = (!this.state.addProspect) ? "" : React.DOM.h5(null, React.DOM.i({className: "fa fa-user"}), "  Prospect Details")
    return (
      React.DOM.div(null, 
        React.DOM.form({className: "createSignal", onSubmit: this.createSignal}, 
          React.DOM.span(null, 
            React.DOM.h6({style: {width:140,display:'inline-block',marginBottom:20}}, 
              "Hiring Profile Name:  "), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'413px'}, 
                   className: "form-control hiring-profile-name", 
                   placeholder: "Hiring Profile Name ..."})
          ), 
          React.DOM.br(null), 
          React.DOM.span(null, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, 
              "Hiring Role Name:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'50%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control hiring-role hiring-roles"}), 

                React.DOM.a({href: "javascript:", 
                   className: "btn btn-xs btn-success", style: {display:'none'}}, 
                  React.DOM.i({className: "fa fa-plus"})
                )
          ), 
          React.DOM.div({style: {marginTop:10}}, 
          React.DOM.h6({style: {width:140,display:'inline-block'}}, "Auto Prospect:  "), 
          React.DOM.div({className: "btn-group autoprospect", 'data-toggle': "buttons"}, 
            React.DOM.label({className: "btn btn-sm btn-default active"}, 
              React.DOM.input({type: "radio"}), " Yes"
            ), 
            React.DOM.label({className: "btn btn-sm btn-default"}, 
              React.DOM.input({type: "radio"}), " No"
            )
          )
          ), 
          React.DOM.hr(null), " ", closeCompanyBtns, " ", companyHeading, 
          React.DOM.div({style: addCompanyStyle}, " ", addCompany, " "), 

          React.DOM.hr(null), " ", closeProspectBtns, " ", prospectHeading, 
          React.DOM.div({style: addProspectStyle}, " ", addProspect, " ")
        )
      )
    )
  },
  createSignal: function(e) { e.preventDefault() }
});

var CompanyProfile = React.createClass({displayName: 'CompanyProfile',
  companyFormSubmit: function(e) { e.preventDefault() },

  componentDidMount: function() {
    $(this.getDOMNode()).find('.btn-default').click(function(e) {

      if($(e.target).parent('label').hasClass('active'))
        $(e.target).parent('label').removeClass('active')
      else
        $(e.target).parent('label').addClass('active')

      console.log($(e.target).parent('label'))
    });
  },

  render: function() {
    showDetails = (this.props.hideCompanyDetails) ? {display: 'none'} : {display:'block'}
    return (
      React.DOM.div({style: showDetails}, 
        React.DOM.form({className: "createSignal", onSubmit: this.companyFormSubmit}, 
          React.DOM.br(null), 
          React.DOM.h6({style: {display:'inline-block',margin:0,
                      width:140,marginBottom:20}}, "Company Size "), 
            React.DOM.div({className: "btn-group", 'data-toggle': "buttons", id: "hiring-employeeBtns"}, 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " 1 - 50"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " 50 - 250"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " 250 - 1000"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " 1000 +"
              )
            ), 

            React.DOM.br(null), " ", React.DOM.h6({style: {display:'inline-block',margin:0,width:140}}, 
              "Revenue Amount "), 
            React.DOM.div({className: "btn-group", 'data-toggle': "buttons", id: "hiring-revenueBtns"}, 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " ", '< $1M'
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " $1M - $5M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " $5M - $25M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "checkbox"}), " $25M +"
              )
            )
        )
      )
    )
  }
});

var ProspectProfile = React.createClass({displayName: 'ProspectProfile',
  prospectFormSubmit: function(e) { e.preventDefault() },

  componentDidMount: function() {
    $('.prospectRoleKeywords').tagsinput({
      maxTags: 5,
    })

    $('.bootstrap-tagsinput').width(400)
  },

  render: function() {
    showDetails = (this.props.hideProspectDetails) ? {display: 'none'} : {display:'block'}
    return (
      React.DOM.div({style: showDetails}, 
        React.DOM.form({className: "createSignal", onSubmit: this.prospectFormSubmit}, 
          React.DOM.span(null, 
            React.DOM.span({style: {width:140,display:'inline-block'}}, 
              React.DOM.h6(null, "Job Title Keyword:  ")
            ), 
            React.DOM.input({type: "text", 
                   'data-role': "tagsinput", 
                   style: {width:'400px !important'}, 
                   className: "form-control prospectRoleKeywords", 
                   placeholder: ""})
          )

        )
      )
    )
  }
})

/*
  Funding Profile
  - Amount Raised
  - Stage

  People Profile
  - Locale
  - Title

  Company Profile
  - Industries
  - Revenue
  - Locale
  - # of Employees
*/

var GeneralForm = React.createClass({displayName: 'GeneralForm',

  render: function() {
    return (
        React.DOM.form({className: "createSignal", onSubmit: this.createSignal}, 
          React.DOM.span(null, " ", React.DOM.i({className: "fa fa-suitcase"}), "  ", 
            React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                  className: "form-control", placeholder: "Find Companies Hiring For ..."})
          ), 
          React.DOM.br(null), " ", React.DOM.br(null), 
          React.DOM.span(null, " ", React.DOM.i({className: "fa fa-users"}), "  ", 
            React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                  className: "form-control", placeholder: "Number of Employees ..."})
          ), 
          React.DOM.br(null), " ", React.DOM.br(null), 
          React.DOM.span(null, " ", React.DOM.i({className: "fa fa-institution"}), "  ", 
            React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                  className: "form-control", placeholder: "Amount of Funding ..."})
          ), 
          React.DOM.br(null), " ", React.DOM.br(null), 
          React.DOM.span(null, " ", React.DOM.i({className: "fa fa-money"}), "  ", 
            React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                  className: "form-control", placeholder: "Revenue Amount ..."})
          ), 
          React.DOM.br(null), " ", React.DOM.br(null), 
          React.DOM.span(null, " ", React.DOM.i({className: "fa fa-wrench"}), "  ", 
            React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                  className: "form-control", placeholder: "Using Technologies Such As..."})
          ), 
          React.DOM.br(null), " ", React.DOM.br(null), 
          React.DOM.a({href: "javascript:", 
            onClick: this.createSignal, 
            className: "btn btn-default btn-success", 
            style: {display:'block', width:'100%'}}, 
            "Create Signal"
          )
        )
    )
  }
})

},{}],12:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    thiss = this;
    listClassName = (this.props.listClassName) ? this.props.listClassName : 'ProspectList'
    $.ajax({
      url:'https://api.parse.com/1/classes/'+listClassName,
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createListButtonClick: function() {
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  createMiningJob: function(e) {
    e.preventDefault()
    console.log('lmao')
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-example-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-list"}), "  Create List")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.createMiningJob}, 
                    React.DOM.input({id: "listTitle", type: "text", placeholder: "Enter list title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", onClick: this.createListButtonClick, placeholder: "Enter City Area...", className: "btn btn-success", style: {display:'block', width:'100%'}}, "Create List")
                  )

                )
              )
            )
          )
    );
  }
});


},{}],13:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createSignalModal
  createSignal: function() {
    console.log('Create SIgnal Called')
    // Get Name
    profileName = $('.hiring-profile-name').val()

    hiringProfile = {
      'className': 'HiringProfile',
      'roles'    : $('.hiring-role').tagsinput('items').reverse()
    }

    autoProspect = $('.autoprospect > .active').text() ==  " Yes"
    
    revenueProfile = {'className':'RevenueProfile', 
                      'revenues': _.map($('#revenueBtns').find('.active'), 
                                            function(revBtn){
                                              return $(revBtn).text().trim() 
                                            }).reverse()}

    employeeProfile = {'className':'EmployeeProfile', 
                       'employees': _.map($('#employeeBtns').find('.active'), 
                                          function(empBtn){ 
                                            return $(empBtn).text().trim() 
                                          }).reverse()}

    prospectProfile = {
      'className':'ProspectTitleProfile',
      'title_keywords' : $('.prospectRoleKeywords').tagsinput('items').reverse()
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectProfile',
      headers:appConfig.headers,
      type:'POST',
      data:JSON.stringify({name:profileName, autoProspect:autoProspect,
                          user:{
                            __type:'Pointer',
                            className:'_User',
                            objectId:JSON.parse(localStorage.currentUser).objectId
                          },
                          company: JSON.parse(localStorage.currentUser).company
      }),
      success:function(ress) {
        // Add Signal List

        $.ajax({
          url:'https://api.parse.com/1/classes/HiringProfile',
          headers:appConfig.headers,
          type:'POST',
          data:JSON.stringify({roles: hiringProfile.roles}),
          success:function(res) {
            $.ajax({
              url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
              type:'PUT',
              headers:appConfig.headers,
              data:JSON.stringify({profiles:{
                __op: 'AddUnique',
                objects:[{
                  __type:'Pointer',
                  className:'HiringProfile',
                  objectId:res.objectId
                }]}
              }),
            })
          },
        })
        //Create Prospect Profile
        $.ajax({
          url:'https://api.parse.com/1/classes/RevenueProfile',
          headers:appConfig.headers,
          type:'POST',
          data:JSON.stringify({revenues: revenueProfile.revenues}),
          success:function(res) {
            $.ajax({
              url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
              type:'PUT',
              headers:appConfig.headers,
              data:JSON.stringify({profiles:{
                __op: 'AddUnique',
                objects:[{
                  __type:'Pointer',
                  className:'RevenueProfile',
                  objectId:res.objectId
                }]}
              }),
            })
          },
        })
        //Create Employee Profile
        $.ajax({
          url:'https://api.parse.com/1/classes/EmployeeProfile',
          headers:appConfig.headers,
          type:'POST',
          data:JSON.stringify({employees: employeeProfile.employees}),
          success:function(res) {
            $.ajax({
              url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
              type:'PUT',
              headers:appConfig.headers,
              data:JSON.stringify({profiles:{
                __op: 'AddUnique',
                objects:[{
                  __type:'Pointer',
                  className:'EmployeeProfile',
                  objectId:res.objectId
                }]}
              }),
            })
          },
        })
        //Create Revenue Profile
        $.ajax({
          url:'https://api.parse.com/1/classes/ProspectTitleProfile',
          type:'POST',
          headers:appConfig.headers,
          data:JSON.stringify({title_keywords: prospectProfile.title_keywords}),
          success:function(res) {
            $.ajax({
              url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
              type:'PUT',
              headers:appConfig.headers,
              data:JSON.stringify({profiles:{
                __op: 'AddUnique',
                objects:[{
                  __type:'Pointer',
                  className:'ProspectTitleProfile',
                  objectId:res.objectId
                }]}
              }),
            })
          },
        })
      },
    })

    newProfile = {
      name: profileName,
      autoProspect: autoProspect,
      profiles: [
        prospectProfile,
        revenueProfile,
        employeeProfile,
        hiringProfile
      ]
    }
    console.log(newProfile)

    this.props.addProfile(newProfile)
  },

  updateDate: function(e) {
    if(!$(e.target).hasClass('no-hover')){
      $(e.target).addClass('list-group-item-success')
      $(e.target).addClass('no-hover')
      $(e.target).append('<span class="label label-success" style="float:right;">Downloading...</span>')

      //setTimeout($('.modal').click(), 500)
    }
  },

  render: function() {
    dates = []
    for(i=0;i< 52; i++) {  
      first = moment().subtract(i*7, 'days').format('ll')
      second = moment().subtract((i+1)*7, 'days').format('ll')
      date = first+" - "+second
      date = second+" - "+first

      dates.push(
        React.DOM.li({onClick: this.updateDate, 
            className: "list-group-item download-date"}, date)
      )
    }

    return (
      React.DOM.div({className: "modal fade bs-createMiningJob-modal-md", 
           tabIndex: "-1", role: "dialog", 
           'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", 
           id: "createMiningJobModal", 
           style: {top:'50px',overflow:'hidden'}}, 
        React.DOM.div({className: "modal-dialog modal-sm", style: {width:350}}, 
          React.DOM.div({className: "modal-content"}, 
            React.DOM.div({className: "modal-header"}, 
              React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                React.DOM.i({className: "fa fa-cloud-download"}), " " + ' ' +
                "Download Prospects"
              ), 
              React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                 onClick: this.createSignal, 
                 style: {float:'right',marginTop:-28,
                         marginRight:-5,display:'none'}}, 
                 "Download"
              )
            ), 
            React.DOM.div({className: "modal-body"}, 

              React.DOM.ul({className: "list-group date-download-prospects", 
                  style: {height:400,overflow:'auto',
                  borderBottom:'solid 1px #ddd',
                  cursor:'pointer',
                  borderTop:'solid 1px #ddd'}}, 
                React.DOM.h6({style: {margin:0}}, dates)
              )

            ), 

            React.DOM.div({className: "modal-footer", style: {display:'none'}}, 
              React.DOM.button({type: "button", className: "btn btn-default"}, 
                "Close"
              ), 
              React.DOM.button({type: "button", className: "btn btn-primary"}, 
                "Send Email"
              )
            )
          )
        )
      )
    );
  },
  
});


},{}],14:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createCompanyProfileModal
  createProfile: function() {
    profileName = $(".profileName").val()

    titleProfile = {
      'className': 'ProspectTitleProfile',
      'title_keywords'    : $('.prospect-profile-title').tagsinput('items').reverse()
    }

    /*
    locationProfile = {
      'className': 'LocationProfile',
      'locale'    : $('.prospect-location-profile').tagsinput('items').reverse()
    }

    companySizeProfile = {
      'className':'EmployeeProfile', 
      'employees': _.map($('#prospect-profile-companySizeBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() }).reverse()
    }

    revenueProfile = {
      'className':'RevenueProfile', 
      'revenues': _.map($('#prospect-profile-companyRevenueBtns').find('.active'), 
                        function(revBtn){ return $(revBtn).text().trim() }).reverse()
    }

    profiles = [titleProfile, locationProfile,
                companySizeProfile, revenueProfile]
    */
    profiles = [titleProfile]

    nonemptyProfiles = _.filter(profiles, function(profile) {
      if(_.values(profile)[1]){ return _.values(profile)[1].length }
    });

    newProfile = {
      name: profileName,
      //autoProspect: autoProspect,
      profiles: nonemptyProfiles,
      type: 'prospect_profile',
      mining_job:true,
      user:{
        __type:'Pointer',
        className:'_User',
        objectId:JSON.parse(localStorage.currentUser).objectId
      },
      company: JSON.parse(localStorage.currentUser).company
    }

    if(nonemptyProfiles.length) {
      this.persistSignal(nonemptyProfiles, 
                         _.omit(newProfile,'profiles'))
      this.props.addProfile(newProfile)
      $('.modal').click()
      $('.prospect-profile-title').val('')
    }
  },

  persistSignal: function(nonemptyProfiles, newProfile) {
    console.log('NEW PROFILE')
    console.log(newProfile)
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectProfile',
      headers:appConfig.headers,
      type:'POST',
      data:JSON.stringify(newProfile),
      success:function(ress) {
        // Create Signal List ->  Update Prospect Profile
        newProfile.user = {
          __type: 'Pointer',
          className:'_User',
          objectId: JSON.parse(localStorage.currentUser).objectId
        }
        newProfile.company = JSON.parse(localStorage.currentUser).company
        if(newProfile.type == 'prospect_profile')
          newProfile.mining_job_list = true

        $.ajax({
          url: 'https://api.parse.com/1/classes/ProspectList',
          type: 'POST',
          headers: appConfig.headers,
          data:JSON.stringify(_.pick(newProfile, 'name','user',
                                     'company','mining_job_list')),
          success: function(res) {
            $.ajax({
              url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
              type:'PUT',
              headers: appConfig.headers,
              data: JSON.stringify({ 'prospect_list':{ __type:'Pointer',
                                    className:'ProspectList',objectId:res.objectId } }),
              success: function(res){ console.log(res) },
              error: function(err){ console.log(err) }
            })
          },
          error: function() { }
        })

        // Start Mining Job
        if(newProfile.type == 'prospect_profile') {
          $.ajax({
            url:'https://nameless-retreat-3525.herokuapp.com/title_mining_job',
            //url:'http://127.0.0.1:5000/title_mining_job',
            type:'GET',
            data: {prospect_profile: ress.objectId},
            success: function(res) { console.log(res) },
            error: function(err) { console.log(err) }
          })
        }

        // Create Profiles
        _.map(nonemptyProfiles, function(profile) {
          $.ajax({
            url:'https://api.parse.com/1/classes/'+_.values(profile)[0],
            headers:appConfig.headers,
            type:'POST',
            data:JSON.stringify( _.pick(profile, _.keys(profile)[1]) ),
            success:function(res) {
              $.ajax({
                url:'https://api.parse.com/1/classes/ProspectProfile/'+ress.objectId,
                type:'PUT',
                headers:appConfig.headers,
                data:JSON.stringify({profiles:{
                  __op: 'AddUnique',
                  objects:[{
                    __type:'Pointer',
                    className: _.values(profile)[0],
                    objectId:res.objectId
                  }]}
                }),
              })
            }
          })
        });
      }
    })
  },

  render: function() {
    return (
      React.DOM.div({className: "modal fade ", tabIndex: "-1", role: "dialog", 
           'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", 
           id: "createProspectProfileModal", 
           style: {top:'50px',overflow:'hidden'}}, 
            React.DOM.div({className: "modal-dialog modal-sm", style: {width:650}}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    "Create Prospect Profile"
                  ), 
                  React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                     onClick: this.createProfile, 
                     style: {float:'right',marginTop:-28,marginRight:-5}}, 
                    "Create Profile"
                  )
                ), 
                React.DOM.div({className: "modal-body"}, 
                  CreateHiringSignal(null)
                ), 
              React.DOM.div({className: "modal-footer", style: {display:'none'}}, 
                React.DOM.button({type: "button", className: "btn btn-default"}, 
                  "Close"
                ), 
                React.DOM.button({type: "button", className: "btn btn-primary"}, 
                  "Send Email"
                )
              )
              )
            )
          )
    );
  },
  createCompanyProfile: function() {
  },
});

var CreateHiringSignal = React.createClass({displayName: 'CreateHiringSignal',
  getInitialState: function() {
    return {
      addCompany: false,
      addProspect: false,
      hideCompanyDetails: false,
      hideProspectDetails: false,
    }
  },

  componentDidMount: function() {

  },
  
  toggleCompany : function() {
    this.setState({addCompany: !this.state.addCompany})
  },

  toggleProspect : function() {
    this.setState({addProspect: !this.state.addProspect})
  },

  toggleCompanyDetails: function() {
    this.setState({hideCompanyDetails: !this.state.hideCompanyDetails})
  },

  toggleProspectDetails: function() {
    this.setState({hideProspectDetails: !this.state.hideProspectDetails})
  },

  componentDidMount: function() {
    _.map($('.hiring-role'),function(input){$(input).tagsinput()})
    $(this.getDOMNode()).find('.hiring-role').tagsinput()
    $('.bootstrap-tagsinput').width('59.1%')
  },

  render: function(){
    return (
      React.DOM.div(null, 
        React.DOM.form({className: "createSignal", onSubmit: this.createProfile}, 
          React.DOM.span(null, 
            React.DOM.h6({style: {width:140,display:'inline-block',marginBottom:20}}, 
              "Prospect Profile Name:  "), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%'}, 
                   className: "form-control hiring-profile-name profileName", 
                   placeholder: "Prospect Profile Name ..."})
          ), 
          React.DOM.br(null), 
          React.DOM.span({style: {display:'block',marginBottom:-10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, 
              "Title:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control hiring-role prospect-profile-title"}), 

                React.DOM.a({href: "javascript:", 
                   className: "btn btn-xs btn-success", style: {display:'none'}}, 
                  React.DOM.i({className: "fa fa-plus"})
                )
          ), 
          React.DOM.br(null), 
          React.DOM.span({style: {display:'block',marginBottom:-10}}, 
            React.DOM.h6({style: {width:140,display:'none'}}, 
              "Location:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'none',width:'73.1%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control prospect-location-profile-tmp"}), 

                React.DOM.a({href: "javascript:", 
                   className: "btn btn-xs btn-success", style: {display:'none'}}, 
                  React.DOM.i({className: "fa fa-plus"})
                )
          ), 
          React.DOM.span({style: {display:'none',marginBottom:-10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, 
              "Industries:  "
            ), 
            React.DOM.input({type: "text", 
                   style: {display:'inline-block',width:'73.1%',marginRight:10}, 
                   'data-role': "tagsinput", 
                   className: "form-control "}), 

            React.DOM.a({href: "javascript:", 
               className: "btn btn-xs btn-success", style: {display:'none'}}, 
              React.DOM.i({className: "fa fa-plus"})
            )
          ), 
          CompanyProfile(null), 

          React.DOM.div({style: {display:'none'}}, 
          React.DOM.div({style: {marginTop:10}}, 
            React.DOM.h6({style: {width:140,display:'inline-block'}}, "Auto Prospect:  "), 
            React.DOM.div({className: "btn-group autoprospect", 'data-toggle': "buttons"}, 
              React.DOM.label({className: "btn btn-sm btn-default active"}, 
                React.DOM.input({type: "radio"}), " Yes"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default"}, 
                React.DOM.input({type: "radio"}), " No"
              )
            )
          )
        )
        )
      )
    )
  },
  createSignal: function(e) { e.preventDefault() }
});

var CompanyProfile = React.createClass({displayName: 'CompanyProfile',
  companyFormSubmit: function(e) { e.preventDefault() },

  componentDidMount: function() {
    $(this.getDOMNode()).find('.btn-default').click(function(e) {

      if($(e.target).parent('label').hasClass('active'))
        $(e.target).parent('label').removeClass('active')
      else
        $(e.target).parent('label').addClass('active')

      console.log($(e.target).parent('label'))
    });
  },

  render: function() {
    return (
      React.DOM.div(null, 
          React.DOM.br(null), 
          React.DOM.div({style: {display:'none'}}, 
          React.DOM.h6({style: {display:'inline-block',margin:0,
                      width:140,marginBottom:20}}, "Company Size "), 
                    React.DOM.div({className: "btn-group", 'data-toggle': "buttons", 
                      style: {width:'73.5%'}, id: "prospect-profile-companySizeBtns"}, 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 1 - 50"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 50 - 250"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 250 - 1000"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default employeeBtn"}, 
                React.DOM.input({type: "checkbox"}), " 1000 +"
              )
            )
          ), 

          React.DOM.div({style: {display:'none'}}, 
            React.DOM.br(null), " ", React.DOM.h6({style: {display:'inline-block',margin:0,width:140}}, 
              "Approx. Revenue  "), 
            React.DOM.div({className: "btn-group", 'data-toggle': "buttons", 
              style: {width:'73.5%'}, id: "prospect-profile-companyRevenueBtns"}, 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " ", '< $1M'
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $1M - $5M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $5M - $25M"
              ), 
              React.DOM.label({className: "btn btn-sm btn-default revenueBtn"}, 
                React.DOM.input({type: "checkbox"}), " $25M +"
              )
            )
          )
      )
    )
  }
});

var ProspectProfile = React.createClass({displayName: 'ProspectProfile',
  prospectFormSubmit: function(e) { e.preventDefault() },

  componentDidMount: function() {
    $('.prospectRoleKeywords').tagsinput({
      maxTags: 5,
    })
    $('.bootstrap-tagsinput').width(400)
  },

  render: function() {
    showDetails = (this.props.hideProspectDetails) ? {display: 'none'} : {display:'block'}
    return (
      React.DOM.div({style: showDetails}, 
        React.DOM.form({className: "createSignal", onSubmit: this.prospectFormSubmit}, 
          React.DOM.span(null, 
            React.DOM.span({style: {width:140,display:'inline-block'}}, 
              React.DOM.h6(null, "Job Title Keyword:  ")
            ), 
            React.DOM.input({type: "text", 
                   'data-role': "tagsinput", 
                   style: {width:'400px !important'}, 
                   className: "form-control prospectRoleKeywords", 
                   placeholder: ""})
          )
        )
      )
    )
  }
})

},{}],15:[function(require,module,exports){
/** @jsx react.dom */

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      
    }
  },

  componentDidMount: function() {
    $('.template-body').html(this.state.templateBody)
  },

  clickedOverlay: function() {
    console.log('clicked overlay')
    this.props.toggleTemplateEditMenu()
  },

  changeMode: function() {
    // Update template html on toggle
    console.log('EDIT MODE')
    console.log(this.state.editMode)
    parse_headers = appConfig.parseHeaders
    if(this.state.editMode){
      $('.summer').destroy();
      this.props.saveTemplate({
        name: this.state.name,
        templateBody: $('.summer').code(),
        templateSubject: $('.subject').val(),
      })
      this.setState({
        templateBody: $('.summer').code(),
        templateSubject: $('.subject').val(),
        editMode: !this.state.editMode,
      })
      $.ajax({
        url:'https://api.parse.com/1/classes/Templates/'+this.props.initialTemplateValues.objectId,
        type:'PUT',
        headers:parse_headers,
        data:JSON.stringify({body: $('.summer').code(),subject: $('.subject').val()}),
        success: function(res) {
          console.log(res)
        },
        error: function(err) {
          console.log(err)
        }
      });
    } else {
      this.setState({ editMode: !this.state.editMode })
    }
  },

  componentDidUpdate: function() {
    /* thiss = this; */

    console.log('OTHER')
    if(this.state.editMode){
      console.log('CALLED')
      // Replace Subject 
      $('.subject').val(this.state.templateSubject)

      $('.summer').summernote({
        height: 200,
        toolbar: [
          ['style', ['bold', 'italic', 'underline', 'clear']],
          ['font', ['strikethrough']],
          ['fontsize', ['fontsize']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['height', ['height']],
        ]
      })

      // Initialize Editor with html
      $('.summer').code(this.state.templateBody)
    }
  },


  render: function() {
    subjectPlace = (this.state.editMode) ? react.dom.input({style: {display:'inline',width:480}, className: "form-control subject"}) : this.state.templateSubject

    if(this.state.editMode){
       toggleButton = react.dom.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-success btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            react.dom.i({className: "fa fa-save"}), "   Save Template")
    } else {
       toggleButton = react.dom.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-primary btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            react.dom.i({className: "fa fa-pencil-square"}), "   Edit Template")
    }

    return (
      react.dom.div(null, 
      react.dom.div({onClick: this.clickedOverlay, id: "editTemplateOverlay"}), 
      react.dom.div({id: "editTemplateView", 
           className: "panel panel-info", 
           style: {display:'block'}}, 
           react.dom.div({className: "panel-heading", style: {height:50}}, 
             react.dom.h6({style: {float:'left'}}, 
               react.dom.i({className: "fa fa-file-text-o"}), 
               "  " + this.props.initialTemplateValues.name
             ), 
          toggleButton
        ), 
        react.dom.div({className: "panel-body"}, 
          react.dom.div({className: "editTemplateTitle"}, 
            react.dom.span(null, "Subject: "), 
            subjectPlace
          ), 
         react.dom.br(null), 
         react.dom.div({className: "templateDetails"}, 
           react.dom.h6({style: {marginBottom:'0'}, className: "text-muted"}, 
             "Created by Mark on Jul. 21, 2014"
           ), 
           react.dom.h6({style: {marginTop:'0'}, className: "text-muted"}, 
             "last updated 7 days ago"
           )
         ), 
        react.dom.br(null), 
        react.dom.div({className: "panel panel-default"}, 
          react.dom.div({className: "panel-body summer template-body"}
          )
        )
    )
)
)
    );
  }
});

},{}],16:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // DataRow
  getInitialState: function() {
    return { }
  },

  clickCheck: function() {
    domNode = this.getDOMNode()
    isChecked = $($(domNode).find('input[type="checkbox"]')[0]).prop('checked')
    //console.log(isChecked)
    this.setState({checked: isChecked})
    this.props.checkboxAction(isChecked, this.props.prospect.objectId)
  },

  rowClick: function() {
    $($(this.getDOMNode()).find('input[type="checkbox"]')[0]).click()
  },

  keyboardClick: function() {
    $($('.keySelect').find('input[type="checkbox"]')[0]).click()
  },

  componentDidMount: function() { },

  render: function() {
    keyboardSelected = {borderLeft:'7px solid rgba(0,0,0,0)'}
    thissss = this
    if(this.props.keyboardSelected) {
      // Adjust Scroll depending on where the prospect is
      keyboardSelected = {borderLeft:'7px solid #0096ff !important'}
      Mousetrap.unbind('x')
      Mousetrap.bind('x', function() { 
        thissss.keyboardClick()
        if(thissss.state.checked)
          console.log("lmao")
      });
    }

    prospect = this.props.prospect

    if(this.props.masterCheckboxChecked && this.state.checked)
      checked = true
    else if(this.props.alreadyChecked)
      checked = true
    else if(this.state.checked)
      checked = true
    else if(this.props.masterCheckboxChecked || this.state.checked)
      checked = true
    else
      checked = false

    //console.log(this.state.checked)
    //console.log(checked)
    //{prospect.employeeCountRange.name + " employees" }
    
    color = {}
    if(this.state.checked || this.props.alreadyChecked)
      color = {backgroundColor: '#eef8ff'}
      
    rowCl = (this.props.keyboardSelected) ? "prospects-tr keySelect" : "prospects-tr"
    websiteBtn = (prospect.websiteUrl) ?  React.DOM.a({href: "http://"+prospect.websiteUrl.replace('http://','')}, " ", React.DOM.i({className: "fa fa-globe"}), " ") : ""
    return (
      React.DOM.tr({className: rowCl, 
          onClick: this.rowClick, 
          style: keyboardSelected}, 
          React.DOM.td({style: color}, 
              React.DOM.input({type: "checkbox", 
                     onChange: this.clickCheck, 
                     checked: checked})
          ), 

          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.span({style: {fontWeight:'bold'}}, prospect.name), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, prospect.headcount)
          ), 

          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.h6({style: {margin:'0px'}}, moment(prospect.createdAt,'YYYY-MM-DDTh:mm:ss').fromNow())
          ), 

          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.h6({style: {margin:'0px'}}, prospect.industry)
          ), 

          React.DOM.td({style: color}, 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openLinkedinCompanyProfile, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
              "Search Profiles"
            ), 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openSimilarCompanies, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-copy"}), "  " + ' ' +
              "Find Similar Companies"
            )
          ), 

          React.DOM.td({style: color}, 
            React.DOM.h6({style: {margin:'0px'}}, prospect.city)
          ), 

          React.DOM.td({style: color}, 
            this.props.li, " ", this.props.link, 
            websiteBtn
          )
        )
    );
  },

  openLinkedinCompanyProfile: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/p?f_CC="+cid)
  },

  openSimilarCompanies: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/c?rsid=526440371409184768175&pivotType=sim&pid="+cid+"&trk=sim_companies_res_sim&trkInfo=VSRPsearchId%3A526440371409184768175%2CVSRPtargetId%3A1025%2CVSRPcmpt%3Aprimary")
  },

  deleteProspect: function() {
    this.props.deleteProspect(this.props.prospect.objectId, 'Prospect')
  }
});


},{}],17:[function(require,module,exports){
/** @jsx React.DOM */

//TODO - abstract lists
var SideMenuProspects = require('./side_menu_user_prospects.js.min.js');

var UserProspect = require('./user_prospect.js.min.js');
var DataRow = require('./data_row.js.min.js');

var UserProspectHeader = require('./user_prospect_header.js.min.js');
var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var LoadingSpinner = require('./loading_spinner.js.min.js')
var PanelFooting = require('./panel_footing.js.min.js')
var Messenger = require('./messenger.js.min.js')
var DeleteListModal = require('./delete_list_modal.js.min.js')
var RenameListModal = require('./rename_list_modal.js.min.js')
var CompanyProspect = require('./company.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {  currentPage : 1,
              className: this.props.className,  
              listClassName: this.props.listClassName,
              customRow: this.props.tableRow,
              pages       : 1,
              currentList : 'All',
              currentListObjectId : '',
              loading: true,
              lists : [],
              masterCheckboxChecked: false,
              prospectsPerPage: 50,         //classNames per page
              keyboardActiveProspect: 0,    //first
              selectedProspects: [],        //selectedClassName
              prospects   : [],             //className
              totalCount  : "~", 
              count       : "~", }
  },

  createList: function(data) {
    lists = this.state.lists
    lists.push(data)
    this.setState({ lists: lists })
  },

  renameList: function(newListName) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    console.log(this.state.currentListObjectId)
    console.log(this.state.currentList)
    console.log(newListName)

    // Update Local State
    thiss = this;
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.name == thiss.state.currentList){
        item.name = newListName
        return item
      }
      return item
    });

    this.setState({lists : filtered})
    this.setState({currentList: newListName})

    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    listClassName = this.state.listClassName
    $.ajax({
      url:'https://api.parse.com/1/classes/'+listClassName+'/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'PUT',
      data:JSON.stringify({'name':newListName}),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  deleteList: function() {
    // TODO 
    // Get All Members Of This List
    // Remove From List Array
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.objectId == thiss.state.currentListObjectId)
        return false
      return true
    });

    this.setState({lists: filtered})
    this.setState({currentList: 'All'})
    this.changeList('All', '')

    // Remove
    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    listClassName = this.state.listClassName

    $.ajax({
      url:'https://api.parse.com/1/classes/'+listClassName+'/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'DELETE',
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  changeList: function(newListName,objectId) {
    // add overlay loading
    //console.log(newListName)
    //console.log(objectId)

    localStorage.selectedProspects = JSON.stringify([])

    this.setState({currentList : newListName})
    this.setState({currentListObjectId : objectId})
    this.setState({prospects  : []    })
    this.setState({count      : '~'   })
    this.setState({pages      : 1     })
    this.setState({loading    : true  })
    this.setState({currentPage: 1})
    this.setState({keyboardActiveProspect: 0})

    qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt'
    console.log(newListName)

    if(this.state.currentList != 'All' || typeof(objectId) != "undefined" && newListName != 'Archived'){
      currentList = JSON.stringify({
        'objectId'  : objectId, 
        '__type'    : 'Pointer', 
        'className' : this.state.listClassName
      })

      company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
      qry = 'where={"company":'+company+'}&count=1'
      qry = 'where={"lists":'+currentList+'}&count=1&order=-createdAt'
    } else if (newListName == 'Archived') {
      qry = 'where={"company":'+company+',"archived":false}&count=1&order=-createdAt'
    }
    console.log(qry)

    className = this.state.className

    $.ajax({
      url: 'https://api.parse.com/1/classes/'+className,
      type:'GET',
      headers: parse_headers,
      async: true,
      data: qry,
      ajaxStart: function() {
        console.log('started list')
      },
      success: function(res){
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        //thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        //console.log('error')
        //console.log(res)
      }
    })
  },

  checkboxAction: function(checkedState, objId) {
    /* Storing Checked Prospects In LocalStorage To Make it Easier To
     * Copy and Move Prospects 
     *
     * Move To User_Prospects?
     */
    
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    //console.log(checkedState)
    if(checkedState)
      selectedProspects.push(objId)
    else
      selectedProspects = _.reject(selectedProspects, 
                                   function(id){return id == objId})

    console.log(selectedProspects)
    localStorage.selectedProspects = JSON.stringify(selectedProspects)
    this.setState({selectedProspects: selectedProspects})
  },

  masterCheckboxChanged: function(masterCheckboxValue) {
    this.setState({masterCheckboxChecked: masterCheckboxValue})
  },

  render: function() {


    this.startKeyboardShortcuts()
    $('body').css({overflow:'auto'})

    prospects = []
    for(i=0;i< this.state.prospects.length;i++) {
      url = this.state.prospects[i].url
      prospect = this.state.prospects[i]

      if(url != "no linkedin website" && typeof(url) != "undefined" && url != ""){
        url = url.replace('http://','')
        the_link = React.DOM.a({href: 'http://'+url}, React.DOM.i({className: "fa fa-globe"}))
      } else {
        the_link = ""
      }

      //profile = this.state.prospects[i].linkedin_url.replace('http://','')
      //profile = this.state.prospects[i].linkedin_url.replace('https://','')
      li = React.DOM.a({href: 'http://'+profile, className: "linkedin_link"}, React.DOM.i({className: "fa fa-linkedin-square"}))

      keyboardSelected = (i == this.state.keyboardActiveProspect)

      selectedProspects = JSON.parse(localStorage.selectedProspects)
      alreadyChecked=false
      for(ii=0;ii< selectedProspects.length;ii++)
        if(prospect.objectId == selectedProspects[ii])
          alreadyChecked = true

        //console.log(alreadyChecked)

      prospects.push(
        DataRow({deleteProspect: this.deleteProspect, 
                 prospect: this.state.prospects[i], 
                 masterCheckboxChecked: this.state.masterCheckboxChecked, 
                 key: this.generate_id(), 
                 link: the_link, 
                 keyboardSelected: keyboardSelected, 
                 checkboxAction: this.checkboxAction, 
                 alreadyChecked: alreadyChecked, 
                 li: li}))
    }

    listType = (this.state.currentList == "All") ? {display:'none'} : {float:'left'}
    listBtn = (this.state.currentList == "All") ? {display:'none'} : {float:'left',marginLeft:5}
    listOptions = (this.state.currentList == "All") ? {display:'none'} : {float:'right'}
    copyDropdownStyle = (this.state.currentList == "All") ? {width:114, right:4} : {width:114, right:36}
    currentList = this.state.currentList
    return (
        React.DOM.div(null, 
      React.DOM.div({className: "container", style: {width:'100%',padding:'0', background: 'linear-gradient(#dae8ff,#dae8ff)', backgroundImage: 'radial-gradient(circle at center center,#fff,#dff1fd 900px)'}}, 
        SideMenuProspects({currentList: this.state.currentList, 
                           count: this.state.count, 
                           totalCount: this.state.totalCount, 
                           changeList: this.changeList, 
                           listClassName: this.state.listClassName, 
                           createList: this.createList, 
                           lists: this.state.lists}), 

        React.DOM.div({className: "col-md-10", style: {padding:'0'}}, 
              React.DOM.div({id: "prospectDetailButtons"}, 
                ListDetailButtons({
                  renameList: this.renameList, 
                  deleteList: this.deleteList, 
                  currentListName: this.state.currentList, 
                  currentList: this.state.currentListObjectId}), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({href: "javascript:", 
                     className: "btn btn-primary btn-xs list-options", 
                     id: "", 
                     style: listOptions}, 
                    React.DOM.i({className: "fa fa-bars"})
                  )
                ), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     id: "copyToList", 
                     href: "javascript:", 
                     className: "drop-target btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-copy"}), 
                       "  Copy To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentListsTwo({lists: this.state.lists, 
                                 copyDropdownStyle: copyDropdownStyle, 
                                 listAction: this.copySelectedProspects})
                ), 
  
                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     href: "javascript:", 
                     id: "moveToList", 
                     style: listOptions, 
                     className: "btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-share"}), 
                     "  Move To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentLists({lists: this.state.lists, 
                              listAction: this.moveSelectedProspects})
                ), 

                React.DOM.a({onClick: this.downloadFile, 
                   href: "javascript:", 
                   id: "downloadProspects", 
                   className: "drop-target btn btn-primary btn-xs list-options"}, 
                  React.DOM.i({className: "fa fa-download"}), "   Download CSV  " 
                )
              ), 
        

          React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
            React.DOM.table({className: "prospects-table table table-striped", style: {marginBottom:'0px'}}, 
              React.DOM.thead({style: {backgroundColor:'white'}}, 
                CompanyProspectHeader({masterCheckboxChanged: this.masterCheckboxChanged})
              ), 
              React.DOM.tbody(null, 
                prospects
              )
            ), 
            (this.state.loading) ? LoadingSpinner(null) : ""
          )
        )
      ), 

      PanelFooting({currentPage: this.state.currentPage, 
                    count: this.state.count, 
                    paginate: this.paginate, 
                    prospectsPerPage: this.state.prospectsPerPage, 
                    pages: this.state.pages}), 
      Messenger(null)
    )
    );
  },

  paginate: function(newProspects, newPage) {
    this.setState({
      prospects: newProspects,
      currentPage: newPage,
      keyboardActiveProspect: 0
    })
    this.startKeyboardShortcuts()
    document.getElementById('autoscroll').scrollTop = 0
  },

  downloadFile: function() {
    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    // Get List Count
    list = JSON.stringify({
      '__type'   :  'Pointer',
      'className':  this.state.listClassName,
      'objectId' :  this.state.currentListObjectId
    })
    console.log(list)
    // Add Support For More than 1000
    // num_of_requests
    //this.props.paginate(res.results, this.props.currentPage + 1)
    localStorage.download_total = Math.ceil(this.state.count/1000)
    localStorage.downloads      = 0

    if(this.state.currentList == "All")
      qry = 'where={"company":'+company+'}&count=1'
    else
      qry = 'where={"lists":'+list+'}&count=1'

    className = this.state.className

    for(i=0;i< Math.ceil(this.state.count/1000); i++){
      $.ajax({
        url: 'https://api.parse.com/1/classes/'+className+'?limit=1000&skip='+i,
        type:'GET',
        headers: parse_headers,
        downloadFile: 'download_'+i,
        data: qry,
        success: function(res){
          // Clean Results
          // Remove Certain Parse Columns - created_at, updated_at, objectId
          // Rename createdAt as date prospected
          for(i=0;i< res.results.length;i++) {
            delete res.results[i].company
            delete res.results[i].pos
            delete res.results[i].user
            delete res.results[i].objectId
            delete res.results[i].createdAt
            delete res.results[i].updatedAt
          }

          // Add Results To LocalStorage
          localStorage.downloads = JSON.parse(localStorage.downloads) + 1 
          localStorage.setItem(this.downloadFile, JSON.stringify(res.results))

          // Check to see if all ajax reqs in for loop are complete
          if(localStorage.downloads == localStorage.download_total) {
            console.log('matched')
            // Merge all localStorage results
            prospects = []
            for(ii=0;ii < JSON.parse(localStorage.download_total); ii++){
              prospects = prospects.concat(JSON.parse(localStorage.getItem('download_'+ii)))
              console.log(prospects)
            }

            console.log(prospects)
            // Output as CSV
            var blob = new Blob([Papa.unparse(prospects)], {type: "text/plain;charset=utf-8"});
            console.log(blob)
            saveAs(blob, "prospects.csv");
          }
      },

      error: function(res){
        console.log(res)
      }
      });
    }
    
    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    

  },

  removeSelectedProspects: function() {
    // If List Type is All Archive the prospect
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []

    for(i=0;i< selectedProspects.length;i++){
      if(this.state.currentList != 'All'){
        tmp = {
          method:'PUT',
          path:'/1/classes/'+this.state.className+'/'+selectedProspects[i],
          body: {
            lists: {
              '__op'    : 'Remove',
              "objects" : [{ 
                  '__type':'Pointer',
                  'className':this.state.listClassName,
                  'objectId':this.state.currentListObjectId
              }]
            }
          }
        }
      }else{
        tmp = {
          method:'PUT',
          path:'/1/classes/'+this.state.className+'/'+selectedProspects[i],
          body: {
            archived:false,
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Subtract From Old List - Not Working For Archive
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        selectedProspects = JSON.parse(localStorage.selectedProspects)
        console.log('remove selected prospects')
        console.log(selectedProspects)
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              return false
          return true
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  moveSelectedProspects: function(listObjectId) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // get the selected objectId from selectedProspects state
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []


    // Batch Update Parse
    // - Remove All Selected Prospects From Current List
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/'+this.state.className+'/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'Remove',
            "objects" : [{ 
                '__type':'Pointer',
                'className':this.state.listClassName,
                'objectId':this.state.currentListObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }
    
    // - Add Other List 
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/'+this.state.className+'/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':this.state.listClassName,
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Add To New List
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(selectedProspects.length)
          // Subtract From Old List
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        console.log('selectedProspects')
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          is_selected = true
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              is_selected = false
          return is_selected
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  copySelectedProspects: function(listObjectId) {
    console.log(listObjectId)
    
    // make batch ajax request to parse
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // Add Loading Sign To List

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/'+this.state.className+'/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':this.state.listClassName,
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        // Update With the number of successes
        // Update local list count
        lists = thiss.state.lists
        for(i=0;i< lists.length; i++) { 
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(res.length)
        }
        thiss.setState({lists: lists})
        localStorage.selectedProspects = "[]"
        thiss.setState({selectedProspects : [] })
        
        // add alert to inform user
        // Unselect all selected
      },
      error: function(err) {
        console.log(err)
      }
    });

  },

  hideAlert: function() {
    $('.alert').hide()
  },

  adjustHeight: function(whichOne) {
    prospectWindowTop = $('#prospectDetailButtons').position().top
    prospectWindowTop = prospectWindowTop + $('#prospectDetailButtons').height()
    prospectWindowBottom = $('#autoscroll').position().top + $('#autoscroll').height()

    if(whichOne == 'j')
      activeProspect = this.state.keyboardActiveProspect +1 
    else
      activeProspect = this.state.keyboardActiveProspect -1 

    activeTop = $($('.prospects-tr')[activeProspect]).position().top
    selectedHeight = $($('.prospects-tr')[activeProspect]).height()
    activeBottom = $($('.prospects-tr')[activeProspect]).position().top+selectedHeight

    console.log(prospectWindowTop, prospectWindowBottom)
    console.log(activeTop, activeBottom)

    scrollTop = document.getElementById('autoscroll').scrollTop
    if(activeBottom > prospectWindowBottom)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeBottom - prospectWindowBottom

    if(activeTop < 0)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeTop - 37
    else if(activeTop == $($('.prospects-tr')[0]).position().top)
      document.getElementById('autoscroll').scrollTop = 0
      
    // Get Postion of Top
    // Get Position of Bottom 
    // Get Position of Current Selected
    // Adjust by scrolling down or up
  },

  startKeyboardShortcuts: function() {
    /* Keyboard Shortcuts */
    Mousetrap.reset()
    //Mousetrap.unbind(['j','k','o'])
    thiss = this;

    /* Prospect Table Shortcuts */
    Mousetrap.bind('j', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != thiss.state.prospectsPerPage+1)
        thiss.adjustHeight('j')
        thiss.setState({keyboardActiveProspect: keyboard+1})
    });

    Mousetrap.bind('k', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != 1)
        thiss.adjustHeight('k')
        thiss.setState({keyboardActiveProspect: keyboard-1})
    });


    Mousetrap.bind('o', function() { 
      console.log('open current prospect')
      console.log($($('.keySelect').find('a.linkedin_link')[0]).attr('href'))
      link = $($('.keySelect').find('a.linkedin_link')[0]).attr('href')
      /*
      window.open(link, '_blank')
      console.log('new')
      */
      //popupWindow.blur();
      //window.focus();
      // keyboard = thiss.state.keyboardActiveProspect
      
      var a = document.createElement("a");
      a.href = link
      var evt = document.createEvent("MouseEvents");
      //the tenth parameter of initMouseEvent sets ctrl key
      // For Mac This Works Check For - Windows
      evt.initMouseEvent("click", true, true, window, 0, 0, 0, 0, 0,
                                  false, false, false, true, 0, null);
      a.dispatchEvent(evt);
    });



    /* List Modification Shortcuts */
    Mousetrap.bind('tab+r', function(){
      //console.log('reload')
      $('#renameListBtn').click()
    })

    Mousetrap.bind('tab+d', function(){
      //console.log('reload')
      $('#deleteListModal').click()
    })

    Mousetrap.bind('tab+s', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      thiss.downloadFile()
    })

    Mousetrap.bind('shift+l', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      //thiss.downloadFile()
      $('.new-list-btn').click()
    })

    Mousetrap.bind('e', function(){
      console.log('reload')
      //$('#downloadProspects').click()
      thiss.removeSelectedProspects()
    })

    Mousetrap.bind('c', function() { 
      console.log('copy')
      $('#copyToList').click()
    });

    Mousetrap.bind('m', function() { 
      console.log('copy')
      $('#moveToList').click()
    });

    //Mousetrap.bind('e', function() { console.log('e'); });
    Mousetrap.bind('right', function() { console.log('right'); });
    Mousetrap.bind('left', function() { console.log('left'); });

  },

  componentDidMount: function() {
    /* OnLoad For The First Time Function */
    localStorage.selectedProspects = JSON.stringify([])
    thisss = this;

    //this.startKeyboardShortcuts()

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb'
    }

    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    cuid = JSON.parse(localStorage.currentUser).objectId
    user = JSON.stringify({'__type':'Pointer',
                           'objectId':cuid, 
                           'className': 'User'})
    archiveList = JSON.stringify({ //hardCode
      'objectId':'SerPQjckve',
      '__type':'Pointer', 
      'className' : this.state.listClassName
    })

    qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt'

    if(this.state.currentList != 'All'){
      currentList = {
        'objectId':this.state.currentListObjectId, 
        '__type':'Pointer', 
        'className' : this.state.listClassName
      }
      currentList = JSON.stringify(currentList)
      user = JSON.stringify({'__type':'Pointer',
                             'objectId':'xThAXc0LZT',
                             'className':'User'})

      // add company to prospects added through mining job
      qry = 'where={"company":'+company+',"lists":'+currentList+'}&count=1'
    }

    className = this.state.className
    $.ajax({
      url: 'https://api.parse.com/1/classes/'+className+'?limit='+thisss.state.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      cache: true,
      data: qry,
      success: function(res){
        console.log('COMPANY RESULTS')
        console.log(res.results)
        console.log(res.results.length)
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        console.log('error')
        console.log(res)
      }
    })

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    currentUser = { 
      '__type'   : 'Pointer',
      'className': '_User',
      'objectId' : JSON.parse(localStorage.currentUser).objectId
    }

    thiss = this;
    listClassName = this.state.listClassName
    $.ajax({
      url: 'https://api.parse.com/1/classes/'+listClassName,
      type: 'GET',
      headers: parse_headers,
      data: 'where={"user":'+JSON.stringify(currentUser)+"}&count=1&order=-createdAt",
      success: function(res) {
        console.log(res)
        results = res.results
        for(i=0;i< results.length; i++) {
          results.count = '~'
        }
        thiss.setState({lists: results})
        // Make batch request to get list counts after they are loaded
        for(i=0;i < res.results.length; i++) {
          localStorage.setItem(res.results[i].objectId, "")
        }

        for(i=0;i< res.results.length; i++) {
          list = {
            '__type'    : 'Pointer',
            'objectId'  : res.results[i].objectId,
            'className' : thiss.state.listClassName,
          }

          className = thiss.state.className
          $.ajax({
            url:'https://api.parse.com/1/classes/'+className,
            type:'GET',
            headers:parse_headers,
            listObjectId: res.results[i].objectId,
            data: 'where={"lists":'+JSON.stringify(list)+'}&count=1',
            success: function(res) {
              //console.log(this.listObjectId)
              localStorage.setItem(this.listObjectId, res.count)
              amount = 0
              for(ii=0;ii< results.length;ii++){
                if(localStorage.getItem(results[ii].objectId) == "")
                  amount = amount + 1
              }

              if(amount == 0) {
                for(ii=0;ii< results.length;ii++)
                  results[ii].count = localStorage.getItem(results[ii].objectId)

                thiss.setState({lists: results})
                //console.log('Got Counts')
              }

              // updated res.count
              //thiss.setState({count: res.count})
            },
            error: function(err) {
              console.log(err)
            }
          })
        }
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
  },

  generate_id : function () {
    return '_' + Math.random().toString(36).substr(2, 9);
  },
});

/*  Dropdown Menus */

var CurrentLists = React.createClass({displayName: 'CurrentLists',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i< this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, href: "javascript:", onClick: this.listAction}, this.props.lists[i].name))
      )
    }
    //console.log(this.props.copyDropdownStyle)
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {right:158}}, 
        lists
      )
    );
  }
});

var ListsMenu = React.createClass({displayName: 'ListsMenu',
  render: function() {
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {
            minWidth:'inherit',
            top: '20px',
            width: '125px',
            right: '154px',
            left:'auto'
          }}, 
        React.DOM.li(null, React.DOM.a({href: "#books"}, 
          React.DOM.i({className: "fa fa-times"}), "  " + ' ' +
          "Delete List"
        )), 
        React.DOM.li(null, React.DOM.a({href: "#podcasts"}, 
          "Rename Lists"
        ))
      )
    );
  }
});

var CurrentListsTwo = React.createClass({displayName: 'CurrentListsTwo',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i<this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, 
               href: "javascript:", 
               onClick: this.listAction}, 
          this.props.lists[i].name))
      )
    }
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: this.props.copyDropdownStyle}, 
        lists
      )
    );
  }
});

var ListDetailButtons = React.createClass({displayName: 'ListDetailButtons',
  // Rename List
  getInitialState: function() {
    return {
      editMode: false
    }
  },
  render: function() {
    //console.log(this.props.currentListObjectId)
    if(!this.state.editMode) {
      stuff = React.DOM.span({className: "label label-default", style: listType}, 
            (this.props.currentListName == "All") ? '' : React.DOM.i({className: "fa fa-align-justify", style: {marginRight:'5px'}}), 
            (this.props.currentListName == "All") ? '' : "   " +this.props.currentListName
              )
    } else {
      stuff = React.DOM.input({className: "form-control", style: {width: 100, float: 'left', height: 24, marginTop: -1}})
    }
    return (

          React.DOM.div(null, 
            React.DOM.h4({style: {margin:0}}, 
              stuff, 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "renameListBtn", 
                'data-target': ".bs-renameList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-pencil"})
              ), 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "deleteListModal", 
                'data-target': ".bs-deleteList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-trash-o"})
              )
            ), 
            RenameListModal({renameList: this.props.renameList}), 
            DeleteListModal({deleteList: this.props.deleteList})
          )
      );
  },

  renameList: function(newListName) {
    this.props.renameList(newListName)
  },

  deleteList: function(){
    this.props.deleteList()
  },

  toggleEdit: function() {
    this.setState({editMode: !this.state.editMode })
  }
});

var CompanyProspectHeader = React.createClass({displayName: 'CompanyProspectHeader',
  render: function() {
    return (
      React.DOM.tr(null, 
        React.DOM.th(null), 
        React.DOM.th({style: {width:300}}, "Name"), 
        React.DOM.th({style: {width:100}}, "Added On"), 
        React.DOM.th(null, "Industry"), 
        React.DOM.th({style: {width:137,display:'none'}}, "# of Prospects"), 
        React.DOM.th({style: {display:'none'}}, "Signals"), 
        React.DOM.th({style: {width:600}}, " "), 
        React.DOM.th(null, " "), 
        React.DOM.th(null, " ")
      )
    );
  }
});

},{"./company.js.min.js":5,"./data_row.js.min.js":16,"./delete_list_modal.js.min.js":18,"./loading_spinner.js.min.js":26,"./messenger.js.min.js":28,"./panel_footing.js.min.js":31,"./rename_list_modal.js.min.js":35,"./side_menu_user_prospects.js.min.js":39,"./user_prospect.js.min.js":48,"./user_prospect_header.js.min.js":49,"./user_side_menu_list.js.min.js":50}],18:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createListButtonClick: function() {
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  createMiningJob: function(e) {
    e.preventDefault()
    console.log('lmao')
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  deleteList: function() {
    this.props.deleteList()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-deleteList-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-trash-o"}), "  Delete List?")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({className: "deleteForm", onSubmit: this.deleteList}, 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.deleteList, 
                      className: "btn btn-danger", 
                      style: {display:'block', width:'100%'}}, 
                      "Delete"
                    ), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.deleteList, 
                      className: "btn btn-default", 
                      style: {display:'block', width:'100%'}}, 
                      "Cancel"
                    )
                  )

                )
              )
            )
          )
    );
  }
});


},{}],19:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      name: this.props.initialTemplateValues.name,
      body: this.props.initialTemplateValues.body,
      subject: this.props.initialTemplateValues.subject,
      editMode: this.props.initialTemplateValues.editMode
    }
  },

  componentDidMount: function() {
    console.log('did mount')
    $('.template-body').html(this.state.body)
    if(this.state.editMode) {
      $('.summer').summernote({
        height: 200,
        toolbar: [
          ['style', ['bold', 'italic', 'underline', 'clear']],
          ['font', ['strikethrough']],
          ['fontsize', ['fontsize']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['height', ['height']],
        ]
      })
    }

    renderjson.set_show_to_level('all')
    prospect = _.pick(this.props.prospect, 
      'company_name', 'name', 'pos'
    )
    prospect.first_name = prospect.name.split(' ')[0]
    prospect.last_name = _.last(prospect.name.split(' '))
    prospect = _.omit(prospect, 'name')

    document.getElementById("editTemplate").appendChild(renderjson(prospect));
    $('#editTemplateOverlay').html()
    thiss = this;
    $('.renderjson').click(function() {
      thiss.props.toggleTemplateEditMenu()
    })

    $('.renderjson').css({
      'position': 'absolute',
      'z-index': '1000000000',
      'background-color':'rgba(0,0,0,0)',
      'border':'0',
      'color':'white',
      'margin-top':'0px',
      'height': '542px',
      'overflow':'auto',
      'width':'380px'
    })

    $('.key').css({
      'cursor':'pointer'
    })

    $('.timeline').css({
      '-webkit-filter': 'blur(10px)',
    })
    $('#campaign-top-detail').css({
      '-webkit-filter': 'blur(10px)',
    })
  },
  componentWillUnmount:function() {
    $('.timeline').css({
      '-webkit-filter': '',
    })
    $('#campaign-top-detail').css({
      '-webkit-filter': '',
    })
  },

  clickedOverlay: function() {
    console.log('clicked overlay')
    this.props.toggleTemplateEditMenu()
  },

  changeMode: function() {
    // Update template html on toggle
    parse_headers = appConfig.parseHeaders
    if(this.state.editMode){
      $('.summer').destroy();
      $('.timeline').css({
        '-webkit-filter': 'blur(20px)',
      })

      console.log('look at this')
      console.log(name)
      name = (this.props.initialTemplateValues.newTemplate) ? $('#template-name').val() : this.state.name
      this.props.saveTemplate({
        name: name,
        body: $('.summer').code(),
        subject: $('.subject').val(),
      }, this.props.initialTemplateValues.newTemplate)

      this.setState({
        name: $('#template-name').val(),
        body: $('.summer').code(),
        subject: $('.subject').val(),
        editMode: !this.state.editMode,
      })

      objId = this.props.initialTemplateValues.objectId
      $.ajax({
        url:'https://api.parse.com/1/classes/Templates/'+objId,
        type:'PUT',
        headers:parse_headers,
        data:JSON.stringify({body: $('.summer').code(),
                             subject: $('.subject').val()}),
        success: function(res) {
          console.log(res)
        },
        error: function(err) {
          console.log(err)
        }
      });
    } else {
      this.setState({ editMode: !this.state.editMode })
      $('.timeline').css({
        '-webkit-filter': 'blur(20px)',
      })
    }
  },

  componentWillUpdate: function(newProps) {
    console.log('THE NEW PROPS')
    console.log(newProps)
  },

  componentDidUpdate: function() {
    /* thiss = this; */
    console.log('OTHER')
    if(this.state.editMode){
      console.log('CALLED')
      // Replace Subject 
      $('.subject').val(this.state.subject)
      $('#template-name').val(this.state.name)

      $('.summer').summernote({
        height: 200,
        toolbar: [
          ['style', ['bold', 'italic', 'underline', 'clear']],
          ['font', ['strikethrough']],
          ['fontsize', ['fontsize']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['height', ['height']],
        ]
      })

      // Initialize Editor with html
      $('.summer').code(this.state.body)
    }
  },


  render: function() {
    subjectPlace = (this.state.editMode) ? React.DOM.input({style: {display:'inline',width:480}, className: "form-control subject"}) : this.state.subject

    if(this.state.editMode){
       toggleButton = React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-success btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            React.DOM.i({className: "fa fa-save"}), "   Save Template")

       if(this.props.initialTemplateValues.newTemplate){
         the_name = React.DOM.input({className: "form-control", 
                           id: "template-name", 
                           style: {float:'left',width:200}})
       }
    } else {
       toggleButton = React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-primary btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            React.DOM.i({className: "fa fa-pencil-square"}), "   Edit Template")

       the_name = React.DOM.h6({style: {float:'left'}}, 
                   React.DOM.i({className: "fa fa-file-text-o"}), " ", 
                   this.state.name
                  )
    }

    return (
      React.DOM.div({id: "editTemplate"}, 
        React.DOM.h5({className: "example-template-title"}, "Example Template Values"), 
        React.DOM.div({className: "example-template-title", 
             style: {marginLeft:215, marginTop:8}}, 
          React.DOM.a({href: "javascript:", 
            className: "btn btn-default btn-xs"}, 
            React.DOM.i({className: "fa fa-chevron-left"})), 
          React.DOM.a({href: "javascript:", 
            style: {marginLeft:5}, 
            className: "btn btn-default btn-xs"}, 
            React.DOM.i({className: "fa fa-chevron-right"}))
        ), 
        React.DOM.div({onClick: this.clickedOverlay, id: "editTemplateOverlay"}), 
          React.DOM.div({id: "editTemplateView", 
               className: "panel panel-default", 
               style: {display:'block'}}, 
               React.DOM.div({className: "panel-heading", style: {height:50}}, 
                 the_name, 
              React.DOM.a({href: "javascript:", 
                className: "btn btn-default btn-xs", 
                style: {float:'right',marginLeft:5,marginTop:5}}, 
                React.DOM.i({className: "fa fa-trash"})
              ), 
              toggleButton
            ), 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.div({className: "editTemplateTitle"}, 
                React.DOM.span(null, "Subject: "), 
                subjectPlace
              ), 
             React.DOM.br(null), 
             React.DOM.div({className: "templateDetails"}, 
               React.DOM.h6({style: {marginBottom:'0'}, className: "text-muted"}, 
                 "Created by Mark on Jul. 21, 2014"
               ), 
               React.DOM.h6({style: {marginTop:'0'}, className: "text-muted"}, 
                 "last updated 7 days ago"
               )
             ), 
            React.DOM.br(null), 
            React.DOM.div({className: "panel panel-default"}, 
              React.DOM.div({className: "panel-body summer template-body"}
              )
            )
        )
      )
    )
    );
  }
});

},{}],20:[function(require,module,exports){
/** @jsx React.DOM */

var Templates = require('./templates.js.min.js');
var Schedules = require('./schedule.js.min.js');
var Campaigns = require('./campaigns.js.min.js');
var SentMail = require('./sent_mail.js.min.js');
var FollowupFeed = require('./followup_feed.js.min.js');
var CampaignDetail = require('./campaign_detail.js.min.js');
var CreateCampaignModal = require('./create_campaign.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      selectedScreen: 'Campaigns',
      selectedCampaign:'',
      prospectLists: [],
      campaigns: []
    }
  },

  componentDidMount: function() {
    thiss = this;
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     qry = 'where={"company":'+company+'}&include=prospect_list,followups,followups.template&order=-createdAt'
     $.ajax({
       url:'https://api.parse.com/1/classes/Campaign',
      headers: appConfig.headers,
      data: qry,
      success: function(res) {
        console.log(res.results)
        thiss.setState({campaigns: res.results})
        // TODO  - Add Get Prospect List Count
        // Follow Up Feed Feature
        // - Shows what stages different prospects are at and whether you 
        //   should send a follow up to them.
        // How to get the stage of Prospect List
        // - Where to persist last email sent
        // - What is stored at the campaign level
        // - What is stored at the prospect level
        // - Timeline (General 7 x 7 cadences)
        //   - 
        // - Rules (Sankey / Flow View)
        //   - Shows all or only the ones that havent responded 
        //   - Show all the ones hthat haven't replied
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
     });
    $.ajax({
      url: 'https://api.parse.com/1/classes/ProspectList',
      headers: appConfig.headers,
      // TODO
      // - Company Specific
      success: function(res) {
        thiss.setState({prospectLists: res.results})
      },
      error: function(err) {

      }
    })


  },
  
  toggleScreen: function(screen) {
    this.setState({selectedScreen : screen})
  },

  changeSelectedCampaign: function(screen, selectedCampaign) {
    console.log(selectedCampaign)
    this.setState({
      selectedCampaign : selectedCampaign,
      selectedScreen: screen,
    })
  },

  render: function() {
    thiss = this
    console.log(this.state.selectedCampaign)
    console.log(this.state.selectedScreen)
    console.log(this.state.campaigns)
    switch (this.state.selectedScreen){
      case 'Campaigns':
        CurrentScreen = Campaigns({campaigns: thiss.state.campaigns, 
                            changeSelectedCampaign: thiss.changeSelectedCampaign, 
                            toggleScreen: thiss.toggleScreen})
        break;
      case 'CampaignDetail':
        CurrentScreen = CampaignDetail({
                        selectedCampaign: thiss.state.selectedCampaign, 
                      selectedCampaignObjectId: thiss.state.selectedCampaginObjectId, 
                        toggleScreen: thiss.toggleScreen})
        break;
      case 'Templates':
        CurrentScreen = Templates(null)
        break;
      case 'Overview':
        CurrentScreen = Campaigns({campaigns: thiss.state.campaigns, 
                            changeSelectedCampaign: thiss.changeSelectedCampaign, 
                            toggleScreen: thiss.toggleScreen})
        break;
      case 'Sent Mail':
        CurrentScreen = SentMail(null)
        break;
      case 'Followup Feed':
        CurrentScreen = FollowupFeed(null)
        break;
      case 'Schedules':
        CurrentScreen = Schedules(null)
        break;
    }

    return (
      React.DOM.div({className: "", style: {height:'550px'}}, 
        React.DOM.div({className: "container", style: {padding:'0',width:'100%',height:'100%'}}, 
          SideMenu({
                createCampaign: this.createCampaign, 
                prospectLists: this.state.prospectLists, 
                toggleScreen: this.toggleScreen}), 
              React.DOM.div({className: "col-md-10", 
                   style: {padding:'0',height:'100%'}}, 
            CurrentScreen
          )
        )
      )
    );
  },

  persistCampaign: function(newCampaign) {
    Campaign = {}
    Campaign.name = newCampaign.name
    Campaign.company = JSON.parse(localStorage.currentUser).company
    thiss = this;

    $.ajax({
      url:'https://api.parse.com/1/classes/Campaign',
      type:'POST',
      headers:appConfig.headers,
      data:JSON.stringify(Campaign),
      success: function(res) {
        the_campaign = _.find(thiss.state.campaigns, function(campaign){
          first = campaign.name == newCampaign.name 
          second = campaign.prospect_list == newCampaign.prospect_list
          return first && second
        })
        console.log(res)
        console.log(res.objectId)

        the_campaign.objectId = res.objectId
        campaigns = _.filter(thiss.state.campaigns, function(campaign){
          first = campaign.name == newCampaign.name 
          second = campaign.prospect_list == newCampaign.prospect_list
          return !(first && second)
        })
        campaigns.push(the_campaign)
        console.log(campaigns)

        thiss.setState({campaigns:  campaigns})

        $.ajax({
          url:'https://api.parse.com/1/classes/Campaign/'+res.objectId,
          type:'PUT',
          data: JSON.stringify({prospect_list:{
            '__type':'Pointer',
            'className':'ProspectList',
            'objectId':newCampaign.prospect_list.objectId,
          }}),
          headers:appConfig.headers,
          success: function(res){
          },
          error: function() {

          }
        })
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  createCampaign: function(newCampaign) {
    campaigns = this.state.campaigns
    campaigns.push(newCampaign)
    this.setState({campaigns: campaigns})
    console.log(newCampaign)

    $('.modal').click()
    $('.modal-backdrop').click()

    this.persistCampaign(newCampaign)
  }
});

var SideMenu = React.createClass({displayName: 'SideMenu',
  toggleScreen: function(e) {
    this.props.toggleScreen($(e.target).text().trim())
  },

  /*
    <button type="button" className="sharp btn btn-default" onClick={this.toggleScreen}>
      <i className="fa fa-file-text" /> &nbsp; Templates
    </button>
    <button type="button" className="sharp btn btn-default" onClick={this.toggleScreen}>
      <i className="fa fa-clock-o" /> &nbsp; Schedules
    </button>
  */
  createCampaignModal: function() {

  },

  render: function() {
    return (
      React.DOM.div({className: "col-md-2", 
        style: {padding:'0',height:'100%', backgroundColor:'rgb(90, 107, 119)',borderBottomLeftRadius:'3px'}}, 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.span({style: {marginLeft:'27px'}}, "Overview")
          ), 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-newspaper-o"}), "  ",  
            React.DOM.span({style: {marginLeft:'4px'}}, "Followup Feed")
          ), 
          React.DOM.button({type: "button", style: {display:'none'}, 
                  className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-code-fork"}), "  ",  
            React.DOM.span({style: {marginLeft:'4px'}}, "Rules")
          ), 
          React.DOM.button({type: "button", style: {display:'none'}, 
                  className: "sharp btn btn-default", onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-pie-chart"}), "   Analytics"
          ), 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "   Sent Mail"
          )
        ), 

        React.DOM.div({className: "", style: {width:'100%',textAlign:'center',marginTop:100}}, 
          React.DOM.a({href: "javascript:", className: "btn btn-primary new-list-btn", 
                'data-toggle': "modal", 'data-target': ".bs-createCampaign-modal-sm", 
                style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
            React.DOM.i({className: "fa fa-plus-circle"}), "  New Campaign"
          )
        ), 
        CreateCampaignModal({prospectLists: this.props.prospectLists, 
                             createCampaign: this.createCampaign})
      )
    );
  },

  createCampaign: function(newCampaign) {
    this.props.createCampaign(newCampaign)
  }
});

},{"./campaign_detail.js.min.js":3,"./campaigns.js.min.js":4,"./create_campaign.js.min.js":8,"./followup_feed.js.min.js":21,"./schedule.js.min.js":36,"./sent_mail.js.min.js":38,"./templates.js.min.js":45}],21:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // FollowupFeed
  getInitialState: function() {
    return {
      scheduledFollowups: []
    }
  },


  render: function() {
    scheduledFollowups = []
    for(i=0;i< this.state.scheduledFollowups.length; i++){ 
      scheduledFollowups.push(ScheduledFollowupRow(null))
    }

    return (
      React.DOM.div({style: {overflow:'auto', height:550}}, 
        React.DOM.table({className: "table table-striped", style: {marginBottom:0}}, 
          React.DOM.thead(null, 
            React.DOM.th(null), 
            React.DOM.th(null, "Prospect Name"), 
            React.DOM.th(null, "Prospect Email"), 
            React.DOM.th({style: {textAlign:'center'}}, "Status")
          ), 
          React.DOM.tbody(null, 
            scheduledFollowups
          )
        )
      )
    );
  }
});

var ScheduledFollowupRow = React.createClass({displayName: 'ScheduledFollowupRow',
  render: function() {
    return (
      React.DOM.tr(null

      )
    );
  }
})

},{}],22:[function(require,module,exports){
/** @jsx React.DOM */
var SendEmailModal = require('./send_email_modal.js.min.js')
var TimelineDayElement = require('./timeline_day_element.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  // FollowupTimeline
  getInitialState: function() {
    initialFollowups = this.props.initialFollowups
    initialFollowups = (initialFollowups) ? initialFollowups : []

    return {
      followups: initialFollowups,
      loading: false,
      currentTemplate:''
    }
  },

  componentDidMount: function() {
    thiss = this;
    $('.day').tooltip({
      placement: 'right',
      title:'+ Add a follow-up'
    })
    // Followups that belong to campaign
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     currentCampaign = {
       '__type': 'Pointer',
       'className':'Campaign',
       'objectId':this.props.currentCampaign.objectId
     }
     currentCampaign = JSON.stringify(currentCampaign)
     //qry = 'where={"company":'+company+',"campaign":'+currentCampaign+'}&include=template'
     qry = 'where={"campaign":'+currentCampaign+'}&include=template'
     //qry = 'where={"campaign":'+currentCampaign+'}'
     $.ajax({
       url:'https://api.parse.com/1/classes/Followup',
       type:'GET',
       headers: appConfig.headers,
       data: qry,
       success: function(res) {
         console.log('followup timeline')
         console.log(res.results)
       },
       error: function(err) {
         console.log('error')
         console.log(err)
       }
     })
  },
  
  render: function() {
    batches =  _.countBy(this.props.prospects, 
                      function(prospect) { return prospect.last_contacted })

    timelineElements = []
    followups = (this.state.followups) ? this.state.followups : []
    console.log(followups)
    for(i=0;i< 31;i++){
      batchCount = (batches[i]) ? batches[i] : 0
      
      addTemplateMode = false; 
      currentTemplate = false;
      elementType = false
      for(ii=0;ii< followups.length; ii++){
        // TODO - Replace with underscore method
        //console.log('FOLLOWUPS ERROR')
        //console.log(followups)
        elementType = i == followups[ii].day
        if(elementType) {
          addTemplateMode = (followups[ii].addTemplateMode) ? true : false
          currentTemplate = followups[ii].template
          break
        }
      }

      timelineElements.push(TimelineDayElement({
                              dayCount: i, 
                              templates: this.props.templates, 
                              currentTemplate: currentTemplate, 
                              batchCount: batchCount, 
                              addTemplateMode: addTemplateMode, 
                              elementType: !elementType, 
                              addFollowup: this.addFollowup, 
                              editFollowup: this.editFollowup, 
                              saveFollowup: this.saveFollowup, 
                              removeFollowup: this.removeFollowup, 
                              setCurrentTemplate: this.setCurrentTemplate}))
    }
    return (
      React.DOM.div(null, 
        React.DOM.div({className: "timeline", 
             style: {height:'100%',backgroundColor:'rgb(90, 107, 119)',
                     width:5,marginTop:-35}}, 
             timelineElements
        ), 
        SendEmailModal({prospects: this.props.prospects, 
                        currentTemplate: this.state.currentTemplate})
      )
    );
  },

  createFollowup: function() {
    //
  },         

  addFollowup: function(day) {
    //console.log('called template edit menu')
    followups = this.state.followups
    followups.push({addTemplateMode: true, day: day})
    this.setState({
      followups: followups
    })
  },

  editFollowup: function(day) {
    // find template set editmode is false
    for(i=0;i< this.state.followups.length; i++){
      if(this.state.followups[i].day == day){
        break
      }
    }

    followups = this.state.followups
    followups[i].addTemplateMode = true
    this.setState({followups: followups})
  },

  saveFollowup: function(day, chosenTemplate) {
    new_followups = this.state.followups
    new_followups[day].addTemplateMode = false
    new_followups[day].template = chosenTemplate

    this.setState({followups: new_followups})

    if(new_followups[day].objectId){
      url = "/"+new_followups[i].objectId; type="PUT"

      data = {template:{
        __type:'Pointer',
        className:'Template',
        objectId: chosenTemplate.objectId
      }}
    } else {
      url = ""; type="POST";

      data = {
        day: day,
        campaign: {
          __type: 'Pointer',
          className:'Campaign',
          objectId: this.props.currentCampaign.objectId
        },
        template: {
          __type: 'Pointer',
          className:'Template',
          objectId:chosenTemplate.objectId,
        }
      }
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/classes/Followup',
      type:type,
      data:JSON.stringify(data),
      headers:appConfig.headers,
      success: function(res) {
        
        new_followups[day].objectId = res.objectId
        thiss.setState({followups: new_followups})

        console.log(res)
        $.ajax({
          url:'https://api.parse.com/1/classes/Campaign/'+thiss.props.currentCampaign.objectId,
          type:'PUT',
          data:JSON.stringify({followups: {
            __op: 'AddUnique',
            objects:[{
              __type:'Pointer', 
              className:'Followup',
              objectId:res.objectId
            }]
          }}),
          headers:appConfig.headers,
          success: function() {
          },
          error: function() {
          }
        })
      },
      error: function() {

      },
    })
  },

  removeFollowup: function(day) {
    followups = []
    for(i=0;i< this.state.followups.length;i++)
      if(this.state.followups[i].day != day)
        followups.push(this.state.followups[i])
      
    for(i=0;i< this.state.followups.length;i++)
      if(this.state.followups[i].day == day)
        break
    
    this.setState({followups: followups}) 
    id = this.state.followups[i]

    thiss = this;
    if(id) {
      id = id.objectId
      $.ajax({
        url:'https://api.parse.com/1/classes/Followup/'+id,
        headers:appConfig.headers,
        type:'DELETE',
        success: function(res) {
          console.log(res)
        }
      })

     console.log('REMOVE ARRAY')
      $.ajax({
        url:'https://api.parse.com/1/classes/Campaign/'+thiss.props.currentCampaign.objectId,
        headers:appConfig.headers,
        type:'PUT',
        data: JSON.stringify({
          followups: {
            __op : 'Remove',
            objects: [{
              __type: 'Pointer',
              className: 'Followup',
              objectId: id
            }]
          }
        }),
        success: function(res){
          console.log(res)
        },
        error: function() {
        }
      })
    }
  },

  setCurrentTemplate: function(template) {
    this.setState({currentTemplate: template })
  }
});



},{"./send_email_modal.js.min.js":37,"./timeline_day_element.js.min.js":47}],23:[function(require,module,exports){
/** @jsx React.DOM */

data = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // free trial
  open: function() {
    console.log('open')
    handler.open({
      name: 'Customero',
      description: 'Get 900 free email credits!',
      amount: 0,
      panelLabel: "Start Your Free Trial!",
      open: function() {
        console.log($('.close'))
        $('.close').hide()
      },
      closed: function() {
        console.log("closed")
      }
    });
  },

  componentDidMount: function() {
    $('body').css({overflow:'hidden'})


    //console.log(this.getDOMNode())
    /*
    $(this.getDOMNode()).append(' <form action="" method="POST"> <script src="https://checkout.stripe.com/checkout.js" class="stripe-button" data-key="pk_test_4T5Pftl4ho0EgFVo1G7OKRda" data-amount="2000" data-name="Demo Site" data-description="2 widgets ($20.00)" data-image=""> </script> </form>')

  setTimeout(function() {
    console.log($('.stripe-button-el').html())
    $('.stripe-button-el').click()

  }, 400)
*/

  },

  render: function() { 
  data = data()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 

      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Get 900 free email credits. 100% refund guarantee.  We will only start charging your card after 1 month.")

      ), 

      React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
        React.DOM.div({className: "", style: {marginLeft:34}}, 
        imgs_1, 
        imgs_2
        )
      )
      )
    )
  }
});

},{"../lib/data.min.js":51}],24:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Landing Page
  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() {
    $('body').css({overflow:'auto'})

    return (
      React.DOM.div({className: ""}, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'22px',marginLeft:'30px'}}, "Supercharge your sales! ")
            )
          ), 
          React.DOM.a({href: "#login", className: "btn-lg btn login-btn"}, "Log In")
        ), 
        React.DOM.div({className: "col-md-12", style: {marginTop:'100px',paddingTop:'100px'}}, 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'bold',textAlign:'center',fontSize:'56px'}}, " Generate High Quality Prospect Lists "), 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',textAlign:'center',fontSize:'56px'}}, " Accelerate Sales "), 
          React.DOM.a({href: "#signup", className: "btn-lg btn-success btn start-trial"}, "Start Your Free Trial Today"), 

          React.DOM.div({className: "panel panel-default", style: {display:'none'}}, 
          React.DOM.div({className: "panel-heading"}, " "), 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            ), 
          React.DOM.div({className: "panel-footer"}, " ")
          )
        ), 
        React.DOM.div({className: "gradient"}, " ")
      )
    );
  }
});

},{}],25:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Landing Page
  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() {
    $('body').css({overflow:'auto'})

    return (
      React.DOM.div({className: ""}, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.img({className: "network-logo", src: "build/img/network.png"}), 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'20px',marginLeft:'30px',fontFamily:'Open Sans'}}, "Social Prospecting On Steroids ")
            )
          ), 
          React.DOM.a({href: "#login", className: "btn-lg btn login-btn", style: {fontFamily:'proxima-nova'}}, "LOG IN")
        ), 

        React.DOM.div({className: "col-md-7 col-sm-7", style: {marginTop:'100px',paddingTop:'80px'}}, 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',color:'white',textAlign:'center',fontSize:'38px',fontFamily:'Open Sans',fontSize:'40px'}}, " Generate High Quality Prospect Lists "), 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',textAlign:'center',color:'white',fontSize:'46px',fontFamily:'Open Sans', fontStyle:'italic'}}, " Accelerate Sales "), 
          React.DOM.a({href: "#signup", className: "btn-lg btn-success btn start-trial"}, "Start Your Free Trial Today"), 

          React.DOM.div({className: "panel panel-default", style: {display:'none'}}, 
          React.DOM.div({className: "panel-heading"}, " "), 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            ), 
          React.DOM.div({className: "panel-footer"}, " ")
          )
        ), 
        React.DOM.div({className: "gradient"}, " "), 

        React.DOM.div({className: "col-md-5 col-sm-5", id: "network-picture", 
             style: {height:500,backgroundImage:"url('build/img/network_icon_1.png')"}}
        )
      )
    );
  }
});

},{}],26:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // LoadingSpinner
  render: function() {
    return (
    React.DOM.div({className: "spinner", style: {marginTop:'180px'}}, 
      React.DOM.div({className: "spinner-container container1"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      ), 
      React.DOM.div({className: "spinner-container container2"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      ), 
      React.DOM.div({className: "spinner-container container3"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      )
    )
    )
  }
});

},{}],27:[function(require,module,exports){
/** @jsx React.DOM */

theData = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // SignUp
  componentDidMount: function() {
    $('body').css({overflow:'hidden'})
  },

  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() { 
    data = theData()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 
      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Generate high quality prospect lists. Accelerate Sales."), 
          React.DOM.div({className: "panel panel-default login-info", style: {display:'block'}}, 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            )
          )
      ), 

        React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
          React.DOM.div({className: "", style: {marginLeft:34, display:'none'}}, 
          imgs_1, 
          imgs_2
          )
        )
      )
    )
  }
});

},{"../lib/data.min.js":51}],28:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  //Messenger
  render: function() {
    return (
        React.DOM.div({className: "alert alert-success", 
             'data-alert': "alert", 
             style: {position:'absolute',
                     top: 31, 
                     right:30, 
                     display:'none',
                     width:200}}, 
                     React.DOM.a({className: "close", 
                       href: "javascript:", 
                       onClick: this.hideAlert}, "×"), 
            "Test"
        )
    );
  }
});

},{}],29:[function(require,module,exports){
/** @jsx React.DOM */

var LoadingSpinner = require('./loading_spinner.js.min.js')

var Job = React.createClass({displayName: 'Job',
  startJob: function() {
    // Add Linkedin Locations
    // Email When Completed
    // Have Report For Number of Profiles Found / number of emails found per mining job
    
    miningJob = this.props.miningJob
    miningJob.status = "Running"
    miningJob.last_ran = Math.round(+new Date()/1000)

    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+miningJob.objectId,
      type:'PUT',
      headers: appConfig.parseHeaders,
      // status should be waiting
      data : JSON.stringify({'status':'Running', 'last_ran':Math.round(+new Date()/1000)+"" }),
      success: function(res) {
        console.log(res)
        // make request to heroku api
        $.ajax({
          //url: 'https://0.0.0.0:5000/mining_job' ,
          url: 'http://agile-plains-2430.herokuapp.com/mining_job' ,
          //type:'POST',
          crossDomain: true,
          data:{'locale':miningJob.locale, 
                'current_title':miningJob.prospect_title,
                'current_user_id':JSON.parse(localStorage.currentUser).objectId,
                'company_id':JSON.parse(localStorage.currentUser).company.objectId,
                'mining_job_id':miningJob.objectId},
          success: function(res) {
            console.log(res)
          },
          error: function(err) {
            console.log(err)
          }
        })
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    this.setState({miningJob: miningJob})
  },

  deleteJob: function() {
    //console.log(this.state.miningJob)
    this.props.deleteJob(this.state.miningJob)
      /*
    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+this.state.miningJob.objectId,
      type:'DELETE',
      headers: appConfig.parseHeaders,
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
      */
  },

  cancelJob: function() {
    miningJob = this.state.miningJob
    miningJob.status = ""

    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+miningJob.objectId,
      type:'PUT',
      headers: appConfig.parseHeaders,
      data : JSON.stringify({'status':''}),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
    this.setState({miningJob: miningJob})
  },

  render: function(){
    miningJob = this.props.miningJob
    button = (miningJob.status == "") ? React.DOM.a({href: "javascript:", className: "btn btn-xs btn-success", onClick: this.startJob}, " ", React.DOM.i({className: "fa fa-check"}), " Run ") : React.DOM.a({href: "javascript:", className: "btn btn-xs btn-danger", onClick: this.cancelJob}, " ", React.DOM.i({className: "fa fa-times"}), " Cancel ")

    disabled = ""
    disabled_trash = ""
    /*
    disabled = (miningJob.status == "") ? "btn btn-xs btn-success" : "btn btn-xs btn-success disabled"
    disabled_trash = (miningJob.status == "") ? "btn btn-xs btn-default" :  "btn btn-xs btn-default disabled"
    button = <a href="javascript:" className={disabled} onClick={this.startJob}> <i className="fa fa-check" />&nbsp;Run </a> 
    */

    //console.log(miningJob)
    return (
      React.DOM.tr(null, 
        React.DOM.td(null, React.DOM.h6(null, miningJob.prospect_title)), 
        React.DOM.td(null, React.DOM.h6(null, miningJob.locale)), 
        React.DOM.td(null, React.DOM.h6(null, (miningJob.last_ran == "" ) ? "----" : moment.unix(miningJob.last_ran).fromNow())), 
        React.DOM.td(null, 
          React.DOM.span({className: "badge"}, 
            (miningJob.results == "") ? 0 : miningJob.results
          ), " ",  
          React.DOM.h6({style: {display:'inline-block'}}, "profiles found")
        ), 
        React.DOM.td({style: {paddingTop:'12px'}}, 
          React.DOM.span({className: (miningJob.status == "" ) ? "label label-primary" : "label label-success"}, 
            (miningJob.status == "") ? "Ready" : miningJob.status
          )
        ), 
        React.DOM.td({style: {paddingTop:'13px',width:'105px'}}, 
          button, 
          " ", 
          React.DOM.a({href: "javascript:", className: disabled_trash, 
                  onClick: this.deleteJob}, 
            React.DOM.i({className: "fa fa-trash-o"})
          )
        )
      )
    );
  }
});


module.exports = React.createClass({displayName: 'exports',
  // Mining Jobs
  //{(prospects.length == 0 && this.state.loading == false) ? <EmptyCompanyProspectsPanel /> : ""}
  getInitialState: function() {
    return { 
      miningJobs : [],
      loading    : true
    }
  },

  deleteJob: function(job) {
    //console.log(job.objectId)
    var filtered = _.filter(this.state.miningJobs, function(item) {
       console.log(item.objectId != job.objectId)
       return item.objectId != job.objectId
    });
    //console.log(filtered)
    this.setState({miningJobs: filtered})
  },

  render: function () {
    //console.log('render')
    miningJobs = []
    for(i=0;i<this.state.miningJobs.length;i++){
      miningJob = this.state.miningJobs[i]
      miningJobs.push(
        Job({deleteJob: this.deleteJob, miningJob: miningJob})
      )
    }

    return (
      React.DOM.div(null, 
      React.DOM.div({className: "mining-job-toolbar container", style: {width:'100%'}}, 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Prospects By Title and Area"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies Hiring For Roles"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies Who Just Raised Funding"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies By Industy And Area"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Press Coverage"
        )
    ), 
      React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
        React.DOM.table({className: "table table-striped"}, 
          React.DOM.thead(null, 
            React.DOM.th(null, "Job Title"), 
            React.DOM.th(null, "City"), 
            React.DOM.th(null, "Last Ran"), 
            React.DOM.th(null, "Results"), 
            React.DOM.th(null, "Status"), 
            React.DOM.th(null, " ")
          ), 
          React.DOM.tbody(null, 
            miningJobs
          )
        ), 
          (this.state.loading) ? LoadingSpinner(null) : "", 
        createJobModal({createJob: this.createJob})
      )
      )
    );
  },
  
  runMiningJob: function() {

  },

  createJob: function(data) {
    miningJobs = this.state.miningJobs
    miningJobs.push(data)
    this.setState({ miningJobs: miningJobs })

    $('#miningJobModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
  },

  componentDidMount: function() {
    console.log('this did mount')
    thiss = this;
    qry = 'where={"company":'+company+'}&count=1&order=-createdAt'
    $.ajax({
      url:'https://api.parse.com/1/classes/MiningJob',
      type:'GET',
      headers: appConfig.parseHeaders,
      data: qry,
      success: function(res) {
        thiss.setState({miningJobs : res.results})
        thiss.setState({loading    : false})
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  }

});

var createJobModal = React.createClass({displayName: 'createJobModal',
  createMiningJob: function() {
    console.log('mining job')
    console.log($('#prospectTitle').val())
    console.log($('#locale').val())

    data =  {
      'prospect_title': $('#prospectTitle').val(),
      'locale'        : $('#locale').val(),
      'last_ran'      : '',
      'results'       : '',
      'status'        : '',   //Waiting , Running
    }
    //  update local jobs state
    $.ajax({
      url:'https://api.parse.com/1/classes/MiningJob',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    this.props.createJob(data)
    
    //$('button.close').click()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-example-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "miningJobModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-bolt"}), "  Create Mining Job")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.createMiningJob}, 
                    React.DOM.input({id: "prospectTitle", type: "text", placeholder: "Enter prospect title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.input({id: "locale", type: "text", placeholder: "Enter City Area...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", onClick: this.createMiningJob, placeholder: "Enter City Area...", className: "btn btn-success", style: {display:'block', width:'100%'}}, "Start Mining!")
                  )

                )
              )
            )
          )
    );
  }
});

var EmptyMiningJob = React.createClass({displayName: 'EmptyMiningJob',
  render: function() {
    return (
      React.DOM.div({className: "col-md-offset-3 col-md-6", style: {height:400}}, 
      React.DOM.div({className: "panel panel-default", style: {marginTop:100,height:200}}, 
        React.DOM.div({className: "panel-body"}, 
          React.DOM.h1({className: "lead", style: {textAlign:'center'}}, "Start Prospecting On Linkedin"), 
          React.DOM.a({href: "javascript:", onClick: this.openLinkedinWindow, className: "btn btn-success", style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important',display:'block',marginRight:'auto',marginLeft:'auto',width:200, marginTop:50}}, 
            React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
            "Search for companies!")
        )
      )
    )
    );
  }
});

},{"./loading_spinner.js.min.js":26}],30:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // MiningJobCalendar
  getInitialState: function() {
    return {
      reports : []
    }
  },

  getSignalReport: function() {
    thissss = this;
    qry = 'where='+JSON.stringify({profile:{
      __type:'Pointer',
      className:'ProspectProfile',
      objectId:this.props.currentProfile.objectId
    }})

    $.ajax({
      url: 'https://api.parse.com/1/classes/SignalReport?order=-createdAt',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        thissss.setState({reports: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  componentDidMount: function() {
    this.getSignalReport()
  },

  componentDidUpdate: function() {
    this.getSignalReport()
  },

  setCurrentReport: function(newReport) {
    console.log('CURRENT REPORT')
    console.log(newReport)
    this.props.setCurrentReport(newReport)
  },

  render: function() {
    reports = []
    for(i=0;i< this.state.reports.length; i++)
      reports.push(SignalReportRow({setCurrentReport: this.setCurrentReport, 
                                    setCurrentView: this.setCurrentView, 
                                    report: this.state.reports[i]}))

    return (
      React.DOM.div({className: "container", style: {height:400, overflow:'auto',paddingLeft:0,
                                         paddingRight:0,width:'100%'}}, 
        React.DOM.div({style: {height:44,borderBottom:'solid 1px rgb(221, 221, 221)'}}, 
          React.DOM.h4({onClick: this.returnToCalendarView, 
              style: {float:'left',cursor:'pointer',marginTop:7,fontWeight:200,
                paddingLeft:20,paddingTop:5, display:'inline-block'}}, 
                React.DOM.i({className: "fa fa-calendar", style: {marginRight:5}}), 
                this.props.currentProfile.name
          )
        ), 
        React.DOM.div({className: "col-md-12", style: {paddingLeft:0,paddingRight:0,
                                           overflow:'auto',height:356}}, 
          React.DOM.div({style: {overflow:'auto'}}, 
            React.DOM.table({className: "table table-striped", style: {marginBottom:0}}, 
              React.DOM.thead(null, 
                React.DOM.th(null), 
                React.DOM.th(null), 
                React.DOM.th({style: {textAlign:'center'}}, 
                    React.DOM.i({className: "fa fa-clock-o"}), " " + ' ' +
                    "Scheduled"
                ), 
                React.DOM.th({style: {textAlign:'center'}}, "Prospects"), 
                React.DOM.th({style: {width:150,textAlign:'center'}})
              ), 
              React.DOM.tbody({className: "reports"}, 
                reports
              )
            )
          )
        )
      )
    );
  }
});

var SignalReportRow = React.createClass({displayName: 'SignalReportRow',
  rowClick: function() {
    this.props.setCurrentReport(this.props.report)
  },

  prospectAllSignalReportProspects: function(e) {
    e.stopPropagation()
    // Update UI
    console.log(this.props.report.objectId)
    thiss = this
    $.ajax({
      //url:'http://nameless-retreat-3525.herokuapp.com/prospect_signal_report',
      url:'http://127.0.0.1:5000/prospect_signal_report',
      data: {signal_report_id: thiss.props.report.objectId },
      success: function(res) { console.log(res) },
      error: function(err) { console.log(err) }
    })
  },

  render: function() {
    return (
      React.DOM.tr({onClick: this.rowClick, style: {cursor:'pointer'}}, 
        React.DOM.td(null), 
        React.DOM.td({style: {textAlign:'right',paddingTop:15}}, 
          React.DOM.i({className: "fa fa-cloud-download", style: {color:'#555'}})
        ), 
        React.DOM.td({style: {textAlign:'center'}}, 
          React.DOM.h6(null, 
            moment(this.props.report.createdAt).fromNow()
          )
        ), 
        React.DOM.td({style: {textAlign:'center'}}, 
          React.DOM.span({className: "label label-success"}, 
            this.props.report.people_count
          ), 
          React.DOM.h6({style: {display:'inline-block'}}, 
            "  People found."
          )
        ), 
        React.DOM.td(null, 
          React.DOM.a({href: "javascript:", 
            onClick: this.prospectAllSignalReportProspects, 
             style: {fontWeight:'bold',marginTop:5}, 
             className: "btn btn-xs btn-success"}, 
            "Prospect All"
          )
        )
      )
    )
  }
});

},{}],31:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Panel Footing
  paginatePrevious: function() {
    thiss = this;

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospects?skip='+(thiss.props.currentPage-2)*thiss.props.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+',"archived":true}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: this.props.currentPage - 1})
        thiss.props.paginate(res.results, thiss.props.currentPage - 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },


  paginate: function(direction) {
    prospectsPerPage = this.props.prospectsPerPage
    if(direction=='previous')
      skip = (this.props.currentPage - 2)*prospectsPerPage
    else if(direction=="forward")
      skip = this.props.currentPage*prospectsPerPage

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+skip,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: this.props.currentPage + 1})
        this.props.paginate(res.results, this.props.currentPage + 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },

  paginateForward: function() {
    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospects?skip='+thiss.props.currentPage*thiss.props.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+',"archived":true}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: thiss.props.currentPage + 1})
        console.log("success")
        thiss.props.paginate(res.results, thiss.props.currentPage + 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },
  componentDidMount: function() {
    paginateForward = this.paginateForward
    paginatePrevious = this.paginatePrevious

    Mousetrap.bind('l', function() { 
      console.log('new forward')
      paginateForward()
    });

    Mousetrap.bind('h', function() { 
      console.log('new back')
      paginatePrevious()
    });
  },

  render: function() {
    // Should be handled by Panle Footing


    previous = (this.props.currentPage - 1) ? '' : 'disabled'
    forward = (this.props.currentPage == this.props.pages) ? 'disabled' : ''

    lowerLimit = (this.props.currentPage-1)*this.props.prospectsPerPage
    upperLimit = this.props.currentPage*this.props.prospectsPerPage

    lowerLimit = (lowerLimit) ? lowerLimit : 1
    upperLimit = (upperLimit > this.props.count) ? this.props.count : upperLimit

    return (
      React.DOM.div({className: "panel-footing", 
           id: "navbar", 
           style: {height:'35px',padding:'0px', paddingTop:'7px'}}, 
          React.DOM.span({style: {float:'right',marginRight:'20px'}}, 
            React.DOM.a({href: "javascript:", 
               style: {marginRight:'5px'}, 
               onClick: this.paginatePrevious, 
               className: "blue-gradient btn btn-primary btn-xs "+previous}, 
            React.DOM.i({className: "fa fa-fast-backward"})
          ), 
          React.DOM.a({href: "javascript:", 
             onClick: this.paginatePrevious, 
             className: "paginate-back-btn blue-gradient btn btn-primary btn-xs "+previous}, 
            React.DOM.i({className: "fa fa-chevron-left"})
          ), 
          React.DOM.span({style: {marginLeft:5, marginRight:5,display:'inline-block',width:115, textAlign:'center'}}, 
            lowerLimit+' - '+upperLimit+' of '+this.props.count
          ), 
          React.DOM.a({href: "javascript:", 
             onClick: this.paginateForward, 
             className: "paginate-forward-btn blue-gradient btn btn-primary btn-xs "+forward}, 
            React.DOM.i({className: "fa fa-chevron-right"})
          ), 
          React.DOM.a({href: "javascript:", 
             style: {marginLeft:'5px'}, 
             onClick: this.paginateForward, 
             className: "blue-gradient btn btn-primary btn-xs "+forward}, 
            React.DOM.i({className: "fa fa-fast-forward"}))
          )
        )
    );
  }
});

},{}],32:[function(require,module,exports){
/** @jsx React.DOM */


module.exports = React.createClass({displayName: 'exports',
  // SignalCard
  prospectPerson: function() {
    // Add To Signal List
    // Add Company
    // Add Prospect
    person = this.props.person
    personId = person.objectId
    company = this.props.person.company
    companyId = company.objectId
    person.signalId = person.signalId
    company.signalId = company.objectId
    p = person; c = company;
    delete p.objectId; delete c.objectId;
    delete p.className; delete c.className;
    delete p.__type; delete c.__type;
    delete p.createdAt; delete c.createdAt;
    delete p.updatedAt; delete c.updatedAt;
    p.companySignal = p.company
    delete p.company

    p.linkedin_url = p.url
    p.company = JSON.parse(localStorage.currentUser).company
    p.archived = true
    p.loading = true
    p.city = p.title.split('-')[0]
    p.pos = p.title.split('-').slice(-1)[0].split(' at ')[0]
    p.company_name = p.title.split('-').slice(-1)[0].split(' at ').slice(-1)[0] 
    name = p.link_text.split('|')[0]
    name = name.split('-')[0]
    p.name = name
    p.websiteUrl = company.websiteUrl
    // Automatically Add To The Signal List It Belongs To
    
    console.log(this.props.profile)
    p.lists = [{'__type':'Pointer','className':'ProspectList','objectId':this.props.profile.prospect_list.objectId}] 

    $.ajax({
      url:'https://api.parse.com/1/classes/Prospects',
      type:'POST',
      headers:appConfig.headers,
      data:JSON.stringify(p),
      success: function(res) {
        console.log(res)
         $.ajax({
          url:'https://api.parse.com/1/classes/PeopleSignal/'+personId,
          type:'PUT',
          headers:appConfig.headers,
          data: JSON.stringify({prospectId: res.objectId, prospected_on: Date.now()/1000}),
          success:function(res) { console.log(res) },
          error: function() { }
         })
      },
      error: function(err) { }
    })

    //Create Company Prospect with Pointer to CompanySignal
    $.ajax({
      url:'https://api.parse.com/1/classes/CompanyProspects',
      type:'POST',
      headers:appConfig.headers,
      data:JSON.stringify(c),
      success: function(res) {
        //Update Company Signal With Pointer to Company Prospect and date prospected
        console.log(res)
         $.ajax({
           url:'https://api.parse.com/1/classes/CompanySignal/'+companyId,
          type:'PUT',
          headers:appConfig.headers,
          data: JSON.stringify({prospectId: res.objectId, prospected_on: Date.now()/1000}),
          success:function(res) { console.log(res) },
          error: function(err) { }
         })
      },
      error: function(err) { }
    })
  },

  render: function() {
    person = this.props.person
    signal = (person.signals) ? person.signals[0] : {}
    
    return (
      React.DOM.div({className: "panel panel-default signal-card"}, 
        React.DOM.div({className: "panel-body", style: {paddingLeft:25, paddingRight:25}}, 
          React.DOM.h4(null, 
            person.title
          ), 
          React.DOM.h6({style: {display:'inline-block',width:'100%'}}, 
            React.DOM.span({style: { float:'left',maxWidth: '60%', whiteSpace: 'nowrap',
                overflow: 'hidden', textOverflow: 'ellipsis'}}, 
              person.link_text)
          ), 
        React.DOM.div({id: "signal-stuff", 
            style: (_.isEqual(signal, {})) ? {display:'none'} : {display:'block'}}, 
          React.DOM.h6(null, " ", React.DOM.i({className: "fa fa-building"}), 
            "  ", signal.company), 
          React.DOM.h6(null, " ", React.DOM.i({className: "fa fa-map-marker"}), 
            "  ", signal.location), 
          React.DOM.h6(null, " ", React.DOM.i({className: "fa fa-suitcase"}), 
            " ", signal.job_title, " ")
        ), 

          React.DOM.a({href: "javascript:", className: "btn btn-success", 
            onClick: this.prospectPerson, 
            style: {float:'right',marginTop:15, fontWeight:'bold',width:'100%'}}, 
            "Prospect This Person")
        )
      )
    );
  }
});

},{}],33:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    $('body').css({overflow:'hidden'})
    return (
      React.DOM.div(null, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'22px',marginLeft:'30px'}}, "Supercharge your sales! ")
            )
          )
        ), 
          PricingTables(null), 
        React.DOM.div({className: "gradient"}, " ")
      )
    )
    /*
              <a href="#signup" className="btn btn-success btn-lg" style={{display:'block',backgroundColor:'#1ca3fd',float:'right',marginTop:'13px' }}>Log In</a>
    */
  }
});

var PricingTables = React.createClass({displayName: 'PricingTables',
  render: function() {
    return (
      React.DOM.div(null, 
    React.DOM.div({className: "container", style: {marginTop:150}}, 
        React.DOM.div({className: "row flat"}, 
            React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
                React.DOM.ul({className: "signal-card plan plan2"}, 
                    React.DOM.li({className: "plan-name"}, " Startup "), 
                    React.DOM.li({className: "plan-price"}, 
                      React.DOM.h1({style: {fontWeight:'bold',color:'#0294f5'}}, "$499 ", React.DOM.small(null, "/ month"))
                    ), 

                  React.DOM.li(null, " ", React.DOM.strong(null, "Up to 1000 Email Credits"), " "), 
                  React.DOM.li(null, " ", React.DOM.strong(null, "Up to 10 Team Members")), 
                  React.DOM.li({style: {padding:0}}, " ", React.DOM.strong(null), " Includes: "), 
                  React.DOM.li(null, " ", React.DOM.strong(null, 'Emails & Phone Numbers')), 
                  React.DOM.li(null, " ", React.DOM.strong(null, "Quick Start Package")), 
                  React.DOM.li(null, " ", React.DOM.strong(null, "Signals")), 
                  React.DOM.li({className: "", style: {paddingBottom:0}}, 
                    React.DOM.a({href: "#", className: "btn btn-primary btn-md cool-btn"}, "Sign Up")
                  )
             )
         ), 

         React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
            React.DOM.ul({className: "signal-card plan plan3 featured"}, 
                React.DOM.li({className: "plan-name"}, " Growth "), 
                React.DOM.li({className: "plan-price"}, 
                  React.DOM.h1({style: {fontWeight:'bold',color:'#0294f5'}}, "$1299 ", React.DOM.small(null, "/ month"))
                ), 

            React.DOM.li(null, " ", React.DOM.strong(null, "Up to 2500 Email Credits"), " "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Up to 25 Team Members")), 
            React.DOM.li({style: {padding:0}}, " ", React.DOM.strong(null), " Includes: "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "All Startup Features ")), 
            React.DOM.li({style: {padding:0}}, " ", React.DOM.i({className: "fa fa-plus"})), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Bulk Salesforce Integration")), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Mining Jobs")), 
            React.DOM.li({className: "", style: {paddingBottom:0}}, 
              React.DOM.a({href: "#", className: "btn btn-primary btn-md cool-btn"}, "Sign Up")
            )
         )
     ), 

     React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
        React.DOM.ul({className: "signal-card plan plan4"}, 
            React.DOM.li({className: "plan-name"}, " Premium "), 
            React.DOM.li({className: "plan-price"}, 
              React.DOM.h1({style: {fontWeight:'bold',color:'#0294f5'}}, "$2999 ", React.DOM.small(null, "/ month"))
            ), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Up to 7500 Email Credits"), " "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Up to 50 Team Members")), 
            React.DOM.li({style: {padding:0}}, " ", React.DOM.strong(null), " Includes: "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "All Growth Features ")), 
            React.DOM.li({style: {padding:0}}, " ", React.DOM.i({className: "fa fa-plus"})), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Dedicated Happiness Officer")), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Improved territory planning")), 
            React.DOM.li({className: "", style: {paddingBottom:0}}, 
              React.DOM.a({href: "#", className: "btn btn-primary btn-md cool-btn"}, "Sign Up")
            )
         )
       ), 
            React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
                React.DOM.ul({className: "signal-card plan plan1"}, 
                    React.DOM.li({className: "plan-name"}, " Enterprise "), 
                    React.DOM.li({className: ""}, " "), 
                    React.DOM.li(null, " ", React.DOM.strong(null), " "), 
                    React.DOM.li(null, " ", React.DOM.strong(null), " "), 
                    React.DOM.li({style: {fontSize:22}}, " ", React.DOM.strong(null, "Contact Us"), " "), 
                    React.DOM.li(null, " ", React.DOM.strong(null), " "), 
                    React.DOM.li(null, " ", React.DOM.strong(null), "  ")
                )
            )

)

)
      )
    );
  },
});

},{}],34:[function(require,module,exports){
/** @jsx React.DOM */

//TODO - abstract lists
var SideMenuProspects = require('./side_menu_user_prospects.js.min.js');

var UserProspect = require('./user_prospect.js.min.js');
var UserProspectHeader = require('./user_prospect_header.js.min.js');
var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var LoadingSpinner = require('./loading_spinner.js.min.js')
var PanelFooting = require('./panel_footing.js.min.js')
var Messenger = require('./messenger.js.min.js')
var DeleteListModal = require('./delete_list_modal.js.min.js')
var RenameListModal = require('./rename_list_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {  prospects   : [],
              currentPage : 1,
              className: 'Prospect',
              listClassName: 'ProspectList',
              pages       : 1,
              currentList : 'All',
              currentListObjectId : '',
              loading: true,
              prospectsPerPage: 50,
              lists : [],
              masterCheckboxChecked: false,
              keyboardActiveProspect: 0, //first
              selectedProspects: [],
              totalCount  : "~", 
              count       : "~", }
  },

  createList: function(data) {
    lists = this.state.lists
    lists.push(data)
    this.setState({ lists: lists })
  },

  renameList: function(newListName) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    console.log(this.state.currentListObjectId)
    console.log(this.state.currentList)
    console.log(newListName)

    // Update Local State
    thiss = this;
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.name == thiss.state.currentList){
        item.name = newListName
        return item
      }
      return item
    });

    this.setState({lists : filtered})
    this.setState({currentList: newListName})

    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'PUT',
      data:JSON.stringify({'name':newListName}),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  deleteList: function() {
    // TODO 
    // Get All Members Of This List
    // Remove From List Array
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.objectId == thiss.state.currentListObjectId)
        return false
      return true
    });

    this.setState({lists: filtered})
    this.setState({currentList: 'All'})
    this.changeList('All', '')

    // Remove
    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'DELETE',
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  changeList: function(newListName,objectId) {
    // add overlay loading
    //console.log(newListName)
    //console.log(objectId)

    localStorage.selectedProspects = JSON.stringify([])

    this.setState({currentList : newListName})
    this.setState({currentListObjectId : objectId})
    this.setState({prospects  : []    })
    this.setState({count      : '~'   })
    this.setState({pages      : 1     })
    this.setState({loading    : true  })
    this.setState({currentPage: 1})
    this.setState({keyboardActiveProspect: 0})

    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt'
    console.log(newListName)

    if(this.state.currentList != 'All' || typeof(objectId) != "undefined" && newListName != 'Archived'){
      currentList = JSON.stringify({
        'objectId'  : objectId, 
        '__type'    : 'Pointer', 
        'className' : 'ProspectList' 
      })

      company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
      qry = 'where={"company":'+company+'}&count=1'
      qry = 'where={"lists":'+currentList+'}&count=1&order=-createdAt&include=email_guesses,email_guesses.pattern'
    } else if (newListName == 'Archived') {
      qry = 'where={"company":'+company+',"archived":false}&count=1&order=-createdAt&include=email_guesses,email_guesses.pattern'
    }
    console.log(qry)

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect',
      type:'GET',
      headers: parse_headers,
      async: true,
      data: qry,
      ajaxStart: function() {
        console.log('started list')
      },
      success: function(res){
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        //thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        //console.log('error')
        //console.log(res)
      }
    })
  },

  checkboxAction: function(checkedState, objId) {
    /* Storing Checked Prospects In LocalStorage To Make it Easier To
     * Copy and Move Prospects 
     *
     * Move To User_Prospects?
     */
    
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    //console.log(checkedState)
    if(checkedState)
      selectedProspects.push(objId)
    else
      selectedProspects = _.reject(selectedProspects, 
                                   function(id){return id == objId})

    console.log(selectedProspects)
    localStorage.selectedProspects = JSON.stringify(selectedProspects)
    this.setState({selectedProspects: selectedProspects})
  },

  masterCheckboxChanged: function(masterCheckboxValue) {
    this.setState({masterCheckboxChecked: masterCheckboxValue})
  },

  render: function() {
    this.startKeyboardShortcuts()
    $('body').css({overflow:'auto'})

    prospects = []
    for(i=0;i<this.state.prospects.length;i++) {
      url = this.state.prospects[i].url
      prospect = this.state.prospects[i]

      if(url != "no linkedin website" && typeof(url) != "undefined" && url != ""){
        url = url.replace('http://','')
        the_link = React.DOM.a({href: 'http://'+url}, React.DOM.i({className: "fa fa-globe"}))
      } else {
        the_link = ""
      }

      profile = this.state.prospects[i].linkedin_url.replace('http://','')
      profile = this.state.prospects[i].linkedin_url.replace('https://','')
      li = React.DOM.a({href: 'http://'+profile, className: "linkedin_link"}, React.DOM.i({className: "fa fa-linkedin-square"}))

      keyboardSelected = (i == this.state.keyboardActiveProspect)

      selectedProspects = JSON.parse(localStorage.selectedProspects)
      alreadyChecked=false
      for(ii=0;ii< selectedProspects.length;ii++)
        if(prospect.objectId == selectedProspects[ii])
          alreadyChecked = true

        //console.log(alreadyChecked)

      prospects.push(
        UserProspect({deleteProspect: this.deleteProspect, 
                      prospect: this.state.prospects[i], 
                      masterCheckboxChecked: this.state.masterCheckboxChecked, 
                      key: this.generate_id(), 
                      link: the_link, 
                      keyboardSelected: keyboardSelected, 
                      checkboxAction: this.checkboxAction, 
                      alreadyChecked: alreadyChecked, 
                      li: li}))
    }

    listType = (this.state.currentList == "All") ? {display:'none'} : {float:'left'}
    listBtn = (this.state.currentList == "All") ? {display:'none'} : {float:'left',marginLeft:5}
    listOptions = (this.state.currentList == "All") ? {display:'none'} : {float:'right'}
    copyDropdownStyle = (this.state.currentList == "All") ? {width:114, right:4} : {width:114, right:36}
    currentList = this.state.currentList
    return (
        React.DOM.div(null, 
      React.DOM.div({className: "container", style: {width:'100%',padding:'0', background: 'linear-gradient(#dae8ff,#dae8ff)', backgroundImage: 'radial-gradient(circle at center center,#fff,#dff1fd 900px)'}}, 
        SideMenuProspects({currentList: this.state.currentList, 
                           count: this.state.count, 
                           totalCount: this.state.totalCount, 
                           changeList: this.changeList, 
                           createList: this.createList, 
                           lists: this.state.lists}), 

        React.DOM.div({className: "col-md-10", style: {padding:'0'}}, 
              React.DOM.div({id: "prospectDetailButtons"}, 
                ListDetailButtons({
                  renameList: this.renameList, 
                  deleteList: this.deleteList, 
                  currentListName: this.state.currentList, 
                  currentList: this.state.currentListObjectId}), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({href: "javascript:", 
                     className: "btn btn-primary btn-xs list-options", 
                     id: "", 
                     style: listOptions}, 
                    React.DOM.i({className: "fa fa-bars"})
                  )
                ), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     id: "copyToList", 
                     href: "javascript:", 
                     className: "drop-target btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-copy"}), 
                       "  Copy To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentListsTwo({lists: this.state.lists, 
                                 copyDropdownStyle: copyDropdownStyle, 
                                 listAction: this.copySelectedProspects})
                ), 
  
                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     href: "javascript:", 
                     id: "moveToList", 
                     style: listOptions, 
                     className: "btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-share"}), 
                     "  Move To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentLists({lists: this.state.lists, 
                              listAction: this.moveSelectedProspects})
                ), 

                React.DOM.a({onClick: this.downloadFile, 
                   href: "javascript:", 
                   id: "downloadProspects", 
                   className: "drop-target btn btn-primary btn-xs list-options"}, 
                  React.DOM.i({className: "fa fa-download"}), "   Download CSV  " 
                )
              ), 
        

          React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
            React.DOM.table({className: "prospects-table table table-striped", style: {marginBottom:'0px'}}, 
              React.DOM.thead({style: {backgroundColor:'white'}}, 
                UserProspectHeader({masterCheckboxChanged: this.masterCheckboxChanged})
              ), 
              React.DOM.tbody(null, 
                prospects
              )
            ), 
            (this.state.loading) ? LoadingSpinner(null) : ""
          )
        )
      ), 

      PanelFooting({currentPage: this.state.currentPage, 
                    count: this.state.count, 
                    paginate: this.paginate, 
                    prospectsPerPage: this.state.prospectsPerPage, 
                    pages: this.state.pages}), 
      Messenger(null)
    )
    );
  },

  paginate: function(newProspects, newPage) {
    this.setState({
      prospects: newProspects,
      currentPage: newPage,
      keyboardActiveProspect: 0
    })
    this.startKeyboardShortcuts()
    document.getElementById('autoscroll').scrollTop = 0
  },

  downloadFile: function() {
    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    // Get List Count
    list = JSON.stringify({
      '__type'   :  'Pointer',
      'className':  'ProspectList',
      'objectId' :  this.state.currentListObjectId
    })
    console.log(list)
    // Add Support For More than 1000
    // num_of_requests
    localStorage.download_total = Math.ceil(this.state.count/1000)
    localStorage.downloads      = 0

    if(this.state.currentList == "All")
      qry = 'where={"company":'+company+'}&count=1'
    else
      qry = 'where={"lists":'+list+'}&count=1'

    for(i=0;i< Math.ceil(this.state.count/1000); i++){
      $.ajax({
        url: 'https://api.parse.com/1/classes/Prospect?limit=1000&skip='+i,
        type:'GET',
        headers: parse_headers,
        downloadFile: 'download_'+i,
        data: qry,
        success: function(res){
          // Clean Results
          // Remove Certain Parse Columns - created_at, updated_at, objectId
          // Rename createdAt as date prospected
          for(i=0;i< res.results.length;i++) {
            delete res.results[i].company
            delete res.results[i].pos
            delete res.results[i].user
            delete res.results[i].objectId
            delete res.results[i].createdAt
            delete res.results[i].updatedAt
          }

          // Add Results To LocalStorage
          localStorage.downloads = JSON.parse(localStorage.downloads) + 1 
          localStorage.setItem(this.downloadFile, JSON.stringify(res.results))

          // Check to see if all ajax reqs in for loop are complete
          if(localStorage.downloads == localStorage.download_total) {
            console.log('matched')
            // Merge all localStorage results
            prospects = []
            for(ii=0;ii < JSON.parse(localStorage.download_total); ii++){
              prospects = prospects.concat(JSON.parse(localStorage.getItem('download_'+ii)))
              console.log(prospects)
            }

            console.log(prospects)
            // Output as CSV
            var blob = new Blob([Papa.unparse(prospects)], {type: "text/plain;charset=utf-8"});
            console.log(blob)
            saveAs(blob, "prospects.csv");
          }
      },

      error: function(res){
        console.log(res)
      }
      });
    }
    
    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    

  },

  removeSelectedProspects: function() {
    // If List Type is All Archive the prospect
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []

    for(i=0;i< selectedProspects.length;i++){
      if(this.state.currentList != 'All'){
        tmp = {
          method:'PUT',
          path:'/1/classes/Prospect/'+selectedProspects[i],
          body: {
            lists: {
              '__op'    : 'Remove',
              "objects" : [{ 
                  '__type':'Pointer',
                  'className':'ProspectList',
                  'objectId':this.state.currentListObjectId
              }]
            }
          }
        }
      }else{
        tmp = {
          method:'PUT',
          path:'/1/classes/Prospect/'+selectedProspects[i],
          body: {
            archived:false,
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Subtract From Old List - Not Working For Archive
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        selectedProspects = JSON.parse(localStorage.selectedProspects)
        console.log('remove selected prospects')
        console.log(selectedProspects)
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              return false
          return true
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  moveSelectedProspects: function(listObjectId) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // get the selected objectId from selectedProspects state
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []


    // Batch Update Parse
    // - Remove All Selected Prospects From Current List
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospect/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'Remove',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':this.state.currentListObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }
    
    // - Add Other List 
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospect/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Add To New List
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(selectedProspects.length)
          // Subtract From Old List
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        console.log('selectedProspects')
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          is_selected = true
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              is_selected = false
          return is_selected
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  copySelectedProspects: function(listObjectId) {
    console.log(listObjectId)
    
    // make batch ajax request to parse
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // Add Loading Sign To List

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospect/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        // Update With the number of successes
        // Update local list count
        lists = thiss.state.lists
        for(i=0;i< lists.length; i++) { 
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(res.length)
        }
        thiss.setState({lists: lists})
        localStorage.selectedProspects = "[]"
        thiss.setState({selectedProspects : [] })
        
        // add alert to inform user
        // Unselect all selected
      },
      error: function(err) {
        console.log(err)
      }
    });

  },

  hideAlert: function() {
    $('.alert').hide()
  },

  adjustHeight: function(whichOne) {
    prospectWindowTop = $('#prospectDetailButtons').position().top
    prospectWindowTop = prospectWindowTop + $('#prospectDetailButtons').height()
    prospectWindowBottom = $('#autoscroll').position().top + $('#autoscroll').height()

    if(whichOne == 'j')
      activeProspect = this.state.keyboardActiveProspect +1 
    else
      activeProspect = this.state.keyboardActiveProspect -1 

    activeTop = $($('.prospects-tr')[activeProspect]).position().top
    selectedHeight = $($('.prospects-tr')[activeProspect]).height()
    activeBottom = $($('.prospects-tr')[activeProspect]).position().top+selectedHeight

    console.log(prospectWindowTop, prospectWindowBottom)
    console.log(activeTop, activeBottom)

    scrollTop = document.getElementById('autoscroll').scrollTop
    if(activeBottom > prospectWindowBottom)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeBottom - prospectWindowBottom

    if(activeTop < 0)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeTop - 37
    else if(activeTop == $($('.prospects-tr')[0]).position().top)
      document.getElementById('autoscroll').scrollTop = 0
      
    // Get Postion of Top
    // Get Position of Bottom 
    // Get Position of Current Selected
    // Adjust by scrolling down or up
  },

  startKeyboardShortcuts: function() {
    /* Keyboard Shortcuts */
    Mousetrap.reset()
    //Mousetrap.unbind(['j','k','o'])
    thiss = this;

    /* Prospect Table Shortcuts */
    Mousetrap.bind('j', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != thiss.state.prospectsPerPage+1)
        thiss.adjustHeight('j')
        thiss.setState({keyboardActiveProspect: keyboard+1})
    });

    Mousetrap.bind('k', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != 1)
        thiss.adjustHeight('k')
        thiss.setState({keyboardActiveProspect: keyboard-1})
    });


    Mousetrap.bind('o', function() { 
      console.log('open current prospect')
      console.log($($('.keySelect').find('a.linkedin_link')[0]).attr('href'))
      link = $($('.keySelect').find('a.linkedin_link')[0]).attr('href')
      /*
      window.open(link, '_blank')
      console.log('new')
      */
      //popupWindow.blur();
      //window.focus();
      // keyboard = thiss.state.keyboardActiveProspect
      
      var a = document.createElement("a");
      a.href = link
      var evt = document.createEvent("MouseEvents");
      //the tenth parameter of initMouseEvent sets ctrl key
      // For Mac This Works Check For - Windows
      evt.initMouseEvent("click", true, true, window, 0, 0, 0, 0, 0,
                                  false, false, false, true, 0, null);
      a.dispatchEvent(evt);
    });



    /* List Modification Shortcuts */
    Mousetrap.bind('tab+r', function(){
      //console.log('reload')
      $('#renameListBtn').click()
    })

    Mousetrap.bind('tab+d', function(){
      //console.log('reload')
      $('#deleteListModal').click()
    })

    Mousetrap.bind('tab+s', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      thiss.downloadFile()
    })

    Mousetrap.bind('shift+l', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      //thiss.downloadFile()
      $('.new-list-btn').click()
    })

    Mousetrap.bind('e', function(){
      console.log('reload')
      //$('#downloadProspects').click()
      thiss.removeSelectedProspects()
    })

    Mousetrap.bind('c', function() { 
      console.log('copy')
      $('#copyToList').click()
    });

    Mousetrap.bind('m', function() { 
      console.log('copy')
      $('#moveToList').click()
    });

    //Mousetrap.bind('e', function() { console.log('e'); });
    Mousetrap.bind('right', function() { console.log('right'); });
    Mousetrap.bind('left', function() { console.log('left'); });

  },

  componentDidMount: function() {
    /* OnLoad For The First Time Function */
    localStorage.selectedProspects = JSON.stringify([])
    thisss = this;

    //this.startKeyboardShortcuts()

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb'
    }

    cuid = JSON.parse(localStorage.currentUser).objectId
    user = JSON.stringify({'__type':'Pointer',
                           'objectId':cuid, 
                           'className': 'User'})
    archiveList = JSON.stringify({ //hardCode
      'objectId':'SerPQjckve', // Differente For Wach User
      '__type':'Pointer', 
      'className' : 'ProspectList' 
    })

    qry = {
      where: JSON.stringify({
        company: JSON.parse(localStorage.currentUser).company,
        archived: true,
      }),
      count: 1,
      order: '-createdAt',
      limit: this.state.prospectPerPage,
      include: 'email_guesses,email_guesses.pattern'
    }

    //qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt&incude=email_guesses'

    if(this.state.currentList != 'All'){
      currentList = {
        'objectId':this.state.currentListObjectId, 
        '__type':'Pointer', 
        'className' : 'ProspectList' 
      }
      currentList = JSON.stringify(currentList)
      user = JSON.stringify({'__type':'Pointer',
                             'objectId':'xThAXc0LZT',
                             'className':'User'})

      // add company to prospects added through mining job
      qry = 'where={"company":'+company+',"lists":'+currentList+'}&count=1'
    }

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect',
      type:'GET',
      headers: appConfig.parseHeaders,
      cache: true,
      data: qry,
      success: function(res){
        console.log(res)
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        console.log('error')
        console.log(res)
      }
    })

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    currentUser = { 
      '__type'   : 'Pointer',
      'className': '_User',
      'objectId' : JSON.parse(localStorage.currentUser).objectId
    }

    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/ProspectList',
      type: 'GET',
      headers: parse_headers,
      data: 'where={"user":'+JSON.stringify(currentUser)+"}&count=1&order=-createdAt",
      success: function(res) {
        console.log(res)
        results = res.results
        for(i=0;i< results.length; i++) {
          results.count = '~'
        }
        thiss.setState({lists: results})
        // Make batch request to get list counts after they are loaded
        for(i=0;i < res.results.length; i++) {
          localStorage.setItem(res.results[i].objectId, "")
        }

        for(i=0;i< res.results.length; i++) {
          list = {
            '__type'    : 'Pointer',
            'objectId'  : res.results[i].objectId,
            'className' : 'ProspectList', 
          }

          $.ajax({
            url:'https://api.parse.com/1/classes/Prospect',
            type:'GET',
            headers:parse_headers,
            listObjectId: res.results[i].objectId,
            data: 'where={"lists":'+JSON.stringify(list)+'}&count=1',
            success: function(res) {
              //console.log(this.listObjectId)
              localStorage.setItem(this.listObjectId, res.count)
              amount = 0
              for(ii=0;ii< results.length;ii++){
                if(localStorage.getItem(results[ii].objectId) == "")
                  amount = amount + 1
              }

              if(amount == 0) {
                for(ii=0;ii< results.length;ii++)
                  results[ii].count = localStorage.getItem(results[ii].objectId)

                thiss.setState({lists: results})
                //console.log('Got Counts')
              }

              // updated res.count
              //thiss.setState({count: res.count})
            },
            error: function(err) {
              console.log(err)
            }
          })
        }
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
  },

  generate_id : function () {
    return '_' + Math.random().toString(36).substr(2, 9);
  },
});

/*  Dropdown Menus */

var CurrentLists = React.createClass({displayName: 'CurrentLists',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i< this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, href: "javascript:", onClick: this.listAction}, this.props.lists[i].name))
      )
    }
    //console.log(this.props.copyDropdownStyle)
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {right:158}}, 
        lists
      )
    );
  }
});

var ListsMenu = React.createClass({displayName: 'ListsMenu',
  render: function() {
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {
            minWidth:'inherit',
            top: '20px',
            width: '125px',
            right: '154px',
            left:'auto'
          }}, 
        React.DOM.li(null, React.DOM.a({href: "#books"}, 
          React.DOM.i({className: "fa fa-times"}), "  " + ' ' +
          "Delete List"
        )), 
        React.DOM.li(null, React.DOM.a({href: "#podcasts"}, 
          "Rename Lists"
        ))
      )
    );
  }
});

var CurrentListsTwo = React.createClass({displayName: 'CurrentListsTwo',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i<this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, 
               href: "javascript:", 
               onClick: this.listAction}, 
          this.props.lists[i].name))
      )
    }
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: this.props.copyDropdownStyle}, 
        lists
      )
    );
  }
});

var ListDetailButtons = React.createClass({displayName: 'ListDetailButtons',
  // Rename List
  getInitialState: function() {
    return {
      editMode: false
    }
  },
  render: function() {
    //console.log(this.props.currentListObjectId)
    if(!this.state.editMode) {
      stuff = React.DOM.span({className: "label label-default", style: listType}, 
            (this.props.currentListName == "All") ? '' : React.DOM.i({className: "fa fa-align-justify", style: {marginRight:'5px'}}), 
            (this.props.currentListName == "All") ? '' : "   " +this.props.currentListName
              )
    } else {
      stuff = React.DOM.input({className: "form-control", style: {width: 100, float: 'left', height: 24, marginTop: -1}})
    }
    return (

          React.DOM.div(null, 
            React.DOM.h4({style: {margin:0}}, 
              stuff, 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "renameListBtn", 
                'data-target': ".bs-renameList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-pencil"})
              ), 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "deleteListModal", 
                'data-target': ".bs-deleteList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-trash-o"})
              )
            ), 
            RenameListModal({renameList: this.props.renameList}), 
            DeleteListModal({deleteList: this.props.deleteList})
          )
      );
  },

  renameList: function(newListName) {
    this.props.renameList(newListName)
  },

  deleteList: function(){
    this.props.deleteList()
  },

  toggleEdit: function() {
    this.setState({editMode: !this.state.editMode })
  }
});


},{"./delete_list_modal.js.min.js":18,"./loading_spinner.js.min.js":26,"./messenger.js.min.js":28,"./panel_footing.js.min.js":31,"./rename_list_modal.js.min.js":35,"./side_menu_user_prospects.js.min.js":39,"./user_prospect.js.min.js":48,"./user_prospect_header.js.min.js":49,"./user_side_menu_list.js.min.js":50}],35:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  renameList: function(e) {
    e.preventDefault()
    //console.log($('#newListName').val())
    newListName = $('#newListName').val()
    if(newListName.trim() != "")
      this.props.renameList(newListName)
    // Disable Modal
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-renameList-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-list"}), "  Rename List")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.renameList}, 
                    React.DOM.input({id: "newListName", type: "text", placeholder: "Enter list title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.renameList, 
                      className: "btn btn-success", 
                      style: {display:'block', width:'100%'}}, 
                      "Create List"
                    )
                  )
                )
              )
            )
          )
    );
  }
});


},{}],36:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    return (
      React.DOM.div(null, 
        "Scheduls"
      )
    );
  }
});

},{}],37:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      currentProspect: 0,
    }
  },
  //SendEmailModal
  render: function() {
    //console.log(this.props.currentTemplate)
    prospect = this.props.prospects[this.state.currentProspect]
    prospect = (prospect) ? prospect : {'name':'','email':''}
    //console.log(prospect)
    prospects = []
    for(i=0; i< this.props.prospects.length; i++){
      prospects.push(UserPlaceHolder({prospect: this.props.prospects[i]}))
    }
    email = (prospect.email) ? prospect.email.toLowerCase() : ""
    return (
          React.DOM.div({className: "modal fade bs-sendEmail-modal-lg", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "sendEmailModal", style: {top:'10px'}}, 
            React.DOM.div({className: "modal-dialog modal-lg"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
        React.DOM.button({type: "button", 
                style: {float:'right'}, 
                className: "btn btn-primary btn-sm"}, 
                React.DOM.i({className: "fa fa-paper-plane"}), " " + ' ' +
                "Send Email"), 
        React.DOM.button({type: "button", style: {marginRight:10, float:'right'}, 
                className: "btn btn-default btn-sm", 'data-dismiss': "modal"}, "Close"), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-envelope"}), "  Send Email" + ' ' +
                    "  ", 
                    React.DOM.small(null, "("+this.props.prospects.length+")")
                  )
                ), 
                React.DOM.div({className: "modal-body", style: {paddingTop:5}}, 
                  React.DOM.h4(null, "People"), 
                  
                  React.DOM.div({className: "prospect-container"}, 
                    prospects
                  ), 
                  React.DOM.br(null), 
                  React.DOM.h4({style: {display:'inline-block'}}, "Emails    ", 
                    React.DOM.small(null, (this.state.currentProspect+1)+' of '+this.props.prospects.length)), 
                  "   ", 
                  React.DOM.a({href: "javascript:", 
              className: (this.state.currentProspect == 0 ) ? "btn disabled" : "btn", 
                    onClick: this.previousProspect}, React.DOM.i({className: "fa fa-arrow-left"})), 
                  React.DOM.a({href: "javascript:", 
            className: (this.state.currentProspect == 135 ) ? "btn disabled" : "btn", 
                    onClick: this.nextProspect}, React.DOM.i({className: "fa fa-arrow-right"})), 

                  React.DOM.div(null, 

React.DOM.ul({className: "list-group email-holder", style: {borderTop:'solid 1px #eee'}}, 
  React.DOM.li({className: "list-group-item"}, 
    React.DOM.h5({style: {display:'inline-block',marginTop:0,marginBottom:0}}, "To:  "), 
    prospect.name + " - " + email
  ), 
  React.DOM.li({className: "list-group-item"}, 
    React.DOM.h5({style: {display:'inline-block',marginTop:0,marginBottom:0}}, "Subject:  "), " ", this.props.currentTemplate.subject
  ), 
  React.DOM.li({className: "list-group-item body"})
)
  
                  )

                ), 

      React.DOM.div({className: "modal-footer", style: {display:'none'}}, 
        React.DOM.button({type: "button", 
                className: "btn btn-default", 'data-dismiss': "modal"}, "Close"), 
        React.DOM.button({type: "button", 
                className: "btn btn-primary"}, "Send Email")
      )
              )
            )
          )
    );
  },

  previousProspect: function() {
    this.setState({currentProspect: this.state.currentProspect-1 })
  },

  nextProspect: function() {
    this.setState({currentProspect: this.state.currentProspect+1 })
  },

  parseTemplate: function(templateBody) {
    first_name = prospect.name.split(' ')[0]
    //hiring_signal = prospect.signals

    signals = (prospect.signals) ? prospect.signals[0] : ""
    templateBody = Mustache.render(templateBody, {
      hiring_signal: signals,
      first_name: prospect.name.split(' ')[0]
    })

    console.log(templateBody)
      
    return templateBody
  },

  componentDidUpdate: function() {
    //console.log(this.props.currentTemplate)
    parsedTemplate = this.parseTemplate(this.props.currentTemplate.body)
    
    //$('.body').html(this.props.currentTemplate.body)
    $('.body').html(parsedTemplate)
  }
});

var UserPlaceHolder = React.createClass({displayName: 'UserPlaceHolder',
  render: function() {
    return (
        React.DOM.div({className: "btn-group", style: {marginRight:5,marginBottom:5}}, 
          React.DOM.div({className: "btn-group"}, 
            React.DOM.button({type: "button", 
                    className: "btn btn-success btn-sm"}, 
              React.DOM.i({className: "fa fa-user"}), "  ", 
              (this.props.prospect) ? this.props.prospect.name : ""
            )
          ), 
          React.DOM.button({type: "button", className: "btn btn-success btn-sm"}, 
            React.DOM.i({className: "fa fa-trash-o"})
          )
        )
    )
  }
});

},{}],38:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Sent Mail
  getInitialState: function() {
    return {
      sentEmails: []
    }
  },

  componentDidMount: function() {
    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/SentEmail',
      data:{include: 'campaign,prospect,prospect.email_guesses.pattern'},
      headers: appConfig.headers,
      success: function(res) { thiss.setState({sentEmails: res.results}) },
      error: function() {}
    })
  },

  render: function() {
    sentEmails = []
    for(i=0;i< this.state.sentEmails.length; i++) 
      sentEmails.push(SentEmailRow({sentEmail: this.state.sentEmails[i]}))

    return (
      React.DOM.div({style: {overflow:'auto',height:550}}, 
        React.DOM.table({className: "table table-striped", style: {marginBottom:0}}, 
          React.DOM.thead(null, 
            React.DOM.th(null), 
            React.DOM.th(null, "Prospect Name"), 
            React.DOM.th(null, "Prospect Email"), 
            React.DOM.th({style: {width:290}}, "Status")
          ), 
          React.DOM.tbody(null, 
            sentEmails
          )
        )
      )
    );
  }
});

var SentEmailRow = React.createClass({displayName: 'SentEmailRow',
  render: function() {
    sentEmail = this.props.sentEmail
    //console.log(sentEmail)

    email = sentEmail.email
    if(email == "no_email"){
      first = sentEmail.prospect.name.split(' ')[0]
      last = _.last(sentEmail.prospect.name.split(' '))

      pattern = _.findWhere(sentEmail.prospect.email_guesses, {'tried':false})
      data = {first: first, last: last, fi: first[0], li: last[0]}
      email = Mustache.render(pattern.pattern.pattern, data).toLowerCase()
    }

    return (
      React.DOM.tr(null, 
        React.DOM.td(null, React.DOM.h6(null, 
            React.DOM.i({className: "fa fa-clock"}), 
            moment(sentEmail.createdAt).fromNow())), 
        React.DOM.td(null, 
          React.DOM.h6({style: {fontSize:14,fontWeight:'bold',marginBottom:0}}, sentEmail.prospect.name), 
          React.DOM.h6({style: {marginTop:4,marginBottom:0}}, sentEmail.prospect.pos.trim()), 
          React.DOM.h6({style: {marginTop:4}}, sentEmail.prospect.company_name)
        ), 
        React.DOM.td(null, React.DOM.h6(null, email)), 
        React.DOM.td({style: {paddingTop:13}}, 
          React.DOM.span({className: "label label-default"}, "Queued"), 
          React.DOM.i({className: "fa fa-chevron-circle-right text-muted", 
             style: {paddingLeft:5,paddingRight:5}}), 
          React.DOM.span({className: "label label-success"}, "Opened"), 
          React.DOM.i({className: "fa fa-chevron-circle-right text-muted", 
             style: {paddingLeft:5,paddingRight:5}}), 
          React.DOM.span({className: "label label-default"}, "Delivered"), 
          React.DOM.i({className: "fa fa-chevron-circle-right text-muted", 
             style: {paddingLeft:5,paddingRight:5}}), 
          React.DOM.span({className: "label label-default"}, "Replied")
        )
      )
    )
  }
})

},{}],39:[function(require,module,exports){
/** @jsx React.DOM */

var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var createListModal = require('./create_list_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  //SideMenuProspects - SideList
  getInitialState: function() {
    return {
      /*
      createList: 
      renameList:
      deleteList:
      changeList:
      currentList:
      totalCount:
      lists:
      */
    }
  },

  createList: function (data) {
    this.props.createList(data)
  },

  componentDidMount: function() {
  },

  changeList: function(e) {
    /*
    currentList = $(e.target).parent()//.data('list')
    console.log(currentList)
    this.props.changeList(currentList.name, currentList.objectId)
    */
  },

  render: function() {
    if(this.props.currentList == "All")
      styles = {'backgroundColor':'rgb(0, 122, 255)', 'color':'white'} 
    else
      styles =  {}

    lists = [SideMenuListOption({list: {name: 'All',count: this.props.totalCount}, 
                                 iconType: 'users', 
                                 changeList: this.props.changeList}), 
             SideMenuListOption({list: {name: 'Archived', count: '~'}, 
                                 iconType: 'archive', 
                                 changeList: this.props.changeList, 
                                 hideCount: true})]

    for(i=0;i< this.props.lists.length;i++){
      list = this.props.lists[i]
      if(list.list_type == "signal_list")
        iconType = "wifi"
      else if (list.list_type == "mining_job")
        iconType = "cloudDownload"
      if(list.list_type)
        lists.push( SideMenuListOption({list: list, 
                                        iconType: iconType, 
                                        changeList: this.props.changeList}))
      else 
        lists.push( SideMenuListOption({list: list, 
                                        changeList: this.props.changeList}))
    }

    return (
      React.DOM.div({className: "col-md-2", 
           style: {padding:'0',height:'438px',backgroundColor:'#e0e9ee',
                   borderRight:'1px solid #b0b8bf',textAlign:'center'}}, 
        React.DOM.div({className: "prospect-list-header"}, " Lists "), 
        React.DOM.div({className: "btn-group-vertical", 
             style: {width:'100%', height: '320px', overflow: 'auto'}}, 
          lists
        ), 
        React.DOM.br(null), React.DOM.br(null), 
        React.DOM.a({href: "javascript:", className: "btn btn-primary new-list-btn", 
              'data-toggle': "modal", 'data-target': ".bs-example-modal-sm", 
              style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
          React.DOM.i({className: "fa fa-plus-circle"}), "  New List"
        ), 
        createListModal({createList: this.createList, 
                         listClassName: this.props.listClassName}), " ", React.DOM.br(null)
      )
    );
  },
});

},{"./create_list_modal.js.min.js":12,"./user_side_menu_list.js.min.js":50}],40:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalCalendar
  getInitialState: function() {
    return {
      reports : []
    }
  },

  getSignalReport: function() {
    thissss = this;
    
    //console.log('CALENDAR PROPS')
    //console.log(this.props.currentProfile)
    qry = 'where='+JSON.stringify({profile:{
      __type:'Pointer',
      className:'ProspectProfile',
      objectId:this.props.currentProfile.objectId
    }})
    // Get Signal Reports Of Current Profile
    $.ajax({
      url: 'https://api.parse.com/1/classes/SignalReport?order=-createdAt',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        //console.log(res.results)
        thissss.setState({reports: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  componentDidMount: function() {
    this.getSignalReport()
  },

  componentDidUpdate: function() {
    this.getSignalReport()
  },

  render: function() {
    reports = []
    for(i=0;i< this.state.reports.length; i++) {
      reports.push(SignalReportRow({setCurrentReport: this.setCurrentReport, 
                                      setCurrentView: this.setCurrentView, 
                                      report: this.state.reports[i]}))
    }

    return (
      React.DOM.div({className: "container", style: {paddingLeft:0,
                                         paddingRight:0,width:'100%'}}, 
        React.DOM.div({style: {height:44,borderBottom:'solid 1px rgb(221, 221, 221)'}}, 
          React.DOM.h4({onClick: this.returnToCalendarView, 
              style: {fontWeight:200, float:'left',cursor:'pointer',marginTop:7,
                      paddingLeft:20,paddingTop:5, display:'inline-block'}}, 
                React.DOM.i({className: "fa fa-calendar", style: {marginRight:5}}), 
                this.props.currentProfile.name
          )
          

        ), 
        React.DOM.div({className: "col-md-12", style: {paddingLeft:0,paddingRight:0,
                                           height:356,overflow:'auto'}}, 
          React.DOM.div({style: {overflow:'auto'}}, 
            React.DOM.table({className: "table table-striped", style: {marginBottom:0}}, 
              React.DOM.thead(null, 
                React.DOM.th(null), 
                React.DOM.th({style: {textAlign:'center'}}, 
                  React.DOM.i({className: "fa fa-clock-o"})
                ), 
                React.DOM.th(null, "Company Signals"), 
                React.DOM.th(null, "Prospect Signals"), 
                React.DOM.th({style: {width:150,textAlign:'center'}})
              ), 
              React.DOM.tbody({className: "reports"}, 
                reports
              )
            )
          )
        )
      )
    );
  },

  setCurrentReport: function(newReport) {
    this.props.setCurrentReport(newReport)
  }
});

var SignalReportRow = React.createClass({displayName: 'SignalReportRow',
  rowClick: function() {
    this.props.setCurrentReport(this.props.report)
  },

  render: function() {
    if(!this.props.report.mining_job)
      icon = React.DOM.i({className: "fa fa-wifi"})
    else
      icon = React.DOM.i({className: "fa fa-cloud-download", style: {color:'#555'}})

    return (
      React.DOM.tr({onClick: this.rowClick, style: {cursor:'pointer'}}, 
        React.DOM.td({style: {textAlign:'right',paddingTop:15}}, 
          icon
        ), 
        React.DOM.td({style: {textAlign:'center'}}, 
          React.DOM.h6(null, 
            moment(this.props.report.createdAt).fromNow()
          )
        ), 
        React.DOM.td(null, 
          React.DOM.span({className: "label label-success"}, 
            this.props.report.company_count
          ), 
          React.DOM.h6({style: {display:'inline-block'}}, 
            "  Companies found."
          )
        ), 
        React.DOM.td(null, 
          React.DOM.span({className: "label label-success"}, 
            this.props.report.people_count
          ), 
          React.DOM.h6({style: {display:'inline-block'}}, 
            "  People found."
          )
        ), 
        React.DOM.td(null, 
          React.DOM.a({href: "javascript:", 
             style: {fontWeight:'bold',marginTop:5}, 
             className: "btn btn-xs btn-success"}, 
            "Prospect All"
          )
        )
      )
    )
  }
});

},{}],41:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalDetail
  getInitialState: function() {
    return {
      signals: []
    }
  },

  componentDidMount: function() {
    thissss = this;
    currentProfileReport = JSON.stringify({
      __type: 'Pointer',
      className: 'SignalReport',
      objectId: this.props.currentProfileReport.objectId
    })

    console.log('CURRENT PROFILE')
    console.log(currentProfileReport)
    qry = 'where={"signal_report":'+currentProfileReport+'}&include=company_signal,company_signal.signals&order=-createdAt'
    $.ajax({
      url: 'https://api.parse.com/1/classes/PeopleSignal?'+qry,
      type:'GET',
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log('SIGNAL DETAIL')
        console.log(res.results)
        thissss.setState({signals: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  returnToCalendarView: function() {
    console.log('return to calendar view')
  },

  render: function() {
    signals = []
    for(i=0;i< this.state.signals.length; i++)
      signals.push(SignalRow({signal: this.state.signals[i]}))

    currentProfileReport = this.props.currentProfileReport
    return (
      React.DOM.div({className: "container", style: {height:356,paddingLeft:0,
                                         paddingRight:0,width:'100%'}}, 
        React.DOM.div({style: {height:44,borderBottom:'solid 1px rgb(221, 221, 221)'}}, 
          React.DOM.h4({onClick: this.returnToCalendarView, 
              style: {float:'left',cursor:'pointer',marginTop:7,fontWeight:200,
                      paddingLeft:20,paddingTop:5,display:'inline-block'}}, 
              
                React.DOM.i({className: "fa fa-calendar", style: {marginRight:5}}), 
                this.props.currentProfile.name
          ), 
          React.DOM.h6({style: {fontSize:13,paddingLeft:5,paddingTop:5,display:'inline-block'}}, 
            React.DOM.i({className: "fa fa-chevron-right", style: {fontSize:9}}), "  ", 
            React.DOM.i({className: "fa fa-clock-o"}), "  ", 
            moment(currentProfileReport.createdAt).fromNow(), "  "
          ), 

          React.DOM.a({href: "javascript:", style: {fontWeight:'bold',float:'right',
                                        marginRight:10,marginTop:10}, 
             className: "btn btn-success btn-xs"}, 
            "Prospect All"
          ), 

          React.DOM.div({className: "btn-group", 
               style: {float:'right',marginTop:10,marginRight:10}, 
               'data-toggle': "buttons"}, 
            React.DOM.label({className: "btn btn-xs btn-default active", style: {width:30}}, 
              React.DOM.input({type: "checkbox"}), 
              React.DOM.i({className: "fa fa-user"})
            ), 
            React.DOM.label({className: "btn btn-xs btn-default", style: {width:30}}, 
              React.DOM.input({type: "checkbox"}), 
              React.DOM.i({className: "fa fa-building"})
            )
          )

        ), 
        React.DOM.div({className: "col-md-12", style: {paddingLeft:0,paddingRight:0}}, 
          React.DOM.div({style: {overflow:'auto',height:356}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead(null, 
                React.DOM.th({style: {textAlign:'center',width:90}}, 
                  React.DOM.i({className: "fa fa-clock-o"})
                ), 

                React.DOM.th(null, "People"), 

                React.DOM.th(null, "Companies"), 

                React.DOM.th({style: {width:90,textAlign:'center'}}
                )

              ), 
              React.DOM.tbody({className: "reports"}, 
                signals
              )
            )
          )
        )
      )
    );
  }
});

var SignalRow = React.createClass({displayName: 'SignalRow',
  render: function() {
    company = (this.props.signal.company_signal) ? this.props.signal.company_signal : {}
    return (
      React.DOM.tr(null, 
        React.DOM.td({style: {textAlign:'center'}}, 
          React.DOM.h6(null, 
            moment(this.props.signal.createdAt).fromNow()
          )
        ), 

        React.DOM.td(null, 
          React.DOM.h6(null, this.props.signal.link_text), 
          React.DOM.h6(null, this.props.signal.title)
        ), 

        React.DOM.td(null, 
          React.DOM.h6(null, company.name), 
          React.DOM.h6(null, this.props.signal.title)
        ), 

        React.DOM.td(null, 
          React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
            style: {fontWeight:'bold'}}, 
            "Prospect"
          )
        )
      )
    )
  }
})

},{}],42:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalProfile
  setCurrentView: function(e) {
    if(!this.props.profile.mining_job)
      this.props.setCurrentView('Calendar')
    else
      this.props.setCurrentView('MiningJobCalendar')
    //e.stopPropagation()
  },

  calendarClick:function(e) {
    this.props.setCurrentProfile(this.props.profile)

    if(!this.props.profile.mining_job)
      this.props.setCurrentView('Calendar')
    else
      this.props.setCurrentView('MiningJobCalendar')

    e.stopPropagation()
  },

  setCurrentProfile: function() {
    this.props.setCurrentProfile(this.props.profile)
    this.props.setCurrentView('Feed')
  },

  removeProfile: function() {
    if (confirm("Press a button!") == true) {
      this.props.removeProfile(this.props.profile)
    } else {
      x = "You pressed Cancel!";
    }
  },

  render: function() {
    //console.log(this.props.profile)
    signalDetails = []
    for(i=0;i< this.props.profile.profiles.length; i++) {
      signalDetails.push(ProfileType({profile: this.props.profile.profiles[i]}))
    }
    if(!this.props.profile.mining_job) 
      icon = React.DOM.i({className: "fa fa-wifi", style: {marginRight:5}})
    else
      icon = React.DOM.i({className: "fa fa-cloud-download", style: {marginRight:5}})
    return (
      React.DOM.div({className: "list-group-item ideal-company-profile", 
           onClick: this.setCurrentProfile, 
           style: {paddingTop:5,borderLeft:0,paddingLeft:10,
                   borderRight:'1px solid #ddd'}}, 
        React.DOM.span({className: "profile-title"}, 
          React.DOM.h6({className: "label label-default profile-name"}, 
            icon, 
            this.props.profile.name
          ), 
          React.DOM.a({href: "javascript:", 
             className: "btn btn-primary btn-xs signal-detail-btn", 
             onClick: this.removeProfile}, 
            React.DOM.i({className: "fa fa-trash"})), 
          React.DOM.a({href: "javascript:", 
            style: {display:'none'}, 
            className: "btn btn-primary btn-xs signal-detail-btn"}, 
            React.DOM.i({className: "fa fa-cog"})), 
          React.DOM.a({href: "javascript:", className: "btn btn-primary btn-xs signal-detail-btn", 
             onClick: this.calendarClick}, 
            React.DOM.i({className: "fa fa-calendar"})), 
          React.DOM.a({href: "javascript:", 
             onClick: this.launchModal, 
             style: (this.props.profile.mining_job) ? {display:'none'}:{display:'block'}, 
             className: "btn btn-primary btn-xs signal-detail-btn"}, 
            React.DOM.i({className: "fa fa-cloud-download"}))
        ), 

        React.DOM.div({className: "profile-body", style: {marginTop:5}}, 
          signalDetails
        )
      )
    );
  },
  launchModal: function(e) {
    $('#createMiningJobModal').modal()
    e.stopPropogation()
  }
});

var ProfileType = React.createClass({displayName: 'ProfileType',
  render: function() {

  if(this.props.profile){
    if(this.props.profile.className == "HiringProfile") {
      signalIcon = React.DOM.i({className: "fa fa-suitcase"})
      signalName = "Hiring"
      signalValue = _.reduce(this.props.profile.roles, function(result, role) {
        return role + ", "+ result
      }, "");
      //console.log('wtf')
      //console.log(signalValue)
    } else if (this.props.profile.className  == "EmployeeProfile") {
      signalIcon = React.DOM.i({className: "fa fa-users"})
      signalName = "Company Size"
      signalValue = _.reduce(this.props.profile.employees, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "FundingProfile") {
      signalIcon = React.DOM.i({className: "fa fa-institution"})
      signalName = "Funding"
      signalValue = _.reduce(this.props.profile.revenues, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "RevenueProfile") {
      signalIcon = React.DOM.i({className: "fa fa-money"})
      signalName = "Revenue"
      signalValue = _.reduce(this.props.profile.revenues, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "TechnologyProfile") {
      signalIcon = React.DOM.i({className: "fa fa-wrench"})
      signalName = "Technology"
    } else if (this.props.profile.className  == "LocationProfile") {
      signalIcon = React.DOM.i({className: "fa fa-map-marker"})
      signalName = "Locale"
      signalValue = _.reduce(this.props.profile.locale, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "IndustryProfile") {
      signalIcon = React.DOM.i({className: "fa fa-building"})
      signalName = "Industries"
      signalValue = _.reduce(this.props.profile.industries, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "CompanySizeProfile") {
      signalIcon = React.DOM.i({className: "fa fa-wrench"})
      signalName = "Technology"
    } else if (this.props.profile.className  == "ProspectTitleProfile") {
      signalIcon = React.DOM.i({className: "fa fa-user"})
      signalName = "Titles"
      signalValue = _.reduce(this.props.profile.title_keywords, 
     function(result, role) {
        return role + ", "+ result
      }, "");
    } else {
      signalIcon = "not found"
      signalName = "Not found"
      signalValue= "Not found"
    }
  } else {
      signalIcon = "not found"
      signalName = "Not found"
      signalValue= "Not found"

  }

    return (
      React.DOM.span({className: "ideal-profile"}, " ", signalIcon, 
        React.DOM.h6({className: "profile-signal-name"}, signalName, " - "), 
        React.DOM.span({className: "profile-signal-value"}, " "+signalValue)
      )
    );
  }
});

/*
  Funding Profile
  - Amount Raised - btn group
  - Stage - btn group

  People Profile
  - Locale - tags w/ typahead
  - Title - tags w/ typahead

  Company Profile
  - Industries - tags with typahead
  - Revenue - btn group
  - # of Employees - btn group
  - Locale - tags with typahead
*/


},{}],43:[function(require,module,exports){
/** @jsx React.DOM */

var SignalProfile = require('./signal_profile.js.min.js')
var CompanySignalCard = require('./company_signal_card.js.min.js')
var PeopleSignalCard = require('./people_signal_card.js.min.js')
var SignalCalendar = require('./signal_calendar.js.min.js')
var MiningJobCalendar = require('./mining_job_calendar.js.min.js')
var SignalsDetail = require('./signal_detail.js.min.js')

var CreateHiringSignalModal = require('./create_hiring_signal_modal.js.min.js')
var CreateFundingSignalModal = require('./create_funding_signal_modal.js.min.js')
var CreateProspectProfileModal = require('./create_prospect_profile_modal.js.min.js')
var CreateCompanyProfileModal = require('./create_company_profile_modal.js.min.js')
var CreateMiningJobModal = require('./create_mining_job_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      signalType: 'CompanySignal',
      currentProfile: {name:'All'},
      currentProfileObjectId: {},
      currentProfileReport: {},
      signals: [],
      currentView: 'Feed',
      profiles: [],
    }
  },

  setCurrentReport: function(newProfileReport) {
    console.log('NEW REPORT')
    console.log(newProfileReport)

    this.setState({ 
      currentView:'Detail',
      currentProfileReport: newProfileReport 
    })
  },

  setCurrentView: function(newSignalView) {
    this.setState({currentView: newSignalView})
  },

  render: function() {
    if(this.state.currentView == "Feed") {
      signalView = React.DOM.div(null, 
          SignalDetailButtons({signalType: this.state.signalType, 
                               currentProfile: this.state.currentProfile, 
                               setSignalType: this.setSignalType}), 
          SignalsFeed({
                  setCurrentView: this.setCurrentView, 
                  signalType: this.state.signalType, 
                  profile: this.state.currentProfile, 
                  signals: this.state.signals})
          )
    } else if(this.state.currentView == "Calendar"){
      signalView = SignalCalendar({
                        currentProfile: this.state.currentProfile, 
                        setCurrentReport: this.setCurrentReport, 
                        setCurrentView: this.setCurrentView})
    } else if(this.state.currentView == "Detail"){
      signalView = SignalsDetail({
                        currentProfile: this.state.currentProfile, 
                        currentProfileReport: this.state.currentProfileReport, 
                        setCurrentView: this.setCurrentView})
    } else if(this.state.currentView == "MiningJobCalendar"){
      signalView = MiningJobCalendar({
                        currentProfile: this.state.currentProfile, 
                        setCurrentReport: this.setCurrentReport, 
                        setCurrentView: this.setCurrentView})
    }

   return (
      React.DOM.div({style: {height:400}}, 
        React.DOM.div({className: "container", style: {padding:0, width:'100%', height:'100%'}}, 
          React.DOM.div({className: "col-md-3 signal-list", 
               style: { height:'102.8%', padding:0}}, 
            SignalsOptions({profiles: this.state.profiles, 
                            addProfile: this.addProfile, 
                            removeProfile: this.removeProfile, 
                            setCurrentView: this.setCurrentView, 
                            setCurrentProfile: this.setCurrentProfile})
          ), 
          React.DOM.div({className: "col-md-9", style: {height:'100%',padding:0}}, 
            signalView
          )
        ), 
        CreateMiningJobModal(null), 
        CreateHiringSignalModal({addProfile: this.addProfile}), 
        CreateFundingSignalModal({addProfile: this.addProfile}), 
        CreateCompanyProfileModal({addProfile: this.addProfile}), 
        CreateProspectProfileModal({addProfile: this.addProfile})
      )
    )
  },

  addProfile: function(newProfile) {
    profiles = this.state.profiles
    this.setState({profiles: [newProfile].concat(profiles)})
  },

  removeProfile: function(oldProfile) {
    this.setState({profiles: _.reject(this.state.profiles, function(profile) {
      return _.isEqual(oldProfile, profile)
    })})

    if(oldProfile.objectId){
      $.ajax({
        url:'https://api.parse.com/1/classes/ProspectProfile/'+oldProfile.objectId,
        headers:appConfig.headers,
        type:'DELETE',
      })
    }
  },

  setCurrentProfile: function(newProfile) {
    console.log(newProfile)

    if(newProfile.only_people) {
      this.getSignals('PeopleSignal', 
                      JSON.stringify({
                         __type: 'Pointer',
                         className: 'ProspectProfile', 
                         objectId: newProfile.objectId}))
      this.setState({
        signalType: 'PeopleSignal',
        currentProfile: newProfile 
      })
    } else {
      this.setState({currentProfile: newProfile })
    }

    this.getSignals('PeopleSignal', newProfile)
  },

  componentDidMount: function() {
    this.getSignals(this.state.signalType)

    currentUser = JSON.parse(localStorage.currentUser)
    user = {
      '__type'    : 'Pointer',
      'className' : '_User',
      'objectId'  : currentUser.objectId
    }
    user = JSON.stringify(user)
    company = JSON.stringify(currentUser.company)
    qry = 'where={"company":'+company+',"user":'+user+'}&include=profiles,prospect_list&order=-createdAt'
  
    thisss = this
    $.ajax({
      url: 'https://api.parse.com/1/classes/ProspectProfile',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log('Prospect Profile')
        console.log(res.results)
        thisss.setCurrentProfile(res.results[0])
        thisss.setState({profiles: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  setSignalType: function(labelText) {
    if(labelText == "People")
      currentSignal = "PeopleSignal"
    else if(labelText == "Companies")
      currentSignal = "CompanySignal"
    this.getSignals(currentSignal)
    this.setState({signalType: currentSignal})
  },

  componentDidUpdate: function(nextProps, nextState) {
  },

  getSignals: function(signalType, currentProfile) {
    currentUser = JSON.parse(localStorage.currentUser)
    user = {
      '__type'    : 'Pointer',
      'className' : '_User',
      'objectId'  : currentUser.objectId
    }

    user = JSON.stringify(user)
    company = JSON.stringify(currentUser.company)
    profiles = this.state.currentProfile.profiles

    if(profiles){
      //qry = 'where={"company":'+company+',"user":'+user+',"profile":'+currentProfile+'}'
      profile = JSON.stringify({
        __type:'Pointer',
        className:'ProspectProfile',
        objectId:currentProfile.objectId
      })
      qry = 'where={"profile":'+profile+'}'
      //qry = qry + ',"profiles":{"$all":'+JSON.stringify(profiles)+'}}'
      if(signalType == 'PeopleSignal')
        qry = qry + '&include=signals'
      else
        qry = qry + '&include=signals,company'

    } else {
      qry = {'include':['signals','company']}
    }
  
    thiss = this
    $.ajax({
      url: 'https://api.parse.com/1/classes/'+signalType,
      //url: 'https://api.parse.com/1/classes/CompanySignal',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log(res.results)
        thiss.setState({signals: res.results})
      },
      error: function(err) { console.log(err) }
    });
  },
});

var SignalDetailButtons = React.createClass({displayName: 'SignalDetailButtons',
  setSignalType: function(e) {
    this.props.setSignalType($(e.target).text().trim())
  },

  render: function() {
    ppl = (this.props.signalType == "PeopleSignal") ? "choose btn btn-primary app-active" : "choose btn btn-primary"
    cmp = (this.props.signalType == "CompanySignal") ? "choose btn btn-primary app-active" : "choose btn btn-primary"

    cmp = (this.props.currentProfile.only_people)  ? cmp + " disabled" : cmp

    return (
      React.DOM.div(null, 
        React.DOM.div({id: "signalDetailButtons", style: {height:44}}, 
          React.DOM.h4({style: {display:'inline-block',float:'left',width:300,
                      fontWeight:200,marginTop:4,paddingLeft:20}}, 
            React.DOM.i({className: "fa fa-newspaper-o"}), " ",  
            (this.props.currentProfile.name != "") ? this.props.currentProfile.name : 'All'
          ), 
          React.DOM.div({className: "btn-group", style: {marginLeft:'0%'}}, 
            React.DOM.a({className: ppl, 
               style: {padding:2}, 
               onClick: this.setSignalType}, 
                React.DOM.i({className: "fa fa-user"}), " People"
            ), 
            React.DOM.a({className: cmp, 
               style: {padding:2}, 
               onClick: this.setSignalType}, 
                React.DOM.i({className: "fa fa-building"}), " Companies"
            )
          )
        )
      )
    );
  }
});

var SignalsOptions = React.createClass({displayName: 'SignalsOptions',
  addProfile: function(newProfile) {
    this.props.addProfile(newProfile)
  },

  setCurrentProfile: function(currentProfile) {
    // Set Current Profile
    this.props.setCurrentProfile(currentProfile)
    // Update Request To New Profile
  },

  removeProfile: function(oldProfile) {
    this.props.removeProfile(oldProfile)
  },

  componentDidMount: function() {
  },

  setCurrentView: function(newView) {
    console.log(newView)
    this.props.setCurrentView(newView)
  },

  render: function() {
    profs = []
    for(i=0; i< this.props.profiles.length;i++) {
      profs.push(SignalProfile({setCurrentProfile: this.setCurrentProfile, 
                                setCurrentView: this.setCurrentView, 
                                removeProfile: this.removeProfile, 
                                profile: this.props.profiles[i]}))
    }

    profiles_num = (this.props.profiles.length) ? this.props.profiles.length : "~"
    return (
      React.DOM.div(null, 
      React.DOM.div({className: "list-group"}, 
        React.DOM.li({className: "list-group-item", 
            style: {borderTop:0,borderLeft:0,height:44,paddingRight:5,paddingLeft:10,
                    backgroundColor:'#e0e6ea',
                    backgroundImage:'linear-gradient(#f5f7f8,#e0e6ea);'}}, 
            React.DOM.h4({style: {margin:0,textAlign:'center',fontWeight:200,
                        float:'left',marginTop:2}}, "Profiles (", profiles_num, ")"), 
          React.DOM.a({href: "javascript:", 
             className: "btn btn-xs btn-primary create-profile-dropdown", 
             'data-toggle': "dropdown", 
             onClick: this.launchDropdown, 
             style: {float:'right',
              backgroundImage:'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
            React.DOM.i({className: "fa fa-plus"}), "  Create Profile"
          ), 

          React.DOM.ul({className: "dropdown-menu", 
              style: {marginLeft:175,marginTop:-10}, 
              role: "menu", 'aria-labelledby': "dropdownMenu1"}, 
            React.DOM.li({role: "presentation"}, 
              React.DOM.a({role: "menuitem", tabindex: "-1", 
                 onClick: this.launchModal, 
                 style: {paddingLeft:5}, href: "#"}, 
                 React.DOM.h6({style: {margin:2}}, 
                   React.DOM.i({className: "fa fa-suitcase", style: {width:10}}), 
                  "  Create Hiring Signal"
                )
              )
            ), 
            React.DOM.li({role: "presentation", style: {display:'none'}}, 
              React.DOM.a({role: "menuitem", tabindex: "-1", 
                 onClick: this.launchModal, 
                 style: {paddingLeft:5}, href: "#"}, 
                React.DOM.h6({style: {margin:2}}, React.DOM.i({className: "fa fa-institution", style: {width:10}}), 
                  "  Create Funding Signal"
                )
              )
            ), 
            React.DOM.li({role: "presentation"}, 
              React.DOM.a({role: "menuitem", tabindex: "-1", 
                 onClick: this.launchModal, 
                 style: {paddingLeft:5,paddingRight:2}, href: "#"}, 
                React.DOM.h6({style: {margin:2}}, React.DOM.i({className: "fa fa-user", style: {width:10}}), 
                  "  Create Prospect Profile"
                )
              )
            ), 
            React.DOM.li({role: "presentation", style: {display:'none'}}, 
              React.DOM.a({role: "menuitem", tabindex: "-1", 
                 onClick: this.launchModal, 
                 style: {paddingLeft:5,paddingRight:2}, href: "#"}, 
                 React.DOM.h6({style: {margin:2}}, 
                   React.DOM.i({className: "fa fa-building", style: {width:10}}), 
                   "  Create Company Profile"
                 )
              )
            )
          )
        ), 
        React.DOM.div({id: "profiles-menu", style: {height:356, overflow:'auto',marginTop:1}}, 
          profs
        )
      )
    )
    );
  },

  launchModal: function(e) {
    console.log($(e.target).text().trim())
    if($(e.target).text().trim() == 'Create Hiring Signal')
      $('#createHiringSignalModal').modal()
    else if($(e.target).text().trim() == 'Create Funding Signal')
      $('#createFundingSignalModal').modal()
    else if($(e.target).text().trim() == 'Create Prospect Profile')
      $('#createProspectProfileModal').modal()
    else if($(e.target).text().trim() == 'Create Company Profile')
      $('#createCompanyProfileModal').modal()
  },

  launchDropdown: function() {
    $('.create-profile-dropdown').dropdown()
  }
});

var SignalsFeed = React.createClass({displayName: 'SignalsFeed',
  getInitialState: function() {
    return {
      signals: []
    }
  },

  render: function() {
    //this.getSignals()

    signalCards = []
    for(i=0;i< this.props.signals.length;i++) {
      if(this.props.signalType == "CompanySignal")
        signalCards.push(CompanySignalCard({company: this.props.signals[i]}))
      else if(this.props.signalType == "PeopleSignal")
        signalCards.push(PeopleSignalCard({profile: this.props.profile, person: this.props.signals[i]}))
    }
    return (
      React.DOM.div({className: "container signal-card-background", style: {height:356, overflow:'auto'}}, 
        React.DOM.div({className: "col-md-8 col-md-offset-2"}, 
          signalCards
        )
      )
    );
  }
});

},{"./company_signal_card.js.min.js":7,"./create_company_profile_modal.js.min.js":9,"./create_funding_signal_modal.js.min.js":10,"./create_hiring_signal_modal.js.min.js":11,"./create_mining_job_modal.js.min.js":13,"./create_prospect_profile_modal.js.min.js":14,"./mining_job_calendar.js.min.js":30,"./people_signal_card.js.min.js":32,"./signal_calendar.js.min.js":40,"./signal_detail.js.min.js":41,"./signal_profile.js.min.js":42}],44:[function(require,module,exports){
/** @jsx React.DOM */

theData = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // SignUp
  componentDidMount: function() {
    $('body').css({overflow:'hidden'})
  },

  retrieveUser: function(objectId) {
    headers = {
      "X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
      "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"
    }
    $.ajax({
      url:'https://api.parse.com/1/users/'+objectId,
      headers: headers,
      type:'GET',
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  signup: function() {
    console.log('signup')
    email = $('#email').val()
    password = $('#password').val()
    p = {
      "X-Parse-Application-Id"  : "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
      "X-Parse-REST-API-Key"    : "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb",
      "Content-Type"            : "application/json"
    }
    thiss = this;

    $.ajax({
      url:'https://api.parse.com/1/classes/Company',
      type:'POST',
      headers: p,
      data: JSON.stringify({
        'name': $('#company').val(),
      }),
      success:function(res) {
        $.ajax({
          url:'https://api.parse.com/1/users',
          type:'POST',
          headers: p,
          data: JSON.stringify({
            'username':email,
            'password':password,
            'company':{
              '__type'    : 'Pointer',
              'className' : 'Company',
              'objectId'  : res.objectId,
            }
          }),
          success:function(res) {
            // Do another request to get current user
            localStorage.setItem('currentUser', JSON.stringify(res))
            thiss.retrieveUser(res.objectId)
          },
          error: function(res) {
            console.log(res)
          }
        });
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() { 
    data = theData()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 

      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Generate high quality prospect lists. Accelerate Sales."), 
          React.DOM.div({className: "panel panel-default login-info", style: {display:'block',marginTop:50}}, 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Company", type: "text", id: "company", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Repeat Password", type: "password", id: "repeat_password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.signup, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Sign Up")
              )
            )
          )
      ), 

      React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
        React.DOM.div({className: "", style: {marginLeft:34}}, 
        imgs_1, 
        imgs_2
        )
      )
      )
    )
  }
});

},{"../lib/data.min.js":51}],45:[function(require,module,exports){
/** @jsx React.DOM */

var EditTemplateView = require('./edit_template.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  //Templates
  getInitialState: function() {
    return {
      selectedTemplate: 0,
      editMode: false
    }
  },

  changeMode: function() {
    this.setState({editMode: !this.state.editeMode})
  },

  render: function() {
    templateView = (!this.state.editMode) ? TemplateView({changeMode: this.changeMode}) : EditTemplateView(null)
    return (
      React.DOM.div(null, 
        React.DOM.div({style: {height:'100%'}}, 
          TemplateSideMenu(null), 
          React.DOM.div({className: "col-md-9", style: {padding:0,height:'100%'}}, 
              templateView
          )
        )
      )
    );
  }
});


var TemplateView = React.createClass({displayName: 'TemplateView',
  changeMode: function() {
    this.props.changeMode()
  },
  render: function() {
    return (
      React.DOM.div({className: "panel panel-info", style: {width:'100%',height:'100%',border:0}}, 
        React.DOM.div({className: "panel-heading"}, 
          "Template Name",  
          React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-primary btn-xs", 
             style: {display:'block',float:'right',marginTop:'0px'}}, 
            React.DOM.i({className: "fa fa-pencil-square"}), "   Edit Template")
        ), 
        React.DOM.div({className: "panel-body"}, 
        React.DOM.h4(null, "Followup - Prospecting SAAS Outreach"), 
        React.DOM.h6({style: {marginBottom:'0'}, className: "text-muted"}, "Created by Mark on Jul. 21, 2014"), 
        React.DOM.h6({style: {marginTop:'0'}, className: "text-muted"}, "last updated 7 days ago"), 
        React.DOM.br(null), 
        React.DOM.br(null), 

        React.DOM.div({className: "panel panel-default"}, 

          React.DOM.div({className: "panel-body"}, 
          "15 minutes to get company_name more customers" + ' ' +
          "Hey first_name," + ' ' +

          "Would you like to hear an idea for a 15 minute hack that could significantly increase the number of prospects your sales people have access to ?" + ' ' +
           
          "Recently one of our B2B clients saw a huge increase in trial sign ups after working with us. first_name, lets schedule a 15 minute call this week to see if this would be a good fit for both of us." + ' ' +
           
          "What the best time for you this week ?" + ' ' +
           
          "--" + ' ' +
          "Mark" + ' ' + 
          "Customero" + ' ' +
          "mark@customerohq.com"
          
          )
        )
      )
    )
    );
  },
});

var TemplateSideMenu = React.createClass({displayName: 'TemplateSideMenu',
  getInitialState: function() {
    return {
      templates: [],
    }
  },

  componentDidMount: function() {
    //Ajax Request For Templates
    /*
     $.ajax({
      url:'',
      headers: "",
      data: "",
      success: function() {
      },
      error: function() {
      }
     });
    */
  },

  render: function() {
    templates = []
    for(i=0;i< this.state.templates.length; i++)
      templates.push(React.DOM.a({href: "javascript:", className: "list-group-item"}, "templates[i].name"))
    return (
      React.DOM.div({className: "col-md-3", style: {padding:'0', borderRight:'1px solid #ddd',height:'100%',textAlign:'center'}}, 
        React.DOM.div({className: "panel panel-default", style: {border:0}}, 
          React.DOM.div({className: "panel-heading", style: {height:60}}, 
            React.DOM.span({style: {float:'left',fontSize:20,fontWeight:'bold'}}, 
              "Templates"
            ), 
            React.DOM.a({href: "javascript:", className: "btn btn-success ", 
                style: {float:'right'}}, 
              React.DOM.i({className: "fa fa-plus"})
            )
          ), 
          React.DOM.ul({className: "list-group", style: {textAlign:'left'}}, 
            templates
          )
        )
      )
    )
  }
});

},{"./edit_template.js.min.js":19}],46:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  //TemplatesMenu
  toggleTemplateEditMenu: function(currentTemplate) {
    this.props.toggleTemplateEditMenu(currentTemplate)
  },

  createTemplate: function() {
    this.props.toggleTemplateEditMenu({
      name: '',
      body:'',
      subject:'',
      editMode:true,
      newTemplate: true
    }, true)
  },

  render: function() {
    //console.log(this.props.templates)
    templates = []
    for(i=0;i< this.props.templates.length; i++) {
      templates.push(
        TemplateListItem({
          toggleTemplateEditMenu: this.toggleTemplateEditMenu, 
          template: this.props.templates[i]})
      )
    }

    return (
      React.DOM.div({className: "", style: {padding:'0', borderRight:'2px solid rgba(0,0,0,0)',height:'100%',textAlign:'center'}}, 
        React.DOM.div({className: "panel panel-default", 
             style: {borderRight:0,borderRadius:0,height:'100%', overflow:'auto'}}, 
          React.DOM.div({className: "panel-heading", style: {height:40}}, 
            React.DOM.span({style: {float:'left',fontSize:14,fontWeight:'bold'}}, 
              React.DOM.i({className: "fa fa-file-text-o"}), 
              React.DOM.span({style: {marginLeft:5}}, "Templates")
            ), 
            React.DOM.a({href: "javascript:", 
              className: "btn btn-success btn-xs", 
              onClick: this.createTemplate, 
                style: {float:'right'}}, 
              React.DOM.i({className: "fa fa-plus"}), 
              React.DOM.span({style: {marginLeft:5}}, "Create Template")
            )
          ), 
          React.DOM.ul({className: "list-group", 
              style: {textAlign:'left'}}, 
            templates
          )
        )
      )
    )
  }
});

var TemplateListItem = React.createClass({displayName: 'TemplateListItem',
  toggleTemplateEditMenu: function() {
    console.log(this.props.template)
    template = this.props.template
    template.editMode = false
    this.props.toggleTemplateEditMenu(template)
  },

  render: function() {
    return (
      React.DOM.div(null, 
        React.DOM.a({href: "javascript:", 
          style: {borderBottom: '1px solid rgb(221, 221, 221)',paddingTop:5,paddingBottom:0}, 
           onClick: this.toggleTemplateEditMenu, 
           className: "list-group-item"}, 
           React.DOM.span({className: "label label-default"}, 
             this.props.template.name
           ), 
           React.DOM.h6(null, "Subject:", React.DOM.span({className: "text text-muted"}, 
             " " + this.props.template.subject
           ))
         )
      )
    );
  }
});

},{}],47:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // TimelineDayElement
  // TODO
  // - add prospect list progression
  // - add scheduled followup
  //

  addFollowup: function() {
    this.props.addFollowup(this.props.dayCount)
  },

  render: function() {
    batchCount = this.props.batchCount
    batchStage = (batchCount) ? BatchStage({batchCount: this.props.batchCount}) : ""

    if(this.props.addTemplateMode) {
      mode = EditTemplate({addFollowup: this.props.addFollowup, 
                           saveFollowup: this.props.saveFollowup, 
                           removeFollowup: this.props.removeFollowup, 
                           dayCount: this.props.dayCount, 
                           templates: this.props.templates})
    } else {
      mode = TemplateFollowup({currentTemplate: this.props.currentTemplate, 
                               editFollowup: this.props.editFollowup, 
                               dayCount: this.props.dayCount, 
                               removeFollowup: this.props.removeFollowup, 
                               setCurrentTemplate: this.props.setCurrentTemplate})
    }
    mode = (this.props.elementType) ? "" : mode
    addFollowup = (this.props.elementType) ? this.addFollowup : ""

    return (
      React.DOM.div(null, 
        React.DOM.div({onClick: addFollowup, className: "day", 'data-trigger': "manual"}, 
          "D"+this.props.dayCount
        ), 
        batchStage, mode
      )
    )
  },

  setCurrentTemplate: function(template) {
    this.props.setCurrentTemplate(template)
  }
});

var TemplateFollowup = React.createClass({displayName: 'TemplateFollowup',
  // EditMode False

  setCurrentTemplate: function() {
    this.props.setCurrentTemplate(this.props.currentTemplate)
  },

  render: function() {
    return (
      React.DOM.div({className: "followup-placement arrow_box_1 tmp_2"}, 
        React.DOM.h6({style: {width:130,display:'inline-block'}}, 
          React.DOM.i({className: "fa fa-file-text-o"}), "  ", 
          (this.props.currentTemplate) ? this.props.currentTemplate.name : ""
        ), 
        React.DOM.button({className: "win-btn btn btn-success btn-xs", 
                'data-target': ".bs-sendEmail-modal-lg", 
                onClick: this.setCurrentTemplate, 
                'data-toggle': "modal"}, 
          React.DOM.i({className: "fa fa-paper-plane"}), " Send"), " ", 
        React.DOM.button({onClick: this.editFollowup, 
                className: "win-btn btn btn-default btn-xs"}, 
          React.DOM.i({className: "fa fa-pencil"})), " ", 
        React.DOM.button({onClick: this.removeFollowup, 
                className: "win-btn btn btn-default btn-xs"}, 
          React.DOM.i({className: "fa fa-trash-o"}))
      )
    );
  },

  editFollowup: function(e) { 
    e.preventDefault()
    console.log(this.props.dayCount)
    this.props.editFollowup(this.props.dayCount)
  },

  removeFollowup: function() {
    console.log('remove')
    this.props.removeFollowup(this.props.dayCount)
  }
});

var BatchStage = React.createClass({displayName: 'BatchStage',
  // Different Stages of People Added to Prospect List
  render: function() {
    return (
      React.DOM.div({className: "followup-placement arrow_box tmp"}, 
        React.DOM.span({className: "badge"}, 
          this.props.batchCount
        ), " ", 
        React.DOM.h6({style: {display:'inline-block'}}, 
          "prospects in the sales cycle.")
      )
    );
  }
});

var EditTemplate = React.createClass({displayName: 'EditTemplate',
  // Edit Mode - True
  render: function() {
    options = []
    for(i=0;i< this.props.templates.length; i++) {
      options.push( React.DOM.option(null, this.props.templates[i].name))
    }
    return (
      React.DOM.div({className: "followup-placement arrow_box_1 tmp_2"}, 
        React.DOM.h6({style: {width:55,display:'inline-block'}, 
            className: "text-muted"}, 
          "Choose :"
        ), 
        React.DOM.select({className: "form-control input-sm", 
                id: "chooseTemplateForFollowup", 
                style: {display:'inline-block',width:127,marginRight:5}}, 
          options
        ), 

        React.DOM.button({className: "win-btn btn btn-success btn-xs", 
                onClick: this.saveFollowup, 
                style: {marginRight:5}}, 
          React.DOM.i({className: "fa fa-check"})), 
        React.DOM.button({className: "win-btn btn btn-default btn-xs", 
                onClick: this.removeFollowup}, 
          React.DOM.i({className: "fa fa-trash-o"}))
      )
    )
  },

  saveFollowup: function(e) {
    //get template from currentTemplate
    e.preventDefault()
    chosenTemplate = $('#chooseTemplateForFollowup').val()
    console.log(chosenTemplate)
    for(i=0;i< this.props.templates.length; i++){
      if(this.props.templates[i].name == chosenTemplate){
        chosenTemplate = this.props.templates[i]
        break
      }
    }
    console.log(chosenTemplate)
    
    this.props.saveFollowup(this.props.dayCount, chosenTemplate)
  },

  removeFollowup: function(day) {
    this.props.removeFollowup(this.props.dayCount)
  },
});


},{}],48:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // UserProspect
  getInitialState: function() {
    return { }
  },

  clickCheck: function() {
    domNode = this.getDOMNode()
    isChecked = $($(domNode).find('input[type="checkbox"]')[0]).prop('checked')
    //console.log(isChecked)
    this.setState({checked: isChecked})
    this.props.checkboxAction(isChecked, this.props.prospect.objectId)
  },

  rowClick: function() {
    $($(this.getDOMNode()).find('input[type="checkbox"]')[0]).click()
  },

  keyboardClick: function() {
    $($('.keySelect').find('input[type="checkbox"]')[0]).click()
  },

  componentDidMount: function() { },

  render: function() {
    keyboardSelected = {borderLeft:'7px solid rgba(0,0,0,0)'}
    thissss = this
    if(this.props.keyboardSelected) {
      // Adjust Scroll depending on where the prospect is
      keyboardSelected = {borderLeft:'7px solid #0096ff !important'}
      Mousetrap.unbind('x')
      Mousetrap.bind('x', function() { 
        thissss.keyboardClick()
        if(thissss.state.checked)
          console.log("lmao")
      });
    }

    prospect = this.props.prospect

    if(this.props.masterCheckboxChecked && this.state.checked)
      checked = true
    else if(this.props.alreadyChecked)
      checked = true
    else if(this.state.checked)
      checked = true
    else if(this.props.masterCheckboxChecked || this.state.checked)
      checked = true
    else
      checked = false

    //console.log(this.state.checked)
    //console.log(checked)
    //{prospect.employeeCountRange.name + " employees" }
    
    color = {}
    if(this.state.checked || this.props.alreadyChecked)
      color = {backgroundColor: '#eef8ff'}
      
    rowCl = (this.props.keyboardSelected) ? "prospects-tr keySelect" : "prospects-tr"
    websiteBtn = (prospect.websiteUrl) ?  React.DOM.a({href: "http://"+prospect.websiteUrl.replace('http://','')}, " ", React.DOM.i({className: "fa fa-globe"}), " ") : ""
    
    prospect_email = prospect.email
    if(prospect.email == "no_email"){
      if(prospect.email_guesses) {
        //console.log(prospect)
        // Get First Untried Email ther
        prospect.email_guesses = prospect.email_guesses.reverse()
        guess = _.findWhere(prospect.email_guesses, {tried: false})
        name = this.props.prospect.name
        vars = {
          first: _.first(name.split(' ')),
          last: _.last(name.split(' ')),
          fi: _.first(name.split(' '))[0],
          li: _.last(name.split(' '))[0]
        }
        console.log(guess.pattern.pattern)
        prospect_email = Mustache.render(guess.pattern.pattern, vars)
      }
    }
     prospect_email = (prospect_email) ? prospect_email.toLowerCase() : ""

    return (
      React.DOM.tr({className: rowCl, 
          onClick: this.rowClick, 
          style: keyboardSelected}, 
          React.DOM.td({style: color}, 
              React.DOM.input({type: "checkbox", 
                     onChange: this.clickCheck, 
                     checked: checked})
          ), 
          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.span({style: {fontWeight:'bold'}}, prospect.name), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, 
              (prospect.pos) ? prospect.pos.trim() : ""
            )
          ), 
          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.span({style: {fontWeight:'bold'}}, 
              prospect.company_name
            ), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, 
              (prospect.employeeCountRange) ? prospect.employeeCountRange.name + " employees" : ""
            )
          ), 

          React.DOM.td({style: color}, 
            React.DOM.h6({style: {margin:'0px'}}, prospect.city)), 
          React.DOM.td({style: color}, 
            React.DOM.a({href: "mailto:"+prospect_email, 
               style: {margin:'0px'}}, 
               prospect_email
          )), 
          React.DOM.td({style: color}, this.props.li, " ", this.props.link), 
          React.DOM.td({style: color}, 
            websiteBtn
          )
        )
    );
  },

  deleteProspect: function() {
    this.props.deleteProspect(this.props.prospect.objectId, 'Prospect')
  }
});


},{}],49:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  checkboxAction: function(e) {
    checkboxVal = $(e.target).is(':checked')
    this.props.masterCheckboxChanged(checkboxVal)
  },

  componentDidMount: function() {

  },

  render: function() {
    return (
            React.DOM.tr(null, 
              React.DOM.th(null, React.DOM.input({type: "checkbox", onChange: this.checkboxAction})), 
              React.DOM.th(null, "Name"), 
              React.DOM.th(null, "Company"), 
              React.DOM.th({style: {width:'170px'}}, "City"), 
              React.DOM.th(null, "Email"), 
              React.DOM.th(null, " "), 
              React.DOM.th(null, " ")
            )
    );
  }
});

},{}],50:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  //SideMenuListOption
  getInitialState: function() {
    return {count: '~'}
  },

  componentDidMount: function() {
    // make ajax request to get each requests 
    /*
    list = {
      '__type'    : 'Pointer',
      'objectId'  : this.props.list.objectId,
      'className' : 'ProspectList', 
    }

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    thiss = this;

    //console.log(this.props.list.name)
    $.ajax({
      url:'https://api.parse.com/1/classes/Prospects',
      type:'GET',
      headers:parse_headers,
      data: 'where={"lists":'+JSON.stringify(list)+'}&count=1',
      success: function(res) {
        thiss.setState({count: res.count})
      },
      error: function(err) {
        console.log(err)
      }
    })
    */
  },

  changeList: function() {
    this.props.changeList(this.props.list.name, this.props.list.objectId)
  },

  render: function() {
    listName = this.props.list.name
    propsCount = this.props.count
    count = (typeof(propsCount)== "undefined") ? this.state.count : propsCount

    //console.log(this.props.iconType)
    icon = ""
    if(this.props.iconType == "archive"){
      icon = React.DOM.i({className: "fa fa-archive"})
    } else if(this.props.iconType == "users"){
      icon = React.DOM.i({className: "fa fa-user"})
    } else if(this.props.iconType == "wifi"){
      icon = React.DOM.i({className: "fa fa-wifi"})
    } else if(this.props.iconType == "cloudDownload"){
      icon = React.DOM.i({className: "fa fa-cloud-download"})
    }


    countStyle = (this.props.hideCount) ? {'display':'none'} : {backgroundColor:'#999',float:'right',marginTop:'1px'}
    return (
      React.DOM.button({type: "button", 
              onClick: this.changeList, 
              className: "list-names btn btn-default"}, 
              icon, 
              " ", 
              listName, 
              React.DOM.span({style: countStyle, 
                className: "badge badge-default"}, this.props.list.count)
      )
    );
  }
});


},{}],51:[function(require,module,exports){
module.exports = function () {
  return {"0":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/8353a3fc05724cbe45e8c23b347a39e7_0994d458faff1d0b71f0f8e534299335a5765ba4a672ed817669729f6a0a1e9d","1":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/107fc2691bb8b3333ba78a18600fa561_9a832b2e27c2aa8ce6ed12c62fb665939e4de38f30ec9bebd92f813ea677f8c3","2":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4432a5df98c5ead32ca3ec898e175c90_f93ef0a7ddba9ac960c6a15941a69a124a5d5961fde34455cb7cee6c97f712ba","3":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/229580b716606a4eb2142b1eaaca10e7_2398d5050e191d15ff5cf9eb68cc683690c06d3949345dbf790394437a465c08","4":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/499d8a863d7872d6e239512124af9ddc_771182dc7b6c0801de6e571deed89b437ab122372b547e1f7d8dacae9cb17275","5":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a9e97a6445a8ac187561310b16b4bbd8_96ce9289fd8e6f2a6bf262b4baf548367ad7f53aac9a9ec1157020465de07e67","6":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/35af508daa4a580806961236bfb743a1_1a4afe2656f8d95e3717751f96a0c6ce6c5b1d25920f4d45e5cfe9bba05de0c8","7":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a1003503ef5e2254e6694eebbd2b4499_a8cd2caefe691476e3f02351369dc2c07c1a3d6ce0f87b187f58fdf4b20292c5","8":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/01dcb5278f55225b7e9c0cff6aa3d6e6_b40f92b9c5ef3b8c81d478bb70b7a094f076ed59b7d36d7a6401f0fd9d95eacf","9":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/61d79e3c25105099f73668c625ea361c_1d7c1255968258c03d0564e141284b4bddbd2db52091cf8d75cb384b23949390","10":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ca808450a6222c9b09d5b86924a08fbb_f90e02c1e981e5f6caf8af76fefef7653d0a451da51ba5a22ac0f265874bc6cb","11":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/97de93a99b8a9159dede2b9ff17c7887_3e90df8e7894c0c12963abf2fadb205e44365f58b537f15b677a4a7e9c557bcd","12":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9bf8404d673c9d6178f23548caa4c9a4_46606dba9df4d10cf282fa7add23e8a87b7f976d0e3a153fad0ff181e1be4e17","13":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/7f3a4754a634fc1e39090c5dd6c46808_42d3294b34c4ac9c6f99f66bc3ad9a195d20e98b09c7579fe341d0cf42f9c93f","14":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b4bebbfbfbe47e50f435b4c2efe0db0f_181a3119f12fd03b6bb517352c636508497bec61f9078b0e281515efd192b345","15":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ec1f6190e2b9a80a3f7cf101649ccc63_0026017f4380585a2e540f05936a6f58fe725fe7e8e0378aae98039628c4bdf2","16":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9dd921f41fa8d4ab29bcc1c45348b5a2_158df8a22c1f1570e8a2c17ab5e30169248030593665fbd8792f5f2f01516290","17":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b9786c9b56c94caa13e74d59b9a9da48_1f195fbcdf95c0d2618d571e0192ff1be2e4921d88aed8b7b9fd9e1444749271","18":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aa8577f878858f318858aced5abd037f_cb926a07d0e468660e3569279cc1354aa7243cdc951f970325273993c89e9ee7","19":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c11b322d8a8007037ee3e3242b260930_2a63c13b315a38b069f38da657b189aad6c7af5941a19859111dfb3c70c94b41","20":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/19b6c3989a808be845718d8af24352ff_a8e72abb2b5772706ac1c79e5cbaf59b3c2f20efb0aca9b93d04ae8a24920967","21":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/f4120970a686a56b4759585808177cc7_8e175e495b1de922ccd9a92a5de97b95433444aca422b3e632c2ea4ed48d3bc9","22":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aee7e40b2dd4c4c9961323d98249c826_c1c387c714e89d5dfccf06d3fe0fed332992eff877cdbd60bc4e94e7a2ed38ff","23":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/66d18bafff4f9b8d077c107bb73b2912_f8055289eae58fad00cc0f6727b2b5cf0f72b837963351b7ca6250ba4e2632a1","24":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2da8546c3b6a99b191249ae69207e31a_db86681331d0d2b9850e5596ce7711ac386f4e1469c526934267978af3498338","25":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/5617f7787cdf0176e54c4f13e9ccc54e_da7cc169f46585de72acf5f705cd34a52c688a40dc8aa72ea720d556a7022f72","26":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/f7e2712aa8cfab88c55d1f6c78ef2e45_5c895ca06f40e30369e07b19c64b7bf1fe5be0977e5bbfc0c2212b73ea6e6512","27":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/29ab72c2b97b25c4e3e1c280e3264f80_069b94caad3b14e2bb3b2012a51d94ed8e476f0a3d9a368aac36db9d716a12af","28":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ee17a7d90c8065a3abcd0a6720b52e66_3b9938c2693e142ba37065de24dabec556a192add4b84b4f29785cea3b74853f","29":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/16f61ebf1810ac333f7c936ce711b28a_35d43f3d1c762b21d629634b4584d0cd95aecdfd9a3087f24a9eb729d134b769","30":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/e318ccc5121cfeb3b99c21d055e6ece9_edc606d4bcd3d76f8e45da96d9dbd651bf0c067a7ca159e1073e3b44b03530c9","31":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/df9c90f2b93a9e488d94fe52725bd798_3b0e3396d9dea866960d8ce6f67af10c8809f154b6831fc278b8ed34390a9f27","32":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6eee357d121c814a97b6362c4e55526a_cbff4ac439c2054813dea8da8b8f1ec3b5e0c644acf0dc2ae625741e97f0bea0","33":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/560aed1bee8e220f0980190dedb7add6_9ad2de7c6ebfdd724f2a17c85efd5192f8393a477dddf0a0c8c9260e17d5a515","34":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/850f1242ddd6539ad8b27f69908c7f9e_08ffecd2b6d184e7d70ab70abbbbabe7132269250c93dbbdcba7f22e86f0692e","35":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/075c06c481eea429f6cc816697fcbbf8_c55b99be050bdcb1f32c9578cb8e17f6f4d6f200c1f37f528c24fee65a26182a","36":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/028b3110aa60554e7434f1a2473229cf_d15e1c7f00c82755e144773d46bb4e0e964fcfa425a254ca05ac1313fcea3bae","37":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c3719f85d24bafef64eada64e735ca73_025880c51ff42bd3ff79ba35d456d8cb14b6fbc7ee17ba3b98612e71aa1d74b9","38":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/22356ab6ae4467c44a074a4134bad937_a9909c37e6e23b4343ce19582c9118cfb3748b8977f1db8230aa992d640f1217","39":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2132e5a2fcd89a54e7c42c5fa0b8ef77_ff0dc46511b150a4b0af9cdf866af2e06ce898d7119b7ab21350e0b3304d8065","40":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/45aaa73b693aeec414b34fd44262ef8f_51c22532abe0b615f0e6e3c0e91cb1a9bca41a6f6c0ec6f33c3693d128fd1755","41":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/57bc2d1a2ab692e38284f3550f58b381_03bd441172001e3c2e5084f3390ee0ca0327b502b0c1dc794c8c8ac2b3d2130e","42":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4745ad07807ccad97e0726fc7ba18170_48911a727474c0398c3fc701880d623faedc592f16677310f8e8111a25e2be37","43":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cd1594c62a31c831d124e286b6909700_0cd9d060392c5f5d575f29a8930c55c69a54501c1d7636929682c38e4e069d5e","44":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f3db7712313a3bcfe5ff4a99b67fcdf_a66bec0a43179531bce8020aaade3d85967b7c9df54ab2bdf41f12f6cd60d3ef","45":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2643e008752dbffd17cd7e4cea30bb08_867fd9b76c5342b914bd9b285756ac10cf04e1b3ad8cb6524a2c96d7ab75c07a","46":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d89fd2959f9efdcf70778801253a4920_97a906684f843e8ea3f3237797adc601c4d20dfcc79e7b6e756630206312fe89","47":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d0b7922821c73bb34357b9a7bbf2267c_d63a4e4655665268ea92da08063c95f309646f9698125b318b0621487b906ca4","48":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b76f8da9538eea9eb4d897656f4aed8b_f49ffb97513493d056f42fe316650f1fb507fc1ebe7a04ad8454fd2b58c50ea7","49":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/190285c653fe1d18db3257eeaf4be43b_60aac5615b8c09ff3cfc840eafbb0208a8dc4824d942df10637ed1dc43198896","50":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/bdee1144909768544fb2165d5e053e65_01eeb0b68fbe038b33bd0d952ce60590b2ff52c32da32bceee518652a89e8140","51":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/67f3816ffae3f72be42a7853607ff545_9b77f7ee9ed399fe77664a0c6cded309a14187ed325b7dace9b74f58d384fa70","52":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4314b6591ccecaa3eb265e4e890021f5_135f42ac525c7160c6680d99d08463cca4f4f86b4a0a11252b26c57f7f6552e2","53":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dc2498a2210f5c8dfc938909670ba68f_bb4edb324aeb76f4809d2f2ffef036815497400fd276f836d923e7e0999c3552","54":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/8ea2f8aecb65bcc3cec691be061822a6_c9e8cc4ff670def26a2014b4658f561bb39af755727ab31a04b66c703faa6bfc","55":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cc6220508d6b50993e8cb49e6c072a3a_266d57d40828595dcf9964076955242cbc6d9cdc78bbc323ba39f0883c05fda8","56":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6d200ee39f4096f49b523d98d8536b03_0e0d1927f658b14ff35a24c9d8fc693190c9f739a6d14b3638a69e901b1a494c","57":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/deaf0d4d4431d6bb2dcc6bda12575dc8_786be7e8e3573170e142d1c3974f18d6d69d4c4dd3ca06593467f2f53f831895","58":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ebf339b29639355c01a7e1d0c9055ba3_0c2c6354af58c71eee179f772b8f9c9556111c042eddec488642205fce901f6a","59":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/adf758a8dc032239d05c2bf30a4a0edf_1de695275aaf84c5d9624872efacc21f2bb35d76907c032789f0a8a91007a751","60":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/fcfd73b6e3eb5a9e249b379a6f559fc7_7f12feeefb777c52da2c175bfc33dd19db40749b388af435f4a68c0f06b4f9ad","61":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3c82d08bca770099bb1fcdbda21484ea_4b1b1a31571711440446327a37327cf86685307f7dd58ad26a5b564b384d54c9","62":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/da085ddf61fabfc523a6d5bc22ea305b_f198dc476413ae524e230ebcd428f4649509a64794bb12dfde0d8fc2d9cf8782","63":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/510c57ac818d053701321d16cfed8b3e_74210d99aa6597b227fe521b0c7e128b66510da6b2cfbd67f4d0d0f8be7a1c12","64":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/40122334960a5954255cca87d01ba5ae_1d6fa7ab07a15df79e4c61cec5a369e6e7dcc7e57ebfd52fd937630e056dbf32","65":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/281bc010da64604545531ca4074eda2e_91c47782e1e7e19e58d3d5da9e43c1c53505a145de4adcd22931721f951edced","66":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f0306ac15f2a11707fb6637b64ab5bc_bbf75d7a31aff638916b154d263b2fa1af9f3f53ef3124e5d470289b1b4dc5c4","67":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/99147b426f02ea63f52d7b9096bfba95_2af91854e89a8214667222ea871d98eb8c1ccaf4969ec129356be0fce2eeca51","68":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ecebb17e5ca23da7f420fa357472bf3e_9dcc92e6966d688c956e1e6a0abf42499687f9e82b82a2499d56bb93a59b2bd8","69":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aa968d512815321b5c74af48f3d53c3d_74f7b92a66f45f8e050a46f94cb675db7fc257acefed7ced6fe85a82caa93139","70":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2451efa39cb6ee7576b41e14b907925a_f48ec903ab22812a385743625e972e76773bdbd3e323c73689f27eccaa9d90bc","71":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6eca5c460748018fe91f919d35f1de02_2116d7e9c833021c7fb58237db1e8abd3e37a32f652e5449feb94cd287ca63cd","72":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d233d65df2a27b4e6c177ab37f726c33_cea7dbcb7770a9798a49fce3a8d55689c6b79ad710e8f3aa0121bcabd9b0176b","73":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/0632159435e67bdd2a5ffd68471361f0_b7711b96d49bfe07ba4c6a9700618c69425c667999209ccbd7575925805b0b5b","74":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f6edebd5597bae7da63e7ad86214ccd_0bcc5ee18a9539043524fdad5d9cbdb527514143e755a1a05169e05e06c37941","75":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/31874c12d9df2dfd89cb6a446bdc4042_611644e0e6bd66f29270be999af5d4aee37a5898d93dd41c46dee111f4e63fa3","76":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95bad31c8127deef8aef7a8c0d96285f_05b558b86db9ed61bdb134e7e32e56ddea960d18067c4d44cb7b207ceb592e5b","77":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/e1a21b6a465ba8c05aec97fa7568efb5_888ab8ab424a32a58b00808ca2f716b903993a7d076b4925c52117a2467ff04b","78":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d8c25b3ed91a8fc91f93ac56377c9dcc_72afd96cb39f5d07ea286361edb264627d1f234e871ce48371dca57bc44c7a82","79":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95b193e0db0f8965de5c70a5b96bb071_4b587a38a5b3b5f2eb6ad37d745531e723edc07e38eb6d4cfec3a9386f65b1e8","80":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/90b3da7e62bbd996b722975a3230f0f3_b3e89ebe3a0f9d1a6508771e1108627885b5df79377b291413a35284cc506f5e","81":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3242156353c906577e9ea40f92139719_76cb67bcb821ef4a83b4796832b15d3ab4402627534de36c3ff592ba0e0cacb0","82":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a4beb634fb972ef9caefecf47527e345_a18d6851882d03d4370fa12c866fcd91caa907b0cd2263a722378c399fb592b5","83":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/0447cd25e4515569c3b613bc4bd88a05_c3656ddbbf5dfc84e44c3616cfad41267c8d730e00db5918ccc77573fac07d49","84":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1e01a4ecbeb9ca46a63b745c6a2e462d_3ebbbab14df0e2db43a2948c0298ad67ded53029efe9aba6bd40b3fd99d5aa18","85":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/559c502aea7aab4a11e121743c9d7c43_69caccfee49f747e72a4768ad4274c8b6875848e9ab7b2c8517e209d36bdfb32","86":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b27a3afa95d849b7375a304769bd3bf3_acada7bbca2083ce55ab119e88666ca0ae10a4aac448ad5d7f45edf0077897a1","87":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/de24ae6e6b531bad57c37bffcac1954d_2c15f3da3593c9526078bb80bc7faa66ec081b1ccaea231b5c259bdb827f6fd8","88":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/7375a308c764e405f92ab9d943942949_6b7b392f5694abcfbb70daf458c22369db2f9b890583e3e2d713b046cd84ec89","89":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a1fc8b4cb5e89f1dc3ed74ec8bafc3a5_4d0efc716f3f2cb7bda689e5daa7ba5d954ee54a8f94f7755b303043970b1d99","90":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c4f7d2b628c661d1baad6ff1f4722da8_149e2b6f3ad488d10fce67144ccee6b66519d9d7f8482a1ff0c9ae627f1ddbca","91":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/09459647f3928e77752449f418a85c27_7a704f8cfaea62a1953dfd1e345eb6e3aee02114189f186f0181bff3a7e77fe6","92":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/655a7db862ccdfa162b6ea0dffa3ef1e_6eb133e705878e640a427b664656189f1ea9330285133e4a73a943a097606da6","93":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/434d82b430279d26bcdd9bd13ddec76f_5cbad7d7eb6740debc9e2e3c1b7197f861b705e6e74379307a5bc900d75250f5","94":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/142e64b0535a2b0c3bb5253c0d2266a9_6c7403cda6f8dc61eb9d2b32d37f608c34c641101d6a2f35c073907898a7e4ae","95":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3f8790f1134f0514af3d2bbc05209060_6377e5dcdf0d232f1aa8139022b8c9280f8b4297f70efff3e0f7d52417c1eb23","96":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/220a705290eb7adbcdf052ddb2d11c99_06374d8546d5c745671d98686f1b4b0dd31d777b1c7bcdd0e6dfe63d0a23e719","97":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/51249bb6f506e42e17bf9241ef88b6b2_c1221205f854390df1d21aa05e5d0de264b1b953c659a10c18478cfd7f755efd","98":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/284c00b5ff1189d2bddf67df408edc4e_01c1917a244fcadf0bfd3933af21c684dd90ca274111248212025361d855ab39","99":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/37483ffe36725e05af0954a5d9a55a26_daf0a2f0e10c98c2b72be9c0da24b38322f0f956733a42565365ee615568ba07","100":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c6b03531fed44f96acecab26828fbe37_30393b6fa3096a74bfa51cad1cb58f7660848263f01f2f7d2e12dae3a5b1c3ed","101":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/5dc9345ee6092ca006f777b42b34e853_df13ad7c61407d1a00e261fcd5fcd93c16e1a0c1be13d0903d76a21a89cd3459","102":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1dbef9840938d5e30563c3f844b9ebac_12fe10df66a6ee48bffe72578a6f42d340ff0b4f75d4fe65f6bed2b75841e978","103":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c3af292a916339e6c57ba0d03712a445_273c38be422269a46466d48494c513daf53b3a66440b6401c94c37f1e55070c2","104":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b44ded0b090097528af2c4ad694c2a40_3f5ed56c662da89e1e0f3ae62a67f9e14ea2384f2985277b1cdfa6ebfe1d18c9","105":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/df8ea86906de307c52cb9cf3b2228043_312bdbd9536ec36e42d8328def8af1afcaaf3f705917a628ea4add00ba77b8b5","106":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6846f61d6bfcf77aecd7206c6adb5be9_64e149247e52e86b671fdd2b71ac27852d54ae6eb6f4059458bdb1161f300dac","107":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ef4a1765911453dcae8e4bdd5d3203a1_321cf3bc8710a6a19576dfe93677def4666da0b4744489c26aa44f75a753333e","108":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dc381f9e0b6193e8be5d94595ed1c4b7_d612afde7baf43ac5daeae9e0efe42781867bc3451e3e8814253cbfc4410bb4a","109":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9579d5dd8523c493e0590e3881e25041_106c39b7e97fdd57abb992ec7ff7c0f0b15f0f83a348e3a3698e3fcbdcdf2836","110":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95cfda0cb7bfaac0fc789cf05c7e513e_a509049aea02886eb409c53a15e03a6cf5eb6583120267bbca75c2206027c0b1","111":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6e05daaab9a81a2ea5348b70833bdfb6_023eb1e947686aef7764a3ce4c9683b47d2235c51a031e36b947e4398ef6906d","112":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d29d4fcb1b25a9d424a12800869a3b65_991d563880a3345073ebb4cc3cd57778ef5cfbc3ae625cefec2ffc3b690a5aa5","113":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/983764cb5075eedbd96ec034df1374a1_a94f5a1f0c9b45b9082044ebe72774b0313a58e5a2f58d00a63827ad7d48bb62","114":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9abafed7a919fe54046abe458a6b3140_4003c5226083b7beb7b5901c79027e3833be0aec78da9aa3fc05f0293f5bb43e","115":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4268a231e34c78a807bd51c7d5e1064e_a9049cfd9cbbb250474c1364710dcd276e1896297b2dee37b6ffad96a882bda9","116":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b80be54bf0fbb43ebd8a20dca4d8f6f0_544d5a34e1d959e4e7794c58503b3478de33eb4ef21e8b74839b950adda7dedd","117":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4ce28371de65a22a241dee28128dda4d_0daec6dffe6bd726f3031d51a39728c4f88f48482ebbae6c05f758ca24dd0890","118":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c55284b8098cbaa9a1db08cbdf46bae8_6baa7acefb038acbb2fedbfdce556766c48349c5d13374347a26bd83e2acf283","119":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dd77cf42f690e808bb9d8131b7cec48b_0b3713716d1127b36eb335737778cca3d4b7b476a99a571a11dc118e71463d2b","120":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c657e3f25ab9ae85a99e421231a6c6a8_06deb81cfec70dbd14da6bb6471b8ee4bcc142ee08b60714af9f91683b461e6a","121":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cd4fc426707d63e4d9b8bc9205dea3fc_cb648ffe70ec0942be80f294a1a07c5e64958570265b70cfd84da78072877fe7"}
}

},{}],52:[function(require,module,exports){
/* mousetrap v1.4.6 craig.is/killing/mice */
(function(J,r,f){function s(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,d)}function A(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return h[a.which]?h[a.which]:B[a.which]?B[a.which]:String.fromCharCode(a.which).toLowerCase()}function t(a){a=a||{};var b=!1,d;for(d in n)a[d]?b=!0:n[d]=0;b||(u=!1)}function C(a,b,d,c,e,v){var g,k,f=[],h=d.type;if(!l[a])return[];"keyup"==h&&w(a)&&(b=[a]);for(g=0;g<l[a].length;++g)if(k=
l[a][g],!(!c&&k.seq&&n[k.seq]!=k.level||h!=k.action||("keypress"!=h||d.metaKey||d.ctrlKey)&&b.sort().join(",")!==k.modifiers.sort().join(","))){var m=c&&k.seq==c&&k.level==v;(!c&&k.combo==e||m)&&l[a].splice(g,1);f.push(k)}return f}function K(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function x(a,b,d,c){m.stopCallback(b,b.target||b.srcElement,d,c)||!1!==a(b,d)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?
b.stopPropagation():b.cancelBubble=!0)}function y(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=A(a);b&&("keyup"==a.type&&z===b?z=!1:m.handleKey(b,K(a),a))}function w(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function L(a,b,d,c){function e(b){return function(){u=b;++n[a];clearTimeout(D);D=setTimeout(t,1E3)}}function v(b){x(d,b,a);"keyup"!==c&&(z=A(b));setTimeout(t,10)}for(var g=n[a]=0;g<b.length;++g){var f=g+1===b.length?v:e(c||E(b[g+1]).action);F(b[g],f,c,a,g)}}function E(a,b){var d,
c,e,f=[];d="+"===a?["+"]:a.split("+");for(e=0;e<d.length;++e)c=d[e],G[c]&&(c=G[c]),b&&"keypress"!=b&&H[c]&&(c=H[c],f.push("shift")),w(c)&&f.push(c);d=c;e=b;if(!e){if(!p){p={};for(var g in h)95<g&&112>g||h.hasOwnProperty(g)&&(p[h[g]]=g)}e=p[d]?"keydown":"keypress"}"keypress"==e&&f.length&&(e="keydown");return{key:c,modifiers:f,action:e}}function F(a,b,d,c,e){q[a+":"+d]=b;a=a.replace(/\s+/g," ");var f=a.split(" ");1<f.length?L(a,f,b,d):(d=E(a,d),l[d.key]=l[d.key]||[],C(d.key,d.modifiers,{type:d.action},
c,a,e),l[d.key][c?"unshift":"push"]({callback:b,modifiers:d.modifiers,action:d.action,seq:c,level:e,combo:a}))}var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},B={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},H={"~":"`","!":"1",
"@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},G={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p,l={},q={},n={},D,z=!1,I=!1,u=!1;for(f=1;20>f;++f)h[111+f]="f"+f;for(f=0;9>=f;++f)h[f+96]=f;s(r,"keypress",y);s(r,"keydown",y);s(r,"keyup",y);var m={bind:function(a,b,d){a=a instanceof Array?a:[a];for(var c=0;c<a.length;++c)F(a[c],b,d);return this},
unbind:function(a,b){return m.bind(a,function(){},b)},trigger:function(a,b){if(q[a+":"+b])q[a+":"+b]({},a);return this},reset:function(){l={};q={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:function(a,b,d){var c=C(a,b,d),e;b={};var f=0,g=!1;for(e=0;e<c.length;++e)c[e].seq&&(f=Math.max(f,c[e].level));for(e=0;e<c.length;++e)c[e].seq?c[e].level==f&&(g=!0,
b[c[e].seq]=1,x(c[e].callback,d,c[e].combo,c[e].seq)):g||x(c[e].callback,d,c[e].combo);c="keypress"==d.type&&I;d.type!=u||w(a)||c||t(b);I=g&&"keydown"==d.type}};J.Mousetrap=m;"function"===typeof define&&define.amd&&define(m)})(window,document);

},{}]},{},[2])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvYXBwLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY2FtcGFpZ25fZGV0YWlsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY2FtcGFpZ25zLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY29tcGFueS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NvbXBhbnlfcHJvc3BlY3RzLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY29tcGFueV9zaWduYWxfY2FyZC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NyZWF0ZV9jYW1wYWlnbi5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NyZWF0ZV9jb21wYW55X3Byb2ZpbGVfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9jcmVhdGVfZnVuZGluZ19zaWduYWxfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9jcmVhdGVfaGlyaW5nX3NpZ25hbF9tb2RhbC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NyZWF0ZV9saXN0X21vZGFsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY3JlYXRlX21pbmluZ19qb2JfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9jcmVhdGVfcHJvc3BlY3RfcHJvZmlsZV9tb2RhbC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NyZWF0ZV90ZW1wbGF0ZS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2RhdGFfcm93LmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZGF0YV90YWJsZS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2RlbGV0ZV9saXN0X21vZGFsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZWRpdF90ZW1wbGF0ZS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2VtYWlsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZm9sbG93dXBfZmVlZC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2ZvbGxvd3VwX3RpbWVsaW5lLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZnJlZV90cmlhbC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2xhbmRpbmdfcGFnZS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2xhbmRpbmdfcGFnZV9jb25jZXB0LmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvbG9hZGluZ19zcGlubmVyLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvbG9naW4uanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9tZXNzZW5nZXIuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9taW5pbmdfam9iLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvbWluaW5nX2pvYl9jYWxlbmRhci5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3BhbmVsX2Zvb3RpbmcuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9wZW9wbGVfc2lnbmFsX2NhcmQuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9wcmljaW5nLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvcHJvc3BlY3RzLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvcmVuYW1lX2xpc3RfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zY2hlZHVsZS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3NlbmRfZW1haWxfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zZW50X21haWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWRlX21lbnVfdXNlcl9wcm9zcGVjdHMuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWduYWxfY2FsZW5kYXIuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWduYWxfZGV0YWlsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvc2lnbmFsX3Byb2ZpbGUuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWduYWxzLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvc2lnbnVwLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdGVtcGxhdGVzLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdGVtcGxhdGVzX21lbnUuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy90aW1lbGluZV9kYXlfZWxlbWVudC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3VzZXJfcHJvc3BlY3QuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy91c2VyX3Byb3NwZWN0X2hlYWRlci5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3VzZXJfc2lkZV9tZW51X2xpc3QuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvbGliL2RhdGEubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvbGliL21vdXNldHJhcC5taW4ubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbk9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMva0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdFFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9UQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0VBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG4vKiBUT0RPXG4gKiBcbiAqIC0gQWxsIGNvdW50IGNoYW5nZSwgd2hlbiBwcm9zcGVjdCBpcyBhcmNoaXZlZFxuICogLSBXaGVuIGlzIGxpc3QgaXMgY2hhYW5nZWQgZnJvbSBhbGwgYW5kIHRoZW4gcmV0dXJuZWQgdG8gQWxsIHByb3NwZWN0cyB0YWtlIGEgbG9uZyAgICAgdGltZSB0byBsb2FkXG4gKiAtIEZpeCBwYWdpbmF0aW9uIGlzc3Vlc1xuICpcbiAqIC0gUGFyYWxsZWxpemUgV29ya2Vyc1xuICogLSBTY2FsZSB1cCBnb29nbGUgc2NyYXBlIHRvIGh1bmRyZWRzIG9mIHdvcmtlcnMgKGhlcm9rdSlcbiAqXG4gKiAtIENvbXBhbnkgU2hvcnRjdXRzIFxuICogLSBBZGQgYWJpbGl0eSB0byBzd2l0Y2ggYWNjb3VudHMgZm9yIGFkbWluc1xuICogLSBBZGQgZW1haWwgdW5lZGl0YWJsZSBlbWFpbCBmaWVsZHNcbiAqL1xuXG52YXIgUHJvc3BlY3RzID0gcmVxdWlyZSgnLi9wcm9zcGVjdHMuanMubWluLmpzJyk7XG52YXIgQ29tcGFueVByb3NwZWN0ID0gcmVxdWlyZSgnLi9jb21wYW55LmpzLm1pbi5qcycpO1xudmFyIENvbXBhbnlQcm9zcGVjdHMgPSByZXF1aXJlKCcuL2NvbXBhbnlfcHJvc3BlY3RzLmpzLm1pbi5qcycpO1xudmFyIERhdGFUYWJsZSA9IHJlcXVpcmUoJy4vZGF0YV90YWJsZS5qcy5taW4uanMnKTtcbnZhciBNaW5pbmdKb2IgPSByZXF1aXJlKCcuL21pbmluZ19qb2IuanMubWluLmpzJyk7XG52YXIgQ2FtcGFpZ25zID0gcmVxdWlyZSgnLi9lbWFpbC5qcy5taW4uanMnKTtcbnZhciBBbmFseXRpY3MgPSByZXF1aXJlKCcuL2FuYWx5dGljcy5qcy5taW4uanMnKTtcbnZhciBTaWduVXAgPSByZXF1aXJlKCcuL3NpZ251cC5qcy5taW4uanMnKTtcbnZhciBMb2dpbiA9IHJlcXVpcmUoJy4vbG9naW4uanMubWluLmpzJyk7XG52YXIgTGFuZGluZ1BhZ2UgPSByZXF1aXJlKCcuL2xhbmRpbmdfcGFnZS5qcy5taW4uanMnKTtcbnZhciBMYW5kaW5nUGFnZSA9IHJlcXVpcmUoJy4vbGFuZGluZ19wYWdlX2NvbmNlcHQuanMubWluLmpzJyk7XG52YXIgRnJlZVRyaWFsID0gcmVxdWlyZSgnLi9mcmVlX3RyaWFsLmpzLm1pbi5qcycpO1xudmFyIFByaWNpbmcgPSByZXF1aXJlKCcuL3ByaWNpbmcuanMubWluLmpzJyk7XG52YXIgU2lnbmFscyA9IHJlcXVpcmUoJy4vc2lnbmFscy5qcy5taW4uanMnKTtcbnZhciBNb3VzZVRyYXAgPSByZXF1aXJlKCcuLi9saWIvbW91c2V0cmFwLm1pbi5taW4uanMnKVxuLy92YXIgY2hlY2tBdXRoID0gcmVxdWlyZSgnLi9hdXRoLm1pbi5qcycpXG5cbnZhciBIb21lID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnSG9tZScsXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKXtcbiAgICBjaGVja0F1dGgoKVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gbnVtX29mX3BhZ2VzXG4gICAgcmV0dXJuIHtwcm9zcGVjdHM6IFtdICwgXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMSwgXG4gICAgICAgICAgICBwYWdlczogMSwgXG4gICAgICAgICAgICBjb3VudDpcIn5cIiwgXG4gICAgICAgICAgICBwcm9zcGVjdFR5cGU6J1Byb3NwZWN0JywgXG4gICAgICAgICAgICBzZWxlY3RlZFNjcmVlbjogJ1Byb3NwZWN0cyd9XG4gIH0sXG5cbiAgdG9nZ2xlU2NyZWVuOiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRTY3JlZW4gOiAkKGUudGFyZ2V0KS50ZXh0KCkudHJpbSgpfSlcbiAgfSxcblxuICBsb2dvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpXG4gICAgbG9jYXRpb24uaHJlZiA9IFwiI2dldF9zdGFydGVkXCJcbiAgfSxcblxuICBsaXN0RHJvcGRvd246IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdkcm9wZG93bicpXG4gICAgLy8kKCcuZHJvcGRvd24tbWVudScpLmRyb3Bkb3duKClcbiAgICAkKCcucHJvc3BlY3QtbGlzdC1zZWxlY3QnKS5jc3MoJ2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzJywnMHB4JylcbiAgICAkKCcucHJvc3BlY3QtbGlzdC1zZWxlY3QnKS5jc3MoJ2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMnLCcwcHgnKVxuICAgICAgXG4gICAgJCgnLmxpc3Qtc2VsZWN0LWRyb3Bkb3duJykuY3NzKCdib3JkZXItdG9wLWxlZnQtcmFkaXVzJywnMHB4JylcbiAgICAkKCcubGlzdC1zZWxlY3QtZHJvcGRvd24nKS5jc3MoJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJywnMHB4JylcbiAgfSxcblxuICBzZWxlY3RDaGFuZ2UgOiBmdW5jdGlvbigpIHtcblxuICB9LFxuXG4gIHN0cmlwZUNoZWNrb3V0OiBmdW5jdGlvbigpIHtcbiAgICBoYW5kbGVyLm9wZW4oe1xuICAgICAgbmFtZTogJ0N1c3RvbWVybycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0dldCA5MDAgZnJlZSBlbWFpbCBjcmVkaXRzIScsXG4gICAgICBhbW91bnQ6IDAsXG4gICAgICBwYW5lbExhYmVsOiBcIlN0YXJ0IFlvdXIgRnJlZSBUcmlhbCFcIixcbiAgICAgIG9wZW5lZDogZnVuY3Rpb24oKSB7XG4gICAgICB9LFxuICAgICAgY2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjbG9zZWRcIilcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgLy8gQ3JlZGl0IENhcmQgVmVyaWZpZWQgQ2hlY2tcbiAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBcIltdXCJcbiAgICBjdXJyZW50VXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKVxuICAgIGlmKCFjdXJyZW50VXNlci5jcmVkaXRDYXJkVmVyaWZpZWQpXG4gICAgICB0aGlzLnN0cmlwZUNoZWNrb3V0KClcblxuICAgIC8qXG4gICAgICogTWFrZSBSZXF1ZXN0IFRvIEdldCBNb3N0IFVwIHRvIERhdGUgSW5mb1xuICAgICAqIE9uIFN1Y2Nlc3MgQWRkIFRvIEludGVyY29tXG4gICAgKi9cblxuICAgIC8qXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonJ1xuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIC8vIE51bWJlciBvZiBQcm9zcGVjdHMgZm9yIHVzZXJcbiAgICAgICAgLy8gTnVtYmVyIG9mIExpc3RzXG4gICAgICAgIC8vIE51bWJlciBvZiBFbWFpbHMgZm91bmRcbiAgICAgICAgSW50ZXJjb20oJ2Jvb3QnLCB7XG4gICAgICAgICAgYXBwX2lkOiAnYWJjMTIzNDUnLFxuICAgICAgICAgIGVtYWlsOiAnam9obi5kb2VAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IDEyMzQ1Njc4OTAsXG4gICAgICAgICAgbmFtZTogJ0pvaG4gRG9lJyxcbiAgICAgICAgICB1c2VyX2lkOiAnOTg3NidcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgfVxuICAgIH0pO1xuICAgICovXG4gICAgLy8gSW50ZXJjb21cbiAgICAvLyBNaXhwYW5lbFxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcHJvc3BlY3RzID0gXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5IFwiXG4gICAgY29tcGFueVByb3NwZWN0cyA9IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBcIlxuICAgIGNhbXBhaWducyA9IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBcIlxuICAgIHNpZ25hbHMgPSBcImNob29zZSBidG4gYnRuLXByaW1hcnkgXCJcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUuc2VsZWN0ZWRTY3JlZW4pIHtcbiAgICAgIGNhc2UgJ1Byb3NwZWN0cyc6XG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBQcm9zcGVjdHMobnVsbClcbiAgICAgICAgcHJvc3BlY3RzID0gXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5IGFwcC1hY3RpdmVcIlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NvbXBhbmllcyc6XG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBDb21wYW55UHJvc3BlY3RzKG51bGwpXG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBEYXRhVGFibGUoe2xpc3RDbGFzc05hbWU6ICdDb21wYW55UHJvc3BlY3RMaXN0JywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlSGVhZGVyOiBbJ05hbWUnLCdBZGRlZCBPbicsJ0luZHVzdHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIyBvZiBQcm9zcGVjdHMnLCdTaWduYWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywnJ10sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdDb21wYW55UHJvc3BlY3QnfSlcbiAgICAgICAgY29tcGFueVByb3NwZWN0cyA9IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBhcHAtYWN0aXZlXCJcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNaW5pbmcgSm9icyc6XG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBNaW5pbmdKb2IobnVsbClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBbmFseXRpY3MnOlxuICAgICAgICBjdXJyZW50U2NyZWVuID0gQW5hbHl0aWNzKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ2FtcGFpZ25zJzpcbiAgICAgICAgY3VycmVudFNjcmVlbiA9IENhbXBhaWducyhudWxsKVxuICAgICAgICBjYW1wYWlnbnMgPSBcImNob29zZSBidG4gYnRuLXByaW1hcnkgYXBwLWFjdGl2ZVwiXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU2lnbmFscyc6XG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBTaWduYWxzKG51bGwpXG4gICAgICAgIHNpZ25hbHMgPSBcImNob29zZSBidG4gYnRuLXByaW1hcnkgYXBwLWFjdGl2ZVwiXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU2V0dGluZ3MnOlxuICAgICAgICBjdXJyZW50U2NyZWVuID0gU2V0dGluZ3MobnVsbClcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIn0sIFxuICAgICAgICBSZWFjdC5ET00uaDEoe3N0eWxlOiB7Zm9udFdlaWdodDonYm9sZCcsZGlzcGxheTonaW5saW5lJyxmb250V2VpZ2h0OicxMDAnLGNvbG9yOicjMWNhM2ZkJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaW1nKHtzcmM6IFwiYnVpbGQvaW1nL25ldHdvcmsucG5nXCIsIFxuICAgICAgICAgICAgc3R5bGU6IHsgaGVpZ2h0OjMyLCBtYXJnaW5Ub3A6LTQsXG4gICAgICAgICAgICAgIG1hcmdpblJpZ2h0OjUsIH19XG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7Zm9udFdlaWdodDonYm9sZCcsZm9udFNpemU6MzIsZm9udEZhbWlseTonUHJveGltYS1Ob3ZhJ319LCBcIkN1c3RvbWVybyBcIilcbiAgICAgICAgKSwgXG4gICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnfX0sIFxuICAgICAgICBSZWFjdC5ET00uaW1nKHtzcmM6IFwiYnVpbGQvaW1nL3VzZXIucG5nXCIsIHN0eWxlOiB7aGVpZ2h0Oic0MHB4Jyx3aWR0aDonNDBweCcscGFkZGluZzonMnB4JyxtYXJnaW5Ub3A6JzVweCcsYm9yZGVyUmFkaXVzOicyM3B4JyxkaXNwbGF5OidpbmxpbmUnfSwgY2xhc3NOYW1lOiBcInRodW1ibmFpbFwifSksIFwiwqDCoMKgXCIsICBcbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMjBweCcsZmxvYXQ6J3JpZ2h0JyxkaXNwbGF5OidpbmxpbmUnfX0sIFwiV2VsY29tZVwiKVxuICAgICAgKSwgXG4gICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnLCBtYXJnaW5SaWdodDonMTUwcHgnfX0sIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOicyMHB4JyxmbG9hdDoncmlnaHQnLGRpc3BsYXk6J2lubGluZScsfX0sIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMubG9nb3V0LCBzdHlsZToge2NvbG9yOicjMWNhM2ZkJ319LCBcIkxvZ291dFwiKSksIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOicyMHB4JyxmbG9hdDoncmlnaHQnLGRpc3BsYXk6J2lubGluZScsbWFyZ2luUmlnaHQ6JzEwcHgnfX0sIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNwcmljaW5nXCIsIHN0eWxlOiB7Y29sb3I6JyMxY2EzZmQnfX0sIFwiUHJpY2luZ1wiKSksIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOicyMHB4JyxmbG9hdDoncmlnaHQnLGRpc3BsYXk6J2lubGluZScsIG1hcmdpblJpZ2h0OicxMHB4J319LCBSZWFjdC5ET00uYSh7aHJlZjogXCJodHRwOi8vcmVzb3VyY2VzLmN1c3RvbWVyb2hxLmNvbVwiLCBzdHlsZToge2NvbG9yOicjMWNhM2ZkJ319LCBcIlJlc291cmNlc1wiKSlcbiAgICAgICksIFxuICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwibmF2YmFyXCIsIGNsYXNzTmFtZTogXCJwYW5lbC1oZWFkaW5nXCJ9LCBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXAgY29sLW1kLW9mZnNldC00XCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogc2lnbmFscywgc3R5bGU6IHtkaXNwbGF5OidibG9jayd9LCBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtd2lmaVwifSksIFwiwqBTaWduYWxzXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBwcm9zcGVjdHMsIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2VyXCJ9KSwgXCLCoFByb3NwZWN0c1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5XCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9LCBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYmFyLWNoYXJ0LW9cIn0pLCBcIiBBbmFseXRpY3NcIlxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeVwiLCBcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7d2lkdGg6MTYyLGRpc3BsYXk6J25vbmUnfSwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdGFza3NcIn0pLCBcIiBNaW5pbmcgSm9icyDCoFwiLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHRcIn0sIFwiQkVUQVwiKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IGNvbXBhbnlQcm9zcGVjdHMsIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1idWlsZGluZ1wifSksIFwiIENvbXBhbmllc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogY2FtcGFpZ25zLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJ30sIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1lbnZlbG9wZVwifSksIFwiwqBDYW1wYWlnbnNcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5Ub3A6NywgZmxvYXQ6J3JpZ2h0J30sIFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tc21cIiwgXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmRvd25sb2FkU29jaWFsUHJvc3BlY3Rlcn0sIFxuICAgICAgICAgICAgXCJEb3dubG9hZCBTb2NpYWwgUHJvc3BlY3RlclwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICAgIGN1cnJlbnRTY3JlZW5cblxuICAgICAgICApXG4gICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgXG4gIGRvd25sb2FkU29jaWFsUHJvc3BlY3RlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jaHJvbWUud2Vic3RvcmUuaW5zdGFsbCgnaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvb2ZjYWxramJvZ2FpaXBla2NvY2RlZmplbmNsaW9lY2knKVxuICAgIGNocm9tZS53ZWJzdG9yZS5pbnN0YWxsKClcbiAgICBjb25zb2xlLmxvZygnZG93bmxvYWQnKVxuICB9LFxuXG4gIC8qXG4gICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIiBvbkNsaWNrPXt0aGlzLmRvd25sb2FkRmlsZX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6JzZweCd9fT5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWRvd25sb2FkXCIgLz4mbmJzcDsmbmJzcDtcbiAgICAgICAgICAgIDxoNSBzdHlsZT17e2Rpc3BsYXk6J2lubGluZSd9fSA+RG93bmxvYWQgQ1NWPC9oNT5cbiAgICAgICAgICA8L2E+XG4gICovXG5cbiAgZGVsZXRlUHJvc3BlY3Q6IGZ1bmN0aW9uKG9iamVjdElkLCBlbmRwb2ludCkge1xuICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXMuc3RhdGUucHJvc3BlY3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ub2JqZWN0SWQgIT0gb2JqZWN0SWRcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtwcm9zcGVjdHM6IGZpbHRlcmVkfSlcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvJytlbmRwb2ludCsnLycrb2JqZWN0SWQsXG4gICAgICB0eXBlOidERUxFVEUnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuXG52YXIgV29ya3NwYWNlID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG4gIHJvdXRlczoge1xuICAgIC8vbGFuZGluZ19wYWdlXG4gICAgXCJcIiAgICAgICAgICAgIDogXCJob21lXCIsXG4gICAgXCJnZXRfc3RhcnRlZFwiIDogXCJsYW5kaW5nX3BhZ2VcIixcbiAgICBcImZyZWVfdHJpYWxcIiAgOiBcImZyZWVfdHJpYWxcIixcbiAgICBcInNpZ251cFwiICAgICAgOiBcInNpZ251cFwiLFxuICAgIFwibG9naW5cIiAgICAgICA6IFwibG9naW5cIixcbiAgICBcInByaWNpbmdcIiAgICAgOiBcInByaWNpbmdcIixcbiAgfSxcbiAgaG9tZTogZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudFVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKVxuICAgIGlmIChjdXJyZW50VXNlcikgXG4gICAgICBSZWFjdC5yZW5kZXJDb21wb25lbnQoSG9tZSgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgICBlbHNlXG4gICAgICBsb2NhdGlvbi5ocmVmID0gXCIjZ2V0X3N0YXJ0ZWRcIlxuICB9LFxuICBsYW5kaW5nX3BhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChMYW5kaW5nUGFnZSgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgfSxcbiAgZnJlZV90cmlhbDogZnVuY3Rpb24oKSB7XG4gICAgUmVhY3QucmVuZGVyQ29tcG9uZW50KEZyZWVUcmlhbCgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgfSxcblxuICBzaWdudXA6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChTaWduVXAoKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSk7XG4gIH0sXG4gIGxvZ2luOiBmdW5jdGlvbigpIHtcbiAgICBSZWFjdC5yZW5kZXJDb21wb25lbnQoTG9naW4oKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSk7XG4gIH0sXG4gIHByaWNpbmc6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChQcmljaW5nKCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykpO1xuICB9XG59KTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgY2hlY2tBdXRoKClcbiAgdmFyIHdvcmtzcGFjZSA9IG5ldyBXb3Jrc3BhY2U7XG4gIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoKTtcbn0pO1xuLypcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duXCIgc3R5bGU9e3tkaXNwbGF5OidibG9jaycsZmxvYXQ6J2xlZnQnfX0+XG4gICAgICAgICAgICA8YSBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgb25DbGljaz17dGhpcy5saXN0RHJvcGRvd259IGNsYXNzTmFtZT1cInByb3NwZWN0LWxpc3Qtc2VsZWN0XCIgaHJlZj1cImphdmFzY3JpcHQ6XCI+RGVmYXVsdCZuYnNwOyZuYnNwOyZuYnNwOzxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tY2lyY2xlLWRvd25cIiAvPjwvYT5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3Qtc2VsZWN0LWRyb3Bkb3duIGRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiIGFyaWEtbGFiZWxsZWRieT1cImRMYWJlbFwiIHN0eWxlPXt7bWFyZ2luVG9wOictMXB4J319PlxuICAgICAgICAgICAgICAgIDxsaT5MT0w8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5MTUFPPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+TE1GQU88L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuKi9cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xudmFyIFRlbXBsYXRlc01lbnUgPSByZXF1aXJlKCcuL3RlbXBsYXRlc19tZW51LmpzLm1pbi5qcycpO1xudmFyIEVkaXRUZW1wbGF0ZVZpZXcgPSByZXF1aXJlKCcuL2VkaXRfdGVtcGxhdGUuanMubWluLmpzJyk7XG52YXIgQ3JlYXRlVGVtcGxhdGVWaWV3ID0gcmVxdWlyZSgnLi9jcmVhdGVfdGVtcGxhdGUuanMubWluLmpzJyk7XG52YXIgRm9sbG93dXBUaW1lbGluZSA9IHJlcXVpcmUoJy4vZm9sbG93dXBfdGltZWxpbmUuanMubWluLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIENhbXBhaWduIERldGFpbFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFRlbXBsYXRlOiAwLFxuICAgICAgdGVtcGxhdGVEZXRhaWxNb2RlOiBmYWxzZSxcbiAgICAgIGVkaXRNb2RlOiBmYWxzZSxcbiAgICAgIGZvbGxvd3VwRGF5OiAwLFxuICAgICAgdGVtcGxhdGVzOltdLFxuICAgICAgY3VycmVudFRlbXBsYXRlOicnLFxuICAgICAgcHJvc3BlY3RMaXN0Q291bnQ6J34nLFxuICAgICAgcHJvc3BlY3RzOltdLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgIHRoaXNzc3MgPSB0aGlzO1xuICAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9J1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvVGVtcGxhdGUnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBkYXRhOiBxcnksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHsgdGhpc3Nzcy5zZXRTdGF0ZSh7dGVtcGxhdGVzOiByZXMucmVzdWx0c30pIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUubG9nKCdlcnJvcicpIH1cbiAgICB9KTtcblxuICAgIGN1cnJlbnRMaXN0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsIFxuICAgICAgJ2NsYXNzTmFtZScgOiAnUHJvc3BlY3RMaXN0JyxcbiAgICAgICdvYmplY3RJZCcgIDogdGhpcy5wcm9wcy5zZWxlY3RlZENhbXBhaWduLnByb3NwZWN0X2xpc3Qub2JqZWN0SWQsIFxuICAgIH0pXG4gICAgcXJ5ID0gJ3doZXJlPXtcImxpc3RzXCI6JytjdXJyZW50TGlzdCsnfSZsaW1pdD0xMDAwJmNvdW50PTEnXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBkYXRhOiBxcnksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRoaXNzc3Muc2V0U3RhdGUoe1xuICAgICAgICAgIHByb3NwZWN0czogcmVzLnJlc3VsdHMsXG4gICAgICAgICAgcHJvc3BlY3RMaXN0Q291bnQ6IHJlcy5jb3VudCBcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IH1cbiAgICB9KVxuICB9LFxuXG4gIHJldHVyblRvT3ZlcnZpZXc6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlU2NyZWVuKCdDYW1wYWlnbnMnKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZygnY2FtcGFpZ24gZGV0YWlsJylcbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIiwgXG4gICAgICAgICAgIHN0eWxlOiB7d2lkdGg6JzEwMCUnLGhlaWdodDonMTAwJScscGFkZGluZ0xlZnQ6MCxwYWRkaW5nUmlnaHQ6MH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHttYXJnaW5Cb3R0b206MzB9LCBpZDogXCJjYW1wYWlnbi10b3AtZGV0YWlsXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmg1KHtzdHlsZToge21hcmdpblRvcDoyMCxtYXJnaW5MZWZ0OjIwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMucmV0dXJuVG9PdmVydmlld30sIFwiQ2FtcGFpZ25zIFwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNtYWxsKG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe3N0eWxlOiB7bWFyZ2luTGVmdDoxMCwgbWFyZ2luUmlnaHQ6MTB9LCBcbiAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLXJpZ2h0XCJ9KVxuICAgICAgICAgICksIFxuICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRDYW1wYWlnbi5uYW1lXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luTGVmdDoyMCxkaXNwbGF5OidpbmxpbmUtYmxvY2snLG1hcmdpblJpZ2h0OjE1fX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXCJQcm9zcGVjdCBMaXN0OlwiKSwgXCIgwqBcIiwgXG4gICAgICAgICAgKHRoaXMucHJvcHMuc2VsZWN0ZWRDYW1wYWlnbi5wcm9zcGVjdF9saXN0LnNpZ25hbF9saXN0KSA/IFJlYWN0LkRPTS5zcGFuKG51bGwsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtd2lmaVwifSksIFwiwqBcIikgOiBcIlwiLCBcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkQ2FtcGFpZ24ucHJvc3BlY3RfbGlzdC5uYW1lXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImJhZGdlXCJ9LCB0aGlzLnN0YXRlLnByb3NwZWN0TGlzdENvdW50KSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpbkxlZnQ6MjAsZGlzcGxheTonaW5saW5lLWJsb2NrJyxtYXJnaW5SaWdodDoxNX19LCBcbiAgICAgICAgICBcIkJhdGNoZXMgOlwiXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImJhZGdlXCJ9LCBcIjJcIiksIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgc3R5bGU6IHtmbG9hdDogJ3JpZ2h0JywgbWFyZ2luVG9wOiAtMzUsIG1hcmdpblJpZ2h0OiAzMCwgZGlzcGxheTonbm9uZSd9LCBcbiAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tc21cIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZW52ZWxvcGVcIn0pLCBcIiBTZW5kIVwiXG4gICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC04IHBhbmVsIHBhbmVsLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge2hlaWdodDonNDQzcHgnLHBhZGRpbmdMZWZ0OjMwNSxwYWRkaW5nVG9wOjUwLG92ZXJmbG93OidhdXRvJyxib3JkZXJSaWdodDowLGJvcmRlclJhZGl1czowfX0sIFxuICAgICAgICAgICAgICAgRm9sbG93dXBUaW1lbGluZSh7XG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IHRoaXMuc3RhdGUudGVtcGxhdGVzLCBcbiAgICAgICAgICAgICAgICAgIHByb3NwZWN0czogdGhpcy5zdGF0ZS5wcm9zcGVjdHMsIFxuICAgICAgICAgICAgICAgICAgY3VycmVudENhbXBhaWduOiB0aGlzLnByb3BzLnNlbGVjdGVkQ2FtcGFpZ24sIFxuICAgICAgICAgICAgICAgICAgdG9nZ2xlVGVtcGxhdGVFZGl0TWVudTogdGhpcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51LCBcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxGb2xsb3d1cHM6IHRoaXMucHJvcHMuc2VsZWN0ZWRDYW1wYWlnbi5mb2xsb3d1cHN9KVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtNFwiLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7cGFkZGluZ0xlZnQ6MCxwYWRkaW5nUmlnaHQ6MCxoZWlnaHQ6NDQzfX0sIFxuICAgICAgICAgICAgVGVtcGxhdGVzTWVudSh7XG4gICAgICAgICAgICAgIHRlbXBsYXRlczogdGhpcy5zdGF0ZS50ZW1wbGF0ZXMsIFxuICAgICAgICAgICAgICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiB0aGlzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnV9KVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgKHRoaXMuc3RhdGUudGVtcGxhdGVEZXRhaWxNb2RlKSA/IEVkaXRUZW1wbGF0ZVZpZXcoe1xuICAgICAgICAgICAgZWRpdE1vZGU6IHRoaXMuc3RhdGUuZWRpdE1vZGUsIFxuICAgICAgICAgICAgaW5pdGlhbFRlbXBsYXRlVmFsdWVzOiB0aGlzLnN0YXRlLmN1cnJlbnRUZW1wbGF0ZSwgXG4gICAgICAgICAgICBzYXZlVGVtcGxhdGU6IHRoaXMuc2F2ZVRlbXBsYXRlLCBcbiAgICAgICAgICAgIHByb3NwZWN0OiB0aGlzLnN0YXRlLnByb3NwZWN0c1swXSwgXG4gICAgICAgICAgICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiB0aGlzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUsIFxuICAgICAgICAgICAgZm9sbG93dXBEYXk6IHRoaXMuc3RhdGUuZm9sbG93dXBEYXl9KSA6IFwiXCJcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIHNhdmVUZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUsIG5ld1RlbXBsYXRlKSB7XG4gICAgdGVtcGxhdGVzID0gdGhpcy5zdGF0ZS50ZW1wbGF0ZXNcbiAgICBmb3IoaT0wO2k8IHRoaXMuc3RhdGUudGVtcGxhdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYodGhpcy5zdGF0ZS50ZW1wbGF0ZXNbaV0ubmFtZSA9PSB0ZW1wbGF0ZS5uYW1lKVxuICAgICAgICBicmVha1xuICAgIFxuICAgIGNvbnNvbGUubG9nKHRlbXBsYXRlKVxuICAgIGlmKG5ld1RlbXBsYXRlKXtcbiAgICAgIHRlbXBsYXRlLnN1YmplY3QgPSB0ZW1wbGF0ZS5zdWJqZWN0XG4gICAgICB0ZW1wbGF0ZS5uYW1lID0gdGVtcGxhdGUubmFtZVxuICAgICAgdGVtcGxhdGUuYm9keSA9IHRlbXBsYXRlLmJvZHlcbiAgICAgIHRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKVxuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvVGVtcGxhdGUnLFxuICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICB0eXBlOidQT1NUJyxcbiAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZSA6IHRlbXBsYXRlLm5hbWUsXG4gICAgICAgICAgc3ViamVjdDogdGVtcGxhdGUuc3ViamVjdCxcbiAgICAgICAgICBib2R5OiB0ZW1wbGF0ZS5ib2R5LFxuICAgICAgICAgIHVzZXI6e1xuICAgICAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgICAgICBjbGFzc05hbWU6J19Vc2VyJyxcbiAgICAgICAgICAgIG9iamVjdElkOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBhbnk6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnksXG4gICAgICAgIH0pLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVzW2ldLnN1YmplY3QgPSB0ZW1wbGF0ZS5zdWJqZWN0XG4gICAgICB0ZW1wbGF0ZXNbaV0uYm9keSA9IHRlbXBsYXRlLmJvZHlcblxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1RlbXBsYXRlLycrdGVtcGxhdGVzW2ldLm9iamVjdElkLFxuICAgICAgICB0eXBlOidQVVQnLFxuICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBuYW1lIDogdGVtcGxhdGUubmFtZSxcbiAgICAgICAgICBzdWJqZWN0OiB0ZW1wbGF0ZS5zdWJqZWN0LFxuICAgICAgICAgIGJvZHk6IHRlbXBsYXRlLmJvZHksXG4gICAgICAgIH0pLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHt0ZW1wbGF0ZXM6IHRlbXBsYXRlcyB9KVxuXG4gIH0sXG5cbiAgdG9nZ2xlVGVtcGxhdGVFZGl0TWVudTogZnVuY3Rpb24oY3VycmVudFRlbXBsYXRlLCBlZGl0TW9kZSkge1xuICAgIGVkaXRNb2RlID0gKGVkaXRNb2RlKSA/IHRydWUgOiBmYWxzZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VycmVudFRlbXBsYXRlOiBjdXJyZW50VGVtcGxhdGUsXG4gICAgICB0ZW1wbGF0ZURldGFpbE1vZGU6ICF0aGlzLnN0YXRlLnRlbXBsYXRlRGV0YWlsTW9kZSxcbiAgICB9KVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBDYW1wYWlnbnNcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRTY3JlZW46ICdPdmVydmlldycsXG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZVNlbGVjdGVkQ2FtcGFpZ246IGZ1bmN0aW9uKGNhbXBhaWduKSB7XG4gICAgLy90aGlzLnByb3BzLnRvZ2dsZVNjcmVlbignQ2FtcGFpZ25EZXRhaWwnKVxuICAgIHRoaXMucHJvcHMuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbignQ2FtcGFpZ25EZXRhaWwnLCBjYW1wYWlnbilcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGNhbXBhaWducyA9IFtdXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcylcbiAgICBmb3IoaT0wO2k8IHRoaXMucHJvcHMuY2FtcGFpZ25zLmxlbmd0aDsgaSsrKXsgXG4gICAgICBjYW1wYWlnbnMucHVzaChDYW1wYWlnblJvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTY3JlZW46IHRoaXMudG9nZ2xlU2NyZWVuLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNlbGVjdGVkQ2FtcGFpZ246IHRoaXMuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1wYWlnbjogdGhpcy5wcm9wcy5jYW1wYWlnbnNbaV19KSApXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge292ZXJmbG93OidhdXRvJyxoZWlnaHQ6NTUwfX0sIFxuICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00udGhlYWQobnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiQ2FtcGFpZ24gTmFtZVwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJQcm9zcGVjdCBMaXN0XCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXCJEZWxpdmVyZWRcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcIk9wZW5lZFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLGRpc3BsYXk6J25vbmUnfX0sIFwiUmVwbGllZFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLGRpc3BsYXk6J25vbmUnfX0sIFwiTGluayBDbGlja3NcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcIkJvdW5jZXNcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOjE1MCx0ZXh0QWxpZ246J2NlbnRlcid9fSwgXCIgXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRib2R5KG51bGwsIFxuICAgICAgICAgICAgY2FtcGFpZ25zXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBDYW1wYWlnblJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0NhbXBhaWduUm93JyxcbiAgdG9nZ2xlU2NyZWVuOiBmdW5jdGlvbigpIHtcbiAgICAvL3RoaXMucHJvcHMudG9nZ2xlU2NyZWVuKClcbiAgICB0aGlzLnByb3BzLmNoYW5nZVNlbGVjdGVkQ2FtcGFpZ24odGhpcy5wcm9wcy5jYW1wYWlnbilcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMucHJvcHMuY2FtcGFpZ24ucHJvc3BlY3RfbGlzdC5saXN0X3R5cGUgPT0gXCJzaWduYWxfbGlzdFwiKVxuICAgICAgICBpY29uVHlwZSA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtd2lmaVwiLCBzdHlsZToge21hcmdpblJpZ2h0OjV9fSlcbiAgICBlbHNlIGlmKHRoaXMucHJvcHMuY2FtcGFpZ24ucHJvc3BlY3RfbGlzdC5saXN0X3R5cGUgPT0gXCJtaW5pbmdfam9iXCIpXG4gICAgICAgIGljb25UeXBlID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG91ZC1kb3dubG9hZFwiLCBzdHlsZToge21hcmdpblJpZ2h0OjV9fSlcbiAgICBlbHNlIFxuICAgICAgICBpY29uVHlwZSA9XCJcIlxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIoe3N0eWxlOiB7Y3Vyc29yOidwb2ludGVyJ30sIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW1wYWlnbi5uYW1lXG4gICAgICAgICksIFwiIFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgaWNvblR5cGUsIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW1wYWlnbi5wcm9zcGVjdF9saXN0Lm5hbWVcbiAgICAgICAgKSwgXCIgXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJyxwYWRkaW5nOjEyfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwiYmFkZ2VcIiwgc3R5bGU6IHtiYWNrZ3JvdW5kQ29sb3I6JyNmMGFkNGUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wYXBlci1wbGFuZVwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCIxMDAlXCJcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLHBhZGRpbmc6MTJ9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZXllXCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgICBcIjEwMCVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMixkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXByaW1hcnlcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1tYWlsLXJlcGx5XCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgICBcIjEwMCVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMixkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWluZm9cIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1leHRlcm5hbC1saW5rLXNxdWFyZVwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCIxOCVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMn19LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1leGNsYW1hdGlvbi1jaXJjbGVcIn0pLCBcIiDCoFwiICsgJyAnICtcbiAgICAgICAgICAgIFwiMTElXCIpXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLHBhZGRpbmdUb3A6MTJ9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4teHNcIiwgXG4gICAgICAgICAgICBzdHlsZToge2JhY2tncm91bmRJbWFnZTogJ2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSkgIWltcG9ydGFudDsnLGRpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jb3B5XCIsIHN0eWxlOiB7Zm9udFdlaWdodDonYm9sZCd9fSksIFwiwqAgQ2xvbmVcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXCIsIFxuICAgICAgICAgICAgc3R5bGU6IHtiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpICFpbXBvcnRhbnQnLG1hcmdpbkxlZnQ6NX19LCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS10cmFzaFwifSkpXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLHBhZGRpbmc6MTIsZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge21hcmdpbjowfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCJ9LCBcIlJlYWR5XCIpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuLy8gXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vQ29tcGFueVByb3NwZWN0XG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHByb3NwZWN0ID0gdGhpcy5wcm9wcy5wcm9zcGVjdFxuICAgIHdlYnNpdGUgPSAocHJvc3BlY3Qud2Vic2l0ZSkgPyBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3Byb3NwZWN0LndlYnNpdGV9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSkgOiAnJ1xuICAgIGxpbmtlZGluX3Byb2ZpbGUgPSAocHJvc3BlY3QucHJvZmlsZSAhPSBcIlwiKSA/IFJlYWN0LkRPTS5hKHtocmVmOiBwcm9zcGVjdC5wcm9maWxlfSwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1saW5rZWRpbi1zcXVhcmVcIn0pKSA6ICcnXG5cbiAgLypcbiAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OlwiIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4teHNcIlxuICAgICAgICAgICAgICBzdHlsZT17e2JhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoIzM0YzUyMCwjMjE5MjExKSd9fT4gXG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXNlYXJjaFwiIC8+ICZuYnNwO1xuICAgICAgICAgICAgICBGaW5kIFByb3NwZWN0c1xuICAgICAgICAgICAgPC9hPlxuICAqL1xuXG4gIGNvbnNvbGUubG9nXG5cbiAgLy88dGQ+PGEgaHJlZj1cImphdmFzY3JpcHQ6XCIgb25DbGljaz17dGhpcy5kZWxldGVQcm9zcGVjdH0+PGkgY2xhc3NOYW1lPVwiZmEgZmEtdGltZXMtY2lyY2xlXCIgLz48L2E+PC90ZD5cbiAgICByZXR1cm4gKFxuICAgICAgICBSZWFjdC5ET00udHIobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3dpZHRoOiczMDBweCd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJ319LCBwcm9zcGVjdC5uYW1lKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7Zm9udFdlaWdodDonNDAwJyxtYXJnaW46JzBweCd9fSwgcHJvc3BlY3QuaGVhZGNvdW50KVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgbW9tZW50KHByb3NwZWN0LmNyZWF0ZWRBdCwnWVlZWS1NTS1ERFRoOm1tOnNzJykuZnJvbU5vdygpKSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgcHJvc3BlY3QuaW5kdXN0cnkpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJyx3aWR0aDoxMzcsZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXByaW1hcnlcIiwgc3R5bGU6IHtkaXNwbGF5OiAnYmxvY2snLCB3aWR0aDogJ2F1dG8nLCBtYXJnaW5SaWdodDogJ2F1dG8nLCBtYXJnaW5MZWZ0OiAnYXV0bycsIHdpZHRoOiAnMjVweCd9fSwgXCIwXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1pbmZvXCJ9LCBcIkhpcmluZ1wiKSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt3aWR0aDozMjB9fSwgXG4gICAgICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkxpbmtlZGluQ29tcGFueVByb2ZpbGUsIFxuICAgICAgICAgICAgICBzdHlsZToge2JhY2tncm91bmRJbWFnZTogJ2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSknfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNlYXJjaFwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICBcIlNlYXJjaCBQcm9maWxlc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuU2ltaWxhckNvbXBhbmllcywgXG4gICAgICAgICAgICAgIHN0eWxlOiB7YmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY29weVwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICBcIkZpbmQgU2ltaWxhciBDb21wYW5pZXNcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcIiBcIiwgbGlua2VkaW5fcHJvZmlsZSwgXCIgwqAgXCIsIHdlYnNpdGUsIFwiIFwiKVxuICAgICAgICApXG4gICAgKTtcbiAgfSxcblxuICBvcGVuTGlua2VkaW5Db21wYW55UHJvZmlsZTogZnVuY3Rpb24oKSB7XG4gICAgY2lkID0gdGhpcy5wcm9wcy5wcm9zcGVjdC5wcm9maWxlLnNwbGl0KCc/JylbMF0uc3BsaXQoJy9jb21wYW55LycpWzFdXG4gICAgd2luZG93Lm9wZW4oXCJodHRwczovL3d3dy5saW5rZWRpbi5jb20vdnNlYXJjaC9wP2ZfQ0M9XCIrY2lkKVxuICB9LFxuXG4gIG9wZW5TaW1pbGFyQ29tcGFuaWVzOiBmdW5jdGlvbigpIHtcbiAgICBjaWQgPSB0aGlzLnByb3BzLnByb3NwZWN0LnByb2ZpbGUuc3BsaXQoJz8nKVswXS5zcGxpdCgnL2NvbXBhbnkvJylbMV1cbiAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS92c2VhcmNoL2M/cnNpZD01MjY0NDAzNzE0MDkxODQ3NjgxNzUmcGl2b3RUeXBlPXNpbSZwaWQ9XCIrY2lkK1wiJnRyaz1zaW1fY29tcGFuaWVzX3Jlc19zaW0mdHJrSW5mbz1WU1JQc2VhcmNoSWQlM0E1MjY0NDAzNzE0MDkxODQ3NjgxNzUlMkNWU1JQdGFyZ2V0SWQlM0ExMDI1JTJDVlNSUGNtcHQlM0FwcmltYXJ5XCIpXG4gIH0sXG5cbiAgZGVsZXRlUHJvc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGVsZXRlUHJvc3BlY3QodGhpcy5wcm9wcy5wcm9zcGVjdC5vYmplY3RJZCwgJ0NvbXBhbnlQcm9zcGVjdCcpXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnZhciBDb21wYW55UHJvc3BlY3QgPSByZXF1aXJlKCcuL2NvbXBhbnkuanMubWluLmpzJyk7XG52YXIgTG9hZGluZ1NwaW5uZXIgPSByZXF1aXJlKCcuL2xvYWRpbmdfc3Bpbm5lci5qcy5taW4uanMnKVxudmFyIFNpZGVNZW51UHJvc3BlY3RzID0gcmVxdWlyZSgnLi9zaWRlX21lbnVfdXNlcl9wcm9zcGVjdHMuanMubWluLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgIHByb3NwZWN0cyAgIDogW10sXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlIDogMSxcbiAgICAgICAgICAgICAgbG9hZGluZyAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICBwYWdlcyAgICAgICA6IDEsXG4gICAgICAgICAgICAgIGNvdW50ICAgICAgIDogXCJ+XCIsIH1cbiAgfSxcbiAgLypcbiAgICpcbiAgICBjaWQgPSB0aGlzLnByb3BzLnByb3NwZWN0LnByb2ZpbGUuc3BsaXQoJz8nKVswXS5zcGxpdCgnL2NvbXBhbnkvJylbMV1cbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzKVxuICAgIHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3ZzZWFyY2gvcD9mX0NDPVwiK2NpZClcbiAgKi9cbiAgXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2NvbXBhbnknKVxuICAgIHByb3NwZWN0cyA9IFtdXG4gICAgZm9yKGk9MDtpPHRoaXMuc3RhdGUucHJvc3BlY3RzLmxlbmd0aDtpKyspIHtcbiAgICAgIHVybCA9IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLnVybFxuXG4gICAgICBpZih1cmwgIT0gXCJubyBsaW5rZWRpbiB3ZWJzaXRlXCIgJiYgdHlwZW9mKHVybCkgIT0gXCJ1bmRlZmluZWRcIiAmJiB1cmwgIT0gXCJcIil7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdodHRwOi8vJywnJylcbiAgICAgICAgdGhlX2xpbmsgPSBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3VybH0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIn0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhlX2xpbmsgPSBcIlwiXG4gICAgICB9XG5cbiAgICAgIHByb2ZpbGUgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS5wcm9maWxlXG4gICAgICAvL3Byb2ZpbGUgPSBwcm9maWxlLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKVxuICAgICAgbGkgPSBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3Byb2ZpbGV9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWxpbmtlZGluLXNxdWFyZVwifSkpXG5cbiAgICAgIGlmKHRoaXMucHJvcHMucHJvc3BlY3RUeXBlID09ICdQcm9zcGVjdCcpIHtcbiAgICAgICAgcHJvc3BlY3RzLnB1c2goXG4gICAgICAgICAgVXNlclByb3NwZWN0KHtkZWxldGVQcm9zcGVjdDogdGhpcy5kZWxldGVQcm9zcGVjdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9zcGVjdDogdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlX2lkKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluazogdGhlX2xpbmssIGxpOiBsaX0pXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3NwZWN0cy5wdXNoKFxuICAgICAgICAgIENvbXBhbnlQcm9zcGVjdCh7ZGVsZXRlUHJvc3BlY3Q6IHRoaXMuZGVsZXRlUHJvc3BlY3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlX2lkKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3Q6IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZpb3VzID0gKHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgLSAxKSA/ICcnIDogJ2Rpc2FibGVkJ1xuICAgIGZvcndhcmQgPSAodGhpcy5zdGF0ZS5jdXJyZW50UGFnZSA9PSB0aGlzLnN0YXRlLnBhZ2VzKSA/ICdkaXNhYmxlZCcgOiAnJ1xuXG4gICAgbG93ZXJMaW1pdCA9ICh0aGlzLnN0YXRlLmN1cnJlbnRQYWdlLTEpKjEwMFxuICAgIHVwcGVyTGltaXQgPSB0aGlzLnN0YXRlLmN1cnJlbnRQYWdlKjEwMFxuXG4gICAgbG93ZXJMaW1pdCA9IChsb3dlckxpbWl0KSA/IGxvd2VyTGltaXQgOiAxXG4gICAgdXBwZXJMaW1pdCA9ICh1cHBlckxpbWl0ID4gdGhpcy5zdGF0ZS5jb3VudCkgPyB0aGlzLnN0YXRlLmNvdW50IDogdXBwZXJMaW1pdFxuICBcbiAgICBjb25zb2xlLmxvZyhwcm9zcGVjdHMubGVuZ3RoKVxuICAgIGNvbXBhbnlTdHlsZT0gKHByb3NwZWN0cy5sZW5ndGgpID8ge3BhZGRpbmc6JzAnfSA6IHtkaXNwbGF5Oidub25lJ31cblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lciBiZy1yYWRpdXNcIiwgc3R5bGU6IHt3aWR0aDonMTAwJScscGFkZGluZzonMCd9fSwgXG4gICAgICAgIChwcm9zcGVjdHMubGVuZ3RoID09IDAgJiYgdGhpcy5zdGF0ZS5sb2FkaW5nID09IGZhbHNlKSA/IEVtcHR5Q29tcGFueVByb3NwZWN0c1BhbmVsKG51bGwpIDogXCJcIiwgXG4gICAgICAgICh0aGlzLnN0YXRlLmxvYWRpbmcpID8gTG9hZGluZ1NwaW5uZXIobnVsbCkgOiBcIlwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMlwiLCBzdHlsZTogY29tcGFueVN0eWxlfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiYXV0b3Njcm9sbFwiLCBzdHlsZToge2hlaWdodDonNDAwcHgnLG92ZXJmbG93OidhdXRvJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGhlYWQoe3N0eWxlOiB7YmFja2dyb3VuZENvbG9yOid3aGl0ZSd9fSwgXG4gICAgICAgICAgICAgICAgQ29tcGFueVByb3NwZWN0SGVhZGVyKG51bGwpXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICAgICAgcHJvc3BlY3RzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtZm9vdGluZ1wiLCBpZDogXCJuYXZiYXJcIiwgc3R5bGU6IHtoZWlnaHQ6JzM1cHgnLHBhZGRpbmc6JzBweCcscGFkZGluZ1RvcDonN3B4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblJpZ2h0OicyMHB4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBzdHlsZToge21hcmdpblJpZ2h0Oic1cHgnfSwgb25DbGljazogdGhpcy5wYWdpbmF0ZVByZXZpb3VzLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgcHJldmlvdXN9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWZhc3QtYmFja3dhcmRcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5wYWdpbmF0ZVByZXZpb3VzLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgcHJldmlvdXN9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNoZXZyb24tbGVmdFwifSkpLCBcbiAgICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwiXCJ9LCBsb3dlckxpbWl0ICsgJyAtICcrdXBwZXJMaW1pdCsnIG9mICcrdGhpcy5zdGF0ZS5jb3VudCksIFxuICAgICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5wYWdpbmF0ZUZvcndhcmQsIGNsYXNzTmFtZTogXCJibHVlLWdyYWRpZW50IGJ0biBidG4tcHJpbWFyeSBidG4teHMgXCIgKyBmb3J3YXJkfSwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLXJpZ2h0XCJ9KSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIHN0eWxlOiB7bWFyZ2luTGVmdDonNXB4J30sIG9uQ2xpY2s6IHRoaXMucGFnaW5hdGVGb3J3YXJkLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgZm9yd2FyZH0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZmFzdC1mb3J3YXJkXCJ9KSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzc3MgPSB0aGlzO1xuICAgIHBhcnNlX2hlYWRlcnMgPSB7J1gtUGFyc2UtQXBwbGljYXRpb24tSWQnOidOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JzonVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYid9XG4gICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ29tcGFueVByb3NwZWN0JyxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgYXN5bmM6IHRydWUsXG4gICAgICBkYXRhOiAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnfSZjb3VudD0xJm9yZGVyPS1jcmVhdGVkQXQnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtjb3VudDogcmVzLmNvdW50fSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwYWdlczogTWF0aC5jZWlsKHJlcy5jb3VudC8xMDApfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBnZW5lcmF0ZV9pZCA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICB9LFxufSk7XG5cbnZhciBTaWRlTWVudUNvbXBhbnlQcm9zcGVjdHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdTaWRlTWVudUNvbXBhbnlQcm9zcGVjdHMnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0yXCIsIHN0eWxlOiB7cGFkZGluZzonMCcsaGVpZ2h0Oic0MDBweCcsYmFja2dyb3VuZENvbG9yOicjZTBlOWVlJyxib3JkZXJSaWdodDonMXB4IHNvbGlkICNiMGI4YmYnLHRleHRBbGlnbjonY2VudGVyJ319LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInByb3NwZWN0LWxpc3QtaGVhZGVyXCJ9LCBcbiAgICAgICAgICBcIkxpc3RzXCJcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXAtdmVydGljYWxcIiwgc3R5bGU6IHt3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImxpc3QtbmFtZXMgYnRuIGJ0bi1kZWZhdWx0XCJ9LCBcIlRlbXBsYXRlc1wiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImxpc3QtbmFtZXMgYnRuIGJ0bi1kZWZhdWx0XCJ9LCBcIlNjaGVkdWxlc1wiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImxpc3QtbmFtZXMgYnRuIGJ0bi1kZWZhdWx0XCJ9LCBcIlJ1bGVzXCIpXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5XCIsIFxuICAgICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXMtY2lyY2xlXCJ9KSwgXCLCoE5ldyBDbGFzc1wiXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbClcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIHBhZ2luYXRlUHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cycpXG4gICAgY29uc29sZS5sb2coKHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgLSAxKSoxMDApXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0P3NraXA9JysodGhpc3Muc3RhdGUuY3VycmVudFBhZ2UtMikqMTAwLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICBkYXRhOiAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnfSZjb3VudD0xJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2N1cnJlbnRQYWdlOiB0aGlzcy5zdGF0ZS5jdXJyZW50UGFnZSAtIDF9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcGFnaW5hdGVGb3J3YXJkOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnZm9yd2FyZCcpXG5cbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3Q/c2tpcD0nK3RoaXNzLnN0YXRlLmN1cnJlbnRQYWdlKjEwMCxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogdGhpc3Muc3RhdGUuY3VycmVudFBhZ2UgKyAxfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxufSk7XG5cbnZhciBFbXB0eUNvbXBhbnlQcm9zcGVjdHNQYW5lbCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0VtcHR5Q29tcGFueVByb3NwZWN0c1BhbmVsJyxcbiAgb3BlbkxpbmtlZGluV2luZG93OiBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cub3BlbignaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3ZzZWFyY2gvYz90eXBlPWNvbXBhbmllcycpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC1vZmZzZXQtMyBjb2wtbWQtNlwiLCBzdHlsZToge2hlaWdodDo0MDB9fSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBzdHlsZToge21hcmdpblRvcDoxMDAsaGVpZ2h0OjIwMH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oMSh7Y2xhc3NOYW1lOiBcImxlYWRcIiwgc3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXCJTdGFydCBQcm9zcGVjdGluZyBPbiBMaW5rZWRpblwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5vcGVuTGlua2VkaW5XaW5kb3csIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3NcIiwgc3R5bGU6IHtiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpICFpbXBvcnRhbnQnLGRpc3BsYXk6J2Jsb2NrJyxtYXJnaW5SaWdodDonYXV0bycsbWFyZ2luTGVmdDonYXV0bycsd2lkdGg6MjAwLCBtYXJnaW5Ub3A6NTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNlYXJjaFwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCJTZWFyY2ggZm9yIGNvbXBhbmllcyFcIilcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIENvbXBhbnlQcm9zcGVjdEhlYWRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0NvbXBhbnlQcm9zcGVjdEhlYWRlcicsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiTmFtZVwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkFkZGVkIE9uXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiSW5kdXN0cnlcIiksIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCIjIG9mIFByb3NwZWN0c1wiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIlNpZ25hbHNcIiksIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCLCoFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIsKgXCIpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTaWduYWxDYXJkXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgY29tcGFueSA9IHRoaXMucHJvcHMuY29tcGFueVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzaWduYWwtY2FyZFwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCIsIHN0eWxlOiB7cGFkZGluZ0xlZnQ6MjUsIHBhZGRpbmdSaWdodDoyNX19LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDQoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHsgZmxvYXQ6J2xlZnQnLG1heFdpZHRoOiAnNjAlJywgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLCB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcyd9fSwgXG4gICAgICAgICAgICAgIGNvbXBhbnkubmFtZSksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCIsIFxuICAgICAgICAgICAgICBzdHlsZToge21hcmdpbkxlZnQ6NywgZmxvYXQ6J3JpZ2h0Jyxmb250U2l6ZToxMixcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogJzQwJScsIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXN1aXRjYXNlXCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICAgIGNvbXBhbnkuc2lnbmFsc1swXS5qb2JfdGl0bGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIFxuICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblRvcDoxNSwgZm9udFdlaWdodDonYm9sZCd9fSwgXG4gICAgICAgICAgICBcIlByb3NwZWN0IFRoaXMgQ29tcGFueVwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnAoe3N0eWxlOiB7Zm9udFNpemU6MTIsd2lkdGg6Jzc1JSd9fSwgXG4gICAgICAgICAgICBjb21wYW55LnNpZ25hbHNbMF0uc3VtbWFyeVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1tYXAtbWFya2VyXCJ9KSwgXG4gICAgICAgICAgICBcIsKgIFwiLCBjb21wYW55LnNpZ25hbHNbMF0ubG9jYXRpb24pXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBjcmVhdGVMaXN0TW9kYWxcbiAgY3JlYXRlTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJCgnI2xpc3RUaXRsZScpLnZhbCgpKVxuXG4gICAgZGF0YSA9ICB7XG4gICAgICAnbmFtZScgICAgICAgIDogJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSwgICAvL1dhaXRpbmcgLCBSdW5uaW5nXG4gICAgICAndXNlcicgICAgICAgIDogeyAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J19Vc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOid4V0VTaXc1U21kJyB9LFxuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RMaXN0JyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGEuY291bnQgPSAwXG5cbiAgICB0aGlzLnByb3BzLmNyZWF0ZUxpc3QoZGF0YSlcbiAgICBcbiAgICAkKCcjY3JlYXRlTGlzdE1vZGFsJykubW9kYWwoJ2hpZGUnKVxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpO1xuICAgIC8vJCgnYnV0dG9uLmNsb3NlJykuY2xpY2soKVxuICB9LFxuXG4gIGNyZWF0ZUNhbXBhaWduOiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy9jb25zb2xlLmxvZygkKCcjbmV3TGlzdE5hbWUnKS52YWwoKSlcbiAgICBuZXdDYW1wYWlnbk5hbWUgPSAkKCcjbmV3Q2FtcGFpZ25OYW1lJykudmFsKClcbiAgICBwcm9zcGVjdExpc3ROYW1lID0gJCgnI3Byb3NwZWN0X2xpc3RzJykudmFsKClcbiAgICB0aGlzcyA9IHRoaXNcbiAgICBmb3IoaT0wO2k8IHRoaXMucHJvcHMucHJvc3BlY3RMaXN0cy5sZW5ndGg7IGkrKyl7XG4gICAgICBpZih0aGlzLnByb3BzLnByb3NwZWN0TGlzdHNbaV0ubmFtZSA9PSBwcm9zcGVjdExpc3ROYW1lKXtcbiAgICAgICAgcHJvc3BlY3RfbGlzdCA9IHRoaXMucHJvcHMucHJvc3BlY3RMaXN0c1tpXTsgXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihuZXdDYW1wYWlnbk5hbWUudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLnByb3BzLmNyZWF0ZUNhbXBhaWduKHtcbiAgICAgICAgbmFtZTogbmV3Q2FtcGFpZ25OYW1lLFxuICAgICAgICBwcm9zcGVjdF9saXN0OiBwcm9zcGVjdF9saXN0XG4gICAgICB9KVxuICAgIC8vIERpc2FibGUgTW9kYWxcbiAgICAkKCcubW9kYWwtYmFja2Ryb3AnKS5jbGljaygpXG4gICAgJCgnLmZhZGUnKS5jbGljaygpXG4gICAgJCgnI25ld0NhbXBhaWduTmFtZScpLnZhbCgnJylcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHByb3NwZWN0X2xpc3RzID0gW11cbiAgICBmb3IoaT0wO2k8IHRoaXMucHJvcHMucHJvc3BlY3RMaXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvc3BlY3RfbGlzdHMucHVzaCggUmVhY3QuRE9NLm9wdGlvbihudWxsLCB0aGlzLnByb3BzLnByb3NwZWN0TGlzdHNbaV0ubmFtZSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLWNyZWF0ZUNhbXBhaWduLW1vZGFsLXNtXCIsIFxuICAgICAgICAgICB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCBcbiAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcImNyZWF0ZUxpc3RNb2RhbFwiLCBzdHlsZToge3RvcDonMjAwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjbG9zZVwiLCAnZGF0YS1kaXNtaXNzJzogXCJtb2RhbFwifSwgUmVhY3QuRE9NLnNwYW4oeydhcmlhLWhpZGRlbic6IFwidHJ1ZVwifSwgXCLDl1wiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwic3Itb25seVwifSwgXCJDbG9zZVwiKSksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1lbnZlbG9wZVwifSksIFwiIMKgQ3JlYXRlIENhbXBhaWduXCIpXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMuY3JlYXRlQ2FtcGFpZ259LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtpZDogXCJuZXdDYW1wYWlnbk5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJFbnRlciBDYW1wYWlnbiBOYW1lLi4uXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwifSksIFxuXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zZWxlY3Qoe2NsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwicHJvc3BlY3RfbGlzdHNcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5Ub3A6MjAsbWFyZ2luQm90dG9tOjIwfX0sIFxuICAgICAgICAgICAgICAgICAgICAgIHByb3NwZWN0X2xpc3RzXG4gICAgICAgICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY3JlYXRlQ2FtcGFpZ24sIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsIHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBDYW1wYWlnblwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBjcmVhdGVDb21wYW55UHJvZmlsZU1vZGFsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLWNyZWF0ZVNpZ25hbC1tb2RhbC1tZFwiLCB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgXG4gICAgICAgICAgIGlkOiBcImNyZWF0ZUNvbXBhbnlQcm9maWxlTW9kYWxcIiwgXG4gICAgICAgICAgIHN0eWxlOiB7dG9wOic1MHB4JyxvdmVyZmxvdzonaGlkZGVuJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiwgc3R5bGU6IHt3aWR0aDo2NTB9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFwiQ3JlYXRlIENvbXBhbnkgUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXCIsIFxuICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jcmVhdGVDb21wYW55UHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOi0yOCxtYXJnaW5SaWdodDotNX19LCBcbiAgICAgICAgICAgICAgICAgICAgXCJDcmVhdGUgUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICAgICAgQ3JlYXRlSGlyaW5nU2lnbmFsKG51bGwpXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1mb290ZXJcIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICAgIFwiQ2xvc2VcIlxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnlcIn0sIFxuICAgICAgICAgICAgICAgICAgXCJTZW5kIEVtYWlsXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIGNyZWF0ZUNvbXBhbnlQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICBwcm9maWxlTmFtZSA9ICQoXCIuY29tcGFueS1wcm9maWxlLW5hbWVcIikudmFsKClcbiAgICBpbmR1c3RyeVByb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzogJ0luZHVzdHJ5UHJvZmlsZScsXG4gICAgICAnaW5kdXN0cmllcycgOiAkKCcuY29tcGFueS1wcm9maWxlLWluZHVzdHJpZXMnKS50YWdzaW5wdXQoJ2l0ZW1zJykucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgbG9jYXRpb25Qcm9maWxlID0ge1xuICAgICAgJ2NsYXNzTmFtZSc6ICdMb2NhdGlvblByb2ZpbGUnLFxuICAgICAgJ2xvY2FsZScgICAgOiAkKCcuY29tcGFueS1wcm9maWxlLWxvY2F0aW9uJykudGFnc2lucHV0KCdpdGVtcycpLnJldmVyc2UoKVxuICAgIH1cblxuICAgIGVtcGxveWVlUHJvZmlsZSA9IHtcbiAgICAgICdjbGFzc05hbWUnOidFbXBsb3llZVByb2ZpbGUnLCBcbiAgICAgICdlbXBsb3llZXMnOiBfLm1hcCgkKCcjY29tcGFueS1wcm9maWxlLWVtcGxveWVlQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXZCdG4peyByZXR1cm4gJChyZXZCdG4pLnRleHQoKS50cmltKCkgfSkucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgcmV2ZW51ZVByb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzonUmV2ZW51ZVByb2ZpbGUnLCBcbiAgICAgICdyZXZlbnVlcyc6IF8ubWFwKCQoJyNjb21wYW55LXByb2ZpbGUtY29tcGFueVJldmVudWVCdG5zJykuZmluZCgnLmFjdGl2ZScpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJldkJ0bil7IHJldHVybiAkKHJldkJ0bikudGV4dCgpLnRyaW0oKSB9KS5yZXZlcnNlKClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhsb2NhdGlvblByb2ZpbGUpXG4gICAgXG4gICAgcHJvZmlsZXMgPSBbaW5kdXN0cnlQcm9maWxlLCBsb2NhdGlvblByb2ZpbGUsXG4gICAgICAgICAgICAgICAgZW1wbG95ZWVQcm9maWxlLCByZXZlbnVlUHJvZmlsZV1cblxuICAgIG5vbmVtcHR5UHJvZmlsZXMgPSBfLmZpbHRlcihwcm9maWxlcywgZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgaWYoXy52YWx1ZXMocHJvZmlsZSlbMV0peyByZXR1cm4gXy52YWx1ZXMocHJvZmlsZSlbMV0ubGVuZ3RoIH1cbiAgICB9KTtcblxuICAgIG5ld1Byb2ZpbGUgPSB7XG4gICAgICBuYW1lOiBwcm9maWxlTmFtZSxcbiAgICAgIHByb2ZpbGVzOiBub25lbXB0eVByb2ZpbGVzLFxuICAgICAgbWluaW5nX2pvYjp0cnVlLFxuICAgICAgdXNlcjp7XG4gICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTonX1VzZXInLFxuICAgICAgICBvYmplY3RJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICAgIH0sXG4gICAgICBjb21wYW55OiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueVxuICAgIH1cblxuICAgIGlmKG5vbmVtcHR5UHJvZmlsZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBlcnNpc3RTaWduYWwobm9uZW1wdHlQcm9maWxlcywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgXy5vbWl0KG5ld1Byb2ZpbGUsJ3Byb2ZpbGVzJykpXG4gICAgICB0aGlzLnByb3BzLmFkZFByb2ZpbGUobmV3UHJvZmlsZSlcbiAgICAgICQoJy5tb2RhbCcpLmNsaWNrKClcbiAgICB9XG4gIH0sXG5cbiAgcGVyc2lzdFNpZ25hbDogZnVuY3Rpb24obm9uZW1wdHlQcm9maWxlcywgbmV3UHJvZmlsZSkge1xuICAgIGNvbnNvbGUubG9nKCdORVcgUFJPRklMRScpXG4gICAgY29uc29sZS5sb2cobmV3UHJvZmlsZSlcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZScsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KG5ld1Byb2ZpbGUpLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNzKSB7XG4gICAgICAgIC8vIEFkZCBTaWduYWwgTGlzdFxuICAgICAgICBfLm1hcChub25lbXB0eVByb2ZpbGVzLCBmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy8nK18udmFsdWVzKHByb2ZpbGUpWzBdLFxuICAgICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSggXy5waWNrKHByb2ZpbGUsIF8ua2V5cyhwcm9maWxlKVsxXSkgKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZS8nK3Jlc3Mub2JqZWN0SWQsXG4gICAgICAgICAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGVzOntcbiAgICAgICAgICAgICAgICAgIF9fb3A6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0czpbe1xuICAgICAgICAgICAgICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IF8udmFsdWVzKHByb2ZpbGUpWzBdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RJZDpyZXMub2JqZWN0SWRcbiAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgfSxcbiAgICB9KVxuICB9LFxuXG59KTtcblxudmFyIENyZWF0ZUhpcmluZ1NpZ25hbCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0NyZWF0ZUhpcmluZ1NpZ25hbCcsXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBfLm1hcCgkKCcuaGlyaW5nLXJvbGUnKSxmdW5jdGlvbihpbnB1dCl7JChpbnB1dCkudGFnc2lucHV0KCl9KVxuICAgICQodGhpcy5nZXRET01Ob2RlKCkpLmZpbmQoJy5oaXJpbmctcm9sZScpLnRhZ3NpbnB1dCgpXG4gICAgJCgnLmJvb3RzdHJhcC10YWdzaW5wdXQnKS53aWR0aCg0MDApXG5cbiAgICAkKHRoaXMuZ2V0RE9NTm9kZSgpKS5maW5kKCcuYnRuLWRlZmF1bHQnKS5jbGljayhmdW5jdGlvbihlKSB7XG5cbiAgICAgIGlmKCQoZS50YXJnZXQpLnBhcmVudCgnbGFiZWwnKS5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIGVsc2VcbiAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCdsYWJlbCcpLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KS5wYXJlbnQoJ2xhYmVsJykpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImNyZWF0ZVNpZ25hbFwiLCBvblN1Ym1pdDogdGhpcy5jcmVhdGVTaWduYWx9LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHt3aWR0aDoxNDAsZGlzcGxheTonaW5saW5lLWJsb2NrJyxtYXJnaW5Cb3R0b206MjB9fSwgXG4gICAgICAgICAgICAgIFwiQ29tcGFueSBQcm9maWxlIE5hbWU6IMKgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonNzMuMSUnfSwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBjb21wYW55LXByb2ZpbGUtbmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJDb21wYW55IFByb2ZpbGUgTmFtZSAuLi5cIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtkaXNwbGF5OidibG9jaycsbWFyZ2luQm90dG9tOi0xMH19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHt3aWR0aDoxNDAsZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICAgICAgXCJJbmR1c3RyaWVzOiDCoFwiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonNzMuMSUnLG1hcmdpblJpZ2h0OjEwfSwgXG4gICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6IFwidGFnc2lucHV0XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaGlyaW5nLXJvbGUgY29tcGFueS1wcm9maWxlLWluZHVzdHJpZXNcIn0pLCBcblxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7ZGlzcGxheTonYmxvY2snLG1hcmdpbkJvdHRvbTotMTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICAgIFwiTG9jYXRpb246IMKgXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOic3My4xJScsbWFyZ2luUmlnaHQ6MTB9LCBcbiAgICAgICAgICAgICAgICAgICAnZGF0YS1yb2xlJzogXCJ0YWdzaW5wdXRcIiwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBoaXJpbmctcm9sZSBjb21wYW55LXByb2ZpbGUtbG9jYXRpb25cIn0pLCBcblxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiLCBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbWFyZ2luOjAsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDoxNDAsbWFyZ2luQm90dG9tOjIwfX0sIFwiQ29tcGFueSBTaXplIFwiKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCIsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7d2lkdGg6JzczLjUlJ30sIFxuICAgICAgICAgICAgICAgIGlkOiBcImNvbXBhbnktcHJvZmlsZS1lbXBsb3llZUJ0bnNcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgZW1wbG95ZWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgMSAtIDUwXCJcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIDUwIC0gMjUwXCJcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIDI1MCAtIDEwMDBcIlxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgZW1wbG95ZWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgMTAwMCArXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXCIgXCIsIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtkaXNwbGF5Oidub25lJyxtYXJnaW46MCx3aWR0aDoxNDB9fSwgXG4gICAgICAgICAgICAgICAgXCJBcHByb3guIFJldmVudWUgIFwiKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCIsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9LCBcbiAgICAgICAgICAgICAgICBpZDogXCJjb21wYW55LXByb2ZpbGUtY29tcGFueVJldmVudWVCdG5zXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IHJldmVudWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgXCIsICc8ICQxTSdcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IHJldmVudWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDFNIC0gJDVNXCJcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IHJldmVudWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDVNIC0gJDI1TVwiXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCByZXZlbnVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiICQyNU0gK1wiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHttYXJnaW5Ub3A6MTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXCJBdXRvIFByb3NwZWN0OiDCoFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwIGF1dG9wcm9zcGVjdFwiLCAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGFjdGl2ZVwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInJhZGlvXCJ9KSwgXCIgWWVzXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJyYWRpb1wifSksIFwiIE5vXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfSxcbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZUNvbXBhbnlQcm9maWxlTW9kYWxcbiAgY3JlYXRlUHJvZmlsZTogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHByb2ZpbGVOYW1lID0gJCgnLmZ1bmRpbmctcHJvZmlsZS1uYW1lJykudmFsKClcbiAgICBcbiAgICAvL1N0YWdlXG4gICAgLy9BbW91bnQgUmFpc2VkXG4gICAgLy9Db21wYW55IFNpemVcbiAgICAvL0FwcHJveCBSZXZlbnVlXG5cbiAgICBhbW91bnRSYWlzZWRQcm9maWxlID0ge1xuICAgICAgJ2NsYXNzTmFtZSc6J0Z1bmRpbmdQcm9maWxlJywgXG4gICAgICAncmV2ZW51ZXMnOiBfLm1hcCgkKCcjYW1vdW50UmFpc2VkQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXZCdG4peyByZXR1cm4gJChyZXZCdG4pLnRleHQoKS50cmltKCkgfSkucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYW1vdW50UmFpc2VkUHJvZmlsZSlcbiAgICBwcm9maWxlcyA9IFthbW91bnRSYWlzZWRQcm9maWxlXVxuXG4gICAgbm9uZW1wdHlQcm9maWxlcyA9IF8uZmlsdGVyKHByb2ZpbGVzLCBmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICBpZihfLnZhbHVlcyhwcm9maWxlKVsxXSl7IHJldHVybiBfLnZhbHVlcyhwcm9maWxlKVsxXS5sZW5ndGggfVxuICAgIH0pO1xuXG4gICAgbmV3UHJvZmlsZSA9IHtcbiAgICAgIG5hbWU6IHByb2ZpbGVOYW1lLFxuICAgICAgcHJvZmlsZXM6IG5vbmVtcHR5UHJvZmlsZXMsXG4gICAgICB1c2VyOntcbiAgICAgICAgX190eXBlOidQb2ludGVyJyxcbiAgICAgICAgY2xhc3NOYW1lOidfVXNlcicsXG4gICAgICAgIG9iamVjdElkOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZFxuICAgICAgfSxcbiAgICAgIGNvbXBhbnk6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55XG4gICAgfVxuXG4gICAgaWYobm9uZW1wdHlQcm9maWxlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucGVyc2lzdFNpZ25hbChub25lbXB0eVByb2ZpbGVzLnJldmVyc2UoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgXy5vbWl0KG5ld1Byb2ZpbGUsJ3Byb2ZpbGVzJykpXG5cbiAgICAgIHRoaXMucHJvcHMuYWRkUHJvZmlsZShuZXdQcm9maWxlKVxuICAgICAgJCgnLm1vZGFsJykuY2xpY2soKVxuICAgIH1cbiAgfSxcblxuICBwZXJzaXN0U2lnbmFsOiBmdW5jdGlvbihub25lbXB0eVByb2ZpbGVzLCBuZXdQcm9maWxlKSB7XG4gICAgY29uc29sZS5sb2coJ05FVyBQUk9GSUxFJylcbiAgICBjb25zb2xlLmxvZyhuZXdQcm9maWxlKVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RQcm9maWxlJyxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICB0eXBlOidQT1NUJyxcbiAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkobmV3UHJvZmlsZSksXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3MpIHtcbiAgICAgICAgLy8gQWRkIFNpZ25hbCBMaXN0XG4gICAgICAgIF8ubWFwKG5vbmVtcHR5UHJvZmlsZXMsIGZ1bmN0aW9uKHByb2ZpbGUpIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrXy52YWx1ZXMocHJvZmlsZSlbMF0sXG4gICAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgdHlwZTonUE9TVCcsXG4gICAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KCBfLnBpY2socHJvZmlsZSwgXy5rZXlzKHByb2ZpbGUpWzFdKSApLFxuICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RQcm9maWxlLycrcmVzcy5vYmplY3RJZCxcbiAgICAgICAgICAgICAgICB0eXBlOidQVVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7cHJvZmlsZXM6e1xuICAgICAgICAgICAgICAgICAgX19vcDogJ0FkZFVuaXF1ZScsXG4gICAgICAgICAgICAgICAgICBvYmplY3RzOlt7XG4gICAgICAgICAgICAgICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXy52YWx1ZXMocHJvZmlsZSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdElkOnJlcy5vYmplY3RJZFxuICAgICAgICAgICAgICAgICAgfV19XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICB9LFxuICAgIH0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgXCIsIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsIFxuICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgXG4gICAgICAgICAgIGlkOiBcImNyZWF0ZUZ1bmRpbmdTaWduYWxNb2RhbFwiLCBcbiAgICAgICAgICAgc3R5bGU6IHt0b3A6JzUwcHgnLG92ZXJmbG93OidoaWRkZW4nfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiLCBzdHlsZToge3dpZHRoOjY1MH19LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWNvbnRlbnRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1oZWFkZXJcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgXCJDcmVhdGUgRnVuZGluZyBTaWduYWxcIlxuICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVwiLCBcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY3JlYXRlUHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOi0yOCxtYXJnaW5SaWdodDotNX19LCBcbiAgICAgICAgICAgICAgICAgICAgXCJDcmVhdGUgUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIn0sIFxuXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImNyZWF0ZVNpZ25hbFwiLCBvblN1Ym1pdDogdGhpcy5jcmVhdGVQcm9maWxlfSwgXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206MjB9fSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiRnVuZGluZyBQcm9maWxlIE5hbWU6IMKgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonNzMuMSUnfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBmdW5kaW5nLXByb2ZpbGUtbmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJGdW5kaW5nIFByb2ZpbGUgTmFtZSAuLi5cIn0pXG4gICAgICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICAgICAgQ29tcGFueVByb2ZpbGUobnVsbCksIFxuXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHttYXJnaW5Ub3A6MTAsZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiQXV0byBQcm9zcGVjdDogwqBcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cCBhdXRvcHJvc3BlY3RcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIn0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGFjdGl2ZVwifSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInJhZGlvXCJ9KSwgXCIgWWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJyYWRpb1wifSksIFwiIE5vXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICk7XG4gIH0sXG5cbiAgY3JlYXRlRnVuZGluZ1Byb2ZpbGU6IGZ1bmN0aW9uKCkge1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBfLm1hcCgkKCcuaGlyaW5nLXJvbGUnKSxmdW5jdGlvbihpbnB1dCl7JChpbnB1dCkudGFnc2lucHV0KCl9KVxuICAgICQodGhpcy5nZXRET01Ob2RlKCkpLmZpbmQoJy5oaXJpbmctcm9sZScpLnRhZ3NpbnB1dCgpXG4gICAgJCgnLmJvb3RzdHJhcC10YWdzaW5wdXQnKS53aWR0aCgnNTkuMSUnKVxuICB9LFxuXG59KTtcblxudmFyIENvbXBhbnlQcm9maWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ29tcGFueVByb2ZpbGUnLFxuICBjb21wYW55Rm9ybVN1Ym1pdDogZnVuY3Rpb24oZSkgeyBlLnByZXZlbnREZWZhdWx0KCkgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzLmdldERPTU5vZGUoKSkuZmluZCgnLmJ0bi1kZWZhdWx0JykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgbGFiZWwgPSAkKGUudGFyZ2V0KS5wYXJlbnQoJ2xhYmVsJylcbiAgICAgIGlmKGxhYmVsLmhhc0NsYXNzKCdhY3RpdmUnKSlcbiAgICAgICAgbGFiZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICBlbHNlXG4gICAgICAgIGxhYmVsLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J25vbmUnLG1hcmdpbjowLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjE0MCxtYXJnaW5Cb3R0b206MjB9fSwgXCJTdGFnZSBcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCIsIGlkOiBcImVtcGxveWVlQnRuc1wiLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwiLCBzdHlsZToge3dpZHRoOicyMCUnfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIFNlZWRcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBcIiwgc3R5bGU6IHt3aWR0aDonMjAlJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiBTZXJpZXMgQVwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCIsIHN0eWxlOiB7d2lkdGg6JzIwJSd9fSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgU2VyaWVzIEJcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwiLCBzdHlsZToge3dpZHRoOicyMCUnfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIFNlcmllcyBDXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIiwgc3R5bGU6IHt3aWR0aDonMjAlJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiBTZXJpZXMgRCtcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxtYXJnaW46MCx3aWR0aDoxNDAsbWFyZ2luQm90dG9tOjIwfX0sIFxuICAgICAgICAgICAgICBcIkFtb3VudCBSYWlzZWQgIFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwIHByb2ZpbGUtYnRuc1wiLCAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIiwgXG4gICAgICAgICAgICAgIGlkOiBcImFtb3VudFJhaXNlZEJ0bnNcIiwgc3R5bGU6IHt3aWR0aDonNzQlJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBhbW91bnRSYWlzZWRCdG5cIiwgc3R5bGU6IHt3aWR0aDonMjUlJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiBcIiwgJzwgJDFNJ1xuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBhbW91bnRSYWlzZWRCdG5cIiwgc3R5bGU6IHt3aWR0aDonMjUlJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkMU0gLSAkNU1cIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBhbW91bnRSYWlzZWRCdG5cIiwgc3R5bGU6IHt3aWR0aDonMjUlJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkNU0gLSAkMjVNXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgYW1vdW50UmFpc2VkQnRuXCIsIHN0eWxlOiB7d2lkdGg6JzI1JSd9fSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDI1TSArXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuXG5cbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7ZGlzcGxheTonbm9uZScsbWFyZ2luOjAsXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTQwLG1hcmdpbkJvdHRvbToyMH19LCBcIkNvbXBhbnkgU2l6ZSBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwiLCAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIiwgaWQ6IFwiZW1wbG95ZWVCdG5zXCIsIFxuICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAxIC0gNTBcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBlbXBsb3llZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgNTAgLSAyNTBcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBlbXBsb3llZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgMjUwIC0gMTAwMFwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAxMDAwICtcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcblxuICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcIiBcIiwgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J25vbmUnLG1hcmdpbjowLHdpZHRoOjE0MH19LCBcbiAgICAgICAgICAgICAgXCJBcHByb3guIFJldmVudWUgIFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwXCIsICdkYXRhLXRvZ2dsZSc6IFwiYnV0dG9uc1wiLCBpZDogXCJyZXZlbnVlQnRuc1wiLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCByZXZlbnVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiBcIiwgJzwgJDFNJ1xuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCByZXZlbnVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkMU0gLSAkNU1cIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCByZXZlbnVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkNU0gLSAkMjVNXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgcmV2ZW51ZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDI1TSArXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gQ3JlYXRlSGlyaW5nU2lnbmFsTW9kYWxcbiAgY3JlYXRlU2lnbmFsOiBmdW5jdGlvbigpIHtcbiAgICBwcm9maWxlTmFtZSA9ICQoJy5oaXJpbmctcHJvZmlsZS1uYW1lJykudmFsKClcbiAgICBhdXRvUHJvc3BlY3QgPSAkKCcuYXV0b3Byb3NwZWN0ID4gLmFjdGl2ZScpLnRleHQoKSA9PSAgXCIgWWVzXCJcblxuICAgIGhpcmluZ1Byb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzogJ0hpcmluZ1Byb2ZpbGUnLFxuICAgICAgJ3JvbGVzJyAgICA6ICQoJy5oaXJpbmctcm9sZXMnKS50YWdzaW5wdXQoJ2l0ZW1zJylcbiAgICB9XG5cbiAgICByZXZlbnVlUHJvZmlsZSA9IHtcbiAgICAgICdjbGFzc05hbWUnOidSZXZlbnVlUHJvZmlsZScsIFxuICAgICAgJ3JldmVudWVzJzogXy5tYXAoJCgnI2hpcmluZy1yZXZlbnVlQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXZCdG4peyByZXR1cm4gJChyZXZCdG4pLnRleHQoKS50cmltKCkgfSlcbiAgICB9XG5cbiAgICBlbXBsb3llZVByb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzonRW1wbG95ZWVQcm9maWxlJywgXG4gICAgICAnZW1wbG95ZWVzJzogXy5tYXAoJCgnI2hpcmluZy1lbXBsb3llZUJ0bnMnKS5maW5kKCcuYWN0aXZlJyksIFxuICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVtcEJ0bil7IHJldHVybiAkKGVtcEJ0bikudGV4dCgpLnRyaW0oKSB9KVxuICAgIH1cblxuICAgIHByb3NwZWN0UHJvZmlsZSA9IHtcbiAgICAgICdjbGFzc05hbWUnOidQcm9zcGVjdFRpdGxlUHJvZmlsZScsXG4gICAgICAndGl0bGVfa2V5d29yZHMnIDogJCgnLnByb3NwZWN0Um9sZUtleXdvcmRzJykudGFnc2lucHV0KCdpdGVtcycpXG4gICAgfVxuXG4gICAgcHJvZmlsZXMgPSBbaGlyaW5nUHJvZmlsZSwgcmV2ZW51ZVByb2ZpbGUsIFxuICAgICAgICAgICAgICAgIGVtcGxveWVlUHJvZmlsZSwgcHJvc3BlY3RQcm9maWxlXVxuXG4gICAgbm9uZW1wdHlQcm9maWxlcyA9IF8uZmlsdGVyKHByb2ZpbGVzLCBmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICBpZihfLnZhbHVlcyhwcm9maWxlKVsxXSl7IHJldHVybiBfLnZhbHVlcyhwcm9maWxlKVsxXS5sZW5ndGggfVxuICAgIH0pO1xuXG5cbiAgICBuZXdQcm9maWxlID0ge1xuICAgICAgbmFtZTogcHJvZmlsZU5hbWUsXG4gICAgICBhdXRvUHJvc3BlY3Q6IGF1dG9Qcm9zcGVjdCxcbiAgICAgIHByb2ZpbGVzOiBub25lbXB0eVByb2ZpbGVzLFxuICAgICAgdXNlcjp7XG4gICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTonX1VzZXInLFxuICAgICAgICBvYmplY3RJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICAgIH0sXG4gICAgICBjb21wYW55OiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueVxuICAgIH1cblxuICAgIGlmKG5vbmVtcHR5UHJvZmlsZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBlcnNpc3RTaWduYWwobm9uZW1wdHlQcm9maWxlcywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgXy5vbWl0KG5ld1Byb2ZpbGUsJ3Byb2ZpbGVzJykpXG4gICAgICB0aGlzLnByb3BzLmFkZFByb2ZpbGUobmV3UHJvZmlsZSlcbiAgICAgICQoJy5tb2RhbCcpLmNsaWNrKClcbiAgICB9XG4gIH0sXG5cbiAgcGVyc2lzdFNpZ25hbDogZnVuY3Rpb24obm9uZW1wdHlQcm9maWxlcywgbmV3UHJvZmlsZSkge1xuICAgIGNvbnNvbGUubG9nKCdORVcgUFJPRklMRScpXG4gICAgY29uc29sZS5sb2cobmV3UHJvZmlsZSlcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZScsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KG5ld1Byb2ZpbGUpLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNzKSB7XG4gICAgICAgIC8vIEFkZCBTaWduYWwgTGlzdFxuICAgICAgICBfLm1hcChub25lbXB0eVByb2ZpbGVzLCBmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy8nK18udmFsdWVzKHByb2ZpbGUpWzBdLFxuICAgICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSggXy5waWNrKHByb2ZpbGUsIF8ua2V5cyhwcm9maWxlKVsxXSkgKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZS8nK3Jlc3Mub2JqZWN0SWQsXG4gICAgICAgICAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGVzOntcbiAgICAgICAgICAgICAgICAgIF9fb3A6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0czpbe1xuICAgICAgICAgICAgICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IF8udmFsdWVzKHByb2ZpbGUpWzBdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RJZDpyZXMub2JqZWN0SWRcbiAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgfSxcbiAgICB9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLWNyZWF0ZVNpZ25hbC1tb2RhbC1tZFwiLCB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgaWQ6IFwiY3JlYXRlSGlyaW5nU2lnbmFsTW9kYWxcIiwgXG4gICAgICAgICAgIHN0eWxlOiB7dG9wOic1MHB4JyxvdmVyZmxvdzonaGlkZGVuJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiwgc3R5bGU6IHt3aWR0aDo2NTB9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFwiQ3JlYXRlIEhpcmluZyBTaWduYWxcIlxuICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVwiLCBcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY3JlYXRlU2lnbmFsLCBcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6LTI4LG1hcmdpblJpZ2h0Oi01fX0sIFxuICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBTaWduYWxcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgICAgIENyZWF0ZUhpcmluZ1NpZ25hbChudWxsKVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtZm9vdGVyXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgICAgICBcIkNsb3NlXCJcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5XCJ9LCBcbiAgICAgICAgICAgICAgICAgIFwiU2VuZCBFbWFpbFwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBDcmVhdGVIaXJpbmdTaWduYWwgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdDcmVhdGVIaXJpbmdTaWduYWwnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRDb21wYW55OiBmYWxzZSxcbiAgICAgIGFkZFByb3NwZWN0OiBmYWxzZSxcbiAgICAgIGhpZGVDb21wYW55RGV0YWlsczogZmFsc2UsXG4gICAgICBoaWRlUHJvc3BlY3REZXRhaWxzOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuXG4gIH0sXG4gIFxuICB0b2dnbGVDb21wYW55IDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YWRkQ29tcGFueTogIXRoaXMuc3RhdGUuYWRkQ29tcGFueX0pXG4gIH0sXG5cbiAgdG9nZ2xlUHJvc3BlY3QgOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHthZGRQcm9zcGVjdDogIXRoaXMuc3RhdGUuYWRkUHJvc3BlY3R9KVxuICB9LFxuXG4gIHRvZ2dsZUNvbXBhbnlEZXRhaWxzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtoaWRlQ29tcGFueURldGFpbHM6ICF0aGlzLnN0YXRlLmhpZGVDb21wYW55RGV0YWlsc30pXG4gIH0sXG5cbiAgdG9nZ2xlUHJvc3BlY3REZXRhaWxzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtoaWRlUHJvc3BlY3REZXRhaWxzOiAhdGhpcy5zdGF0ZS5oaWRlUHJvc3BlY3REZXRhaWxzfSlcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzLmdldERPTU5vZGUoKSkuZmluZCgnLmhpcmluZy1yb2xlJykudGFnc2lucHV0KClcbiAgICAkKCcuYm9vdHN0cmFwLXRhZ3NpbnB1dCcpLndpZHRoKDQwMClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgYWRkQ29tcGFueSA9ICghdGhpcy5zdGF0ZS5hZGRDb21wYW55KSA/IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlQ29tcGFueSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXCLCoFwiICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWRkIENvbXBhbnkgRGV0YWlsc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IENvbXBhbnlQcm9maWxlKHtoaWRlQ29tcGFueURldGFpbHM6IHRoaXMuc3RhdGUuaGlkZUNvbXBhbnlEZXRhaWxzfSlcblxuICAgIGFkZFByb3NwZWN0ID0gKCF0aGlzLnN0YXRlLmFkZFByb3NwZWN0KSA/IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlUHJvc3BlY3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSksIFwiwqBcIiArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFkZCBQcm9zcGVjdCBEZXRhaWxzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogUHJvc3BlY3RQcm9maWxlKHtoaWRlUHJvc3BlY3REZXRhaWxzOiB0aGlzLnN0YXRlLmhpZGVQcm9zcGVjdERldGFpbHN9KVxuICAgIGFkZENvbXBhbnlTdHlsZSA9ICghdGhpcy5zdGF0ZS5hZGRDb21wYW55KSA/IHtkaXNwbGF5OidibG9jaycsdGV4dEFsaWduOidjZW50ZXInfSA6IHt9XG4gICAgYWRkUHJvc3BlY3RTdHlsZSA9ICghdGhpcy5zdGF0ZS5hZGRQcm9zcGVjdCkgPyB7ZGlzcGxheTonYmxvY2snLHRleHRBbGlnbjonY2VudGVyJ30gOiB7fVxuXG4gICAgY2xvc2VDb21wYW55QnRucyA9ICghdGhpcy5zdGF0ZS5hZGRDb21wYW55KSA/IFwiXCIgOiBSZWFjdC5ET00uc3BhbihudWxsLCBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tZGVmYXVsdFwiLCBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlQ29tcGFueSwgXG4gICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOi01fX0sIFxuICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS10aW1lc1wifSkpLCBcbiAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVDb21wYW55RGV0YWlscywgXG4gICAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOi01LG1hcmdpblJpZ2h0OjV9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6ICh0aGlzLnN0YXRlLmhpZGVDb21wYW55RGV0YWlscykgPyBcImZhIGZhLXBsdXNcIiA6XCJmYSBmYS1taW51c1wifSlcbiAgICAgICAgICApKVxuXG4gICAgY2xvc2VQcm9zcGVjdEJ0bnMgPSAoIXRoaXMuc3RhdGUuYWRkUHJvc3BlY3QpID8gXCJcIiA6IFJlYWN0LkRPTS5zcGFuKG51bGwsIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVQcm9zcGVjdCwgXG4gICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOi01fX0sIFxuICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS10aW1lc1wifSkpLCBcbiAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVQcm9zcGVjdERldGFpbHMsIFxuICAgICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblRvcDotNSxtYXJnaW5SaWdodDo1fX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiAodGhpcy5zdGF0ZS5oaWRlUHJvc3BlY3REZXRhaWxzKSA/IFwiZmEgZmEtcGx1c1wiIDpcImZhIGZhLW1pbnVzXCJ9KVxuICAgICAgICAgICkpXG5cbiAgICBjb21wYW55SGVhZGluZyA9ICghdGhpcy5zdGF0ZS5hZGRDb21wYW55KSA/IFwiXCIgOiBSZWFjdC5ET00uaDUobnVsbCwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1idWlsZGluZ1wifSksIFwiwqAgQ29tcGFueSBEZXRhaWxzXCIpXG4gICAgcHJvc3BlY3RIZWFkaW5nID0gKCF0aGlzLnN0YXRlLmFkZFByb3NwZWN0KSA/IFwiXCIgOiBSZWFjdC5ET00uaDUobnVsbCwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2VyXCJ9KSwgXCLCoCBQcm9zcGVjdCBEZXRhaWxzXCIpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5mb3JtKHtjbGFzc05hbWU6IFwiY3JlYXRlU2lnbmFsXCIsIG9uU3VibWl0OiB0aGlzLmNyZWF0ZVNpZ25hbH0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge3dpZHRoOjE0MCxkaXNwbGF5OidpbmxpbmUtYmxvY2snLG1hcmdpbkJvdHRvbToyMH19LCBcbiAgICAgICAgICAgICAgXCJIaXJpbmcgUHJvZmlsZSBOYW1lOiDCoFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBcbiAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzQxM3B4J30sIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaGlyaW5nLXByb2ZpbGUtbmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJIaXJpbmcgUHJvZmlsZSBOYW1lIC4uLlwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge3dpZHRoOjE0MCxkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgICBcIkhpcmluZyBSb2xlIE5hbWU6IMKgXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOic1MCUnLG1hcmdpblJpZ2h0OjEwfSwgXG4gICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6IFwidGFnc2lucHV0XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaGlyaW5nLXJvbGUgaGlyaW5nLXJvbGVzXCJ9KSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiLCBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge21hcmdpblRvcDoxMH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXCJBdXRvIFByb3NwZWN0OiDCoFwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cCBhdXRvcHJvc3BlY3RcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgYWN0aXZlXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInJhZGlvXCJ9KSwgXCIgWWVzXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJyYWRpb1wifSksIFwiIE5vXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmhyKG51bGwpLCBcIiBcIiwgY2xvc2VDb21wYW55QnRucywgXCIgXCIsIGNvbXBhbnlIZWFkaW5nLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZTogYWRkQ29tcGFueVN0eWxlfSwgXCIgXCIsIGFkZENvbXBhbnksIFwiIFwiKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uaHIobnVsbCksIFwiIFwiLCBjbG9zZVByb3NwZWN0QnRucywgXCIgXCIsIHByb3NwZWN0SGVhZGluZywgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IGFkZFByb3NwZWN0U3R5bGV9LCBcIiBcIiwgYWRkUHJvc3BlY3QsIFwiIFwiKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9LFxuICBjcmVhdGVTaWduYWw6IGZ1bmN0aW9uKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpIH1cbn0pO1xuXG52YXIgQ29tcGFueVByb2ZpbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdDb21wYW55UHJvZmlsZScsXG4gIGNvbXBhbnlGb3JtU3VibWl0OiBmdW5jdGlvbihlKSB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMuZ2V0RE9NTm9kZSgpKS5maW5kKCcuYnRuLWRlZmF1bHQnKS5jbGljayhmdW5jdGlvbihlKSB7XG5cbiAgICAgIGlmKCQoZS50YXJnZXQpLnBhcmVudCgnbGFiZWwnKS5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIGVsc2VcbiAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCdsYWJlbCcpLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KS5wYXJlbnQoJ2xhYmVsJykpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzaG93RGV0YWlscyA9ICh0aGlzLnByb3BzLmhpZGVDb21wYW55RGV0YWlscykgPyB7ZGlzcGxheTogJ25vbmUnfSA6IHtkaXNwbGF5OidibG9jayd9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiBzaG93RGV0YWlsc30sIFxuICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImNyZWF0ZVNpZ25hbFwiLCBvblN1Ym1pdDogdGhpcy5jb21wYW55Rm9ybVN1Ym1pdH0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbWFyZ2luOjAsXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTQwLG1hcmdpbkJvdHRvbToyMH19LCBcIkNvbXBhbnkgU2l6ZSBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwiLCAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIiwgaWQ6IFwiaGlyaW5nLWVtcGxveWVlQnRuc1wifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIDEgLSA1MFwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiA1MCAtIDI1MFwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAyNTAgLSAxMDAwXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIDEwMDAgK1wiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uaDYoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxtYXJnaW46MCx3aWR0aDoxNDB9fSwgXG4gICAgICAgICAgICAgIFwiUmV2ZW51ZSBBbW91bnQgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCIsIGlkOiBcImhpcmluZy1yZXZlbnVlQnRuc1wifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiIFwiLCAnPCAkMU0nXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkMU0gLSAkNU1cIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDVNIC0gJDI1TVwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAkMjVNICtcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuXG52YXIgUHJvc3BlY3RQcm9maWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnUHJvc3BlY3RQcm9maWxlJyxcbiAgcHJvc3BlY3RGb3JtU3VibWl0OiBmdW5jdGlvbihlKSB7IGUucHJldmVudERlZmF1bHQoKSB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAkKCcucHJvc3BlY3RSb2xlS2V5d29yZHMnKS50YWdzaW5wdXQoe1xuICAgICAgbWF4VGFnczogNSxcbiAgICB9KVxuXG4gICAgJCgnLmJvb3RzdHJhcC10YWdzaW5wdXQnKS53aWR0aCg0MDApXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzaG93RGV0YWlscyA9ICh0aGlzLnByb3BzLmhpZGVQcm9zcGVjdERldGFpbHMpID8ge2Rpc3BsYXk6ICdub25lJ30gOiB7ZGlzcGxheTonYmxvY2snfVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZTogc2hvd0RldGFpbHN9LCBcbiAgICAgICAgUmVhY3QuRE9NLmZvcm0oe2NsYXNzTmFtZTogXCJjcmVhdGVTaWduYWxcIiwgb25TdWJtaXQ6IHRoaXMucHJvc3BlY3RGb3JtU3VibWl0fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHt3aWR0aDoxNDAsZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFwiSm9iIFRpdGxlIEtleXdvcmQ6IMKgXCIpXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgICdkYXRhLXJvbGUnOiBcInRhZ3NpbnB1dFwiLCBcbiAgICAgICAgICAgICAgICAgICBzdHlsZToge3dpZHRoOic0MDBweCAhaW1wb3J0YW50J30sIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgcHJvc3BlY3RSb2xlS2V5d29yZHNcIiwgXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCJ9KVxuICAgICAgICAgIClcblxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KVxuXG4vKlxuICBGdW5kaW5nIFByb2ZpbGVcbiAgLSBBbW91bnQgUmFpc2VkXG4gIC0gU3RhZ2VcblxuICBQZW9wbGUgUHJvZmlsZVxuICAtIExvY2FsZVxuICAtIFRpdGxlXG5cbiAgQ29tcGFueSBQcm9maWxlXG4gIC0gSW5kdXN0cmllc1xuICAtIFJldmVudWVcbiAgLSBMb2NhbGVcbiAgLSAjIG9mIEVtcGxveWVlc1xuKi9cblxudmFyIEdlbmVyYWxGb3JtID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnR2VuZXJhbEZvcm0nLFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgUmVhY3QuRE9NLmZvcm0oe2NsYXNzTmFtZTogXCJjcmVhdGVTaWduYWxcIiwgb25TdWJtaXQ6IHRoaXMuY3JlYXRlU2lnbmFsfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc3VpdGNhc2VcIn0pLCBcIiDCoFwiLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonOTAlJ30sIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwiLCBwbGFjZWhvbGRlcjogXCJGaW5kIENvbXBhbmllcyBIaXJpbmcgRm9yIC4uLlwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJzXCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzkwJSd9LCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiTnVtYmVyIG9mIEVtcGxveWVlcyAuLi5cIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcIiBcIiwgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1pbnN0aXR1dGlvblwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgc3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOic5MCUnfSwgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sXCIsIHBsYWNlaG9sZGVyOiBcIkFtb3VudCBvZiBGdW5kaW5nIC4uLlwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLW1vbmV5XCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzkwJSd9LCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiUmV2ZW51ZSBBbW91bnQgLi4uXCJ9KVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXCIgXCIsIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtd3JlbmNoXCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzkwJSd9LCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiVXNpbmcgVGVjaG5vbG9naWVzIFN1Y2ggQXMuLi5cIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcIiBcIiwgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY3JlYXRlU2lnbmFsLCBcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgXCJDcmVhdGUgU2lnbmFsXCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICApXG4gIH1cbn0pXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gY3JlYXRlTGlzdE1vZGFsXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCQoJyNsaXN0VGl0bGUnKS52YWwoKSlcblxuICAgIGRhdGEgPSAge1xuICAgICAgJ25hbWUnICAgICAgICA6ICQoJyNsaXN0VGl0bGUnKS52YWwoKS50cmltKCksICAgLy9XYWl0aW5nICwgUnVubmluZ1xuICAgICAgJ3VzZXInICAgICAgICA6IHsgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOidfVXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzoneFdFU2l3NVNtZCcgfSxcbiAgICB9XG5cbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgbGlzdENsYXNzTmFtZSA9ICh0aGlzLnByb3BzLmxpc3RDbGFzc05hbWUpID8gdGhpcy5wcm9wcy5saXN0Q2xhc3NOYW1lIDogJ1Byb3NwZWN0TGlzdCdcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrbGlzdENsYXNzTmFtZSxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGEuY291bnQgPSAwXG5cbiAgICB0aGlzLnByb3BzLmNyZWF0ZUxpc3QoZGF0YSlcbiAgICBcbiAgICAkKCcjY3JlYXRlTGlzdE1vZGFsJykubW9kYWwoJ2hpZGUnKVxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpO1xuICAgIC8vJCgnYnV0dG9uLmNsb3NlJykuY2xpY2soKVxuICB9LFxuXG4gIGNyZWF0ZUxpc3RCdXR0b25DbGljazogZnVuY3Rpb24oKSB7XG4gICAgaWYoJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSAhPSBcIlwiKVxuICAgICAgdGhpcy5jcmVhdGVMaXN0KClcbiAgfSxcblxuICBjcmVhdGVNaW5pbmdKb2I6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZygnbG1hbycpXG4gICAgaWYoJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSAhPSBcIlwiKVxuICAgICAgdGhpcy5jcmVhdGVMaXN0KClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgYnMtZXhhbXBsZS1tb2RhbC1zbVwiLCB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgaWQ6IFwiY3JlYXRlTGlzdE1vZGFsXCIsIHN0eWxlOiB7dG9wOicyMDBweCd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWNvbnRlbnRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1oZWFkZXJcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImNsb3NlXCIsICdkYXRhLWRpc21pc3MnOiBcIm1vZGFsXCJ9LCBSZWFjdC5ET00uc3Bhbih7J2FyaWEtaGlkZGVuJzogXCJ0cnVlXCJ9LCBcIsOXXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJzci1vbmx5XCJ9LCBcIkNsb3NlXCIpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe2NsYXNzTmFtZTogXCJtb2RhbC10aXRsZVwiLCBpZDogXCJteU1vZGFsTGFiZWxcIn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWxpc3RcIn0pLCBcIiDCoENyZWF0ZSBMaXN0XCIpXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmNyZWF0ZU1pbmluZ0pvYn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe2lkOiBcImxpc3RUaXRsZVwiLCB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgbGlzdCB0aXRsZS4uLlwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sXCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMuY3JlYXRlTGlzdEJ1dHRvbkNsaWNrLCBwbGFjZWhvbGRlcjogXCJFbnRlciBDaXR5IEFyZWEuLi5cIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2Vzc1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFwiQ3JlYXRlIExpc3RcIilcbiAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZVNpZ25hbE1vZGFsXG4gIGNyZWF0ZVNpZ25hbDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZSBTSWduYWwgQ2FsbGVkJylcbiAgICAvLyBHZXQgTmFtZVxuICAgIHByb2ZpbGVOYW1lID0gJCgnLmhpcmluZy1wcm9maWxlLW5hbWUnKS52YWwoKVxuXG4gICAgaGlyaW5nUHJvZmlsZSA9IHtcbiAgICAgICdjbGFzc05hbWUnOiAnSGlyaW5nUHJvZmlsZScsXG4gICAgICAncm9sZXMnICAgIDogJCgnLmhpcmluZy1yb2xlJykudGFnc2lucHV0KCdpdGVtcycpLnJldmVyc2UoKVxuICAgIH1cblxuICAgIGF1dG9Qcm9zcGVjdCA9ICQoJy5hdXRvcHJvc3BlY3QgPiAuYWN0aXZlJykudGV4dCgpID09ICBcIiBZZXNcIlxuICAgIFxuICAgIHJldmVudWVQcm9maWxlID0geydjbGFzc05hbWUnOidSZXZlbnVlUHJvZmlsZScsIFxuICAgICAgICAgICAgICAgICAgICAgICdyZXZlbnVlcyc6IF8ubWFwKCQoJyNyZXZlbnVlQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJldkJ0bil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQocmV2QnRuKS50ZXh0KCkudHJpbSgpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5yZXZlcnNlKCl9XG5cbiAgICBlbXBsb3llZVByb2ZpbGUgPSB7J2NsYXNzTmFtZSc6J0VtcGxveWVlUHJvZmlsZScsIFxuICAgICAgICAgICAgICAgICAgICAgICAnZW1wbG95ZWVzJzogXy5tYXAoJCgnI2VtcGxveWVlQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbXBCdG4peyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoZW1wQnRuKS50ZXh0KCkudHJpbSgpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkucmV2ZXJzZSgpfVxuXG4gICAgcHJvc3BlY3RQcm9maWxlID0ge1xuICAgICAgJ2NsYXNzTmFtZSc6J1Byb3NwZWN0VGl0bGVQcm9maWxlJyxcbiAgICAgICd0aXRsZV9rZXl3b3JkcycgOiAkKCcucHJvc3BlY3RSb2xlS2V5d29yZHMnKS50YWdzaW5wdXQoJ2l0ZW1zJykucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFByb2ZpbGUnLFxuICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7bmFtZTpwcm9maWxlTmFtZSwgYXV0b1Byb3NwZWN0OmF1dG9Qcm9zcGVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX190eXBlOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J19Vc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RJZDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnlcbiAgICAgIH0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNzKSB7XG4gICAgICAgIC8vIEFkZCBTaWduYWwgTGlzdFxuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0hpcmluZ1Byb2ZpbGUnLFxuICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgdHlwZTonUE9TVCcsXG4gICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7cm9sZXM6IGhpcmluZ1Byb2ZpbGUucm9sZXN9KSxcbiAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZS8nK3Jlc3Mub2JqZWN0SWQsXG4gICAgICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGVzOntcbiAgICAgICAgICAgICAgICBfX29wOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgICAgICAgICBvYmplY3RzOlt7XG4gICAgICAgICAgICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidIaXJpbmdQcm9maWxlJyxcbiAgICAgICAgICAgICAgICAgIG9iamVjdElkOnJlcy5vYmplY3RJZFxuICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLy9DcmVhdGUgUHJvc3BlY3QgUHJvZmlsZVxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9SZXZlbnVlUHJvZmlsZScsXG4gICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICB0eXBlOidQT1NUJyxcbiAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHtyZXZlbnVlczogcmV2ZW51ZVByb2ZpbGUucmV2ZW51ZXN9KSxcbiAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZS8nK3Jlc3Mub2JqZWN0SWQsXG4gICAgICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGVzOntcbiAgICAgICAgICAgICAgICBfX29wOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgICAgICAgICBvYmplY3RzOlt7XG4gICAgICAgICAgICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidSZXZlbnVlUHJvZmlsZScsXG4gICAgICAgICAgICAgICAgICBvYmplY3RJZDpyZXMub2JqZWN0SWRcbiAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC8vQ3JlYXRlIEVtcGxveWVlIFByb2ZpbGVcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvRW1wbG95ZWVQcm9maWxlJyxcbiAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe2VtcGxveWVlczogZW1wbG95ZWVQcm9maWxlLmVtcGxveWVlc30pLFxuICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RQcm9maWxlLycrcmVzcy5vYmplY3RJZCxcbiAgICAgICAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7cHJvZmlsZXM6e1xuICAgICAgICAgICAgICAgIF9fb3A6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgICAgIG9iamVjdHM6W3tcbiAgICAgICAgICAgICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J0VtcGxveWVlUHJvZmlsZScsXG4gICAgICAgICAgICAgICAgICBvYmplY3RJZDpyZXMub2JqZWN0SWRcbiAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC8vQ3JlYXRlIFJldmVudWUgUHJvZmlsZVxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFRpdGxlUHJvZmlsZScsXG4gICAgICAgICAgdHlwZTonUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHt0aXRsZV9rZXl3b3JkczogcHJvc3BlY3RQcm9maWxlLnRpdGxlX2tleXdvcmRzfSksXG4gICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFByb2ZpbGUvJytyZXNzLm9iamVjdElkLFxuICAgICAgICAgICAgICB0eXBlOidQVVQnLFxuICAgICAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHtwcm9maWxlczp7XG4gICAgICAgICAgICAgICAgX19vcDogJ0FkZFVuaXF1ZScsXG4gICAgICAgICAgICAgICAgb2JqZWN0czpbe1xuICAgICAgICAgICAgICAgICAgX190eXBlOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonUHJvc3BlY3RUaXRsZVByb2ZpbGUnLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0SWQ6cmVzLm9iamVjdElkXG4gICAgICAgICAgICAgICAgfV19XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgbmV3UHJvZmlsZSA9IHtcbiAgICAgIG5hbWU6IHByb2ZpbGVOYW1lLFxuICAgICAgYXV0b1Byb3NwZWN0OiBhdXRvUHJvc3BlY3QsXG4gICAgICBwcm9maWxlczogW1xuICAgICAgICBwcm9zcGVjdFByb2ZpbGUsXG4gICAgICAgIHJldmVudWVQcm9maWxlLFxuICAgICAgICBlbXBsb3llZVByb2ZpbGUsXG4gICAgICAgIGhpcmluZ1Byb2ZpbGVcbiAgICAgIF1cbiAgICB9XG4gICAgY29uc29sZS5sb2cobmV3UHJvZmlsZSlcblxuICAgIHRoaXMucHJvcHMuYWRkUHJvZmlsZShuZXdQcm9maWxlKVxuICB9LFxuXG4gIHVwZGF0ZURhdGU6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZighJChlLnRhcmdldCkuaGFzQ2xhc3MoJ25vLWhvdmVyJykpe1xuICAgICAgJChlLnRhcmdldCkuYWRkQ2xhc3MoJ2xpc3QtZ3JvdXAtaXRlbS1zdWNjZXNzJylcbiAgICAgICQoZS50YXJnZXQpLmFkZENsYXNzKCduby1ob3ZlcicpXG4gICAgICAkKGUudGFyZ2V0KS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtc3VjY2Vzc1wiIHN0eWxlPVwiZmxvYXQ6cmlnaHQ7XCI+RG93bmxvYWRpbmcuLi48L3NwYW4+JylcblxuICAgICAgLy9zZXRUaW1lb3V0KCQoJy5tb2RhbCcpLmNsaWNrKCksIDUwMClcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBkYXRlcyA9IFtdXG4gICAgZm9yKGk9MDtpPCA1MjsgaSsrKSB7ICBcbiAgICAgIGZpcnN0ID0gbW9tZW50KCkuc3VidHJhY3QoaSo3LCAnZGF5cycpLmZvcm1hdCgnbGwnKVxuICAgICAgc2Vjb25kID0gbW9tZW50KCkuc3VidHJhY3QoKGkrMSkqNywgJ2RheXMnKS5mb3JtYXQoJ2xsJylcbiAgICAgIGRhdGUgPSBmaXJzdCtcIiAtIFwiK3NlY29uZFxuICAgICAgZGF0ZSA9IHNlY29uZCtcIiAtIFwiK2ZpcnN0XG5cbiAgICAgIGRhdGVzLnB1c2goXG4gICAgICAgIFJlYWN0LkRPTS5saSh7b25DbGljazogdGhpcy51cGRhdGVEYXRlLCBcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LWdyb3VwLWl0ZW0gZG93bmxvYWQtZGF0ZVwifSwgZGF0ZSlcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgYnMtY3JlYXRlTWluaW5nSm9iLW1vZGFsLW1kXCIsIFxuICAgICAgICAgICB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCBcbiAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIFxuICAgICAgICAgICBpZDogXCJjcmVhdGVNaW5pbmdKb2JNb2RhbFwiLCBcbiAgICAgICAgICAgc3R5bGU6IHt0b3A6JzUwcHgnLG92ZXJmbG93OidoaWRkZW4nfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIsIHN0eWxlOiB7d2lkdGg6MzUwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1oZWFkZXJcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe2NsYXNzTmFtZTogXCJtb2RhbC10aXRsZVwiLCBpZDogXCJteU1vZGFsTGFiZWxcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2xvdWQtZG93bmxvYWRcIn0pLCBcIsKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICAgIFwiRG93bmxvYWQgUHJvc3BlY3RzXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXCIsIFxuICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNyZWF0ZVNpZ25hbCwgXG4gICAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6LTI4LFxuICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0Oi01LGRpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgICAgICBcIkRvd25sb2FkXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG5cbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwibGlzdC1ncm91cCBkYXRlLWRvd25sb2FkLXByb3NwZWN0c1wiLCBcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7aGVpZ2h0OjQwMCxvdmVyZmxvdzonYXV0bycsXG4gICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206J3NvbGlkIDFweCAjZGRkJyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjoncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICBib3JkZXJUb3A6J3NvbGlkIDFweCAjZGRkJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luOjB9fSwgZGF0ZXMpXG4gICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1mb290ZXJcIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgICAgXCJDbG9zZVwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5XCJ9LCBcbiAgICAgICAgICAgICAgICBcIlNlbmQgRW1haWxcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgXG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZUNvbXBhbnlQcm9maWxlTW9kYWxcbiAgY3JlYXRlUHJvZmlsZTogZnVuY3Rpb24oKSB7XG4gICAgcHJvZmlsZU5hbWUgPSAkKFwiLnByb2ZpbGVOYW1lXCIpLnZhbCgpXG5cbiAgICB0aXRsZVByb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzogJ1Byb3NwZWN0VGl0bGVQcm9maWxlJyxcbiAgICAgICd0aXRsZV9rZXl3b3JkcycgICAgOiAkKCcucHJvc3BlY3QtcHJvZmlsZS10aXRsZScpLnRhZ3NpbnB1dCgnaXRlbXMnKS5yZXZlcnNlKClcbiAgICB9XG5cbiAgICAvKlxuICAgIGxvY2F0aW9uUHJvZmlsZSA9IHtcbiAgICAgICdjbGFzc05hbWUnOiAnTG9jYXRpb25Qcm9maWxlJyxcbiAgICAgICdsb2NhbGUnICAgIDogJCgnLnByb3NwZWN0LWxvY2F0aW9uLXByb2ZpbGUnKS50YWdzaW5wdXQoJ2l0ZW1zJykucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgY29tcGFueVNpemVQcm9maWxlID0ge1xuICAgICAgJ2NsYXNzTmFtZSc6J0VtcGxveWVlUHJvZmlsZScsIFxuICAgICAgJ2VtcGxveWVlcyc6IF8ubWFwKCQoJyNwcm9zcGVjdC1wcm9maWxlLWNvbXBhbnlTaXplQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXZCdG4peyByZXR1cm4gJChyZXZCdG4pLnRleHQoKS50cmltKCkgfSkucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgcmV2ZW51ZVByb2ZpbGUgPSB7XG4gICAgICAnY2xhc3NOYW1lJzonUmV2ZW51ZVByb2ZpbGUnLCBcbiAgICAgICdyZXZlbnVlcyc6IF8ubWFwKCQoJyNwcm9zcGVjdC1wcm9maWxlLWNvbXBhbnlSZXZlbnVlQnRucycpLmZpbmQoJy5hY3RpdmUnKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXZCdG4peyByZXR1cm4gJChyZXZCdG4pLnRleHQoKS50cmltKCkgfSkucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgcHJvZmlsZXMgPSBbdGl0bGVQcm9maWxlLCBsb2NhdGlvblByb2ZpbGUsXG4gICAgICAgICAgICAgICAgY29tcGFueVNpemVQcm9maWxlLCByZXZlbnVlUHJvZmlsZV1cbiAgICAqL1xuICAgIHByb2ZpbGVzID0gW3RpdGxlUHJvZmlsZV1cblxuICAgIG5vbmVtcHR5UHJvZmlsZXMgPSBfLmZpbHRlcihwcm9maWxlcywgZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgaWYoXy52YWx1ZXMocHJvZmlsZSlbMV0peyByZXR1cm4gXy52YWx1ZXMocHJvZmlsZSlbMV0ubGVuZ3RoIH1cbiAgICB9KTtcblxuICAgIG5ld1Byb2ZpbGUgPSB7XG4gICAgICBuYW1lOiBwcm9maWxlTmFtZSxcbiAgICAgIC8vYXV0b1Byb3NwZWN0OiBhdXRvUHJvc3BlY3QsXG4gICAgICBwcm9maWxlczogbm9uZW1wdHlQcm9maWxlcyxcbiAgICAgIHR5cGU6ICdwcm9zcGVjdF9wcm9maWxlJyxcbiAgICAgIG1pbmluZ19qb2I6dHJ1ZSxcbiAgICAgIHVzZXI6e1xuICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6J19Vc2VyJyxcbiAgICAgICAgb2JqZWN0SWQ6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLm9iamVjdElkXG4gICAgICB9LFxuICAgICAgY29tcGFueTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnlcbiAgICB9XG5cbiAgICBpZihub25lbXB0eVByb2ZpbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5wZXJzaXN0U2lnbmFsKG5vbmVtcHR5UHJvZmlsZXMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgIF8ub21pdChuZXdQcm9maWxlLCdwcm9maWxlcycpKVxuICAgICAgdGhpcy5wcm9wcy5hZGRQcm9maWxlKG5ld1Byb2ZpbGUpXG4gICAgICAkKCcubW9kYWwnKS5jbGljaygpXG4gICAgICAkKCcucHJvc3BlY3QtcHJvZmlsZS10aXRsZScpLnZhbCgnJylcbiAgICB9XG4gIH0sXG5cbiAgcGVyc2lzdFNpZ25hbDogZnVuY3Rpb24obm9uZW1wdHlQcm9maWxlcywgbmV3UHJvZmlsZSkge1xuICAgIGNvbnNvbGUubG9nKCdORVcgUFJPRklMRScpXG4gICAgY29uc29sZS5sb2cobmV3UHJvZmlsZSlcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZScsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KG5ld1Byb2ZpbGUpLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNzKSB7XG4gICAgICAgIC8vIENyZWF0ZSBTaWduYWwgTGlzdCAtPiAgVXBkYXRlIFByb3NwZWN0IFByb2ZpbGVcbiAgICAgICAgbmV3UHJvZmlsZS51c2VyID0ge1xuICAgICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTonX1VzZXInLFxuICAgICAgICAgIG9iamVjdElkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICAgICAgfVxuICAgICAgICBuZXdQcm9maWxlLmNvbXBhbnkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueVxuICAgICAgICBpZihuZXdQcm9maWxlLnR5cGUgPT0gJ3Byb3NwZWN0X3Byb2ZpbGUnKVxuICAgICAgICAgIG5ld1Byb2ZpbGUubWluaW5nX2pvYl9saXN0ID0gdHJ1ZVxuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QnLFxuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiBhcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KF8ucGljayhuZXdQcm9maWxlLCAnbmFtZScsJ3VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb21wYW55JywnbWluaW5nX2pvYl9saXN0JykpLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZS8nK3Jlc3Mub2JqZWN0SWQsXG4gICAgICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7ICdwcm9zcGVjdF9saXN0Jzp7IF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J1Byb3NwZWN0TGlzdCcsb2JqZWN0SWQ6cmVzLm9iamVjdElkIH0gfSksXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7IGNvbnNvbGUubG9nKHJlcykgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycil7IGNvbnNvbGUubG9nKGVycikgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFN0YXJ0IE1pbmluZyBKb2JcbiAgICAgICAgaWYobmV3UHJvZmlsZS50eXBlID09ICdwcm9zcGVjdF9wcm9maWxlJykge1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6J2h0dHBzOi8vbmFtZWxlc3MtcmV0cmVhdC0zNTI1Lmhlcm9rdWFwcC5jb20vdGl0bGVfbWluaW5nX2pvYicsXG4gICAgICAgICAgICAvL3VybDonaHR0cDovLzEyNy4wLjAuMTo1MDAwL3RpdGxlX21pbmluZ19qb2InLFxuICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgIGRhdGE6IHtwcm9zcGVjdF9wcm9maWxlOiByZXNzLm9iamVjdElkfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykgeyBjb25zb2xlLmxvZyhyZXMpIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUubG9nKGVycikgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgUHJvZmlsZXNcbiAgICAgICAgXy5tYXAobm9uZW1wdHlQcm9maWxlcywgZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvJytfLnZhbHVlcyhwcm9maWxlKVswXSxcbiAgICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICB0eXBlOidQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoIF8ucGljayhwcm9maWxlLCBfLmtleXMocHJvZmlsZSlbMV0pICksXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFByb2ZpbGUvJytyZXNzLm9iamVjdElkLFxuICAgICAgICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHtwcm9maWxlczp7XG4gICAgICAgICAgICAgICAgICBfX29wOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgICAgICAgICAgIG9iamVjdHM6W3tcbiAgICAgICAgICAgICAgICAgICAgX190eXBlOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBfLnZhbHVlcyhwcm9maWxlKVswXSxcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0SWQ6cmVzLm9iamVjdElkXG4gICAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIFwiLCB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCBcbiAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIFxuICAgICAgICAgICBpZDogXCJjcmVhdGVQcm9zcGVjdFByb2ZpbGVNb2RhbFwiLCBcbiAgICAgICAgICAgc3R5bGU6IHt0b3A6JzUwcHgnLG92ZXJmbG93OidoaWRkZW4nfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiLCBzdHlsZToge3dpZHRoOjY1MH19LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWNvbnRlbnRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1oZWFkZXJcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgXCJDcmVhdGUgUHJvc3BlY3QgUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXCIsIFxuICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jcmVhdGVQcm9maWxlLCBcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6LTI4LG1hcmdpblJpZ2h0Oi01fX0sIFxuICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBQcm9maWxlXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBDcmVhdGVIaXJpbmdTaWduYWwobnVsbClcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWZvb3RlclwiLCBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgICAgICAgXCJDbG9zZVwiXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeVwifSwgXG4gICAgICAgICAgICAgICAgICBcIlNlbmQgRW1haWxcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICk7XG4gIH0sXG4gIGNyZWF0ZUNvbXBhbnlQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgfSxcbn0pO1xuXG52YXIgQ3JlYXRlSGlyaW5nU2lnbmFsID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ3JlYXRlSGlyaW5nU2lnbmFsJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkQ29tcGFueTogZmFsc2UsXG4gICAgICBhZGRQcm9zcGVjdDogZmFsc2UsXG4gICAgICBoaWRlQ29tcGFueURldGFpbHM6IGZhbHNlLFxuICAgICAgaGlkZVByb3NwZWN0RGV0YWlsczogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblxuICB9LFxuICBcbiAgdG9nZ2xlQ29tcGFueSA6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2FkZENvbXBhbnk6ICF0aGlzLnN0YXRlLmFkZENvbXBhbnl9KVxuICB9LFxuXG4gIHRvZ2dsZVByb3NwZWN0IDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YWRkUHJvc3BlY3Q6ICF0aGlzLnN0YXRlLmFkZFByb3NwZWN0fSlcbiAgfSxcblxuICB0b2dnbGVDb21wYW55RGV0YWlsczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aGlkZUNvbXBhbnlEZXRhaWxzOiAhdGhpcy5zdGF0ZS5oaWRlQ29tcGFueURldGFpbHN9KVxuICB9LFxuXG4gIHRvZ2dsZVByb3NwZWN0RGV0YWlsczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aGlkZVByb3NwZWN0RGV0YWlsczogIXRoaXMuc3RhdGUuaGlkZVByb3NwZWN0RGV0YWlsc30pXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIF8ubWFwKCQoJy5oaXJpbmctcm9sZScpLGZ1bmN0aW9uKGlucHV0KXskKGlucHV0KS50YWdzaW5wdXQoKX0pXG4gICAgJCh0aGlzLmdldERPTU5vZGUoKSkuZmluZCgnLmhpcmluZy1yb2xlJykudGFnc2lucHV0KClcbiAgICAkKCcuYm9vdHN0cmFwLXRhZ3NpbnB1dCcpLndpZHRoKCc1OS4xJScpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImNyZWF0ZVNpZ25hbFwiLCBvblN1Ym1pdDogdGhpcy5jcmVhdGVQcm9maWxlfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jaycsbWFyZ2luQm90dG9tOjIwfX0sIFxuICAgICAgICAgICAgICBcIlByb3NwZWN0IFByb2ZpbGUgTmFtZTogwqBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOic3My4xJSd9LCBcbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGhpcmluZy1wcm9maWxlLW5hbWUgcHJvZmlsZU5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiUHJvc3BlY3QgUHJvZmlsZSBOYW1lIC4uLlwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxtYXJnaW5Cb3R0b206LTEwfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge3dpZHRoOjE0MCxkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgICBcIlRpdGxlOiDCoFwiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonNzMuMSUnLG1hcmdpblJpZ2h0OjEwfSwgXG4gICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6IFwidGFnc2lucHV0XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaGlyaW5nLXJvbGUgcHJvc3BlY3QtcHJvZmlsZS10aXRsZVwifSksIFxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtkaXNwbGF5OidibG9jaycsbWFyZ2luQm90dG9tOi0xMH19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHt3aWR0aDoxNDAsZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgIFwiTG9jYXRpb246IMKgXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5Oidub25lJyx3aWR0aDonNzMuMSUnLG1hcmdpblJpZ2h0OjEwfSwgXG4gICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6IFwidGFnc2lucHV0XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgcHJvc3BlY3QtbG9jYXRpb24tcHJvZmlsZS10bXBcIn0pLCBcblxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2Rpc3BsYXk6J25vbmUnLG1hcmdpbkJvdHRvbTotMTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7d2lkdGg6MTQwLGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICAgIFwiSW5kdXN0cmllczogwqBcIlxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBcbiAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzczLjElJyxtYXJnaW5SaWdodDoxMH0sIFxuICAgICAgICAgICAgICAgICAgICdkYXRhLXJvbGUnOiBcInRhZ3NpbnB1dFwiLCBcbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIFwifSksIFxuXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBDb21wYW55UHJvZmlsZShudWxsKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7bWFyZ2luVG9wOjEwfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge3dpZHRoOjE0MCxkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFwiQXV0byBQcm9zcGVjdDogwqBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cCBhdXRvcHJvc3BlY3RcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBhY3RpdmVcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJyYWRpb1wifSksIFwiIFllc1wiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwicmFkaW9cIn0pLCBcIiBOb1wiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfSxcbiAgY3JlYXRlU2lnbmFsOiBmdW5jdGlvbihlKSB7IGUucHJldmVudERlZmF1bHQoKSB9XG59KTtcblxudmFyIENvbXBhbnlQcm9maWxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ29tcGFueVByb2ZpbGUnLFxuICBjb21wYW55Rm9ybVN1Ym1pdDogZnVuY3Rpb24oZSkgeyBlLnByZXZlbnREZWZhdWx0KCkgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzLmdldERPTU5vZGUoKSkuZmluZCgnLmJ0bi1kZWZhdWx0JykuY2xpY2soZnVuY3Rpb24oZSkge1xuXG4gICAgICBpZigkKGUudGFyZ2V0KS5wYXJlbnQoJ2xhYmVsJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKVxuICAgICAgICAkKGUudGFyZ2V0KS5wYXJlbnQoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICBlbHNlXG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgY29uc29sZS5sb2coJChlLnRhcmdldCkucGFyZW50KCdsYWJlbCcpKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLG1hcmdpbjowLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjE0MCxtYXJnaW5Cb3R0b206MjB9fSwgXCJDb21wYW55IFNpemUgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwiLCAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHt3aWR0aDonNzMuNSUnfSwgaWQ6IFwicHJvc3BlY3QtcHJvZmlsZS1jb21wYW55U2l6ZUJ0bnNcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAxIC0gNTBcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBlbXBsb3llZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgNTAgLSAyNTBcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBlbXBsb3llZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgMjUwIC0gMTAwMFwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IGVtcGxveWVlQnRuXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcIiAxMDAwICtcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcIiBcIiwgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbWFyZ2luOjAsd2lkdGg6MTQwfX0sIFxuICAgICAgICAgICAgICBcIkFwcHJveC4gUmV2ZW51ZSAgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgJ2RhdGEtdG9nZ2xlJzogXCJidXR0b25zXCIsIFxuICAgICAgICAgICAgICBzdHlsZToge3dpZHRoOic3My41JSd9LCBpZDogXCJwcm9zcGVjdC1wcm9maWxlLWNvbXBhbnlSZXZlbnVlQnRuc1wifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgcmV2ZW51ZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgXCIsICc8ICQxTSdcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgcmV2ZW51ZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDFNIC0gJDVNXCJcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgcmV2ZW51ZUJ0blwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXCIgJDVNIC0gJDI1TVwiXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogXCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0IHJldmVudWVCdG5cIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFwiICQyNU0gK1wiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcblxudmFyIFByb3NwZWN0UHJvZmlsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1Byb3NwZWN0UHJvZmlsZScsXG4gIHByb3NwZWN0Rm9ybVN1Ym1pdDogZnVuY3Rpb24oZSkgeyBlLnByZXZlbnREZWZhdWx0KCkgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCgnLnByb3NwZWN0Um9sZUtleXdvcmRzJykudGFnc2lucHV0KHtcbiAgICAgIG1heFRhZ3M6IDUsXG4gICAgfSlcbiAgICAkKCcuYm9vdHN0cmFwLXRhZ3NpbnB1dCcpLndpZHRoKDQwMClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHNob3dEZXRhaWxzID0gKHRoaXMucHJvcHMuaGlkZVByb3NwZWN0RGV0YWlscykgPyB7ZGlzcGxheTogJ25vbmUnfSA6IHtkaXNwbGF5OidibG9jayd9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiBzaG93RGV0YWlsc30sIFxuICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImNyZWF0ZVNpZ25hbFwiLCBvblN1Ym1pdDogdGhpcy5wcm9zcGVjdEZvcm1TdWJtaXR9LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge3dpZHRoOjE0MCxkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgXCJKb2IgVGl0bGUgS2V5d29yZDogwqBcIilcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcInRleHRcIiwgXG4gICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6IFwidGFnc2lucHV0XCIsIFxuICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7d2lkdGg6JzQwMHB4ICFpbXBvcnRhbnQnfSwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBwcm9zcGVjdFJvbGVLZXl3b3Jkc1wiLCBcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIn0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KVxuIiwiLyoqIEBqc3ggcmVhY3QuZG9tICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCgnLnRlbXBsYXRlLWJvZHknKS5odG1sKHRoaXMuc3RhdGUudGVtcGxhdGVCb2R5KVxuICB9LFxuXG4gIGNsaWNrZWRPdmVybGF5OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnY2xpY2tlZCBvdmVybGF5JylcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUoKVxuICB9LFxuXG4gIGNoYW5nZU1vZGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB0ZW1wbGF0ZSBodG1sIG9uIHRvZ2dsZVxuICAgIGNvbnNvbGUubG9nKCdFRElUIE1PREUnKVxuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuZWRpdE1vZGUpXG4gICAgcGFyc2VfaGVhZGVycyA9IGFwcENvbmZpZy5wYXJzZUhlYWRlcnNcbiAgICBpZih0aGlzLnN0YXRlLmVkaXRNb2RlKXtcbiAgICAgICQoJy5zdW1tZXInKS5kZXN0cm95KCk7XG4gICAgICB0aGlzLnByb3BzLnNhdmVUZW1wbGF0ZSh7XG4gICAgICAgIG5hbWU6IHRoaXMuc3RhdGUubmFtZSxcbiAgICAgICAgdGVtcGxhdGVCb2R5OiAkKCcuc3VtbWVyJykuY29kZSgpLFxuICAgICAgICB0ZW1wbGF0ZVN1YmplY3Q6ICQoJy5zdWJqZWN0JykudmFsKCksXG4gICAgICB9KVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRlbXBsYXRlQm9keTogJCgnLnN1bW1lcicpLmNvZGUoKSxcbiAgICAgICAgdGVtcGxhdGVTdWJqZWN0OiAkKCcuc3ViamVjdCcpLnZhbCgpLFxuICAgICAgICBlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUsXG4gICAgICB9KVxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1RlbXBsYXRlcy8nK3RoaXMucHJvcHMuaW5pdGlhbFRlbXBsYXRlVmFsdWVzLm9iamVjdElkLFxuICAgICAgICB0eXBlOidQVVQnLFxuICAgICAgICBoZWFkZXJzOnBhcnNlX2hlYWRlcnMsXG4gICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoe2JvZHk6ICQoJy5zdW1tZXInKS5jb2RlKCksc3ViamVjdDogJCgnLnN1YmplY3QnKS52YWwoKX0pLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdE1vZGU6ICF0aGlzLnN0YXRlLmVkaXRNb2RlIH0pXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgLyogdGhpc3MgPSB0aGlzOyAqL1xuXG4gICAgY29uc29sZS5sb2coJ09USEVSJylcbiAgICBpZih0aGlzLnN0YXRlLmVkaXRNb2RlKXtcbiAgICAgIGNvbnNvbGUubG9nKCdDQUxMRUQnKVxuICAgICAgLy8gUmVwbGFjZSBTdWJqZWN0IFxuICAgICAgJCgnLnN1YmplY3QnKS52YWwodGhpcy5zdGF0ZS50ZW1wbGF0ZVN1YmplY3QpXG5cbiAgICAgICQoJy5zdW1tZXInKS5zdW1tZXJub3RlKHtcbiAgICAgICAgaGVpZ2h0OiAyMDAsXG4gICAgICAgIHRvb2xiYXI6IFtcbiAgICAgICAgICBbJ3N0eWxlJywgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnY2xlYXInXV0sXG4gICAgICAgICAgWydmb250JywgWydzdHJpa2V0aHJvdWdoJ11dLFxuICAgICAgICAgIFsnZm9udHNpemUnLCBbJ2ZvbnRzaXplJ11dLFxuICAgICAgICAgIFsnY29sb3InLCBbJ2NvbG9yJ11dLFxuICAgICAgICAgIFsncGFyYScsIFsndWwnLCAnb2wnLCAncGFyYWdyYXBoJ11dLFxuICAgICAgICAgIFsnaGVpZ2h0JywgWydoZWlnaHQnXV0sXG4gICAgICAgIF1cbiAgICAgIH0pXG5cbiAgICAgIC8vIEluaXRpYWxpemUgRWRpdG9yIHdpdGggaHRtbFxuICAgICAgJCgnLnN1bW1lcicpLmNvZGUodGhpcy5zdGF0ZS50ZW1wbGF0ZUJvZHkpXG4gICAgfVxuICB9LFxuXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzdWJqZWN0UGxhY2UgPSAodGhpcy5zdGF0ZS5lZGl0TW9kZSkgPyByZWFjdC5kb20uaW5wdXQoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lJyx3aWR0aDo0ODB9LCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIHN1YmplY3RcIn0pIDogdGhpcy5zdGF0ZS50ZW1wbGF0ZVN1YmplY3RcblxuICAgIGlmKHRoaXMuc3RhdGUuZWRpdE1vZGUpe1xuICAgICAgIHRvZ2dsZUJ1dHRvbiA9IHJlYWN0LmRvbS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTW9kZSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6NX19LCBcbiAgICAgICAgICAgIHJlYWN0LmRvbS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc2F2ZVwifSksIFwiIMKgIFNhdmUgVGVtcGxhdGVcIilcbiAgICB9IGVsc2Uge1xuICAgICAgIHRvZ2dsZUJ1dHRvbiA9IHJlYWN0LmRvbS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTW9kZSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4teHNcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6NX19LCBcbiAgICAgICAgICAgIHJlYWN0LmRvbS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsLXNxdWFyZVwifSksIFwiIMKgIEVkaXQgVGVtcGxhdGVcIilcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgcmVhY3QuZG9tLmRpdihudWxsLCBcbiAgICAgIHJlYWN0LmRvbS5kaXYoe29uQ2xpY2s6IHRoaXMuY2xpY2tlZE92ZXJsYXksIGlkOiBcImVkaXRUZW1wbGF0ZU92ZXJsYXlcIn0pLCBcbiAgICAgIHJlYWN0LmRvbS5kaXYoe2lkOiBcImVkaXRUZW1wbGF0ZVZpZXdcIiwgXG4gICAgICAgICAgIGNsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1pbmZvXCIsIFxuICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJ319LCBcbiAgICAgICAgICAgcmVhY3QuZG9tLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWhlYWRpbmdcIiwgc3R5bGU6IHtoZWlnaHQ6NTB9fSwgXG4gICAgICAgICAgICAgcmVhY3QuZG9tLmg2KHtzdHlsZToge2Zsb2F0OidsZWZ0J319LCBcbiAgICAgICAgICAgICAgIHJlYWN0LmRvbS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZmlsZS10ZXh0LW9cIn0pLCBcbiAgICAgICAgICAgICAgIFwiICBcIiArIHRoaXMucHJvcHMuaW5pdGlhbFRlbXBsYXRlVmFsdWVzLm5hbWVcbiAgICAgICAgICAgICApLCBcbiAgICAgICAgICB0b2dnbGVCdXR0b25cbiAgICAgICAgKSwgXG4gICAgICAgIHJlYWN0LmRvbS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICByZWFjdC5kb20uZGl2KHtjbGFzc05hbWU6IFwiZWRpdFRlbXBsYXRlVGl0bGVcIn0sIFxuICAgICAgICAgICAgcmVhY3QuZG9tLnNwYW4obnVsbCwgXCJTdWJqZWN0OiBcIiksIFxuICAgICAgICAgICAgc3ViamVjdFBsYWNlXG4gICAgICAgICAgKSwgXG4gICAgICAgICByZWFjdC5kb20uYnIobnVsbCksIFxuICAgICAgICAgcmVhY3QuZG9tLmRpdih7Y2xhc3NOYW1lOiBcInRlbXBsYXRlRGV0YWlsc1wifSwgXG4gICAgICAgICAgIHJlYWN0LmRvbS5oNih7c3R5bGU6IHttYXJnaW5Cb3R0b206JzAnfSwgY2xhc3NOYW1lOiBcInRleHQtbXV0ZWRcIn0sIFxuICAgICAgICAgICAgIFwiQ3JlYXRlZCBieSBNYXJrIG9uIEp1bC4gMjEsIDIwMTRcIlxuICAgICAgICAgICApLCBcbiAgICAgICAgICAgcmVhY3QuZG9tLmg2KHtzdHlsZToge21hcmdpblRvcDonMCd9LCBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXG4gICAgICAgICAgICAgXCJsYXN0IHVwZGF0ZWQgNyBkYXlzIGFnb1wiXG4gICAgICAgICAgIClcbiAgICAgICAgICksIFxuICAgICAgICByZWFjdC5kb20uYnIobnVsbCksIFxuICAgICAgICByZWFjdC5kb20uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwifSwgXG4gICAgICAgICAgcmVhY3QuZG9tLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHkgc3VtbWVyIHRlbXBsYXRlLWJvZHlcIn1cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICApXG4pXG4pXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gRGF0YVJvd1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7IH1cbiAgfSxcblxuICBjbGlja0NoZWNrOiBmdW5jdGlvbigpIHtcbiAgICBkb21Ob2RlID0gdGhpcy5nZXRET01Ob2RlKClcbiAgICBpc0NoZWNrZWQgPSAkKCQoZG9tTm9kZSkuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylbMF0pLnByb3AoJ2NoZWNrZWQnKVxuICAgIC8vY29uc29sZS5sb2coaXNDaGVja2VkKVxuICAgIHRoaXMuc2V0U3RhdGUoe2NoZWNrZWQ6IGlzQ2hlY2tlZH0pXG4gICAgdGhpcy5wcm9wcy5jaGVja2JveEFjdGlvbihpc0NoZWNrZWQsIHRoaXMucHJvcHMucHJvc3BlY3Qub2JqZWN0SWQpXG4gIH0sXG5cbiAgcm93Q2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICQoJCh0aGlzLmdldERPTU5vZGUoKSkuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylbMF0pLmNsaWNrKClcbiAgfSxcblxuICBrZXlib2FyZENsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAkKCQoJy5rZXlTZWxlY3QnKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKVswXSkuY2xpY2soKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHsgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGtleWJvYXJkU2VsZWN0ZWQgPSB7Ym9yZGVyTGVmdDonN3B4IHNvbGlkIHJnYmEoMCwwLDAsMCknfVxuICAgIHRoaXNzc3MgPSB0aGlzXG4gICAgaWYodGhpcy5wcm9wcy5rZXlib2FyZFNlbGVjdGVkKSB7XG4gICAgICAvLyBBZGp1c3QgU2Nyb2xsIGRlcGVuZGluZyBvbiB3aGVyZSB0aGUgcHJvc3BlY3QgaXNcbiAgICAgIGtleWJvYXJkU2VsZWN0ZWQgPSB7Ym9yZGVyTGVmdDonN3B4IHNvbGlkICMwMDk2ZmYgIWltcG9ydGFudCd9XG4gICAgICBNb3VzZXRyYXAudW5iaW5kKCd4JylcbiAgICAgIE1vdXNldHJhcC5iaW5kKCd4JywgZnVuY3Rpb24oKSB7IFxuICAgICAgICB0aGlzc3NzLmtleWJvYXJkQ2xpY2soKVxuICAgICAgICBpZih0aGlzc3NzLnN0YXRlLmNoZWNrZWQpXG4gICAgICAgICAgY29uc29sZS5sb2coXCJsbWFvXCIpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm9zcGVjdCA9IHRoaXMucHJvcHMucHJvc3BlY3RcblxuICAgIGlmKHRoaXMucHJvcHMubWFzdGVyQ2hlY2tib3hDaGVja2VkICYmIHRoaXMuc3RhdGUuY2hlY2tlZClcbiAgICAgIGNoZWNrZWQgPSB0cnVlXG4gICAgZWxzZSBpZih0aGlzLnByb3BzLmFscmVhZHlDaGVja2VkKVxuICAgICAgY2hlY2tlZCA9IHRydWVcbiAgICBlbHNlIGlmKHRoaXMuc3RhdGUuY2hlY2tlZClcbiAgICAgIGNoZWNrZWQgPSB0cnVlXG4gICAgZWxzZSBpZih0aGlzLnByb3BzLm1hc3RlckNoZWNrYm94Q2hlY2tlZCB8fCB0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgICBjaGVja2VkID0gdHJ1ZVxuICAgIGVsc2VcbiAgICAgIGNoZWNrZWQgPSBmYWxzZVxuXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgLy9jb25zb2xlLmxvZyhjaGVja2VkKVxuICAgIC8ve3Byb3NwZWN0LmVtcGxveWVlQ291bnRSYW5nZS5uYW1lICsgXCIgZW1wbG95ZWVzXCIgfVxuICAgIFxuICAgIGNvbG9yID0ge31cbiAgICBpZih0aGlzLnN0YXRlLmNoZWNrZWQgfHwgdGhpcy5wcm9wcy5hbHJlYWR5Q2hlY2tlZClcbiAgICAgIGNvbG9yID0ge2JhY2tncm91bmRDb2xvcjogJyNlZWY4ZmYnfVxuICAgICAgXG4gICAgcm93Q2wgPSAodGhpcy5wcm9wcy5rZXlib2FyZFNlbGVjdGVkKSA/IFwicHJvc3BlY3RzLXRyIGtleVNlbGVjdFwiIDogXCJwcm9zcGVjdHMtdHJcIlxuICAgIHdlYnNpdGVCdG4gPSAocHJvc3BlY3Qud2Vic2l0ZVVybCkgPyAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiaHR0cDovL1wiK3Byb3NwZWN0LndlYnNpdGVVcmwucmVwbGFjZSgnaHR0cDovLycsJycpfSwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIn0pLCBcIiBcIikgOiBcIlwiXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cih7Y2xhc3NOYW1lOiByb3dDbCwgXG4gICAgICAgICAgb25DbGljazogdGhpcy5yb3dDbGljaywgXG4gICAgICAgICAgc3R5bGU6IGtleWJvYXJkU2VsZWN0ZWR9LCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvcn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIiwgXG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5jbGlja0NoZWNrLCBcbiAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWR9KVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3IsIFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZml4ZWQtZGF0YS1jb2x1bW5cIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7Zm9udFdlaWdodDonYm9sZCd9fSwgcHJvc3BlY3QubmFtZSksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2ZvbnRXZWlnaHQ6JzQwMCcsbWFyZ2luOicwcHgnfX0sIHByb3NwZWN0LmhlYWRjb3VudClcbiAgICAgICAgICApLCBcblxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IGNvbG9yLCBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImZpeGVkLWRhdGEtY29sdW1uXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgbW9tZW50KHByb3NwZWN0LmNyZWF0ZWRBdCwnWVlZWS1NTS1ERFRoOm1tOnNzJykuZnJvbU5vdygpKVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3IsIFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZml4ZWQtZGF0YS1jb2x1bW5cIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpbjonMHB4J319LCBwcm9zcGVjdC5pbmR1c3RyeSlcbiAgICAgICAgICApLCBcblxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IGNvbG9yfSwgXG4gICAgICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub3BlbkxpbmtlZGluQ29tcGFueVByb2ZpbGUsIFxuICAgICAgICAgICAgICBzdHlsZToge2JhY2tncm91bmRJbWFnZTogJ2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSknfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNlYXJjaFwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICBcIlNlYXJjaCBQcm9maWxlc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuU2ltaWxhckNvbXBhbmllcywgXG4gICAgICAgICAgICAgIHN0eWxlOiB7YmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY29weVwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICBcIkZpbmQgU2ltaWxhciBDb21wYW5pZXNcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgcHJvc3BlY3QuY2l0eSlcbiAgICAgICAgICApLCBcblxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IGNvbG9yfSwgXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxpLCBcIsKgXCIsIHRoaXMucHJvcHMubGluaywgXG4gICAgICAgICAgICB3ZWJzaXRlQnRuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbiAgfSxcblxuICBvcGVuTGlua2VkaW5Db21wYW55UHJvZmlsZTogZnVuY3Rpb24oKSB7XG4gICAgY2lkID0gdGhpcy5wcm9wcy5wcm9zcGVjdC5wcm9maWxlLnNwbGl0KCc/JylbMF0uc3BsaXQoJy9jb21wYW55LycpWzFdXG4gICAgd2luZG93Lm9wZW4oXCJodHRwczovL3d3dy5saW5rZWRpbi5jb20vdnNlYXJjaC9wP2ZfQ0M9XCIrY2lkKVxuICB9LFxuXG4gIG9wZW5TaW1pbGFyQ29tcGFuaWVzOiBmdW5jdGlvbigpIHtcbiAgICBjaWQgPSB0aGlzLnByb3BzLnByb3NwZWN0LnByb2ZpbGUuc3BsaXQoJz8nKVswXS5zcGxpdCgnL2NvbXBhbnkvJylbMV1cbiAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS92c2VhcmNoL2M/cnNpZD01MjY0NDAzNzE0MDkxODQ3NjgxNzUmcGl2b3RUeXBlPXNpbSZwaWQ9XCIrY2lkK1wiJnRyaz1zaW1fY29tcGFuaWVzX3Jlc19zaW0mdHJrSW5mbz1WU1JQc2VhcmNoSWQlM0E1MjY0NDAzNzE0MDkxODQ3NjgxNzUlMkNWU1JQdGFyZ2V0SWQlM0ExMDI1JTJDVlNSUGNtcHQlM0FwcmltYXJ5XCIpXG4gIH0sXG5cbiAgZGVsZXRlUHJvc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGVsZXRlUHJvc3BlY3QodGhpcy5wcm9wcy5wcm9zcGVjdC5vYmplY3RJZCwgJ1Byb3NwZWN0JylcbiAgfVxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG4vL1RPRE8gLSBhYnN0cmFjdCBsaXN0c1xudmFyIFNpZGVNZW51UHJvc3BlY3RzID0gcmVxdWlyZSgnLi9zaWRlX21lbnVfdXNlcl9wcm9zcGVjdHMuanMubWluLmpzJyk7XG5cbnZhciBVc2VyUHJvc3BlY3QgPSByZXF1aXJlKCcuL3VzZXJfcHJvc3BlY3QuanMubWluLmpzJyk7XG52YXIgRGF0YVJvdyA9IHJlcXVpcmUoJy4vZGF0YV9yb3cuanMubWluLmpzJyk7XG5cbnZhciBVc2VyUHJvc3BlY3RIZWFkZXIgPSByZXF1aXJlKCcuL3VzZXJfcHJvc3BlY3RfaGVhZGVyLmpzLm1pbi5qcycpO1xudmFyIFNpZGVNZW51TGlzdE9wdGlvbiA9IHJlcXVpcmUoJy4vdXNlcl9zaWRlX21lbnVfbGlzdC5qcy5taW4uanMnKTtcbnZhciBMb2FkaW5nU3Bpbm5lciA9IHJlcXVpcmUoJy4vbG9hZGluZ19zcGlubmVyLmpzLm1pbi5qcycpXG52YXIgUGFuZWxGb290aW5nID0gcmVxdWlyZSgnLi9wYW5lbF9mb290aW5nLmpzLm1pbi5qcycpXG52YXIgTWVzc2VuZ2VyID0gcmVxdWlyZSgnLi9tZXNzZW5nZXIuanMubWluLmpzJylcbnZhciBEZWxldGVMaXN0TW9kYWwgPSByZXF1aXJlKCcuL2RlbGV0ZV9saXN0X21vZGFsLmpzLm1pbi5qcycpXG52YXIgUmVuYW1lTGlzdE1vZGFsID0gcmVxdWlyZSgnLi9yZW5hbWVfbGlzdF9tb2RhbC5qcy5taW4uanMnKVxudmFyIENvbXBhbnlQcm9zcGVjdCA9IHJlcXVpcmUoJy4vY29tcGFueS5qcy5taW4uanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyAgY3VycmVudFBhZ2UgOiAxLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lLCAgXG4gICAgICAgICAgICAgIGxpc3RDbGFzc05hbWU6IHRoaXMucHJvcHMubGlzdENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgY3VzdG9tUm93OiB0aGlzLnByb3BzLnRhYmxlUm93LFxuICAgICAgICAgICAgICBwYWdlcyAgICAgICA6IDEsXG4gICAgICAgICAgICAgIGN1cnJlbnRMaXN0IDogJ0FsbCcsXG4gICAgICAgICAgICAgIGN1cnJlbnRMaXN0T2JqZWN0SWQgOiAnJyxcbiAgICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgbGlzdHMgOiBbXSxcbiAgICAgICAgICAgICAgbWFzdGVyQ2hlY2tib3hDaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgcHJvc3BlY3RzUGVyUGFnZTogNTAsICAgICAgICAgLy9jbGFzc05hbWVzIHBlciBwYWdlXG4gICAgICAgICAgICAgIGtleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IDAsICAgIC8vZmlyc3RcbiAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9zcGVjdHM6IFtdLCAgICAgICAgLy9zZWxlY3RlZENsYXNzTmFtZVxuICAgICAgICAgICAgICBwcm9zcGVjdHMgICA6IFtdLCAgICAgICAgICAgICAvL2NsYXNzTmFtZVxuICAgICAgICAgICAgICB0b3RhbENvdW50ICA6IFwiflwiLCBcbiAgICAgICAgICAgICAgY291bnQgICAgICAgOiBcIn5cIiwgfVxuICB9LFxuXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBsaXN0cyA9IHRoaXMuc3RhdGUubGlzdHNcbiAgICBsaXN0cy5wdXNoKGRhdGEpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxpc3RzOiBsaXN0cyB9KVxuICB9LFxuXG4gIHJlbmFtZUxpc3Q6IGZ1bmN0aW9uKG5ld0xpc3ROYW1lKSB7XG4gICAgcGFyc2VIZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWQpXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jdXJyZW50TGlzdClcbiAgICBjb25zb2xlLmxvZyhuZXdMaXN0TmFtZSlcblxuICAgIC8vIFVwZGF0ZSBMb2NhbCBTdGF0ZVxuICAgIHRoaXNzID0gdGhpcztcbiAgICB2YXIgZmlsdGVyZWQgPSBfLmZpbHRlcih0aGlzLnN0YXRlLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZihpdGVtLm5hbWUgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3Qpe1xuICAgICAgICBpdGVtLm5hbWUgPSBuZXdMaXN0TmFtZVxuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe2xpc3RzIDogZmlsdGVyZWR9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRMaXN0OiBuZXdMaXN0TmFtZX0pXG5cbiAgICAkKCcubW9kYWwnKS5jbGljaygpXG4gICAgJCgnI25ld0xpc3ROYW1lJykudmFsKCcnKVxuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLmNsaWNrKClcblxuICAgIC8vIFBlcnNpc3QgLyBBamF4XG4gICAgbGlzdENsYXNzTmFtZSA9IHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvJytsaXN0Q2xhc3NOYW1lKycvJyt0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWQsXG4gICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMsXG4gICAgICB0eXBlOidQVVQnLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7J25hbWUnOm5ld0xpc3ROYW1lfSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGRlbGV0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRPRE8gXG4gICAgLy8gR2V0IEFsbCBNZW1iZXJzIE9mIFRoaXMgTGlzdFxuICAgIC8vIFJlbW92ZSBGcm9tIExpc3QgQXJyYXlcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfVxuICAgIFxuICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXMuc3RhdGUubGlzdHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmKGl0ZW0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7bGlzdHM6IGZpbHRlcmVkfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50TGlzdDogJ0FsbCd9KVxuICAgIHRoaXMuY2hhbmdlTGlzdCgnQWxsJywgJycpXG5cbiAgICAvLyBSZW1vdmVcbiAgICAkKCcubW9kYWwnKS5jbGljaygpXG4gICAgJCgnI25ld0xpc3ROYW1lJykudmFsKCcnKVxuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLmNsaWNrKClcblxuICAgIC8vIFBlcnNpc3QgLyBBamF4XG4gICAgbGlzdENsYXNzTmFtZSA9IHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy8nK2xpc3RDbGFzc05hbWUrJy8nK3RoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZCxcbiAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyxcbiAgICAgIHR5cGU6J0RFTEVURScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGNoYW5nZUxpc3Q6IGZ1bmN0aW9uKG5ld0xpc3ROYW1lLG9iamVjdElkKSB7XG4gICAgLy8gYWRkIG92ZXJsYXkgbG9hZGluZ1xuICAgIC8vY29uc29sZS5sb2cobmV3TGlzdE5hbWUpXG4gICAgLy9jb25zb2xlLmxvZyhvYmplY3RJZClcblxuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IEpTT04uc3RyaW5naWZ5KFtdKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudExpc3QgOiBuZXdMaXN0TmFtZX0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudExpc3RPYmplY3RJZCA6IG9iamVjdElkfSlcbiAgICB0aGlzLnNldFN0YXRlKHtwcm9zcGVjdHMgIDogW10gICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjb3VudCAgICAgIDogJ34nICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtwYWdlcyAgICAgIDogMSAgICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nICAgIDogdHJ1ZSAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogMX0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7a2V5Ym9hcmRBY3RpdmVQcm9zcGVjdDogMH0pXG5cbiAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwiYXJjaGl2ZWRcIjp0cnVlfSZjb3VudD0xJm9yZGVyPS1jcmVhdGVkQXQnXG4gICAgY29uc29sZS5sb2cobmV3TGlzdE5hbWUpXG5cbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ICE9ICdBbGwnIHx8IHR5cGVvZihvYmplY3RJZCkgIT0gXCJ1bmRlZmluZWRcIiAmJiBuZXdMaXN0TmFtZSAhPSAnQXJjaGl2ZWQnKXtcbiAgICAgIGN1cnJlbnRMaXN0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAnb2JqZWN0SWQnICA6IG9iamVjdElkLCBcbiAgICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsIFxuICAgICAgICAnY2xhc3NOYW1lJyA6IHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZVxuICAgICAgfSlcblxuICAgICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuICAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MSdcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJsaXN0c1wiOicrY3VycmVudExpc3QrJ30mY291bnQ9MSZvcmRlcj0tY3JlYXRlZEF0J1xuICAgIH0gZWxzZSBpZiAobmV3TGlzdE5hbWUgPT0gJ0FyY2hpdmVkJykge1xuICAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImFyY2hpdmVkXCI6ZmFsc2V9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgICB9XG4gICAgY29uc29sZS5sb2cocXJ5KVxuXG4gICAgY2xhc3NOYW1lID0gdGhpcy5zdGF0ZS5jbGFzc05hbWVcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrY2xhc3NOYW1lLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICBhc3luYzogdHJ1ZSxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGFqYXhTdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzdGFydGVkIGxpc3QnKVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7Y291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIC8vdGhpc3NzLnNldFN0YXRlKHt0b3RhbENvdW50OiByZXMuY291bnR9KVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe3BhZ2VzOiBNYXRoLmNlaWwocmVzLmNvdW50L3RoaXNzcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlKX0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIC8vY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgY2hlY2tib3hBY3Rpb246IGZ1bmN0aW9uKGNoZWNrZWRTdGF0ZSwgb2JqSWQpIHtcbiAgICAvKiBTdG9yaW5nIENoZWNrZWQgUHJvc3BlY3RzIEluIExvY2FsU3RvcmFnZSBUbyBNYWtlIGl0IEVhc2llciBUb1xuICAgICAqIENvcHkgYW5kIE1vdmUgUHJvc3BlY3RzIFxuICAgICAqXG4gICAgICogTW92ZSBUbyBVc2VyX1Byb3NwZWN0cz9cbiAgICAgKi9cbiAgICBcbiAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgIC8vY29uc29sZS5sb2coY2hlY2tlZFN0YXRlKVxuICAgIGlmKGNoZWNrZWRTdGF0ZSlcbiAgICAgIHNlbGVjdGVkUHJvc3BlY3RzLnB1c2gob2JqSWQpXG4gICAgZWxzZVxuICAgICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBfLnJlamVjdChzZWxlY3RlZFByb3NwZWN0cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGlkKXtyZXR1cm4gaWQgPT0gb2JqSWR9KVxuXG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5zdHJpbmdpZnkoc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRQcm9zcGVjdHM6IHNlbGVjdGVkUHJvc3BlY3RzfSlcbiAgfSxcblxuICBtYXN0ZXJDaGVja2JveENoYW5nZWQ6IGZ1bmN0aW9uKG1hc3RlckNoZWNrYm94VmFsdWUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHttYXN0ZXJDaGVja2JveENoZWNrZWQ6IG1hc3RlckNoZWNrYm94VmFsdWV9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblxuICAgIHRoaXMuc3RhcnRLZXlib2FyZFNob3J0Y3V0cygpXG4gICAgJCgnYm9keScpLmNzcyh7b3ZlcmZsb3c6J2F1dG8nfSlcblxuICAgIHByb3NwZWN0cyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLnByb3NwZWN0cy5sZW5ndGg7aSsrKSB7XG4gICAgICB1cmwgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS51cmxcbiAgICAgIHByb3NwZWN0ID0gdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV1cblxuICAgICAgaWYodXJsICE9IFwibm8gbGlua2VkaW4gd2Vic2l0ZVwiICYmIHR5cGVvZih1cmwpICE9IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9IFwiXCIpe1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaHR0cDovLycsJycpXG4gICAgICAgIHRoZV9saW5rID0gUmVhY3QuRE9NLmEoe2hyZWY6ICdodHRwOi8vJyt1cmx9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoZV9saW5rID0gXCJcIlxuICAgICAgfVxuXG4gICAgICAvL3Byb2ZpbGUgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS5saW5rZWRpbl91cmwucmVwbGFjZSgnaHR0cDovLycsJycpXG4gICAgICAvL3Byb2ZpbGUgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS5saW5rZWRpbl91cmwucmVwbGFjZSgnaHR0cHM6Ly8nLCcnKVxuICAgICAgbGkgPSBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3Byb2ZpbGUsIGNsYXNzTmFtZTogXCJsaW5rZWRpbl9saW5rXCJ9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWxpbmtlZGluLXNxdWFyZVwifSkpXG5cbiAgICAgIGtleWJvYXJkU2VsZWN0ZWQgPSAoaSA9PSB0aGlzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3QpXG5cbiAgICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgICBhbHJlYWR5Q2hlY2tlZD1mYWxzZVxuICAgICAgZm9yKGlpPTA7aWk8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpaSsrKVxuICAgICAgICBpZihwcm9zcGVjdC5vYmplY3RJZCA9PSBzZWxlY3RlZFByb3NwZWN0c1tpaV0pXG4gICAgICAgICAgYWxyZWFkeUNoZWNrZWQgPSB0cnVlXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhhbHJlYWR5Q2hlY2tlZClcblxuICAgICAgcHJvc3BlY3RzLnB1c2goXG4gICAgICAgIERhdGFSb3coe2RlbGV0ZVByb3NwZWN0OiB0aGlzLmRlbGV0ZVByb3NwZWN0LCBcbiAgICAgICAgICAgICAgICAgcHJvc3BlY3Q6IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLCBcbiAgICAgICAgICAgICAgICAgbWFzdGVyQ2hlY2tib3hDaGVja2VkOiB0aGlzLnN0YXRlLm1hc3RlckNoZWNrYm94Q2hlY2tlZCwgXG4gICAgICAgICAgICAgICAgIGtleTogdGhpcy5nZW5lcmF0ZV9pZCgpLCBcbiAgICAgICAgICAgICAgICAgbGluazogdGhlX2xpbmssIFxuICAgICAgICAgICAgICAgICBrZXlib2FyZFNlbGVjdGVkOiBrZXlib2FyZFNlbGVjdGVkLCBcbiAgICAgICAgICAgICAgICAgY2hlY2tib3hBY3Rpb246IHRoaXMuY2hlY2tib3hBY3Rpb24sIFxuICAgICAgICAgICAgICAgICBhbHJlYWR5Q2hlY2tlZDogYWxyZWFkeUNoZWNrZWQsIFxuICAgICAgICAgICAgICAgICBsaTogbGl9KSlcbiAgICB9XG5cbiAgICBsaXN0VHlwZSA9ICh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpID8ge2Rpc3BsYXk6J25vbmUnfSA6IHtmbG9hdDonbGVmdCd9XG4gICAgbGlzdEJ0biA9ICh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpID8ge2Rpc3BsYXk6J25vbmUnfSA6IHtmbG9hdDonbGVmdCcsbWFyZ2luTGVmdDo1fVxuICAgIGxpc3RPcHRpb25zID0gKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIikgPyB7ZGlzcGxheTonbm9uZSd9IDoge2Zsb2F0OidyaWdodCd9XG4gICAgY29weURyb3Bkb3duU3R5bGUgPSAodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCA9PSBcIkFsbFwiKSA/IHt3aWR0aDoxMTQsIHJpZ2h0OjR9IDoge3dpZHRoOjExNCwgcmlnaHQ6MzZ9XG4gICAgY3VycmVudExpc3QgPSB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0XG4gICAgcmV0dXJuIChcbiAgICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIiwgc3R5bGU6IHt3aWR0aDonMTAwJScscGFkZGluZzonMCcsIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoI2RhZThmZiwjZGFlOGZmKScsIGJhY2tncm91bmRJbWFnZTogJ3JhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgY2VudGVyIGNlbnRlciwjZmZmLCNkZmYxZmQgOTAwcHgpJ319LCBcbiAgICAgICAgU2lkZU1lbnVQcm9zcGVjdHMoe2N1cnJlbnRMaXN0OiB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiB0aGlzLnN0YXRlLmNvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQ291bnQ6IHRoaXMuc3RhdGUudG90YWxDb3VudCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VMaXN0OiB0aGlzLmNoYW5nZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdENsYXNzTmFtZTogdGhpcy5zdGF0ZS5saXN0Q2xhc3NOYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxpc3Q6IHRoaXMuY3JlYXRlTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0czogdGhpcy5zdGF0ZS5saXN0c30pLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTEwXCIsIHN0eWxlOiB7cGFkZGluZzonMCd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcInByb3NwZWN0RGV0YWlsQnV0dG9uc1wifSwgXG4gICAgICAgICAgICAgICAgTGlzdERldGFpbEJ1dHRvbnMoe1xuICAgICAgICAgICAgICAgICAgcmVuYW1lTGlzdDogdGhpcy5yZW5hbWVMaXN0LCBcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3Q6IHRoaXMuZGVsZXRlTGlzdCwgXG4gICAgICAgICAgICAgICAgICBjdXJyZW50TGlzdE5hbWU6IHRoaXMuc3RhdGUuY3VycmVudExpc3QsIFxuICAgICAgICAgICAgICAgICAgY3VycmVudExpc3Q6IHRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZH0pLCBcblxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkcm9wZG93blwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzIGxpc3Qtb3B0aW9uc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgIGlkOiBcIlwiLCBcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBsaXN0T3B0aW9uc30sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJhcnNcIn0pXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZHJvcGRvd25cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoeydkYXRhLXRvZ2dsZSc6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgICAgICAgICAgICBpZDogXCJjb3B5VG9MaXN0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJkcm9wLXRhcmdldCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIGxpc3Qtb3B0aW9uc1wifSwgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNvcHlcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgICAgXCLCoCBDb3B5IFRvIExpc3QgwqBcIiwgIFxuICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jYXJldC1kb3duXCJ9KVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaXN0c1R3byh7bGlzdHM6IHRoaXMuc3RhdGUubGlzdHMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weURyb3Bkb3duU3R5bGU6IGNvcHlEcm9wZG93blN0eWxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RBY3Rpb246IHRoaXMuY29weVNlbGVjdGVkUHJvc3BlY3RzfSlcbiAgICAgICAgICAgICAgICApLCBcbiAgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImRyb3Bkb3duXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHsnZGF0YS10b2dnbGUnOiBcImRyb3Bkb3duXCIsIFxuICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGlkOiBcIm1vdmVUb0xpc3RcIiwgXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZTogbGlzdE9wdGlvbnMsIFxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4teHMgbGlzdC1vcHRpb25zXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc2hhcmVcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgIFwiwqAgTW92ZSBUbyBMaXN0IMKgXCIsICBcbiAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FyZXQtZG93blwifSlcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBDdXJyZW50TGlzdHMoe2xpc3RzOiB0aGlzLnN0YXRlLmxpc3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RBY3Rpb246IHRoaXMubW92ZVNlbGVjdGVkUHJvc3BlY3RzfSlcbiAgICAgICAgICAgICAgICApLCBcblxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtvbkNsaWNrOiB0aGlzLmRvd25sb2FkRmlsZSwgXG4gICAgICAgICAgICAgICAgICAgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICBpZDogXCJkb3dubG9hZFByb3NwZWN0c1wiLCBcbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZHJvcC10YXJnZXQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBsaXN0LW9wdGlvbnNcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1kb3dubG9hZFwifSksIFwiIMKgIERvd25sb2FkIENTViDCoFwiIFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiYXV0b3Njcm9sbFwiLCBzdHlsZToge2hlaWdodDonNDAwcHgnLG92ZXJmbG93OidhdXRvJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInByb3NwZWN0cy10YWJsZSB0YWJsZSB0YWJsZS1zdHJpcGVkXCIsIHN0eWxlOiB7bWFyZ2luQm90dG9tOicwcHgnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGhlYWQoe3N0eWxlOiB7YmFja2dyb3VuZENvbG9yOid3aGl0ZSd9fSwgXG4gICAgICAgICAgICAgICAgQ29tcGFueVByb3NwZWN0SGVhZGVyKHttYXN0ZXJDaGVja2JveENoYW5nZWQ6IHRoaXMubWFzdGVyQ2hlY2tib3hDaGFuZ2VkfSlcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50Ym9keShudWxsLCBcbiAgICAgICAgICAgICAgICBwcm9zcGVjdHNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAodGhpcy5zdGF0ZS5sb2FkaW5nKSA/IExvYWRpbmdTcGlubmVyKG51bGwpIDogXCJcIlxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSwgXG5cbiAgICAgIFBhbmVsRm9vdGluZyh7Y3VycmVudFBhZ2U6IHRoaXMuc3RhdGUuY3VycmVudFBhZ2UsIFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogdGhpcy5zdGF0ZS5jb3VudCwgXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRlOiB0aGlzLnBhZ2luYXRlLCBcbiAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3RzUGVyUGFnZTogdGhpcy5zdGF0ZS5wcm9zcGVjdHNQZXJQYWdlLCBcbiAgICAgICAgICAgICAgICAgICAgcGFnZXM6IHRoaXMuc3RhdGUucGFnZXN9KSwgXG4gICAgICBNZXNzZW5nZXIobnVsbClcbiAgICApXG4gICAgKTtcbiAgfSxcblxuICBwYWdpbmF0ZTogZnVuY3Rpb24obmV3UHJvc3BlY3RzLCBuZXdQYWdlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm9zcGVjdHM6IG5ld1Byb3NwZWN0cyxcbiAgICAgIGN1cnJlbnRQYWdlOiBuZXdQYWdlLFxuICAgICAga2V5Ym9hcmRBY3RpdmVQcm9zcGVjdDogMFxuICAgIH0pXG4gICAgdGhpcy5zdGFydEtleWJvYXJkU2hvcnRjdXRzKClcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b3Njcm9sbCcpLnNjcm9sbFRvcCA9IDBcbiAgfSxcblxuICBkb3dubG9hZEZpbGU6IGZ1bmN0aW9uKCkge1xuICAgIHBhcnNlX2hlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgfVxuXG4gICAgLy8gR2V0IExpc3QgQ291bnRcbiAgICBsaXN0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgJ19fdHlwZScgICA6ICAnUG9pbnRlcicsXG4gICAgICAnY2xhc3NOYW1lJzogIHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZSxcbiAgICAgICdvYmplY3RJZCcgOiAgdGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhsaXN0KVxuICAgIC8vIEFkZCBTdXBwb3J0IEZvciBNb3JlIHRoYW4gMTAwMFxuICAgIC8vIG51bV9vZl9yZXF1ZXN0c1xuICAgIC8vdGhpcy5wcm9wcy5wYWdpbmF0ZShyZXMucmVzdWx0cywgdGhpcy5wcm9wcy5jdXJyZW50UGFnZSArIDEpXG4gICAgbG9jYWxTdG9yYWdlLmRvd25sb2FkX3RvdGFsID0gTWF0aC5jZWlsKHRoaXMuc3RhdGUuY291bnQvMTAwMClcbiAgICBsb2NhbFN0b3JhZ2UuZG93bmxvYWRzICAgICAgPSAwXG5cbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpXG4gICAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnfSZjb3VudD0xJ1xuICAgIGVsc2VcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJsaXN0c1wiOicrbGlzdCsnfSZjb3VudD0xJ1xuXG4gICAgY2xhc3NOYW1lID0gdGhpcy5zdGF0ZS5jbGFzc05hbWVcblxuICAgIGZvcihpPTA7aTwgTWF0aC5jZWlsKHRoaXMuc3RhdGUuY291bnQvMTAwMCk7IGkrKyl7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrY2xhc3NOYW1lKyc/bGltaXQ9MTAwMCZza2lwPScraSxcbiAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgICAgZG93bmxvYWRGaWxlOiAnZG93bmxvYWRfJytpLFxuICAgICAgICBkYXRhOiBxcnksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgLy8gQ2xlYW4gUmVzdWx0c1xuICAgICAgICAgIC8vIFJlbW92ZSBDZXJ0YWluIFBhcnNlIENvbHVtbnMgLSBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0LCBvYmplY3RJZFxuICAgICAgICAgIC8vIFJlbmFtZSBjcmVhdGVkQXQgYXMgZGF0ZSBwcm9zcGVjdGVkXG4gICAgICAgICAgZm9yKGk9MDtpPCByZXMucmVzdWx0cy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVzLnJlc3VsdHNbaV0uY29tcGFueVxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnBvc1xuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnVzZXJcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS5vYmplY3RJZFxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLmNyZWF0ZWRBdFxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnVwZGF0ZWRBdFxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFkZCBSZXN1bHRzIFRvIExvY2FsU3RvcmFnZVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5kb3dubG9hZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5kb3dubG9hZHMpICsgMSBcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmRvd25sb2FkRmlsZSwgSlNPTi5zdHJpbmdpZnkocmVzLnJlc3VsdHMpKVxuXG4gICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGFsbCBhamF4IHJlcXMgaW4gZm9yIGxvb3AgYXJlIGNvbXBsZXRlXG4gICAgICAgICAgaWYobG9jYWxTdG9yYWdlLmRvd25sb2FkcyA9PSBsb2NhbFN0b3JhZ2UuZG93bmxvYWRfdG90YWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtYXRjaGVkJylcbiAgICAgICAgICAgIC8vIE1lcmdlIGFsbCBsb2NhbFN0b3JhZ2UgcmVzdWx0c1xuICAgICAgICAgICAgcHJvc3BlY3RzID0gW11cbiAgICAgICAgICAgIGZvcihpaT0wO2lpIDwgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZG93bmxvYWRfdG90YWwpOyBpaSsrKXtcbiAgICAgICAgICAgICAgcHJvc3BlY3RzID0gcHJvc3BlY3RzLmNvbmNhdChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkb3dubG9hZF8nK2lpKSkpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3NwZWN0cylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvc3BlY3RzKVxuICAgICAgICAgICAgLy8gT3V0cHV0IGFzIENTVlxuICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbUGFwYS51bnBhcnNlKHByb3NwZWN0cyldLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYmxvYilcbiAgICAgICAgICAgIHNhdmVBcyhibG9iLCBcInByb3NwZWN0cy5jc3ZcIik7XG4gICAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgXG5cbiAgfSxcblxuICByZW1vdmVTZWxlY3RlZFByb3NwZWN0czogZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgTGlzdCBUeXBlIGlzIEFsbCBBcmNoaXZlIHRoZSBwcm9zcGVjdFxuICAgIHBhcnNlSGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cblxuICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgYmF0Y2hEYXRhID0gW11cblxuICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKyl7XG4gICAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ICE9ICdBbGwnKXtcbiAgICAgICAgdG1wID0ge1xuICAgICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgICBwYXRoOicvMS9jbGFzc2VzLycrdGhpcy5zdGF0ZS5jbGFzc05hbWUrJy8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGxpc3RzOiB7XG4gICAgICAgICAgICAgICdfX29wJyAgICA6ICdSZW1vdmUnLFxuICAgICAgICAgICAgICBcIm9iamVjdHNcIiA6IFt7IFxuICAgICAgICAgICAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6dGhpcy5zdGF0ZS5saXN0Q2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzp0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWRcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICB0bXAgPSB7XG4gICAgICAgICAgbWV0aG9kOidQVVQnLFxuICAgICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvJyt0aGlzLnN0YXRlLmNsYXNzTmFtZSsnLycrc2VsZWN0ZWRQcm9zcGVjdHNbaV0sXG4gICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgYXJjaGl2ZWQ6ZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXRjaERhdGEucHVzaCh0bXApXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2JhdGNoJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczpwYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cmVxdWVzdHM6IGJhdGNoRGF0YX0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICBsaXN0cyA9IHRoaXNzLnN0YXRlLmxpc3RzXG5cbiAgICAgICAgZm9yKGk9MDtpPCBsaXN0cy5sZW5ndGg7IGkrKykgeyBcbiAgICAgICAgICAvLyBTdWJ0cmFjdCBGcm9tIE9sZCBMaXN0IC0gTm90IFdvcmtpbmcgRm9yIEFyY2hpdmVcbiAgICAgICAgICBpZihsaXN0c1tpXS5vYmplY3RJZCA9PSB0aGlzcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkKVxuICAgICAgICAgICAgbGlzdHNbaV0uY291bnQgPSBwYXJzZUludChsaXN0c1tpXS5jb3VudCkgLSBwYXJzZUludChzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGgpXG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIGxpc3QgY291bnRcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xpc3RzOiBsaXN0c30pXG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gY3VycmVudCBsaXN0IHVpXG4gICAgICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmUgc2VsZWN0ZWQgcHJvc3BlY3RzJylcbiAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXNzLnN0YXRlLnByb3NwZWN0cylcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gXy5maWx0ZXIodGhpc3Muc3RhdGUucHJvc3BlY3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgZm9yKGk9MDtpPCBzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGg7aSsrKSBcbiAgICAgICAgICAgIGlmKGl0ZW0ub2JqZWN0SWQgPT0gc2VsZWN0ZWRQcm9zcGVjdHNbaV0pXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWx0ZXJlZClcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogZmlsdGVyZWR9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShbXSlcblxuICAgICAgICAvLyBhZGQgYWxlcnQgdG8gaW5mb3JtIHVzZXJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBtb3ZlU2VsZWN0ZWRQcm9zcGVjdHM6IGZ1bmN0aW9uKGxpc3RPYmplY3RJZCkge1xuICAgIHBhcnNlSGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cblxuICAgIC8vIGdldCB0aGUgc2VsZWN0ZWQgb2JqZWN0SWQgZnJvbSBzZWxlY3RlZFByb3NwZWN0cyBzdGF0ZVxuICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgYmF0Y2hEYXRhID0gW11cblxuXG4gICAgLy8gQmF0Y2ggVXBkYXRlIFBhcnNlXG4gICAgLy8gLSBSZW1vdmUgQWxsIFNlbGVjdGVkIFByb3NwZWN0cyBGcm9tIEN1cnJlbnQgTGlzdFxuICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKyl7XG4gICAgICB0bXAgPSB7XG4gICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy8nK3RoaXMuc3RhdGUuY2xhc3NOYW1lKycvJytzZWxlY3RlZFByb3NwZWN0c1tpXSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGxpc3RzOiB7XG4gICAgICAgICAgICAnX19vcCcgICAgOiAnUmVtb3ZlJyxcbiAgICAgICAgICAgIFwib2JqZWN0c1wiIDogW3sgXG4gICAgICAgICAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOnRoaXMuc3RhdGUubGlzdENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOnRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZFxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhdGNoRGF0YS5wdXNoKHRtcClcbiAgICB9XG4gICAgXG4gICAgLy8gLSBBZGQgT3RoZXIgTGlzdCBcbiAgICBmb3IoaT0wO2k8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpKyspe1xuICAgICAgdG1wID0ge1xuICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvJyt0aGlzLnN0YXRlLmNsYXNzTmFtZSsnLycrc2VsZWN0ZWRQcm9zcGVjdHNbaV0sXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBsaXN0czoge1xuICAgICAgICAgICAgJ19fb3AnICAgIDogJ0FkZFVuaXF1ZScsXG4gICAgICAgICAgICBcIm9iamVjdHNcIiA6IFt7IFxuICAgICAgICAgICAgICAgICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzp0aGlzLnN0YXRlLmxpc3RDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgJ29iamVjdElkJzpsaXN0T2JqZWN0SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXRjaERhdGEucHVzaCh0bXApXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2JhdGNoJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczpwYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cmVxdWVzdHM6IGJhdGNoRGF0YX0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICBsaXN0cyA9IHRoaXNzLnN0YXRlLmxpc3RzXG5cbiAgICAgICAgZm9yKGk9MDtpPCBsaXN0cy5sZW5ndGg7IGkrKykgeyBcbiAgICAgICAgICAvLyBBZGQgVG8gTmV3IExpc3RcbiAgICAgICAgICBpZihsaXN0c1tpXS5vYmplY3RJZCA9PSBsaXN0T2JqZWN0SWQpXG4gICAgICAgICAgICBsaXN0c1tpXS5jb3VudCA9IHBhcnNlSW50KGxpc3RzW2ldLmNvdW50KSArIHBhcnNlSW50KHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aClcbiAgICAgICAgICAvLyBTdWJ0cmFjdCBGcm9tIE9sZCBMaXN0XG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgICAgIGxpc3RzW2ldLmNvdW50ID0gcGFyc2VJbnQobGlzdHNbaV0uY291bnQpIC0gcGFyc2VJbnQoc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBsaXN0IGNvdW50XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgbGlzdCB1aVxuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRQcm9zcGVjdHMnKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzcy5zdGF0ZS5wcm9zcGVjdHMpXG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXNzLnN0YXRlLnByb3NwZWN0cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGlzX3NlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKykgXG4gICAgICAgICAgICBpZihpdGVtLm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2ldKVxuICAgICAgICAgICAgICBpc19zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuIGlzX3NlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWx0ZXJlZClcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogZmlsdGVyZWR9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShbXSlcblxuICAgICAgICAvLyBhZGQgYWxlcnQgdG8gaW5mb3JtIHVzZXJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjb3B5U2VsZWN0ZWRQcm9zcGVjdHM6IGZ1bmN0aW9uKGxpc3RPYmplY3RJZCkge1xuICAgIGNvbnNvbGUubG9nKGxpc3RPYmplY3RJZClcbiAgICBcbiAgICAvLyBtYWtlIGJhdGNoIGFqYXggcmVxdWVzdCB0byBwYXJzZVxuICAgIHBhcnNlSGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cblxuICAgIC8vIEFkZCBMb2FkaW5nIFNpZ24gVG8gTGlzdFxuXG4gICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cylcbiAgICBiYXRjaERhdGEgPSBbXVxuICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKyl7XG4gICAgICB0bXAgPSB7XG4gICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy8nK3RoaXMuc3RhdGUuY2xhc3NOYW1lKycvJytzZWxlY3RlZFByb3NwZWN0c1tpXSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGxpc3RzOiB7XG4gICAgICAgICAgICAnX19vcCcgICAgOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgICAgIFwib2JqZWN0c1wiIDogW3sgXG4gICAgICAgICAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOnRoaXMuc3RhdGUubGlzdENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOmxpc3RPYmplY3RJZFxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhdGNoRGF0YS5wdXNoKHRtcClcbiAgICB9XG5cbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvYmF0Y2gnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtyZXF1ZXN0czogYmF0Y2hEYXRhfSksXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIC8vIFVwZGF0ZSBXaXRoIHRoZSBudW1iZXIgb2Ygc3VjY2Vzc2VzXG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBsaXN0IGNvdW50XG4gICAgICAgIGxpc3RzID0gdGhpc3Muc3RhdGUubGlzdHNcbiAgICAgICAgZm9yKGk9MDtpPCBsaXN0cy5sZW5ndGg7IGkrKykgeyBcbiAgICAgICAgICBpZihsaXN0c1tpXS5vYmplY3RJZCA9PSBsaXN0T2JqZWN0SWQpXG4gICAgICAgICAgICBsaXN0c1tpXS5jb3VudCA9IHBhcnNlSW50KGxpc3RzW2ldLmNvdW50KSArIHBhcnNlSW50KHJlcy5sZW5ndGgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xpc3RzOiBsaXN0c30pXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IFwiW11cIlxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7c2VsZWN0ZWRQcm9zcGVjdHMgOiBbXSB9KVxuICAgICAgICBcbiAgICAgICAgLy8gYWRkIGFsZXJ0IHRvIGluZm9ybSB1c2VyXG4gICAgICAgIC8vIFVuc2VsZWN0IGFsbCBzZWxlY3RlZFxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH0sXG5cbiAgaGlkZUFsZXJ0OiBmdW5jdGlvbigpIHtcbiAgICAkKCcuYWxlcnQnKS5oaWRlKClcbiAgfSxcblxuICBhZGp1c3RIZWlnaHQ6IGZ1bmN0aW9uKHdoaWNoT25lKSB7XG4gICAgcHJvc3BlY3RXaW5kb3dUb3AgPSAkKCcjcHJvc3BlY3REZXRhaWxCdXR0b25zJykucG9zaXRpb24oKS50b3BcbiAgICBwcm9zcGVjdFdpbmRvd1RvcCA9IHByb3NwZWN0V2luZG93VG9wICsgJCgnI3Byb3NwZWN0RGV0YWlsQnV0dG9ucycpLmhlaWdodCgpXG4gICAgcHJvc3BlY3RXaW5kb3dCb3R0b20gPSAkKCcjYXV0b3Njcm9sbCcpLnBvc2l0aW9uKCkudG9wICsgJCgnI2F1dG9zY3JvbGwnKS5oZWlnaHQoKVxuXG4gICAgaWYod2hpY2hPbmUgPT0gJ2onKVxuICAgICAgYWN0aXZlUHJvc3BlY3QgPSB0aGlzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3QgKzEgXG4gICAgZWxzZVxuICAgICAgYWN0aXZlUHJvc3BlY3QgPSB0aGlzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3QgLTEgXG5cbiAgICBhY3RpdmVUb3AgPSAkKCQoJy5wcm9zcGVjdHMtdHInKVthY3RpdmVQcm9zcGVjdF0pLnBvc2l0aW9uKCkudG9wXG4gICAgc2VsZWN0ZWRIZWlnaHQgPSAkKCQoJy5wcm9zcGVjdHMtdHInKVthY3RpdmVQcm9zcGVjdF0pLmhlaWdodCgpXG4gICAgYWN0aXZlQm90dG9tID0gJCgkKCcucHJvc3BlY3RzLXRyJylbYWN0aXZlUHJvc3BlY3RdKS5wb3NpdGlvbigpLnRvcCtzZWxlY3RlZEhlaWdodFxuXG4gICAgY29uc29sZS5sb2cocHJvc3BlY3RXaW5kb3dUb3AsIHByb3NwZWN0V2luZG93Qm90dG9tKVxuICAgIGNvbnNvbGUubG9nKGFjdGl2ZVRvcCwgYWN0aXZlQm90dG9tKVxuXG4gICAgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3BcbiAgICBpZihhY3RpdmVCb3R0b20gPiBwcm9zcGVjdFdpbmRvd0JvdHRvbSlcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvc2Nyb2xsJykuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wICsgYWN0aXZlQm90dG9tIC0gcHJvc3BlY3RXaW5kb3dCb3R0b21cblxuICAgIGlmKGFjdGl2ZVRvcCA8IDApXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b3Njcm9sbCcpLnNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIGFjdGl2ZVRvcCAtIDM3XG4gICAgZWxzZSBpZihhY3RpdmVUb3AgPT0gJCgkKCcucHJvc3BlY3RzLXRyJylbMF0pLnBvc2l0aW9uKCkudG9wKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3AgPSAwXG4gICAgICBcbiAgICAvLyBHZXQgUG9zdGlvbiBvZiBUb3BcbiAgICAvLyBHZXQgUG9zaXRpb24gb2YgQm90dG9tIFxuICAgIC8vIEdldCBQb3NpdGlvbiBvZiBDdXJyZW50IFNlbGVjdGVkXG4gICAgLy8gQWRqdXN0IGJ5IHNjcm9sbGluZyBkb3duIG9yIHVwXG4gIH0sXG5cbiAgc3RhcnRLZXlib2FyZFNob3J0Y3V0czogZnVuY3Rpb24oKSB7XG4gICAgLyogS2V5Ym9hcmQgU2hvcnRjdXRzICovXG4gICAgTW91c2V0cmFwLnJlc2V0KClcbiAgICAvL01vdXNldHJhcC51bmJpbmQoWydqJywnaycsJ28nXSlcbiAgICB0aGlzcyA9IHRoaXM7XG5cbiAgICAvKiBQcm9zcGVjdCBUYWJsZSBTaG9ydGN1dHMgKi9cbiAgICBNb3VzZXRyYXAuYmluZCgnaicsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGtleWJvYXJkID0gdGhpc3Muc3RhdGUua2V5Ym9hcmRBY3RpdmVQcm9zcGVjdFxuICAgICAgaWYoa2V5Ym9hcmQgIT0gdGhpc3Muc3RhdGUucHJvc3BlY3RzUGVyUGFnZSsxKVxuICAgICAgICB0aGlzcy5hZGp1c3RIZWlnaHQoJ2onKVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7a2V5Ym9hcmRBY3RpdmVQcm9zcGVjdDoga2V5Ym9hcmQrMX0pXG4gICAgfSk7XG5cbiAgICBNb3VzZXRyYXAuYmluZCgnaycsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGtleWJvYXJkID0gdGhpc3Muc3RhdGUua2V5Ym9hcmRBY3RpdmVQcm9zcGVjdFxuICAgICAgaWYoa2V5Ym9hcmQgIT0gMSlcbiAgICAgICAgdGhpc3MuYWRqdXN0SGVpZ2h0KCdrJylcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2tleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IGtleWJvYXJkLTF9KVxuICAgIH0pO1xuXG5cbiAgICBNb3VzZXRyYXAuYmluZCgnbycsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGNvbnNvbGUubG9nKCdvcGVuIGN1cnJlbnQgcHJvc3BlY3QnKVxuICAgICAgY29uc29sZS5sb2coJCgkKCcua2V5U2VsZWN0JykuZmluZCgnYS5saW5rZWRpbl9saW5rJylbMF0pLmF0dHIoJ2hyZWYnKSlcbiAgICAgIGxpbmsgPSAkKCQoJy5rZXlTZWxlY3QnKS5maW5kKCdhLmxpbmtlZGluX2xpbmsnKVswXSkuYXR0cignaHJlZicpXG4gICAgICAvKlxuICAgICAgd2luZG93Lm9wZW4obGluaywgJ19ibGFuaycpXG4gICAgICBjb25zb2xlLmxvZygnbmV3JylcbiAgICAgICovXG4gICAgICAvL3BvcHVwV2luZG93LmJsdXIoKTtcbiAgICAgIC8vd2luZG93LmZvY3VzKCk7XG4gICAgICAvLyBrZXlib2FyZCA9IHRoaXNzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3RcbiAgICAgIFxuICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIGEuaHJlZiA9IGxpbmtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgLy90aGUgdGVudGggcGFyYW1ldGVyIG9mIGluaXRNb3VzZUV2ZW50IHNldHMgY3RybCBrZXlcbiAgICAgIC8vIEZvciBNYWMgVGhpcyBXb3JrcyBDaGVjayBGb3IgLSBXaW5kb3dzXG4gICAgICBldnQuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlLCB3aW5kb3csIDAsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgMCwgbnVsbCk7XG4gICAgICBhLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9KTtcblxuXG5cbiAgICAvKiBMaXN0IE1vZGlmaWNhdGlvbiBTaG9ydGN1dHMgKi9cbiAgICBNb3VzZXRyYXAuYmluZCgndGFiK3InLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgICQoJyNyZW5hbWVMaXN0QnRuJykuY2xpY2soKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgndGFiK2QnLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgICQoJyNkZWxldGVMaXN0TW9kYWwnKS5jbGljaygpXG4gICAgfSlcblxuICAgIE1vdXNldHJhcC5iaW5kKCd0YWIrcycsIGZ1bmN0aW9uKCl7XG4gICAgICAvL2NvbnNvbGUubG9nKCdyZWxvYWQnKVxuICAgICAgLy8kKCcjZG93bmxvYWRQcm9zcGVjdHMnKS5jbGljaygpXG4gICAgICB0aGlzcy5kb3dubG9hZEZpbGUoKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgnc2hpZnQrbCcsIGZ1bmN0aW9uKCl7XG4gICAgICAvL2NvbnNvbGUubG9nKCdyZWxvYWQnKVxuICAgICAgLy8kKCcjZG93bmxvYWRQcm9zcGVjdHMnKS5jbGljaygpXG4gICAgICAvL3RoaXNzLmRvd25sb2FkRmlsZSgpXG4gICAgICAkKCcubmV3LWxpc3QtYnRuJykuY2xpY2soKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgnZScsIGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgIC8vJCgnI2Rvd25sb2FkUHJvc3BlY3RzJykuY2xpY2soKVxuICAgICAgdGhpc3MucmVtb3ZlU2VsZWN0ZWRQcm9zcGVjdHMoKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgnYycsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGNvbnNvbGUubG9nKCdjb3B5JylcbiAgICAgICQoJyNjb3B5VG9MaXN0JykuY2xpY2soKVxuICAgIH0pO1xuXG4gICAgTW91c2V0cmFwLmJpbmQoJ20nLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnY29weScpXG4gICAgICAkKCcjbW92ZVRvTGlzdCcpLmNsaWNrKClcbiAgICB9KTtcblxuICAgIC8vTW91c2V0cmFwLmJpbmQoJ2UnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2UnKTsgfSk7XG4gICAgTW91c2V0cmFwLmJpbmQoJ3JpZ2h0JywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdyaWdodCcpOyB9KTtcbiAgICBNb3VzZXRyYXAuYmluZCgnbGVmdCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnbGVmdCcpOyB9KTtcblxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAvKiBPbkxvYWQgRm9yIFRoZSBGaXJzdCBUaW1lIEZ1bmN0aW9uICovXG4gICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5zdHJpbmdpZnkoW10pXG4gICAgdGhpc3NzID0gdGhpcztcblxuICAgIC8vdGhpcy5zdGFydEtleWJvYXJkU2hvcnRjdXRzKClcblxuICAgIHBhcnNlX2hlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYidcbiAgICB9XG5cbiAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgY3VpZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZFxuICAgIHVzZXIgPSBKU09OLnN0cmluZ2lmeSh7J19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzpjdWlkLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOiAnVXNlcid9KVxuICAgIGFyY2hpdmVMaXN0ID0gSlNPTi5zdHJpbmdpZnkoeyAvL2hhcmRDb2RlXG4gICAgICAnb2JqZWN0SWQnOidTZXJQUWpja3ZlJyxcbiAgICAgICdfX3R5cGUnOidQb2ludGVyJywgXG4gICAgICAnY2xhc3NOYW1lJyA6IHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZVxuICAgIH0pXG5cbiAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwiYXJjaGl2ZWRcIjp0cnVlfSZjb3VudD0xJm9yZGVyPS1jcmVhdGVkQXQnXG5cbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ICE9ICdBbGwnKXtcbiAgICAgIGN1cnJlbnRMaXN0ID0ge1xuICAgICAgICAnb2JqZWN0SWQnOnRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZCwgXG4gICAgICAgICdfX3R5cGUnOidQb2ludGVyJywgXG4gICAgICAgICdjbGFzc05hbWUnIDogdGhpcy5zdGF0ZS5saXN0Q2xhc3NOYW1lXG4gICAgICB9XG4gICAgICBjdXJyZW50TGlzdCA9IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMaXN0KVxuICAgICAgdXNlciA9IEpTT04uc3RyaW5naWZ5KHsnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6J3hUaEFYYzBMWlQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonVXNlcid9KVxuXG4gICAgICAvLyBhZGQgY29tcGFueSB0byBwcm9zcGVjdHMgYWRkZWQgdGhyb3VnaCBtaW5pbmcgam9iXG4gICAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwibGlzdHNcIjonK2N1cnJlbnRMaXN0Kyd9JmNvdW50PTEnXG4gICAgfVxuXG4gICAgY2xhc3NOYW1lID0gdGhpcy5zdGF0ZS5jbGFzc05hbWVcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy8nK2NsYXNzTmFtZSsnP2xpbWl0PScrdGhpc3NzLnN0YXRlLnByb3NwZWN0c1BlclBhZ2UsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2coJ0NPTVBBTlkgUkVTVUxUUycpXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMucmVzdWx0cy5sZW5ndGgpXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7Y291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7dG90YWxDb3VudDogcmVzLmNvdW50fSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwYWdlczogTWF0aC5jZWlsKHJlcy5jb3VudC90aGlzc3MucHJvcHMucHJvc3BlY3RzUGVyUGFnZSl9KVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe2xvYWRpbmc6IGZhbHNlfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgIH1cblxuICAgIGN1cnJlbnRVc2VyID0geyBcbiAgICAgICdfX3R5cGUnICAgOiAnUG9pbnRlcicsXG4gICAgICAnY2xhc3NOYW1lJzogJ19Vc2VyJyxcbiAgICAgICdvYmplY3RJZCcgOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICB9XG5cbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgbGlzdENsYXNzTmFtZSA9IHRoaXMuc3RhdGUubGlzdENsYXNzTmFtZVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrbGlzdENsYXNzTmFtZSxcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGRhdGE6ICd3aGVyZT17XCJ1c2VyXCI6JytKU09OLnN0cmluZ2lmeShjdXJyZW50VXNlcikrXCJ9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdFwiLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgcmVzdWx0cyA9IHJlcy5yZXN1bHRzXG4gICAgICAgIGZvcihpPTA7aTwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJlc3VsdHMuY291bnQgPSAnfidcbiAgICAgICAgfVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7bGlzdHM6IHJlc3VsdHN9KVxuICAgICAgICAvLyBNYWtlIGJhdGNoIHJlcXVlc3QgdG8gZ2V0IGxpc3QgY291bnRzIGFmdGVyIHRoZXkgYXJlIGxvYWRlZFxuICAgICAgICBmb3IoaT0wO2kgPCByZXMucmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHJlcy5yZXN1bHRzW2ldLm9iamVjdElkLCBcIlwiKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yKGk9MDtpPCByZXMucmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3QgPSB7XG4gICAgICAgICAgICAnX190eXBlJyAgICA6ICdQb2ludGVyJyxcbiAgICAgICAgICAgICdvYmplY3RJZCcgIDogcmVzLnJlc3VsdHNbaV0ub2JqZWN0SWQsXG4gICAgICAgICAgICAnY2xhc3NOYW1lJyA6IHRoaXNzLnN0YXRlLmxpc3RDbGFzc05hbWUsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xhc3NOYW1lID0gdGhpc3Muc3RhdGUuY2xhc3NOYW1lXG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy8nK2NsYXNzTmFtZSxcbiAgICAgICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOnBhcnNlX2hlYWRlcnMsXG4gICAgICAgICAgICBsaXN0T2JqZWN0SWQ6IHJlcy5yZXN1bHRzW2ldLm9iamVjdElkLFxuICAgICAgICAgICAgZGF0YTogJ3doZXJlPXtcImxpc3RzXCI6JytKU09OLnN0cmluZ2lmeShsaXN0KSsnfSZjb3VudD0xJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMubGlzdE9iamVjdElkKVxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmxpc3RPYmplY3RJZCwgcmVzLmNvdW50KVxuICAgICAgICAgICAgICBhbW91bnQgPSAwXG4gICAgICAgICAgICAgIGZvcihpaT0wO2lpPCByZXN1bHRzLmxlbmd0aDtpaSsrKXtcbiAgICAgICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShyZXN1bHRzW2lpXS5vYmplY3RJZCkgPT0gXCJcIilcbiAgICAgICAgICAgICAgICAgIGFtb3VudCA9IGFtb3VudCArIDFcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmKGFtb3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yKGlpPTA7aWk8IHJlc3VsdHMubGVuZ3RoO2lpKyspXG4gICAgICAgICAgICAgICAgICByZXN1bHRzW2lpXS5jb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHJlc3VsdHNbaWldLm9iamVjdElkKVxuXG4gICAgICAgICAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xpc3RzOiByZXN1bHRzfSlcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdHb3QgQ291bnRzJylcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIHVwZGF0ZWQgcmVzLmNvdW50XG4gICAgICAgICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe2NvdW50OiByZXMuY291bnR9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBnZW5lcmF0ZV9pZCA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICB9LFxufSk7XG5cbi8qICBEcm9wZG93biBNZW51cyAqL1xuXG52YXIgQ3VycmVudExpc3RzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ3VycmVudExpc3RzJyxcbiAgbGlzdEFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgIGxpc3ROYW1lID0gJChlLnRhcmdldCkudGV4dCgpXG4gICAgXG4gICAgdmFyIGxpc3RTZWxlY3QgPSBfLmZpbHRlcih0aGlzLnByb3BzLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBsaXN0TmFtZVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5saXN0QWN0aW9uKGxpc3RTZWxlY3RbMF0ub2JqZWN0SWQpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBsaXN0cyA9IFtdIFxuICAgIGZvcihpPTA7aTwgdGhpcy5wcm9wcy5saXN0cy5sZW5ndGg7aSsrKSB7XG4gICAgICBsaXN0cy5wdXNoKFxuICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgUmVhY3QuRE9NLmEoe3N0eWxlOiB7Zm9udFdlaWdodDonYm9sZCcsZm9udFNpemU6JzEwcHgnfSwgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBvbkNsaWNrOiB0aGlzLmxpc3RBY3Rpb259LCB0aGlzLnByb3BzLmxpc3RzW2ldLm5hbWUpKVxuICAgICAgKVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuY29weURyb3Bkb3duU3R5bGUpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcImRyb3Bkb3duLW1lbnUgZHJvcC10ZXN0XCIsIGlkOiBcImRyb3Bkb3duXCIsIFxuICAgICAgICAgIHN0eWxlOiB7cmlnaHQ6MTU4fX0sIFxuICAgICAgICBsaXN0c1xuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgTGlzdHNNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnTGlzdHNNZW51JyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwiZHJvcGRvd24tbWVudSBkcm9wLXRlc3RcIiwgaWQ6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIG1pbldpZHRoOidpbmhlcml0JyxcbiAgICAgICAgICAgIHRvcDogJzIwcHgnLFxuICAgICAgICAgICAgd2lkdGg6ICcxMjVweCcsXG4gICAgICAgICAgICByaWdodDogJzE1NHB4JyxcbiAgICAgICAgICAgIGxlZnQ6J2F1dG8nXG4gICAgICAgICAgfX0sIFxuICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI2Jvb2tzXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRpbWVzXCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgXCJEZWxldGUgTGlzdFwiXG4gICAgICAgICkpLCBcbiAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNwb2RjYXN0c1wifSwgXG4gICAgICAgICAgXCJSZW5hbWUgTGlzdHNcIlxuICAgICAgICApKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgQ3VycmVudExpc3RzVHdvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ3VycmVudExpc3RzVHdvJyxcbiAgbGlzdEFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgIGxpc3ROYW1lID0gJChlLnRhcmdldCkudGV4dCgpXG4gICAgXG4gICAgdmFyIGxpc3RTZWxlY3QgPSBfLmZpbHRlcih0aGlzLnByb3BzLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBsaXN0TmFtZVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5saXN0QWN0aW9uKGxpc3RTZWxlY3RbMF0ub2JqZWN0SWQpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBsaXN0cyA9IFtdIFxuICAgIGZvcihpPTA7aTx0aGlzLnByb3BzLmxpc3RzLmxlbmd0aDtpKyspIHtcbiAgICAgIGxpc3RzLnB1c2goXG4gICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBSZWFjdC5ET00uYSh7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxmb250U2l6ZTonMTBweCd9LCBcbiAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmxpc3RBY3Rpb259LCBcbiAgICAgICAgICB0aGlzLnByb3BzLmxpc3RzW2ldLm5hbWUpKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwiZHJvcGRvd24tbWVudSBkcm9wLXRlc3RcIiwgaWQ6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuY29weURyb3Bkb3duU3R5bGV9LCBcbiAgICAgICAgbGlzdHNcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIExpc3REZXRhaWxCdXR0b25zID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnTGlzdERldGFpbEJ1dHRvbnMnLFxuICAvLyBSZW5hbWUgTGlzdFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0TW9kZTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmN1cnJlbnRMaXN0T2JqZWN0SWQpXG4gICAgaWYoIXRoaXMuc3RhdGUuZWRpdE1vZGUpIHtcbiAgICAgIHN0dWZmID0gUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1kZWZhdWx0XCIsIHN0eWxlOiBsaXN0VHlwZX0sIFxuICAgICAgICAgICAgKHRoaXMucHJvcHMuY3VycmVudExpc3ROYW1lID09IFwiQWxsXCIpID8gJycgOiBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWFsaWduLWp1c3RpZnlcIiwgc3R5bGU6IHttYXJnaW5SaWdodDonNXB4J319KSwgXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5jdXJyZW50TGlzdE5hbWUgPT0gXCJBbGxcIikgPyAnJyA6IFwiICAgXCIgK3RoaXMucHJvcHMuY3VycmVudExpc3ROYW1lXG4gICAgICAgICAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgc3R1ZmYgPSBSZWFjdC5ET00uaW5wdXQoe2NsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgc3R5bGU6IHt3aWR0aDogMTAwLCBmbG9hdDogJ2xlZnQnLCBoZWlnaHQ6IDI0LCBtYXJnaW5Ub3A6IC0xfX0pXG4gICAgfVxuICAgIHJldHVybiAoXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge21hcmdpbjowfX0sIFxuICAgICAgICAgICAgICBzdHVmZiwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiBsaXN0QnRuLCBcbiAgICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsIFxuICAgICAgICAgICAgICAgIGlkOiBcInJlbmFtZUxpc3RCdG5cIiwgXG4gICAgICAgICAgICAgICAgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtcmVuYW1lTGlzdC1tb2RhbC1zbVwiLCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuLWdyYWRpZW50IGJ0biBidG4teHMgYnRuLXByaW1hcnlcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsXCJ9KVxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IGxpc3RCdG4sIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgXG4gICAgICAgICAgICAgICAgaWQ6IFwiZGVsZXRlTGlzdE1vZGFsXCIsIFxuICAgICAgICAgICAgICAgICdkYXRhLXRhcmdldCc6IFwiLmJzLWRlbGV0ZUxpc3QtbW9kYWwtc21cIiwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1ncmFkaWVudCBidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRyYXNoLW9cIn0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVuYW1lTGlzdE1vZGFsKHtyZW5hbWVMaXN0OiB0aGlzLnByb3BzLnJlbmFtZUxpc3R9KSwgXG4gICAgICAgICAgICBEZWxldGVMaXN0TW9kYWwoe2RlbGV0ZUxpc3Q6IHRoaXMucHJvcHMuZGVsZXRlTGlzdH0pXG4gICAgICAgICAgKVxuICAgICAgKTtcbiAgfSxcblxuICByZW5hbWVMaXN0OiBmdW5jdGlvbihuZXdMaXN0TmFtZSkge1xuICAgIHRoaXMucHJvcHMucmVuYW1lTGlzdChuZXdMaXN0TmFtZSlcbiAgfSxcblxuICBkZWxldGVMaXN0OiBmdW5jdGlvbigpe1xuICAgIHRoaXMucHJvcHMuZGVsZXRlTGlzdCgpXG4gIH0sXG5cbiAgdG9nZ2xlRWRpdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdE1vZGU6ICF0aGlzLnN0YXRlLmVkaXRNb2RlIH0pXG4gIH1cbn0pO1xuXG52YXIgQ29tcGFueVByb3NwZWN0SGVhZGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ29tcGFueVByb3NwZWN0SGVhZGVyJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKG51bGwsIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7d2lkdGg6MzAwfX0sIFwiTmFtZVwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDoxMDB9fSwgXCJBZGRlZCBPblwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkluZHVzdHJ5XCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOjEzNyxkaXNwbGF5Oidub25lJ319LCBcIiMgb2YgUHJvc3BlY3RzXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFwiU2lnbmFsc1wiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDo2MDB9fSwgXCLCoFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIsKgXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiwqBcIilcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBjcmVhdGVMaXN0TW9kYWxcbiAgY3JlYXRlTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJCgnI2xpc3RUaXRsZScpLnZhbCgpKVxuXG4gICAgZGF0YSA9ICB7XG4gICAgICAnbmFtZScgICAgICAgIDogJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSwgICAvL1dhaXRpbmcgLCBSdW5uaW5nXG4gICAgICAndXNlcicgICAgICAgIDogeyAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J19Vc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOid4V0VTaXc1U21kJyB9LFxuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RMaXN0JyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGEuY291bnQgPSAwXG5cbiAgICB0aGlzLnByb3BzLmNyZWF0ZUxpc3QoZGF0YSlcbiAgICBcbiAgICAkKCcjY3JlYXRlTGlzdE1vZGFsJykubW9kYWwoJ2hpZGUnKVxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpO1xuICAgIC8vJCgnYnV0dG9uLmNsb3NlJykuY2xpY2soKVxuICB9LFxuXG4gIGNyZWF0ZUxpc3RCdXR0b25DbGljazogZnVuY3Rpb24oKSB7XG4gICAgaWYoJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSAhPSBcIlwiKVxuICAgICAgdGhpcy5jcmVhdGVMaXN0KClcbiAgfSxcblxuICBjcmVhdGVNaW5pbmdKb2I6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZygnbG1hbycpXG4gICAgaWYoJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSAhPSBcIlwiKVxuICAgICAgdGhpcy5jcmVhdGVMaXN0KClcbiAgfSxcblxuICBkZWxldGVMaXN0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmRlbGV0ZUxpc3QoKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwgZmFkZSBicy1kZWxldGVMaXN0LW1vZGFsLXNtXCIsIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsICdhcmlhLWxhYmVsbGVkYnknOiBcIm15U21hbGxNb2RhbExhYmVsXCIsICdhcmlhLWhpZGRlbic6IFwidHJ1ZVwiLCBpZDogXCJjcmVhdGVMaXN0TW9kYWxcIiwgc3R5bGU6IHt0b3A6JzIwMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2xvc2VcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFJlYWN0LkRPTS5zcGFuKHsnYXJpYS1oaWRkZW4nOiBcInRydWVcIn0sIFwiw5dcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInNyLW9ubHlcIn0sIFwiQ2xvc2VcIikpLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSksIFwiIMKgRGVsZXRlIExpc3Q/XCIpXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe2NsYXNzTmFtZTogXCJkZWxldGVGb3JtXCIsIG9uU3VibWl0OiB0aGlzLmRlbGV0ZUxpc3R9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5kZWxldGVMaXN0LCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kYW5nZXJcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsIHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgICAgICAgICAgICAgICBcIkRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmRlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsIHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbmNlbFwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMucHJvcHMuaW5pdGlhbFRlbXBsYXRlVmFsdWVzLm5hbWUsXG4gICAgICBib2R5OiB0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5ib2R5LFxuICAgICAgc3ViamVjdDogdGhpcy5wcm9wcy5pbml0aWFsVGVtcGxhdGVWYWx1ZXMuc3ViamVjdCxcbiAgICAgIGVkaXRNb2RlOiB0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5lZGl0TW9kZVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2RpZCBtb3VudCcpXG4gICAgJCgnLnRlbXBsYXRlLWJvZHknKS5odG1sKHRoaXMuc3RhdGUuYm9keSlcbiAgICBpZih0aGlzLnN0YXRlLmVkaXRNb2RlKSB7XG4gICAgICAkKCcuc3VtbWVyJykuc3VtbWVybm90ZSh7XG4gICAgICAgIGhlaWdodDogMjAwLFxuICAgICAgICB0b29sYmFyOiBbXG4gICAgICAgICAgWydzdHlsZScsIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2NsZWFyJ11dLFxuICAgICAgICAgIFsnZm9udCcsIFsnc3RyaWtldGhyb3VnaCddXSxcbiAgICAgICAgICBbJ2ZvbnRzaXplJywgWydmb250c2l6ZSddXSxcbiAgICAgICAgICBbJ2NvbG9yJywgWydjb2xvciddXSxcbiAgICAgICAgICBbJ3BhcmEnLCBbJ3VsJywgJ29sJywgJ3BhcmFncmFwaCddXSxcbiAgICAgICAgICBbJ2hlaWdodCcsIFsnaGVpZ2h0J11dLFxuICAgICAgICBdXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJlbmRlcmpzb24uc2V0X3Nob3dfdG9fbGV2ZWwoJ2FsbCcpXG4gICAgcHJvc3BlY3QgPSBfLnBpY2sodGhpcy5wcm9wcy5wcm9zcGVjdCwgXG4gICAgICAnY29tcGFueV9uYW1lJywgJ25hbWUnLCAncG9zJ1xuICAgIClcbiAgICBwcm9zcGVjdC5maXJzdF9uYW1lID0gcHJvc3BlY3QubmFtZS5zcGxpdCgnICcpWzBdXG4gICAgcHJvc3BlY3QubGFzdF9uYW1lID0gXy5sYXN0KHByb3NwZWN0Lm5hbWUuc3BsaXQoJyAnKSlcbiAgICBwcm9zcGVjdCA9IF8ub21pdChwcm9zcGVjdCwgJ25hbWUnKVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0VGVtcGxhdGVcIikuYXBwZW5kQ2hpbGQocmVuZGVyanNvbihwcm9zcGVjdCkpO1xuICAgICQoJyNlZGl0VGVtcGxhdGVPdmVybGF5JykuaHRtbCgpXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQoJy5yZW5kZXJqc29uJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzcy5wcm9wcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51KClcbiAgICB9KVxuXG4gICAgJCgnLnJlbmRlcmpzb24nKS5jc3Moe1xuICAgICAgJ3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcbiAgICAgICd6LWluZGV4JzogJzEwMDAwMDAwMDAnLFxuICAgICAgJ2JhY2tncm91bmQtY29sb3InOidyZ2JhKDAsMCwwLDApJyxcbiAgICAgICdib3JkZXInOicwJyxcbiAgICAgICdjb2xvcic6J3doaXRlJyxcbiAgICAgICdtYXJnaW4tdG9wJzonMHB4JyxcbiAgICAgICdoZWlnaHQnOiAnNTQycHgnLFxuICAgICAgJ292ZXJmbG93JzonYXV0bycsXG4gICAgICAnd2lkdGgnOiczODBweCdcbiAgICB9KVxuXG4gICAgJCgnLmtleScpLmNzcyh7XG4gICAgICAnY3Vyc29yJzoncG9pbnRlcidcbiAgICB9KVxuXG4gICAgJCgnLnRpbWVsaW5lJykuY3NzKHtcbiAgICAgICctd2Via2l0LWZpbHRlcic6ICdibHVyKDEwcHgpJyxcbiAgICB9KVxuICAgICQoJyNjYW1wYWlnbi10b3AtZGV0YWlsJykuY3NzKHtcbiAgICAgICctd2Via2l0LWZpbHRlcic6ICdibHVyKDEwcHgpJyxcbiAgICB9KVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDpmdW5jdGlvbigpIHtcbiAgICAkKCcudGltZWxpbmUnKS5jc3Moe1xuICAgICAgJy13ZWJraXQtZmlsdGVyJzogJycsXG4gICAgfSlcbiAgICAkKCcjY2FtcGFpZ24tdG9wLWRldGFpbCcpLmNzcyh7XG4gICAgICAnLXdlYmtpdC1maWx0ZXInOiAnJyxcbiAgICB9KVxuICB9LFxuXG4gIGNsaWNrZWRPdmVybGF5OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnY2xpY2tlZCBvdmVybGF5JylcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUoKVxuICB9LFxuXG4gIGNoYW5nZU1vZGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB0ZW1wbGF0ZSBodG1sIG9uIHRvZ2dsZVxuICAgIHBhcnNlX2hlYWRlcnMgPSBhcHBDb25maWcucGFyc2VIZWFkZXJzXG4gICAgaWYodGhpcy5zdGF0ZS5lZGl0TW9kZSl7XG4gICAgICAkKCcuc3VtbWVyJykuZGVzdHJveSgpO1xuICAgICAgJCgnLnRpbWVsaW5lJykuY3NzKHtcbiAgICAgICAgJy13ZWJraXQtZmlsdGVyJzogJ2JsdXIoMjBweCknLFxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coJ2xvb2sgYXQgdGhpcycpXG4gICAgICBjb25zb2xlLmxvZyhuYW1lKVxuICAgICAgbmFtZSA9ICh0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5uZXdUZW1wbGF0ZSkgPyAkKCcjdGVtcGxhdGUtbmFtZScpLnZhbCgpIDogdGhpcy5zdGF0ZS5uYW1lXG4gICAgICB0aGlzLnByb3BzLnNhdmVUZW1wbGF0ZSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGJvZHk6ICQoJy5zdW1tZXInKS5jb2RlKCksXG4gICAgICAgIHN1YmplY3Q6ICQoJy5zdWJqZWN0JykudmFsKCksXG4gICAgICB9LCB0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5uZXdUZW1wbGF0ZSlcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG5hbWU6ICQoJyN0ZW1wbGF0ZS1uYW1lJykudmFsKCksXG4gICAgICAgIGJvZHk6ICQoJy5zdW1tZXInKS5jb2RlKCksXG4gICAgICAgIHN1YmplY3Q6ICQoJy5zdWJqZWN0JykudmFsKCksXG4gICAgICAgIGVkaXRNb2RlOiAhdGhpcy5zdGF0ZS5lZGl0TW9kZSxcbiAgICAgIH0pXG5cbiAgICAgIG9iaklkID0gdGhpcy5wcm9wcy5pbml0aWFsVGVtcGxhdGVWYWx1ZXMub2JqZWN0SWRcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9UZW1wbGF0ZXMvJytvYmpJZCxcbiAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgaGVhZGVyczpwYXJzZV9oZWFkZXJzLFxuICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHtib2R5OiAkKCcuc3VtbWVyJykuY29kZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0OiAkKCcuc3ViamVjdCcpLnZhbCgpfSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUgfSlcbiAgICAgICQoJy50aW1lbGluZScpLmNzcyh7XG4gICAgICAgICctd2Via2l0LWZpbHRlcic6ICdibHVyKDIwcHgpJyxcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uKG5ld1Byb3BzKSB7XG4gICAgY29uc29sZS5sb2coJ1RIRSBORVcgUFJPUFMnKVxuICAgIGNvbnNvbGUubG9nKG5ld1Byb3BzKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgLyogdGhpc3MgPSB0aGlzOyAqL1xuICAgIGNvbnNvbGUubG9nKCdPVEhFUicpXG4gICAgaWYodGhpcy5zdGF0ZS5lZGl0TW9kZSl7XG4gICAgICBjb25zb2xlLmxvZygnQ0FMTEVEJylcbiAgICAgIC8vIFJlcGxhY2UgU3ViamVjdCBcbiAgICAgICQoJy5zdWJqZWN0JykudmFsKHRoaXMuc3RhdGUuc3ViamVjdClcbiAgICAgICQoJyN0ZW1wbGF0ZS1uYW1lJykudmFsKHRoaXMuc3RhdGUubmFtZSlcblxuICAgICAgJCgnLnN1bW1lcicpLnN1bW1lcm5vdGUoe1xuICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgdG9vbGJhcjogW1xuICAgICAgICAgIFsnc3R5bGUnLCBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdjbGVhciddXSxcbiAgICAgICAgICBbJ2ZvbnQnLCBbJ3N0cmlrZXRocm91Z2gnXV0sXG4gICAgICAgICAgWydmb250c2l6ZScsIFsnZm9udHNpemUnXV0sXG4gICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXG4gICAgICAgICAgWydwYXJhJywgWyd1bCcsICdvbCcsICdwYXJhZ3JhcGgnXV0sXG4gICAgICAgICAgWydoZWlnaHQnLCBbJ2hlaWdodCddXSxcbiAgICAgICAgXVxuICAgICAgfSlcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBFZGl0b3Igd2l0aCBodG1sXG4gICAgICAkKCcuc3VtbWVyJykuY29kZSh0aGlzLnN0YXRlLmJvZHkpXG4gICAgfVxuICB9LFxuXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzdWJqZWN0UGxhY2UgPSAodGhpcy5zdGF0ZS5lZGl0TW9kZSkgPyBSZWFjdC5ET00uaW5wdXQoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lJyx3aWR0aDo0ODB9LCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIHN1YmplY3RcIn0pIDogdGhpcy5zdGF0ZS5zdWJqZWN0XG5cbiAgICBpZih0aGlzLnN0YXRlLmVkaXRNb2RlKXtcbiAgICAgICB0b2dnbGVCdXR0b24gPSBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNoYW5nZU1vZGUsIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLGZsb2F0OidyaWdodCcsbWFyZ2luVG9wOjV9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNhdmVcIn0pLCBcIiDCoCBTYXZlIFRlbXBsYXRlXCIpXG5cbiAgICAgICBpZih0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5uZXdUZW1wbGF0ZSl7XG4gICAgICAgICB0aGVfbmFtZSA9IFJlYWN0LkRPTS5pbnB1dCh7Y2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcInRlbXBsYXRlLW5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidsZWZ0Jyx3aWR0aDoyMDB9fSlcbiAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICB0b2dnbGVCdXR0b24gPSBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNoYW5nZU1vZGUsIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXCIsIFxuICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLGZsb2F0OidyaWdodCcsbWFyZ2luVG9wOjV9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBlbmNpbC1zcXVhcmVcIn0pLCBcIiDCoCBFZGl0IFRlbXBsYXRlXCIpXG5cbiAgICAgICB0aGVfbmFtZSA9IFJlYWN0LkRPTS5oNih7c3R5bGU6IHtmbG9hdDonbGVmdCd9fSwgXG4gICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1maWxlLXRleHQtb1wifSksIFwiwqBcIiwgXG4gICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5uYW1lXG4gICAgICAgICAgICAgICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcImVkaXRUZW1wbGF0ZVwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNSh7Y2xhc3NOYW1lOiBcImV4YW1wbGUtdGVtcGxhdGUtdGl0bGVcIn0sIFwiRXhhbXBsZSBUZW1wbGF0ZSBWYWx1ZXNcIiksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZXhhbXBsZS10ZW1wbGF0ZS10aXRsZVwiLCBcbiAgICAgICAgICAgICBzdHlsZToge21hcmdpbkxlZnQ6MjE1LCBtYXJnaW5Ub3A6OH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHQgYnRuLXhzXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1sZWZ0XCJ9KSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5MZWZ0OjV9LCBcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHQgYnRuLXhzXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1yaWdodFwifSkpXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtvbkNsaWNrOiB0aGlzLmNsaWNrZWRPdmVybGF5LCBpZDogXCJlZGl0VGVtcGxhdGVPdmVybGF5XCJ9KSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiZWRpdFRlbXBsYXRlVmlld1wiLCBcbiAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jayd9fSwgXG4gICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wiLCBzdHlsZToge2hlaWdodDo1MH19LCBcbiAgICAgICAgICAgICAgICAgdGhlX25hbWUsIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luTGVmdDo1LG1hcmdpblRvcDo1fX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2hcIn0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICB0b2dnbGVCdXR0b25cbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZWRpdFRlbXBsYXRlVGl0bGVcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFwiU3ViamVjdDogXCIpLCBcbiAgICAgICAgICAgICAgICBzdWJqZWN0UGxhY2VcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwidGVtcGxhdGVEZXRhaWxzXCJ9LCBcbiAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW5Cb3R0b206JzAnfSwgY2xhc3NOYW1lOiBcInRleHQtbXV0ZWRcIn0sIFxuICAgICAgICAgICAgICAgICBcIkNyZWF0ZWQgYnkgTWFyayBvbiBKdWwuIDIxLCAyMDE0XCJcbiAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMCd9LCBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXG4gICAgICAgICAgICAgICAgIFwibGFzdCB1cGRhdGVkIDcgZGF5cyBhZ29cIlxuICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHkgc3VtbWVyIHRlbXBsYXRlLWJvZHlcIn1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnZhciBUZW1wbGF0ZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy5qcy5taW4uanMnKTtcbnZhciBTY2hlZHVsZXMgPSByZXF1aXJlKCcuL3NjaGVkdWxlLmpzLm1pbi5qcycpO1xudmFyIENhbXBhaWducyA9IHJlcXVpcmUoJy4vY2FtcGFpZ25zLmpzLm1pbi5qcycpO1xudmFyIFNlbnRNYWlsID0gcmVxdWlyZSgnLi9zZW50X21haWwuanMubWluLmpzJyk7XG52YXIgRm9sbG93dXBGZWVkID0gcmVxdWlyZSgnLi9mb2xsb3d1cF9mZWVkLmpzLm1pbi5qcycpO1xudmFyIENhbXBhaWduRGV0YWlsID0gcmVxdWlyZSgnLi9jYW1wYWlnbl9kZXRhaWwuanMubWluLmpzJyk7XG52YXIgQ3JlYXRlQ2FtcGFpZ25Nb2RhbCA9IHJlcXVpcmUoJy4vY3JlYXRlX2NhbXBhaWduLmpzLm1pbi5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFNjcmVlbjogJ0NhbXBhaWducycsXG4gICAgICBzZWxlY3RlZENhbXBhaWduOicnLFxuICAgICAgcHJvc3BlY3RMaXN0czogW10sXG4gICAgICBjYW1wYWlnbnM6IFtdXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueSlcbiAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30maW5jbHVkZT1wcm9zcGVjdF9saXN0LGZvbGxvd3Vwcyxmb2xsb3d1cHMudGVtcGxhdGUmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgICAgJC5hamF4KHtcbiAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ2FtcGFpZ24nLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBkYXRhOiBxcnksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzLnJlc3VsdHMpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtjYW1wYWlnbnM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgLy8gVE9ETyAgLSBBZGQgR2V0IFByb3NwZWN0IExpc3QgQ291bnRcbiAgICAgICAgLy8gRm9sbG93IFVwIEZlZWQgRmVhdHVyZVxuICAgICAgICAvLyAtIFNob3dzIHdoYXQgc3RhZ2VzIGRpZmZlcmVudCBwcm9zcGVjdHMgYXJlIGF0IGFuZCB3aGV0aGVyIHlvdSBcbiAgICAgICAgLy8gICBzaG91bGQgc2VuZCBhIGZvbGxvdyB1cCB0byB0aGVtLlxuICAgICAgICAvLyBIb3cgdG8gZ2V0IHRoZSBzdGFnZSBvZiBQcm9zcGVjdCBMaXN0XG4gICAgICAgIC8vIC0gV2hlcmUgdG8gcGVyc2lzdCBsYXN0IGVtYWlsIHNlbnRcbiAgICAgICAgLy8gLSBXaGF0IGlzIHN0b3JlZCBhdCB0aGUgY2FtcGFpZ24gbGV2ZWxcbiAgICAgICAgLy8gLSBXaGF0IGlzIHN0b3JlZCBhdCB0aGUgcHJvc3BlY3QgbGV2ZWxcbiAgICAgICAgLy8gLSBUaW1lbGluZSAoR2VuZXJhbCA3IHggNyBjYWRlbmNlcylcbiAgICAgICAgLy8gICAtIFxuICAgICAgICAvLyAtIFJ1bGVzIChTYW5rZXkgLyBGbG93IFZpZXcpXG4gICAgICAgIC8vICAgLSBTaG93cyBhbGwgb3Igb25seSB0aGUgb25lcyB0aGF0IGhhdmVudCByZXNwb25kZWQgXG4gICAgICAgIC8vICAgLSBTaG93IGFsbCB0aGUgb25lcyBodGhhdCBoYXZlbid0IHJlcGxpZWRcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICAgfSk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RMaXN0JyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgLy8gVE9ET1xuICAgICAgLy8gLSBDb21wYW55IFNwZWNpZmljXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0TGlzdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG5cbiAgICAgIH1cbiAgICB9KVxuXG5cbiAgfSxcbiAgXG4gIHRvZ2dsZVNjcmVlbjogZnVuY3Rpb24oc2NyZWVuKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRTY3JlZW4gOiBzY3JlZW59KVxuICB9LFxuXG4gIGNoYW5nZVNlbGVjdGVkQ2FtcGFpZ246IGZ1bmN0aW9uKHNjcmVlbiwgc2VsZWN0ZWRDYW1wYWlnbikge1xuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkQ2FtcGFpZ24pXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3RlZENhbXBhaWduIDogc2VsZWN0ZWRDYW1wYWlnbixcbiAgICAgIHNlbGVjdGVkU2NyZWVuOiBzY3JlZW4sXG4gICAgfSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzID0gdGhpc1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuc2VsZWN0ZWRDYW1wYWlnbilcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnNlbGVjdGVkU2NyZWVuKVxuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY2FtcGFpZ25zKVxuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5zZWxlY3RlZFNjcmVlbil7XG4gICAgICBjYXNlICdDYW1wYWlnbnMnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gQ2FtcGFpZ25zKHtjYW1wYWlnbnM6IHRoaXNzLnN0YXRlLmNhbXBhaWducywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogdGhpc3MuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2NyZWVuOiB0aGlzcy50b2dnbGVTY3JlZW59KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NhbXBhaWduRGV0YWlsJzpcbiAgICAgICAgQ3VycmVudFNjcmVlbiA9IENhbXBhaWduRGV0YWlsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FtcGFpZ246IHRoaXNzLnN0YXRlLnNlbGVjdGVkQ2FtcGFpZ24sIFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FtcGFpZ25PYmplY3RJZDogdGhpc3Muc3RhdGUuc2VsZWN0ZWRDYW1wYWdpbk9iamVjdElkLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNjcmVlbjogdGhpc3MudG9nZ2xlU2NyZWVufSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdUZW1wbGF0ZXMnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gVGVtcGxhdGVzKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnT3ZlcnZpZXcnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gQ2FtcGFpZ25zKHtjYW1wYWlnbnM6IHRoaXNzLnN0YXRlLmNhbXBhaWducywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogdGhpc3MuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2NyZWVuOiB0aGlzcy50b2dnbGVTY3JlZW59KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1NlbnQgTWFpbCc6XG4gICAgICAgIEN1cnJlbnRTY3JlZW4gPSBTZW50TWFpbChudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0ZvbGxvd3VwIEZlZWQnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gRm9sbG93dXBGZWVkKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU2NoZWR1bGVzJzpcbiAgICAgICAgQ3VycmVudFNjcmVlbiA9IFNjaGVkdWxlcyhudWxsKVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge2hlaWdodDonNTUwcHgnfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7cGFkZGluZzonMCcsd2lkdGg6JzEwMCUnLGhlaWdodDonMTAwJSd9fSwgXG4gICAgICAgICAgU2lkZU1lbnUoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZUNhbXBhaWduOiB0aGlzLmNyZWF0ZUNhbXBhaWduLCBcbiAgICAgICAgICAgICAgICBwcm9zcGVjdExpc3RzOiB0aGlzLnN0YXRlLnByb3NwZWN0TGlzdHMsIFxuICAgICAgICAgICAgICAgIHRvZ2dsZVNjcmVlbjogdGhpcy50b2dnbGVTY3JlZW59KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMTBcIiwgXG4gICAgICAgICAgICAgICAgICAgc3R5bGU6IHtwYWRkaW5nOicwJyxoZWlnaHQ6JzEwMCUnfX0sIFxuICAgICAgICAgICAgQ3VycmVudFNjcmVlblxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG5cbiAgcGVyc2lzdENhbXBhaWduOiBmdW5jdGlvbihuZXdDYW1wYWlnbikge1xuICAgIENhbXBhaWduID0ge31cbiAgICBDYW1wYWlnbi5uYW1lID0gbmV3Q2FtcGFpZ24ubmFtZVxuICAgIENhbXBhaWduLmNvbXBhbnkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueVxuICAgIHRoaXNzID0gdGhpcztcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ2FtcGFpZ24nLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShDYW1wYWlnbiksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdGhlX2NhbXBhaWduID0gXy5maW5kKHRoaXNzLnN0YXRlLmNhbXBhaWducywgZnVuY3Rpb24oY2FtcGFpZ24pe1xuICAgICAgICAgIGZpcnN0ID0gY2FtcGFpZ24ubmFtZSA9PSBuZXdDYW1wYWlnbi5uYW1lIFxuICAgICAgICAgIHNlY29uZCA9IGNhbXBhaWduLnByb3NwZWN0X2xpc3QgPT0gbmV3Q2FtcGFpZ24ucHJvc3BlY3RfbGlzdFxuICAgICAgICAgIHJldHVybiBmaXJzdCAmJiBzZWNvbmRcbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMub2JqZWN0SWQpXG5cbiAgICAgICAgdGhlX2NhbXBhaWduLm9iamVjdElkID0gcmVzLm9iamVjdElkXG4gICAgICAgIGNhbXBhaWducyA9IF8uZmlsdGVyKHRoaXNzLnN0YXRlLmNhbXBhaWducywgZnVuY3Rpb24oY2FtcGFpZ24pe1xuICAgICAgICAgIGZpcnN0ID0gY2FtcGFpZ24ubmFtZSA9PSBuZXdDYW1wYWlnbi5uYW1lIFxuICAgICAgICAgIHNlY29uZCA9IGNhbXBhaWduLnByb3NwZWN0X2xpc3QgPT0gbmV3Q2FtcGFpZ24ucHJvc3BlY3RfbGlzdFxuICAgICAgICAgIHJldHVybiAhKGZpcnN0ICYmIHNlY29uZClcbiAgICAgICAgfSlcbiAgICAgICAgY2FtcGFpZ25zLnB1c2godGhlX2NhbXBhaWduKVxuICAgICAgICBjb25zb2xlLmxvZyhjYW1wYWlnbnMpXG5cbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2NhbXBhaWduczogIGNhbXBhaWduc30pXG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ2FtcGFpZ24vJytyZXMub2JqZWN0SWQsXG4gICAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cHJvc3BlY3RfbGlzdDp7XG4gICAgICAgICAgICAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAnY2xhc3NOYW1lJzonUHJvc3BlY3RMaXN0JyxcbiAgICAgICAgICAgICdvYmplY3RJZCc6bmV3Q2FtcGFpZ24ucHJvc3BlY3RfbGlzdC5vYmplY3RJZCxcbiAgICAgICAgICB9fSksXG4gICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGNyZWF0ZUNhbXBhaWduOiBmdW5jdGlvbihuZXdDYW1wYWlnbikge1xuICAgIGNhbXBhaWducyA9IHRoaXMuc3RhdGUuY2FtcGFpZ25zXG4gICAgY2FtcGFpZ25zLnB1c2gobmV3Q2FtcGFpZ24pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y2FtcGFpZ25zOiBjYW1wYWlnbnN9KVxuICAgIGNvbnNvbGUubG9nKG5ld0NhbXBhaWduKVxuXG4gICAgJCgnLm1vZGFsJykuY2xpY2soKVxuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLmNsaWNrKClcblxuICAgIHRoaXMucGVyc2lzdENhbXBhaWduKG5ld0NhbXBhaWduKVxuICB9XG59KTtcblxudmFyIFNpZGVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lkZU1lbnUnLFxuICB0b2dnbGVTY3JlZW46IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVNjcmVlbigkKGUudGFyZ2V0KS50ZXh0KCkudHJpbSgpKVxuICB9LFxuXG4gIC8qXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwic2hhcnAgYnRuIGJ0bi1kZWZhdWx0XCIgb25DbGljaz17dGhpcy50b2dnbGVTY3JlZW59PlxuICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtZmlsZS10ZXh0XCIgLz4gJm5ic3A7IFRlbXBsYXRlc1xuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cInNoYXJwIGJ0biBidG4tZGVmYXVsdFwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2NyZWVufT5cbiAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNsb2NrLW9cIiAvPiAmbmJzcDsgU2NoZWR1bGVzXG4gICAgPC9idXR0b24+XG4gICovXG4gIGNyZWF0ZUNhbXBhaWduTW9kYWw6IGZ1bmN0aW9uKCkge1xuXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0yXCIsIFxuICAgICAgICBzdHlsZToge3BhZGRpbmc6JzAnLGhlaWdodDonMTAwJScsIGJhY2tncm91bmRDb2xvcjoncmdiKDkwLCAxMDcsIDExOSknLGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6JzNweCd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXAtdmVydGljYWxcIiwgc3R5bGU6IHt3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic2hhcnAgYnRuIGJ0bi1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzI3cHgnfX0sIFwiT3ZlcnZpZXdcIilcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1uZXdzcGFwZXItb1wifSksIFwiIMKgXCIsICBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzRweCd9fSwgXCJGb2xsb3d1cCBGZWVkXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ30sIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNoYXJwIGJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNvZGUtZm9ya1wifSksIFwiIMKgXCIsICBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzRweCd9fSwgXCJSdWxlc1wiKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9LCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGllLWNoYXJ0XCJ9KSwgXCIgwqAgQW5hbHl0aWNzXCJcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wYXBlci1wbGFuZVwifSksIFwiIMKgIFNlbnQgTWFpbFwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiXCIsIHN0eWxlOiB7d2lkdGg6JzEwMCUnLHRleHRBbGlnbjonY2VudGVyJyxtYXJnaW5Ub3A6MTAwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgbmV3LWxpc3QtYnRuXCIsIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtY3JlYXRlQ2FtcGFpZ24tbW9kYWwtc21cIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXMtY2lyY2xlXCJ9KSwgXCLCoMKgTmV3IENhbXBhaWduXCJcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBDcmVhdGVDYW1wYWlnbk1vZGFsKHtwcm9zcGVjdExpc3RzOiB0aGlzLnByb3BzLnByb3NwZWN0TGlzdHMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDYW1wYWlnbjogdGhpcy5jcmVhdGVDYW1wYWlnbn0pXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICBjcmVhdGVDYW1wYWlnbjogZnVuY3Rpb24obmV3Q2FtcGFpZ24pIHtcbiAgICB0aGlzLnByb3BzLmNyZWF0ZUNhbXBhaWduKG5ld0NhbXBhaWduKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBGb2xsb3d1cEZlZWRcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NoZWR1bGVkRm9sbG93dXBzOiBbXVxuICAgIH1cbiAgfSxcblxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgc2NoZWR1bGVkRm9sbG93dXBzID0gW11cbiAgICBmb3IoaT0wO2k8IHRoaXMuc3RhdGUuc2NoZWR1bGVkRm9sbG93dXBzLmxlbmd0aDsgaSsrKXsgXG4gICAgICBzY2hlZHVsZWRGb2xsb3d1cHMucHVzaChTY2hlZHVsZWRGb2xsb3d1cFJvdyhudWxsKSlcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtvdmVyZmxvdzonYXV0bycsIGhlaWdodDo1NTB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIiwgc3R5bGU6IHttYXJnaW5Cb3R0b206MH19LCBcbiAgICAgICAgICBSZWFjdC5ET00udGhlYWQobnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiUHJvc3BlY3QgTmFtZVwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJQcm9zcGVjdCBFbWFpbFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFwiU3RhdHVzXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRib2R5KG51bGwsIFxuICAgICAgICAgICAgc2NoZWR1bGVkRm9sbG93dXBzXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBTY2hlZHVsZWRGb2xsb3d1cFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1NjaGVkdWxlZEZvbGxvd3VwUm93JyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKG51bGxcblxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cbnZhciBTZW5kRW1haWxNb2RhbCA9IHJlcXVpcmUoJy4vc2VuZF9lbWFpbF9tb2RhbC5qcy5taW4uanMnKVxudmFyIFRpbWVsaW5lRGF5RWxlbWVudCA9IHJlcXVpcmUoJy4vdGltZWxpbmVfZGF5X2VsZW1lbnQuanMubWluLmpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gRm9sbG93dXBUaW1lbGluZVxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIGluaXRpYWxGb2xsb3d1cHMgPSB0aGlzLnByb3BzLmluaXRpYWxGb2xsb3d1cHNcbiAgICBpbml0aWFsRm9sbG93dXBzID0gKGluaXRpYWxGb2xsb3d1cHMpID8gaW5pdGlhbEZvbGxvd3VwcyA6IFtdXG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9sbG93dXBzOiBpbml0aWFsRm9sbG93dXBzLFxuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICBjdXJyZW50VGVtcGxhdGU6JydcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzID0gdGhpcztcbiAgICAkKCcuZGF5JykudG9vbHRpcCh7XG4gICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgICB0aXRsZTonKyBBZGQgYSBmb2xsb3ctdXAnXG4gICAgfSlcbiAgICAvLyBGb2xsb3d1cHMgdGhhdCBiZWxvbmcgdG8gY2FtcGFpZ25cbiAgICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuICAgICBjdXJyZW50Q2FtcGFpZ24gPSB7XG4gICAgICAgJ19fdHlwZSc6ICdQb2ludGVyJyxcbiAgICAgICAnY2xhc3NOYW1lJzonQ2FtcGFpZ24nLFxuICAgICAgICdvYmplY3RJZCc6dGhpcy5wcm9wcy5jdXJyZW50Q2FtcGFpZ24ub2JqZWN0SWRcbiAgICAgfVxuICAgICBjdXJyZW50Q2FtcGFpZ24gPSBKU09OLnN0cmluZ2lmeShjdXJyZW50Q2FtcGFpZ24pXG4gICAgIC8vcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImNhbXBhaWduXCI6JytjdXJyZW50Q2FtcGFpZ24rJ30maW5jbHVkZT10ZW1wbGF0ZSdcbiAgICAgcXJ5ID0gJ3doZXJlPXtcImNhbXBhaWduXCI6JytjdXJyZW50Q2FtcGFpZ24rJ30maW5jbHVkZT10ZW1wbGF0ZSdcbiAgICAgLy9xcnkgPSAnd2hlcmU9e1wiY2FtcGFpZ25cIjonK2N1cnJlbnRDYW1wYWlnbisnfSdcbiAgICAgJC5hamF4KHtcbiAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvRm9sbG93dXAnLFxuICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgZGF0YTogcXJ5LFxuICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgY29uc29sZS5sb2coJ2ZvbGxvd3VwIHRpbWVsaW5lJylcbiAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgIH0sXG4gICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICB9XG4gICAgIH0pXG4gIH0sXG4gIFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGJhdGNoZXMgPSAgXy5jb3VudEJ5KHRoaXMucHJvcHMucHJvc3BlY3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihwcm9zcGVjdCkgeyByZXR1cm4gcHJvc3BlY3QubGFzdF9jb250YWN0ZWQgfSlcblxuICAgIHRpbWVsaW5lRWxlbWVudHMgPSBbXVxuICAgIGZvbGxvd3VwcyA9ICh0aGlzLnN0YXRlLmZvbGxvd3VwcykgPyB0aGlzLnN0YXRlLmZvbGxvd3VwcyA6IFtdXG4gICAgY29uc29sZS5sb2coZm9sbG93dXBzKVxuICAgIGZvcihpPTA7aTwgMzE7aSsrKXtcbiAgICAgIGJhdGNoQ291bnQgPSAoYmF0Y2hlc1tpXSkgPyBiYXRjaGVzW2ldIDogMFxuICAgICAgXG4gICAgICBhZGRUZW1wbGF0ZU1vZGUgPSBmYWxzZTsgXG4gICAgICBjdXJyZW50VGVtcGxhdGUgPSBmYWxzZTtcbiAgICAgIGVsZW1lbnRUeXBlID0gZmFsc2VcbiAgICAgIGZvcihpaT0wO2lpPCBmb2xsb3d1cHMubGVuZ3RoOyBpaSsrKXtcbiAgICAgICAgLy8gVE9ETyAtIFJlcGxhY2Ugd2l0aCB1bmRlcnNjb3JlIG1ldGhvZFxuICAgICAgICAvL2NvbnNvbGUubG9nKCdGT0xMT1dVUFMgRVJST1InKVxuICAgICAgICAvL2NvbnNvbGUubG9nKGZvbGxvd3VwcylcbiAgICAgICAgZWxlbWVudFR5cGUgPSBpID09IGZvbGxvd3Vwc1tpaV0uZGF5XG4gICAgICAgIGlmKGVsZW1lbnRUeXBlKSB7XG4gICAgICAgICAgYWRkVGVtcGxhdGVNb2RlID0gKGZvbGxvd3Vwc1tpaV0uYWRkVGVtcGxhdGVNb2RlKSA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgIGN1cnJlbnRUZW1wbGF0ZSA9IGZvbGxvd3Vwc1tpaV0udGVtcGxhdGVcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRpbWVsaW5lRWxlbWVudHMucHVzaChUaW1lbGluZURheUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5Q291bnQ6IGksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVzOiB0aGlzLnByb3BzLnRlbXBsYXRlcywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGVtcGxhdGU6IGN1cnJlbnRUZW1wbGF0ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaENvdW50OiBiYXRjaENvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRlbXBsYXRlTW9kZTogYWRkVGVtcGxhdGVNb2RlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUeXBlOiAhZWxlbWVudFR5cGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9sbG93dXA6IHRoaXMuYWRkRm9sbG93dXAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZvbGxvd3VwOiB0aGlzLmVkaXRGb2xsb3d1cCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRm9sbG93dXA6IHRoaXMuc2F2ZUZvbGxvd3VwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZvbGxvd3VwOiB0aGlzLnJlbW92ZUZvbGxvd3VwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUZW1wbGF0ZTogdGhpcy5zZXRDdXJyZW50VGVtcGxhdGV9KSlcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJ0aW1lbGluZVwiLCBcbiAgICAgICAgICAgICBzdHlsZToge2hlaWdodDonMTAwJScsYmFja2dyb3VuZENvbG9yOidyZ2IoOTAsIDEwNywgMTE5KScsXG4gICAgICAgICAgICAgICAgICAgICB3aWR0aDo1LG1hcmdpblRvcDotMzV9fSwgXG4gICAgICAgICAgICAgdGltZWxpbmVFbGVtZW50c1xuICAgICAgICApLCBcbiAgICAgICAgU2VuZEVtYWlsTW9kYWwoe3Byb3NwZWN0czogdGhpcy5wcm9wcy5wcm9zcGVjdHMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRlbXBsYXRlOiB0aGlzLnN0YXRlLmN1cnJlbnRUZW1wbGF0ZX0pXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICBjcmVhdGVGb2xsb3d1cDogZnVuY3Rpb24oKSB7XG4gICAgLy9cbiAgfSwgICAgICAgICBcblxuICBhZGRGb2xsb3d1cDogZnVuY3Rpb24oZGF5KSB7XG4gICAgLy9jb25zb2xlLmxvZygnY2FsbGVkIHRlbXBsYXRlIGVkaXQgbWVudScpXG4gICAgZm9sbG93dXBzID0gdGhpcy5zdGF0ZS5mb2xsb3d1cHNcbiAgICBmb2xsb3d1cHMucHVzaCh7YWRkVGVtcGxhdGVNb2RlOiB0cnVlLCBkYXk6IGRheX0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmb2xsb3d1cHM6IGZvbGxvd3Vwc1xuICAgIH0pXG4gIH0sXG5cbiAgZWRpdEZvbGxvd3VwOiBmdW5jdGlvbihkYXkpIHtcbiAgICAvLyBmaW5kIHRlbXBsYXRlIHNldCBlZGl0bW9kZSBpcyBmYWxzZVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5mb2xsb3d1cHMubGVuZ3RoOyBpKyspe1xuICAgICAgaWYodGhpcy5zdGF0ZS5mb2xsb3d1cHNbaV0uZGF5ID09IGRheSl7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9sbG93dXBzID0gdGhpcy5zdGF0ZS5mb2xsb3d1cHNcbiAgICBmb2xsb3d1cHNbaV0uYWRkVGVtcGxhdGVNb2RlID0gdHJ1ZVxuICAgIHRoaXMuc2V0U3RhdGUoe2ZvbGxvd3VwczogZm9sbG93dXBzfSlcbiAgfSxcblxuICBzYXZlRm9sbG93dXA6IGZ1bmN0aW9uKGRheSwgY2hvc2VuVGVtcGxhdGUpIHtcbiAgICBuZXdfZm9sbG93dXBzID0gdGhpcy5zdGF0ZS5mb2xsb3d1cHNcbiAgICBuZXdfZm9sbG93dXBzW2RheV0uYWRkVGVtcGxhdGVNb2RlID0gZmFsc2VcbiAgICBuZXdfZm9sbG93dXBzW2RheV0udGVtcGxhdGUgPSBjaG9zZW5UZW1wbGF0ZVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7Zm9sbG93dXBzOiBuZXdfZm9sbG93dXBzfSlcblxuICAgIGlmKG5ld19mb2xsb3d1cHNbZGF5XS5vYmplY3RJZCl7XG4gICAgICB1cmwgPSBcIi9cIituZXdfZm9sbG93dXBzW2ldLm9iamVjdElkOyB0eXBlPVwiUFVUXCJcblxuICAgICAgZGF0YSA9IHt0ZW1wbGF0ZTp7XG4gICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTonVGVtcGxhdGUnLFxuICAgICAgICBvYmplY3RJZDogY2hvc2VuVGVtcGxhdGUub2JqZWN0SWRcbiAgICAgIH19XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IFwiXCI7IHR5cGU9XCJQT1NUXCI7XG5cbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIGRheTogZGF5LFxuICAgICAgICBjYW1wYWlnbjoge1xuICAgICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTonQ2FtcGFpZ24nLFxuICAgICAgICAgIG9iamVjdElkOiB0aGlzLnByb3BzLmN1cnJlbnRDYW1wYWlnbi5vYmplY3RJZFxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZToge1xuICAgICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTonVGVtcGxhdGUnLFxuICAgICAgICAgIG9iamVjdElkOmNob3NlblRlbXBsYXRlLm9iamVjdElkLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvRm9sbG93dXAnLFxuICAgICAgdHlwZTp0eXBlLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgXG4gICAgICAgIG5ld19mb2xsb3d1cHNbZGF5XS5vYmplY3RJZCA9IHJlcy5vYmplY3RJZFxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7Zm9sbG93dXBzOiBuZXdfZm9sbG93dXBzfSlcblxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0NhbXBhaWduLycrdGhpc3MucHJvcHMuY3VycmVudENhbXBhaWduLm9iamVjdElkLFxuICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7Zm9sbG93dXBzOiB7XG4gICAgICAgICAgICBfX29wOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgICAgIG9iamVjdHM6W3tcbiAgICAgICAgICAgICAgX190eXBlOidQb2ludGVyJywgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTonRm9sbG93dXAnLFxuICAgICAgICAgICAgICBvYmplY3RJZDpyZXMub2JqZWN0SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfX0pLFxuICAgICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcblxuICAgICAgfSxcbiAgICB9KVxuICB9LFxuXG4gIHJlbW92ZUZvbGxvd3VwOiBmdW5jdGlvbihkYXkpIHtcbiAgICBmb2xsb3d1cHMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5mb2xsb3d1cHMubGVuZ3RoO2krKylcbiAgICAgIGlmKHRoaXMuc3RhdGUuZm9sbG93dXBzW2ldLmRheSAhPSBkYXkpXG4gICAgICAgIGZvbGxvd3Vwcy5wdXNoKHRoaXMuc3RhdGUuZm9sbG93dXBzW2ldKVxuICAgICAgXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLmZvbGxvd3Vwcy5sZW5ndGg7aSsrKVxuICAgICAgaWYodGhpcy5zdGF0ZS5mb2xsb3d1cHNbaV0uZGF5ID09IGRheSlcbiAgICAgICAgYnJlYWtcbiAgICBcbiAgICB0aGlzLnNldFN0YXRlKHtmb2xsb3d1cHM6IGZvbGxvd3Vwc30pIFxuICAgIGlkID0gdGhpcy5zdGF0ZS5mb2xsb3d1cHNbaV1cblxuICAgIHRoaXNzID0gdGhpcztcbiAgICBpZihpZCkge1xuICAgICAgaWQgPSBpZC5vYmplY3RJZFxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0ZvbGxvd3VwLycraWQsXG4gICAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICAgIHR5cGU6J0RFTEVURScsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICBjb25zb2xlLmxvZygnUkVNT1ZFIEFSUkFZJylcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9DYW1wYWlnbi8nK3RoaXNzLnByb3BzLmN1cnJlbnRDYW1wYWlnbi5vYmplY3RJZCxcbiAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGZvbGxvd3Vwczoge1xuICAgICAgICAgICAgX19vcCA6ICdSZW1vdmUnLFxuICAgICAgICAgICAgb2JqZWN0czogW3tcbiAgICAgICAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ0ZvbGxvd3VwJyxcbiAgICAgICAgICAgICAgb2JqZWN0SWQ6IGlkXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIHNldEN1cnJlbnRUZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50VGVtcGxhdGU6IHRlbXBsYXRlIH0pXG4gIH1cbn0pO1xuXG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5kYXRhID0gcmVxdWlyZSgnLi4vbGliL2RhdGEubWluLmpzJykgXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGZyZWUgdHJpYWxcbiAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ29wZW4nKVxuICAgIGhhbmRsZXIub3Blbih7XG4gICAgICBuYW1lOiAnQ3VzdG9tZXJvJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IDkwMCBmcmVlIGVtYWlsIGNyZWRpdHMhJyxcbiAgICAgIGFtb3VudDogMCxcbiAgICAgIHBhbmVsTGFiZWw6IFwiU3RhcnQgWW91ciBGcmVlIFRyaWFsIVwiLFxuICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCQoJy5jbG9zZScpKVxuICAgICAgICAkKCcuY2xvc2UnKS5oaWRlKClcbiAgICAgIH0sXG4gICAgICBjbG9zZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNsb3NlZFwiKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykuY3NzKHtvdmVyZmxvdzonaGlkZGVuJ30pXG5cblxuICAgIC8vY29uc29sZS5sb2codGhpcy5nZXRET01Ob2RlKCkpXG4gICAgLypcbiAgICAkKHRoaXMuZ2V0RE9NTm9kZSgpKS5hcHBlbmQoJyA8Zm9ybSBhY3Rpb249XCJcIiBtZXRob2Q9XCJQT1NUXCI+IDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jaGVja291dC5zdHJpcGUuY29tL2NoZWNrb3V0LmpzXCIgY2xhc3M9XCJzdHJpcGUtYnV0dG9uXCIgZGF0YS1rZXk9XCJwa190ZXN0XzRUNVBmdGw0aG8wRWdGVm8xRzdPS1JkYVwiIGRhdGEtYW1vdW50PVwiMjAwMFwiIGRhdGEtbmFtZT1cIkRlbW8gU2l0ZVwiIGRhdGEtZGVzY3JpcHRpb249XCIyIHdpZGdldHMgKCQyMC4wMClcIiBkYXRhLWltYWdlPVwiXCI+IDwvc2NyaXB0PiA8L2Zvcm0+JylcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCQoJy5zdHJpcGUtYnV0dG9uLWVsJykuaHRtbCgpKVxuICAgICQoJy5zdHJpcGUtYnV0dG9uLWVsJykuY2xpY2soKVxuXG4gIH0sIDQwMClcbiovXG5cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkgeyBcbiAgZGF0YSA9IGRhdGEoKVxuICAgIGltZ3NfMSA9IFtdXG4gICAgaW1nc18yID0gW11cbiAgICBmb3IoaT0wO2kgPCAxMjA7IGkrKykge1xuICAgICAgaW1nc18xLnB1c2goUmVhY3QuRE9NLmltZyh7c3JjOiBkYXRhW2ldLCBjbGFzc05hbWU6IFwicHJvc3BlY3QtaW1nXCJ9KSlcbiAgICB9XG4gICAgZm9yKGk9MTU7aSA8IDMwOyBpKyspIHtcbiAgICAgIGltZ3NfMi5wdXNoKFJlYWN0LkRPTS5pbWcoe3NyYzogZGF0YVtpXSwgY2xhc3NOYW1lOiBcInByb3NwZWN0LWltZ1wifSkpXG4gICAgfVxuXG4gIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJzaWdudXBcIn0sIFwiIFwiKSwgXG5cbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5oMSh7Y2xhc3NOYW1lOiBcInRpdGxlXCJ9LCBcIkN1c3RvbWVyby5cIiksIFxuICAgICAgICBSZWFjdC5ET00uaDUoe2NsYXNzTmFtZTogXCJ0YWdsaW5lXCJ9LCBcIkdldCA5MDAgZnJlZSBlbWFpbCBjcmVkaXRzLiAxMDAlIHJlZnVuZCBndWFyYW50ZWUuICBXZSB3aWxsIG9ubHkgc3RhcnQgY2hhcmdpbmcgeW91ciBjYXJkIGFmdGVyIDEgbW9udGguXCIpXG5cbiAgICAgICksIFxuXG4gICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJcIiwgc3R5bGU6IHtwb3NpdGlvbjonYWJzb2x1dGUnLHpJbmRleDonLTInLHRvcDowLGxlZnQ6MH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge21hcmdpbkxlZnQ6MzR9fSwgXG4gICAgICAgIGltZ3NfMSwgXG4gICAgICAgIGltZ3NfMlxuICAgICAgICApXG4gICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBMYW5kaW5nIFBhZ2VcbiAgbG9naW46IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdsb2dpbicpXG4gICAgZW1haWwgPSAkKCcjZW1haWwnKS52YWwoKVxuICAgIHBhc3N3b3JkID0gJCgnI3Bhc3N3b3JkJykudmFsKClcbiAgICBwID0ge1wiWC1QYXJzZS1BcHBsaWNhdGlvbi1JZFwiOiBcIk44NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkpcIixcbiAgICAgICAgIFwiWC1QYXJzZS1SRVNULUFQSS1LZXlcIjogXCJWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiXCJ9XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvbG9naW4nLFxuICAgICAgaGVhZGVyczogcCxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICd1c2VybmFtZSc6ZW1haWwsXG4gICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmRcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFVzZXInLCBKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIjXCJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5jc3Moe292ZXJmbG93OidhdXRvJ30pXG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJiYWNrZ3JvdW5kLWltYWdlXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5uYXYoe2NsYXNzTmFtZTogXCJ0aGVuYXZiYXIgbmF2YmFyIG5hdmJhci1kZWZhdWx0IG5hdmJhci1maXhlZC10b3BcIiwgcm9sZTogXCJuYXZpZ2F0aW9uXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyLWZsdWlkXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwidGhlLXRpdGxlIHRrLWZvY28gYnJhbmQgbmF2YmFyLWJyYW5kXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJ30sIFxuICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wifSwgXG4gICAgICAgICAgICAgIFwiQ3VzdG9tZXJvXCIsIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250U2l6ZTonMjJweCcsbWFyZ2luTGVmdDonMzBweCd9fSwgXCJTdXBlcmNoYXJnZSB5b3VyIHNhbGVzISBcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCIjbG9naW5cIiwgY2xhc3NOYW1lOiBcImJ0bi1sZyBidG4gbG9naW4tYnRuXCJ9LCBcIkxvZyBJblwiKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMlwiLCBzdHlsZToge21hcmdpblRvcDonMTAwcHgnLHBhZGRpbmdUb3A6JzEwMHB4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDEoe3N0eWxlOiB7Y29sb3I6JyMxY2EzZmQnLGZvbnRXZWlnaHQ6J2JvbGQnLHRleHRBbGlnbjonY2VudGVyJyxmb250U2l6ZTonNTZweCd9fSwgXCIgR2VuZXJhdGUgSGlnaCBRdWFsaXR5IFByb3NwZWN0IExpc3RzIFwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmgxKHtzdHlsZToge2NvbG9yOicjMWNhM2ZkJyxmb250V2VpZ2h0OicxMDAnLHRleHRBbGlnbjonY2VudGVyJyxmb250U2l6ZTonNTZweCd9fSwgXCIgQWNjZWxlcmF0ZSBTYWxlcyBcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNzaWdudXBcIiwgY2xhc3NOYW1lOiBcImJ0bi1sZyBidG4tc3VjY2VzcyBidG4gc3RhcnQtdHJpYWxcIn0sIFwiU3RhcnQgWW91ciBGcmVlIFRyaWFsIFRvZGF5XCIpLCBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWhlYWRpbmdcIn0sIFwiwqBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMubG9naW59LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtwbGFjZWhvbGRlcjogXCJFbWFpbFwiLCBpZDogXCJlbWFpbFwiLCB0eXBlOiBcInRleHRcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtwbGFjZWhvbGRlcjogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIsIGlkOiBcInBhc3N3b3JkXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMubG9naW4sIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLGJhY2tncm91bmRDb2xvcjonIzFjYTNmZCd9fSwgXCJMb2cgSW5cIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWZvb3RlclwifSwgXCLCoFwiKVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJncmFkaWVudFwifSwgXCIgXCIpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gTGFuZGluZyBQYWdlXG4gIGxvZ2luOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnbG9naW4nKVxuICAgIGVtYWlsID0gJCgnI2VtYWlsJykudmFsKClcbiAgICBwYXNzd29yZCA9ICQoJyNwYXNzd29yZCcpLnZhbCgpXG4gICAgcCA9IHtcIlgtUGFyc2UtQXBwbGljYXRpb24tSWRcIjogXCJOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKXCIsXG4gICAgICAgICBcIlgtUGFyc2UtUkVTVC1BUEktS2V5XCI6IFwiVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYlwifVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2xvZ2luJyxcbiAgICAgIGhlYWRlcnM6IHAsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgZGF0YToge1xuICAgICAgICAndXNlcm5hbWUnOmVtYWlsLFxuICAgICAgICAncGFzc3dvcmQnOnBhc3N3b3JkXG4gICAgICB9LFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VyJywgSlNPTi5zdHJpbmdpZnkocmVzKSlcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiI1wiXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykuY3NzKHtvdmVyZmxvdzonYXV0byd9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJcIn0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYmFja2dyb3VuZC1pbWFnZVwifSksIFxuICAgICAgICBSZWFjdC5ET00ubmF2KHtjbGFzc05hbWU6IFwidGhlbmF2YmFyIG5hdmJhciBuYXZiYXItZGVmYXVsdCBuYXZiYXItZml4ZWQtdG9wXCIsIHJvbGU6IFwibmF2aWdhdGlvblwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lci1mbHVpZFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaW1nKHtjbGFzc05hbWU6IFwibmV0d29yay1sb2dvXCIsIHNyYzogXCJidWlsZC9pbWcvbmV0d29yay5wbmdcIn0pLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwidGhlLXRpdGxlIHRrLWZvY28gYnJhbmQgbmF2YmFyLWJyYW5kXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJ30sIFxuICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wifSwgXG4gICAgICAgICAgICAgIFwiQ3VzdG9tZXJvXCIsIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250U2l6ZTonMjBweCcsbWFyZ2luTGVmdDonMzBweCcsZm9udEZhbWlseTonT3BlbiBTYW5zJ319LCBcIlNvY2lhbCBQcm9zcGVjdGluZyBPbiBTdGVyb2lkcyBcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCIjbG9naW5cIiwgY2xhc3NOYW1lOiBcImJ0bi1sZyBidG4gbG9naW4tYnRuXCIsIHN0eWxlOiB7Zm9udEZhbWlseToncHJveGltYS1ub3ZhJ319LCBcIkxPRyBJTlwiKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTcgY29sLXNtLTdcIiwgc3R5bGU6IHttYXJnaW5Ub3A6JzEwMHB4JyxwYWRkaW5nVG9wOic4MHB4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDEoe3N0eWxlOiB7Y29sb3I6JyMxY2EzZmQnLGZvbnRXZWlnaHQ6JzEwMCcsY29sb3I6J3doaXRlJyx0ZXh0QWxpZ246J2NlbnRlcicsZm9udFNpemU6JzM4cHgnLGZvbnRGYW1pbHk6J09wZW4gU2FucycsZm9udFNpemU6JzQwcHgnfX0sIFwiIEdlbmVyYXRlIEhpZ2ggUXVhbGl0eSBQcm9zcGVjdCBMaXN0cyBcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oMSh7c3R5bGU6IHtjb2xvcjonIzFjYTNmZCcsZm9udFdlaWdodDonMTAwJyx0ZXh0QWxpZ246J2NlbnRlcicsY29sb3I6J3doaXRlJyxmb250U2l6ZTonNDZweCcsZm9udEZhbWlseTonT3BlbiBTYW5zJywgZm9udFN0eWxlOidpdGFsaWMnfX0sIFwiIEFjY2VsZXJhdGUgU2FsZXMgXCIpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCIjc2lnbnVwXCIsIGNsYXNzTmFtZTogXCJidG4tbGcgYnRuLXN1Y2Nlc3MgYnRuIHN0YXJ0LXRyaWFsXCJ9LCBcIlN0YXJ0IFlvdXIgRnJlZSBUcmlhbCBUb2RheVwiKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1oZWFkaW5nXCJ9LCBcIsKgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmxvZ2lufSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiRW1haWxcIiwgaWQ6IFwiZW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCBpZDogXCJwYXNzd29yZFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBvbkNsaWNrOiB0aGlzLmxvZ2luLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1sZ1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxiYWNrZ3JvdW5kQ29sb3I6JyMxY2EzZmQnfX0sIFwiTG9nIEluXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1mb290ZXJcIn0sIFwiwqBcIilcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZ3JhZGllbnRcIn0sIFwiIFwiKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC01IGNvbC1zbS01XCIsIGlkOiBcIm5ldHdvcmstcGljdHVyZVwiLCBcbiAgICAgICAgICAgICBzdHlsZToge2hlaWdodDo1MDAsYmFja2dyb3VuZEltYWdlOlwidXJsKCdidWlsZC9pbWcvbmV0d29ya19pY29uXzEucG5nJylcIn19XG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBMb2FkaW5nU3Bpbm5lclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInNwaW5uZXJcIiwgc3R5bGU6IHttYXJnaW5Ub3A6JzE4MHB4J319LCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJzcGlubmVyLWNvbnRhaW5lciBjb250YWluZXIxXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUxXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlMlwifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTNcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGU0XCJ9KVxuICAgICAgKSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwic3Bpbm5lci1jb250YWluZXIgY29udGFpbmVyMlwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlMVwifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTJcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUzXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlNFwifSlcbiAgICAgICksIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInNwaW5uZXItY29udGFpbmVyIGNvbnRhaW5lcjNcIn0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTFcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUyXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlM1wifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTRcIn0pXG4gICAgICApXG4gICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudGhlRGF0YSA9IHJlcXVpcmUoJy4uL2xpYi9kYXRhLm1pbi5qcycpIFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTaWduVXBcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5jc3Moe292ZXJmbG93OidoaWRkZW4nfSlcbiAgfSxcblxuICBsb2dpbjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2xvZ2luJylcbiAgICBlbWFpbCA9ICQoJyNlbWFpbCcpLnZhbCgpXG4gICAgcGFzc3dvcmQgPSAkKCcjcGFzc3dvcmQnKS52YWwoKVxuICAgIHAgPSB7XCJYLVBhcnNlLUFwcGxpY2F0aW9uLUlkXCI6IFwiTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSlwiLFxuICAgICAgICAgXCJYLVBhcnNlLVJFU1QtQVBJLUtleVwiOiBcIlZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWJcIn1cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9sb2dpbicsXG4gICAgICBoZWFkZXJzOiBwLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ3VzZXJuYW1lJzplbWFpbCxcbiAgICAgICAgJ3Bhc3N3b3JkJzpwYXNzd29yZFxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50VXNlcicsIEpTT04uc3RyaW5naWZ5KHJlcykpXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIiNcIlxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7IFxuICAgIGRhdGEgPSB0aGVEYXRhKClcbiAgICBpbWdzXzEgPSBbXVxuICAgIGltZ3NfMiA9IFtdXG4gICAgZm9yKGk9MDtpIDwgMTIwOyBpKyspIHtcbiAgICAgIGltZ3NfMS5wdXNoKFJlYWN0LkRPTS5pbWcoe3NyYzogZGF0YVtpXSwgY2xhc3NOYW1lOiBcInByb3NwZWN0LWltZ1wifSkpXG4gICAgfVxuICAgIGZvcihpPTE1O2kgPCAzMDsgaSsrKSB7XG4gICAgICBpbWdzXzIucHVzaChSZWFjdC5ET00uaW1nKHtzcmM6IGRhdGFbaV0sIGNsYXNzTmFtZTogXCJwcm9zcGVjdC1pbWdcIn0pKVxuICAgIH1cblxuICBjb25zb2xlLmxvZyhkYXRhKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwic2lnbnVwXCJ9LCBcIiBcIiksIFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLmgxKHtjbGFzc05hbWU6IFwidGl0bGVcIn0sIFwiQ3VzdG9tZXJvLlwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNSh7Y2xhc3NOYW1lOiBcInRhZ2xpbmVcIn0sIFwiR2VuZXJhdGUgaGlnaCBxdWFsaXR5IHByb3NwZWN0IGxpc3RzLiBBY2NlbGVyYXRlIFNhbGVzLlwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHQgbG9naW4taW5mb1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmxvZ2lufSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiRW1haWxcIiwgaWQ6IFwiZW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCBpZDogXCJwYXNzd29yZFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBvbkNsaWNrOiB0aGlzLmxvZ2luLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1sZ1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxiYWNrZ3JvdW5kQ29sb3I6JyMxY2EzZmQnfX0sIFwiTG9nIEluXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJcIiwgc3R5bGU6IHtwb3NpdGlvbjonYWJzb2x1dGUnLHpJbmRleDonLTInLHRvcDowLGxlZnQ6MH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiXCIsIHN0eWxlOiB7bWFyZ2luTGVmdDozNCwgZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgaW1nc18xLCBcbiAgICAgICAgICBpbWdzXzJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vTWVzc2VuZ2VyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICAgJ2RhdGEtYWxlcnQnOiBcImFsZXJ0XCIsIFxuICAgICAgICAgICAgIHN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgIHRvcDogMzEsIFxuICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6MzAsIFxuICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTonbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICB3aWR0aDoyMDB9fSwgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcImNsb3NlXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhpZGVBbGVydH0sIFwiw5dcIiksIFxuICAgICAgICAgICAgXCJUZXN0XCJcbiAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnZhciBMb2FkaW5nU3Bpbm5lciA9IHJlcXVpcmUoJy4vbG9hZGluZ19zcGlubmVyLmpzLm1pbi5qcycpXG5cbnZhciBKb2IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdKb2InLFxuICBzdGFydEpvYjogZnVuY3Rpb24oKSB7XG4gICAgLy8gQWRkIExpbmtlZGluIExvY2F0aW9uc1xuICAgIC8vIEVtYWlsIFdoZW4gQ29tcGxldGVkXG4gICAgLy8gSGF2ZSBSZXBvcnQgRm9yIE51bWJlciBvZiBQcm9maWxlcyBGb3VuZCAvIG51bWJlciBvZiBlbWFpbHMgZm91bmQgcGVyIG1pbmluZyBqb2JcbiAgICBcbiAgICBtaW5pbmdKb2IgPSB0aGlzLnByb3BzLm1pbmluZ0pvYlxuICAgIG1pbmluZ0pvYi5zdGF0dXMgPSBcIlJ1bm5pbmdcIlxuICAgIG1pbmluZ0pvYi5sYXN0X3JhbiA9IE1hdGgucm91bmQoK25ldyBEYXRlKCkvMTAwMClcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL01pbmluZ0pvYi8nK21pbmluZ0pvYi5vYmplY3RJZCxcbiAgICAgIHR5cGU6J1BVVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgLy8gc3RhdHVzIHNob3VsZCBiZSB3YWl0aW5nXG4gICAgICBkYXRhIDogSlNPTi5zdHJpbmdpZnkoeydzdGF0dXMnOidSdW5uaW5nJywgJ2xhc3RfcmFuJzpNYXRoLnJvdW5kKCtuZXcgRGF0ZSgpLzEwMDApK1wiXCIgfSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAvLyBtYWtlIHJlcXVlc3QgdG8gaGVyb2t1IGFwaVxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIC8vdXJsOiAnaHR0cHM6Ly8wLjAuMC4wOjUwMDAvbWluaW5nX2pvYicgLFxuICAgICAgICAgIHVybDogJ2h0dHA6Ly9hZ2lsZS1wbGFpbnMtMjQzMC5oZXJva3VhcHAuY29tL21pbmluZ19qb2InICxcbiAgICAgICAgICAvL3R5cGU6J1BPU1QnLFxuICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxuICAgICAgICAgIGRhdGE6eydsb2NhbGUnOm1pbmluZ0pvYi5sb2NhbGUsIFxuICAgICAgICAgICAgICAgICdjdXJyZW50X3RpdGxlJzptaW5pbmdKb2IucHJvc3BlY3RfdGl0bGUsXG4gICAgICAgICAgICAgICAgJ2N1cnJlbnRfdXNlcl9pZCc6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLm9iamVjdElkLFxuICAgICAgICAgICAgICAgICdjb21wYW55X2lkJzpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueS5vYmplY3RJZCxcbiAgICAgICAgICAgICAgICAnbWluaW5nX2pvYl9pZCc6bWluaW5nSm9iLm9iamVjdElkfSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHttaW5pbmdKb2I6IG1pbmluZ0pvYn0pXG4gIH0sXG5cbiAgZGVsZXRlSm9iOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuc3RhdGUubWluaW5nSm9iKVxuICAgIHRoaXMucHJvcHMuZGVsZXRlSm9iKHRoaXMuc3RhdGUubWluaW5nSm9iKVxuICAgICAgLypcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9NaW5pbmdKb2IvJyt0aGlzLnN0YXRlLm1pbmluZ0pvYi5vYmplY3RJZCxcbiAgICAgIHR5cGU6J0RFTEVURScsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgICAgICovXG4gIH0sXG5cbiAgY2FuY2VsSm9iOiBmdW5jdGlvbigpIHtcbiAgICBtaW5pbmdKb2IgPSB0aGlzLnN0YXRlLm1pbmluZ0pvYlxuICAgIG1pbmluZ0pvYi5zdGF0dXMgPSBcIlwiXG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9NaW5pbmdKb2IvJyttaW5pbmdKb2Iub2JqZWN0SWQsXG4gICAgICB0eXBlOidQVVQnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGEgOiBKU09OLnN0cmluZ2lmeSh7J3N0YXR1cyc6Jyd9KSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bWluaW5nSm9iOiBtaW5pbmdKb2J9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICBtaW5pbmdKb2IgPSB0aGlzLnByb3BzLm1pbmluZ0pvYlxuICAgIGJ1dHRvbiA9IChtaW5pbmdKb2Iuc3RhdHVzID09IFwiXCIpID8gUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiwgb25DbGljazogdGhpcy5zdGFydEpvYn0sIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNoZWNrXCJ9KSwgXCLCoFJ1biBcIikgOiBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyXCIsIG9uQ2xpY2s6IHRoaXMuY2FuY2VsSm9ifSwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdGltZXNcIn0pLCBcIsKgQ2FuY2VsIFwiKVxuXG4gICAgZGlzYWJsZWQgPSBcIlwiXG4gICAgZGlzYWJsZWRfdHJhc2ggPSBcIlwiXG4gICAgLypcbiAgICBkaXNhYmxlZCA9IChtaW5pbmdKb2Iuc3RhdHVzID09IFwiXCIpID8gXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIgOiBcImJ0biBidG4teHMgYnRuLXN1Y2Nlc3MgZGlzYWJsZWRcIlxuICAgIGRpc2FibGVkX3RyYXNoID0gKG1pbmluZ0pvYi5zdGF0dXMgPT0gXCJcIikgPyBcImJ0biBidG4teHMgYnRuLWRlZmF1bHRcIiA6ICBcImJ0biBidG4teHMgYnRuLWRlZmF1bHQgZGlzYWJsZWRcIlxuICAgIGJ1dHRvbiA9IDxhIGhyZWY9XCJqYXZhc2NyaXB0OlwiIGNsYXNzTmFtZT17ZGlzYWJsZWR9IG9uQ2xpY2s9e3RoaXMuc3RhcnRKb2J9PiA8aSBjbGFzc05hbWU9XCJmYSBmYS1jaGVja1wiIC8+Jm5ic3A7UnVuIDwvYT4gXG4gICAgKi9cblxuICAgIC8vY29uc29sZS5sb2cobWluaW5nSm9iKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBSZWFjdC5ET00uaDYobnVsbCwgbWluaW5nSm9iLnByb3NwZWN0X3RpdGxlKSksIFxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgUmVhY3QuRE9NLmg2KG51bGwsIG1pbmluZ0pvYi5sb2NhbGUpKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBSZWFjdC5ET00uaDYobnVsbCwgKG1pbmluZ0pvYi5sYXN0X3JhbiA9PSBcIlwiICkgPyBcIi0tLS1cIiA6IG1vbWVudC51bml4KG1pbmluZ0pvYi5sYXN0X3JhbikuZnJvbU5vdygpKSksIFxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJiYWRnZVwifSwgXG4gICAgICAgICAgICAobWluaW5nSm9iLnJlc3VsdHMgPT0gXCJcIikgPyAwIDogbWluaW5nSm9iLnJlc3VsdHNcbiAgICAgICAgICApLCBcIsKgXCIsICBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcInByb2ZpbGVzIGZvdW5kXCIpXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7cGFkZGluZ1RvcDonMTJweCd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogKG1pbmluZ0pvYi5zdGF0dXMgPT0gXCJcIiApID8gXCJsYWJlbCBsYWJlbC1wcmltYXJ5XCIgOiBcImxhYmVsIGxhYmVsLXN1Y2Nlc3NcIn0sIFxuICAgICAgICAgICAgKG1pbmluZ0pvYi5zdGF0dXMgPT0gXCJcIikgPyBcIlJlYWR5XCIgOiBtaW5pbmdKb2Iuc3RhdHVzXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3BhZGRpbmdUb3A6JzEzcHgnLHdpZHRoOicxMDVweCd9fSwgXG4gICAgICAgICAgYnV0dG9uLCBcbiAgICAgICAgICBcIsKgXCIsIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogZGlzYWJsZWRfdHJhc2gsIFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5kZWxldGVKb2J9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBNaW5pbmcgSm9ic1xuICAvL3socHJvc3BlY3RzLmxlbmd0aCA9PSAwICYmIHRoaXMuc3RhdGUubG9hZGluZyA9PSBmYWxzZSkgPyA8RW1wdHlDb21wYW55UHJvc3BlY3RzUGFuZWwgLz4gOiBcIlwifVxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7IFxuICAgICAgbWluaW5nSm9icyA6IFtdLFxuICAgICAgbG9hZGluZyAgICA6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZGVsZXRlSm9iOiBmdW5jdGlvbihqb2IpIHtcbiAgICAvL2NvbnNvbGUubG9nKGpvYi5vYmplY3RJZClcbiAgICB2YXIgZmlsdGVyZWQgPSBfLmZpbHRlcih0aGlzLnN0YXRlLm1pbmluZ0pvYnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICBjb25zb2xlLmxvZyhpdGVtLm9iamVjdElkICE9IGpvYi5vYmplY3RJZClcbiAgICAgICByZXR1cm4gaXRlbS5vYmplY3RJZCAhPSBqb2Iub2JqZWN0SWRcbiAgICB9KTtcbiAgICAvL2NvbnNvbGUubG9nKGZpbHRlcmVkKVxuICAgIHRoaXMuc2V0U3RhdGUoe21pbmluZ0pvYnM6IGZpbHRlcmVkfSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXInKVxuICAgIG1pbmluZ0pvYnMgPSBbXVxuICAgIGZvcihpPTA7aTx0aGlzLnN0YXRlLm1pbmluZ0pvYnMubGVuZ3RoO2krKyl7XG4gICAgICBtaW5pbmdKb2IgPSB0aGlzLnN0YXRlLm1pbmluZ0pvYnNbaV1cbiAgICAgIG1pbmluZ0pvYnMucHVzaChcbiAgICAgICAgSm9iKHtkZWxldGVKb2I6IHRoaXMuZGVsZXRlSm9iLCBtaW5pbmdKb2I6IG1pbmluZ0pvYn0pXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibWluaW5nLWpvYi10b29sYmFyIGNvbnRhaW5lclwiLCBzdHlsZToge3dpZHRoOicxMDAlJ319LCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIiDCoCBGaW5kIFByb3NwZWN0cyBCeSBUaXRsZSBhbmQgQXJlYVwiXG4gICAgICAgICksIFxuICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14cyBkaXNhYmxlZFwiLCAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsICdkYXRhLXRhcmdldCc6IFwiLmJzLWV4YW1wbGUtbW9kYWwtc21cIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSksIFwiIMKgIEZpbmQgQ29tcGFuaWVzIEhpcmluZyBGb3IgUm9sZXNcIlxuICAgICAgICApLCBcbiAgICAgICAgXCLCoCDCoFwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIiwgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIiDCoCBGaW5kIENvbXBhbmllcyBXaG8gSnVzdCBSYWlzZWQgRnVuZGluZ1wiXG4gICAgICAgICksIFxuICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14cyBkaXNhYmxlZFwiLCAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsICdkYXRhLXRhcmdldCc6IFwiLmJzLWV4YW1wbGUtbW9kYWwtc21cIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSksIFwiIMKgIEZpbmQgQ29tcGFuaWVzIEJ5IEluZHVzdHkgQW5kIEFyZWFcIlxuICAgICAgICApLCBcbiAgICAgICAgXCLCoCDCoFwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIiwgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIiDCoCBQcmVzcyBDb3ZlcmFnZVwiXG4gICAgICAgIClcbiAgICApLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcImF1dG9zY3JvbGxcIiwgc3R5bGU6IHtoZWlnaHQ6JzQwMHB4JyxvdmVyZmxvdzonYXV0byd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS50aGVhZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkpvYiBUaXRsZVwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJDaXR5XCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkxhc3QgUmFuXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIlJlc3VsdHNcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiU3RhdHVzXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIsKgXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRib2R5KG51bGwsIFxuICAgICAgICAgICAgbWluaW5nSm9ic1xuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgICAgKHRoaXMuc3RhdGUubG9hZGluZykgPyBMb2FkaW5nU3Bpbm5lcihudWxsKSA6IFwiXCIsIFxuICAgICAgICBjcmVhdGVKb2JNb2RhbCh7Y3JlYXRlSm9iOiB0aGlzLmNyZWF0ZUpvYn0pXG4gICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgXG4gIHJ1bk1pbmluZ0pvYjogZnVuY3Rpb24oKSB7XG5cbiAgfSxcblxuICBjcmVhdGVKb2I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBtaW5pbmdKb2JzID0gdGhpcy5zdGF0ZS5taW5pbmdKb2JzXG4gICAgbWluaW5nSm9icy5wdXNoKGRhdGEpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1pbmluZ0pvYnM6IG1pbmluZ0pvYnMgfSlcblxuICAgICQoJyNtaW5pbmdKb2JNb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmFja2Ryb3AnKS5yZW1vdmUoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3RoaXMgZGlkIG1vdW50JylcbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MSZvcmRlcj0tY3JlYXRlZEF0J1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvTWluaW5nSm9iJyxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHttaW5pbmdKb2JzIDogcmVzLnJlc3VsdHN9KVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7bG9hZGluZyAgICA6IGZhbHNlfSlcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn0pO1xuXG52YXIgY3JlYXRlSm9iTW9kYWwgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdjcmVhdGVKb2JNb2RhbCcsXG4gIGNyZWF0ZU1pbmluZ0pvYjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ21pbmluZyBqb2InKVxuICAgIGNvbnNvbGUubG9nKCQoJyNwcm9zcGVjdFRpdGxlJykudmFsKCkpXG4gICAgY29uc29sZS5sb2coJCgnI2xvY2FsZScpLnZhbCgpKVxuXG4gICAgZGF0YSA9ICB7XG4gICAgICAncHJvc3BlY3RfdGl0bGUnOiAkKCcjcHJvc3BlY3RUaXRsZScpLnZhbCgpLFxuICAgICAgJ2xvY2FsZScgICAgICAgIDogJCgnI2xvY2FsZScpLnZhbCgpLFxuICAgICAgJ2xhc3RfcmFuJyAgICAgIDogJycsXG4gICAgICAncmVzdWx0cycgICAgICAgOiAnJyxcbiAgICAgICdzdGF0dXMnICAgICAgICA6ICcnLCAgIC8vV2FpdGluZyAsIFJ1bm5pbmdcbiAgICB9XG4gICAgLy8gIHVwZGF0ZSBsb2NhbCBqb2JzIHN0YXRlXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9NaW5pbmdKb2InLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5jcmVhdGVKb2IoZGF0YSlcbiAgICBcbiAgICAvLyQoJ2J1dHRvbi5jbG9zZScpLmNsaWNrKClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgYnMtZXhhbXBsZS1tb2RhbC1zbVwiLCB0YWJJbmRleDogXCItMVwiLCByb2xlOiBcImRpYWxvZ1wiLCAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgaWQ6IFwibWluaW5nSm9iTW9kYWxcIiwgc3R5bGU6IHt0b3A6JzIwMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2xvc2VcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFJlYWN0LkRPTS5zcGFuKHsnYXJpYS1oaWRkZW4nOiBcInRydWVcIn0sIFwiw5dcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInNyLW9ubHlcIn0sIFwiQ2xvc2VcIikpLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYm9sdFwifSksIFwiIMKgQ3JlYXRlIE1pbmluZyBKb2JcIilcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMuY3JlYXRlTWluaW5nSm9ifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7aWQ6IFwicHJvc3BlY3RUaXRsZVwiLCB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgcHJvc3BlY3QgdGl0bGUuLi5cIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwifSksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe2lkOiBcImxvY2FsZVwiLCB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgQ2l0eSBBcmVhLi4uXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5jcmVhdGVNaW5pbmdKb2IsIHBsYWNlaG9sZGVyOiBcIkVudGVyIENpdHkgQXJlYS4uLlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLCB3aWR0aDonMTAwJSd9fSwgXCJTdGFydCBNaW5pbmchXCIpXG4gICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBFbXB0eU1pbmluZ0pvYiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0VtcHR5TWluaW5nSm9iJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC1vZmZzZXQtMyBjb2wtbWQtNlwiLCBzdHlsZToge2hlaWdodDo0MDB9fSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBzdHlsZToge21hcmdpblRvcDoxMDAsaGVpZ2h0OjIwMH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oMSh7Y2xhc3NOYW1lOiBcImxlYWRcIiwgc3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXCJTdGFydCBQcm9zcGVjdGluZyBPbiBMaW5rZWRpblwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5vcGVuTGlua2VkaW5XaW5kb3csIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3NcIiwgc3R5bGU6IHtiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpICFpbXBvcnRhbnQnLGRpc3BsYXk6J2Jsb2NrJyxtYXJnaW5SaWdodDonYXV0bycsbWFyZ2luTGVmdDonYXV0bycsd2lkdGg6MjAwLCBtYXJnaW5Ub3A6NTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNlYXJjaFwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCJTZWFyY2ggZm9yIGNvbXBhbmllcyFcIilcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBNaW5pbmdKb2JDYWxlbmRhclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXBvcnRzIDogW11cbiAgICB9XG4gIH0sXG5cbiAgZ2V0U2lnbmFsUmVwb3J0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzc3NzID0gdGhpcztcbiAgICBxcnkgPSAnd2hlcmU9JytKU09OLnN0cmluZ2lmeSh7cHJvZmlsZTp7XG4gICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgY2xhc3NOYW1lOidQcm9zcGVjdFByb2ZpbGUnLFxuICAgICAgb2JqZWN0SWQ6dGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZS5vYmplY3RJZFxuICAgIH19KVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvU2lnbmFsUmVwb3J0P29yZGVyPS1jcmVhdGVkQXQnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB0aGlzc3NzLnNldFN0YXRlKHtyZXBvcnRzOiByZXMucmVzdWx0c30pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KClcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KClcbiAgfSxcblxuICBzZXRDdXJyZW50UmVwb3J0OiBmdW5jdGlvbihuZXdSZXBvcnQpIHtcbiAgICBjb25zb2xlLmxvZygnQ1VSUkVOVCBSRVBPUlQnKVxuICAgIGNvbnNvbGUubG9nKG5ld1JlcG9ydClcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRSZXBvcnQobmV3UmVwb3J0KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmVwb3J0cyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLnJlcG9ydHMubGVuZ3RoOyBpKyspXG4gICAgICByZXBvcnRzLnB1c2goU2lnbmFsUmVwb3J0Um93KHtzZXRDdXJyZW50UmVwb3J0OiB0aGlzLnNldEN1cnJlbnRSZXBvcnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFZpZXc6IHRoaXMuc2V0Q3VycmVudFZpZXcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0OiB0aGlzLnN0YXRlLnJlcG9ydHNbaV19KSlcblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7aGVpZ2h0OjQwMCwgb3ZlcmZsb3c6J2F1dG8nLHBhZGRpbmdMZWZ0OjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDowLHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtoZWlnaHQ6NDQsYm9yZGVyQm90dG9tOidzb2xpZCAxcHggcmdiKDIyMSwgMjIxLCAyMjEpJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDQoe29uQ2xpY2s6IHRoaXMucmV0dXJuVG9DYWxlbmRhclZpZXcsIFxuICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidsZWZ0JyxjdXJzb3I6J3BvaW50ZXInLG1hcmdpblRvcDo3LGZvbnRXZWlnaHQ6MjAwLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OjIwLHBhZGRpbmdUb3A6NSwgZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNhbGVuZGFyXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6NX19KSwgXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZS5uYW1lXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMlwiLCBzdHlsZToge3BhZGRpbmdMZWZ0OjAscGFkZGluZ1JpZ2h0OjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6J2F1dG8nLGhlaWdodDozNTZ9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtvdmVyZmxvdzonYXV0byd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCIsIHN0eWxlOiB7bWFyZ2luQm90dG9tOjB9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aGVhZChudWxsLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG9jay1vXCJ9KSwgXCLCoFwiICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgXCJTY2hlZHVsZWRcIlxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXCJQcm9zcGVjdHNcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDoxNTAsdGV4dEFsaWduOidjZW50ZXInfX0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkoe2NsYXNzTmFtZTogXCJyZXBvcnRzXCJ9LCBcbiAgICAgICAgICAgICAgICByZXBvcnRzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIFNpZ25hbFJlcG9ydFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1NpZ25hbFJlcG9ydFJvdycsXG4gIHJvd0NsaWNrOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRSZXBvcnQodGhpcy5wcm9wcy5yZXBvcnQpXG4gIH0sXG5cbiAgcHJvc3BlY3RBbGxTaWduYWxSZXBvcnRQcm9zcGVjdHM6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgLy8gVXBkYXRlIFVJXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5yZXBvcnQub2JqZWN0SWQpXG4gICAgdGhpc3MgPSB0aGlzXG4gICAgJC5hamF4KHtcbiAgICAgIC8vdXJsOidodHRwOi8vbmFtZWxlc3MtcmV0cmVhdC0zNTI1Lmhlcm9rdWFwcC5jb20vcHJvc3BlY3Rfc2lnbmFsX3JlcG9ydCcsXG4gICAgICB1cmw6J2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9wcm9zcGVjdF9zaWduYWxfcmVwb3J0JyxcbiAgICAgIGRhdGE6IHtzaWduYWxfcmVwb3J0X2lkOiB0aGlzcy5wcm9wcy5yZXBvcnQub2JqZWN0SWQgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykgeyBjb25zb2xlLmxvZyhyZXMpIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUubG9nKGVycikgfVxuICAgIH0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKHtvbkNsaWNrOiB0aGlzLnJvd0NsaWNrLCBzdHlsZToge2N1cnNvcjoncG9pbnRlcid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J3JpZ2h0JyxwYWRkaW5nVG9wOjE1fX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2xvdWQtZG93bmxvYWRcIiwgc3R5bGU6IHtjb2xvcjonIzU1NSd9fSlcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgbW9tZW50KHRoaXMucHJvcHMucmVwb3J0LmNyZWF0ZWRBdCkuZnJvbU5vdygpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXN1Y2Nlc3NcIn0sIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXBvcnQucGVvcGxlX2NvdW50XG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICBcIsKgIFBlb3BsZSBmb3VuZC5cIlxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvc3BlY3RBbGxTaWduYWxSZXBvcnRQcm9zcGVjdHMsIFxuICAgICAgICAgICAgIHN0eWxlOiB7Zm9udFdlaWdodDonYm9sZCcsbWFyZ2luVG9wOjV9LCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wifSwgXG4gICAgICAgICAgICBcIlByb3NwZWN0IEFsbFwiXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBQYW5lbCBGb290aW5nXG4gIHBhZ2luYXRlUHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzID0gdGhpcztcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0cz9za2lwPScrKHRoaXNzLnByb3BzLmN1cnJlbnRQYWdlLTIpKnRoaXNzLnByb3BzLnByb3NwZWN0c1BlclBhZ2UsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGRhdGE6ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJhcmNoaXZlZFwiOnRydWV9JmNvdW50PTEnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgLy90aGlzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe2N1cnJlbnRQYWdlOiB0aGlzLnByb3BzLmN1cnJlbnRQYWdlIC0gMX0pXG4gICAgICAgIHRoaXNzLnByb3BzLnBhZ2luYXRlKHJlcy5yZXN1bHRzLCB0aGlzcy5wcm9wcy5jdXJyZW50UGFnZSAtIDEpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuXG4gIHBhZ2luYXRlOiBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICBwcm9zcGVjdHNQZXJQYWdlID0gdGhpcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlXG4gICAgaWYoZGlyZWN0aW9uPT0ncHJldmlvdXMnKVxuICAgICAgc2tpcCA9ICh0aGlzLnByb3BzLmN1cnJlbnRQYWdlIC0gMikqcHJvc3BlY3RzUGVyUGFnZVxuICAgIGVsc2UgaWYoZGlyZWN0aW9uPT1cImZvcndhcmRcIilcbiAgICAgIHNraXAgPSB0aGlzLnByb3BzLmN1cnJlbnRQYWdlKnByb3NwZWN0c1BlclBhZ2VcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0P3NraXA9Jytza2lwLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICBkYXRhOiAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnfSZjb3VudD0xJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogcmVzLnJlc3VsdHN9KVxuICAgICAgICAvL3RoaXNzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogdGhpcy5wcm9wcy5jdXJyZW50UGFnZSArIDF9KVxuICAgICAgICB0aGlzLnByb3BzLnBhZ2luYXRlKHJlcy5yZXN1bHRzLCB0aGlzLnByb3BzLmN1cnJlbnRQYWdlICsgMSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBhZ2luYXRlRm9yd2FyZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0cz9za2lwPScrdGhpc3MucHJvcHMuY3VycmVudFBhZ2UqdGhpc3MucHJvcHMucHJvc3BlY3RzUGVyUGFnZSxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImFyY2hpdmVkXCI6dHJ1ZX0mY291bnQ9MScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICAvL3RoaXNzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgLy90aGlzcy5zZXRTdGF0ZSh7Y3VycmVudFBhZ2U6IHRoaXNzLnByb3BzLmN1cnJlbnRQYWdlICsgMX0pXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKVxuICAgICAgICB0aGlzcy5wcm9wcy5wYWdpbmF0ZShyZXMucmVzdWx0cywgdGhpc3MucHJvcHMuY3VycmVudFBhZ2UgKyAxKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBwYWdpbmF0ZUZvcndhcmQgPSB0aGlzLnBhZ2luYXRlRm9yd2FyZFxuICAgIHBhZ2luYXRlUHJldmlvdXMgPSB0aGlzLnBhZ2luYXRlUHJldmlvdXNcblxuICAgIE1vdXNldHJhcC5iaW5kKCdsJywgZnVuY3Rpb24oKSB7IFxuICAgICAgY29uc29sZS5sb2coJ25ldyBmb3J3YXJkJylcbiAgICAgIHBhZ2luYXRlRm9yd2FyZCgpXG4gICAgfSk7XG5cbiAgICBNb3VzZXRyYXAuYmluZCgnaCcsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGNvbnNvbGUubG9nKCduZXcgYmFjaycpXG4gICAgICBwYWdpbmF0ZVByZXZpb3VzKClcbiAgICB9KTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNob3VsZCBiZSBoYW5kbGVkIGJ5IFBhbmxlIEZvb3RpbmdcblxuXG4gICAgcHJldmlvdXMgPSAodGhpcy5wcm9wcy5jdXJyZW50UGFnZSAtIDEpID8gJycgOiAnZGlzYWJsZWQnXG4gICAgZm9yd2FyZCA9ICh0aGlzLnByb3BzLmN1cnJlbnRQYWdlID09IHRoaXMucHJvcHMucGFnZXMpID8gJ2Rpc2FibGVkJyA6ICcnXG5cbiAgICBsb3dlckxpbWl0ID0gKHRoaXMucHJvcHMuY3VycmVudFBhZ2UtMSkqdGhpcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlXG4gICAgdXBwZXJMaW1pdCA9IHRoaXMucHJvcHMuY3VycmVudFBhZ2UqdGhpcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlXG5cbiAgICBsb3dlckxpbWl0ID0gKGxvd2VyTGltaXQpID8gbG93ZXJMaW1pdCA6IDFcbiAgICB1cHBlckxpbWl0ID0gKHVwcGVyTGltaXQgPiB0aGlzLnByb3BzLmNvdW50KSA/IHRoaXMucHJvcHMuY291bnQgOiB1cHBlckxpbWl0XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWZvb3RpbmdcIiwgXG4gICAgICAgICAgIGlkOiBcIm5hdmJhclwiLCBcbiAgICAgICAgICAgc3R5bGU6IHtoZWlnaHQ6JzM1cHgnLHBhZGRpbmc6JzBweCcsIHBhZGRpbmdUb3A6JzdweCd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5SaWdodDonMjBweCd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7bWFyZ2luUmlnaHQ6JzVweCd9LCBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucGFnaW5hdGVQcmV2aW91cywgXG4gICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiK3ByZXZpb3VzfSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWZhc3QtYmFja3dhcmRcIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5wYWdpbmF0ZVByZXZpb3VzLCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwicGFnaW5hdGUtYmFjay1idG4gYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiK3ByZXZpb3VzfSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNoZXZyb24tbGVmdFwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHttYXJnaW5MZWZ0OjUsIG1hcmdpblJpZ2h0OjUsZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDoxMTUsIHRleHRBbGlnbjonY2VudGVyJ319LCBcbiAgICAgICAgICAgIGxvd2VyTGltaXQrJyAtICcrdXBwZXJMaW1pdCsnIG9mICcrdGhpcy5wcm9wcy5jb3VudFxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucGFnaW5hdGVGb3J3YXJkLCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwicGFnaW5hdGUtZm9yd2FyZC1idG4gYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiK2ZvcndhcmR9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1yaWdodFwifSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBzdHlsZToge21hcmdpbkxlZnQ6JzVweCd9LCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnBhZ2luYXRlRm9yd2FyZCwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJsdWUtZ3JhZGllbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBcIitmb3J3YXJkfSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWZhc3QtZm9yd2FyZFwifSkpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTaWduYWxDYXJkXG4gIHByb3NwZWN0UGVyc29uOiBmdW5jdGlvbigpIHtcbiAgICAvLyBBZGQgVG8gU2lnbmFsIExpc3RcbiAgICAvLyBBZGQgQ29tcGFueVxuICAgIC8vIEFkZCBQcm9zcGVjdFxuICAgIHBlcnNvbiA9IHRoaXMucHJvcHMucGVyc29uXG4gICAgcGVyc29uSWQgPSBwZXJzb24ub2JqZWN0SWRcbiAgICBjb21wYW55ID0gdGhpcy5wcm9wcy5wZXJzb24uY29tcGFueVxuICAgIGNvbXBhbnlJZCA9IGNvbXBhbnkub2JqZWN0SWRcbiAgICBwZXJzb24uc2lnbmFsSWQgPSBwZXJzb24uc2lnbmFsSWRcbiAgICBjb21wYW55LnNpZ25hbElkID0gY29tcGFueS5vYmplY3RJZFxuICAgIHAgPSBwZXJzb247IGMgPSBjb21wYW55O1xuICAgIGRlbGV0ZSBwLm9iamVjdElkOyBkZWxldGUgYy5vYmplY3RJZDtcbiAgICBkZWxldGUgcC5jbGFzc05hbWU7IGRlbGV0ZSBjLmNsYXNzTmFtZTtcbiAgICBkZWxldGUgcC5fX3R5cGU7IGRlbGV0ZSBjLl9fdHlwZTtcbiAgICBkZWxldGUgcC5jcmVhdGVkQXQ7IGRlbGV0ZSBjLmNyZWF0ZWRBdDtcbiAgICBkZWxldGUgcC51cGRhdGVkQXQ7IGRlbGV0ZSBjLnVwZGF0ZWRBdDtcbiAgICBwLmNvbXBhbnlTaWduYWwgPSBwLmNvbXBhbnlcbiAgICBkZWxldGUgcC5jb21wYW55XG5cbiAgICBwLmxpbmtlZGluX3VybCA9IHAudXJsXG4gICAgcC5jb21wYW55ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnlcbiAgICBwLmFyY2hpdmVkID0gdHJ1ZVxuICAgIHAubG9hZGluZyA9IHRydWVcbiAgICBwLmNpdHkgPSBwLnRpdGxlLnNwbGl0KCctJylbMF1cbiAgICBwLnBvcyA9IHAudGl0bGUuc3BsaXQoJy0nKS5zbGljZSgtMSlbMF0uc3BsaXQoJyBhdCAnKVswXVxuICAgIHAuY29tcGFueV9uYW1lID0gcC50aXRsZS5zcGxpdCgnLScpLnNsaWNlKC0xKVswXS5zcGxpdCgnIGF0ICcpLnNsaWNlKC0xKVswXSBcbiAgICBuYW1lID0gcC5saW5rX3RleHQuc3BsaXQoJ3wnKVswXVxuICAgIG5hbWUgPSBuYW1lLnNwbGl0KCctJylbMF1cbiAgICBwLm5hbWUgPSBuYW1lXG4gICAgcC53ZWJzaXRlVXJsID0gY29tcGFueS53ZWJzaXRlVXJsXG4gICAgLy8gQXV0b21hdGljYWxseSBBZGQgVG8gVGhlIFNpZ25hbCBMaXN0IEl0IEJlbG9uZ3MgVG9cbiAgICBcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnByb2ZpbGUpXG4gICAgcC5saXN0cyA9IFt7J19fdHlwZSc6J1BvaW50ZXInLCdjbGFzc05hbWUnOidQcm9zcGVjdExpc3QnLCdvYmplY3RJZCc6dGhpcy5wcm9wcy5wcm9maWxlLnByb3NwZWN0X2xpc3Qub2JqZWN0SWR9XSBcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RzJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkocCksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUGVvcGxlU2lnbmFsLycrcGVyc29uSWQsXG4gICAgICAgICAgdHlwZTonUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtwcm9zcGVjdElkOiByZXMub2JqZWN0SWQsIHByb3NwZWN0ZWRfb246IERhdGUubm93KCkvMTAwMH0pLFxuICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7IGNvbnNvbGUubG9nKHJlcykgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7IH1cbiAgICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikgeyB9XG4gICAgfSlcblxuICAgIC8vQ3JlYXRlIENvbXBhbnkgUHJvc3BlY3Qgd2l0aCBQb2ludGVyIHRvIENvbXBhbnlTaWduYWxcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0NvbXBhbnlQcm9zcGVjdHMnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShjKSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAvL1VwZGF0ZSBDb21wYW55IFNpZ25hbCBXaXRoIFBvaW50ZXIgdG8gQ29tcGFueSBQcm9zcGVjdCBhbmQgZGF0ZSBwcm9zcGVjdGVkXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Db21wYW55U2lnbmFsLycrY29tcGFueUlkLFxuICAgICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgICAgaGVhZGVyczphcHBDb25maWcuaGVhZGVycyxcbiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cHJvc3BlY3RJZDogcmVzLm9iamVjdElkLCBwcm9zcGVjdGVkX29uOiBEYXRlLm5vdygpLzEwMDB9KSxcbiAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykgeyBjb25zb2xlLmxvZyhyZXMpIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikgeyB9XG4gICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHsgfVxuICAgIH0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBwZXJzb24gPSB0aGlzLnByb3BzLnBlcnNvblxuICAgIHNpZ25hbCA9IChwZXJzb24uc2lnbmFscykgPyBwZXJzb24uc2lnbmFsc1swXSA6IHt9XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHNpZ25hbC1jYXJkXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDoyNSwgcGFkZGluZ1JpZ2h0OjI1fX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNChudWxsLCBcbiAgICAgICAgICAgIHBlcnNvbi50aXRsZVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZTogeyBmbG9hdDonbGVmdCcsbWF4V2lkdGg6ICc2MCUnLCB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJ319LCBcbiAgICAgICAgICAgICAgcGVyc29uLmxpbmtfdGV4dClcbiAgICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwic2lnbmFsLXN0dWZmXCIsIFxuICAgICAgICAgICAgc3R5bGU6IChfLmlzRXF1YWwoc2lnbmFsLCB7fSkpID8ge2Rpc3BsYXk6J25vbmUnfSA6IHtkaXNwbGF5OidibG9jayd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KSwgXG4gICAgICAgICAgICBcIsKgIFwiLCBzaWduYWwuY29tcGFueSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1tYXAtbWFya2VyXCJ9KSwgXG4gICAgICAgICAgICBcIsKgIFwiLCBzaWduYWwubG9jYXRpb24pLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc3VpdGNhc2VcIn0pLCBcbiAgICAgICAgICAgIFwiwqBcIiwgc2lnbmFsLmpvYl90aXRsZSwgXCIgXCIpXG4gICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2Vzc1wiLCBcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvc3BlY3RQZXJzb24sIFxuICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblRvcDoxNSwgZm9udFdlaWdodDonYm9sZCcsd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdCBUaGlzIFBlcnNvblwiKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykuY3NzKHtvdmVyZmxvdzonaGlkZGVuJ30pXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJiYWNrZ3JvdW5kLWltYWdlXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5uYXYoe2NsYXNzTmFtZTogXCJ0aGVuYXZiYXIgbmF2YmFyIG5hdmJhci1kZWZhdWx0IG5hdmJhci1maXhlZC10b3BcIiwgcm9sZTogXCJuYXZpZ2F0aW9uXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyLWZsdWlkXCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwidGhlLXRpdGxlIHRrLWZvY28gYnJhbmQgbmF2YmFyLWJyYW5kXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJ30sIFxuICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wifSwgXG4gICAgICAgICAgICAgIFwiQ3VzdG9tZXJvXCIsIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250U2l6ZTonMjJweCcsbWFyZ2luTGVmdDonMzBweCd9fSwgXCJTdXBlcmNoYXJnZSB5b3VyIHNhbGVzISBcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICAgIFByaWNpbmdUYWJsZXMobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZ3JhZGllbnRcIn0sIFwiIFwiKVxuICAgICAgKVxuICAgIClcbiAgICAvKlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI3NpZ251cFwiIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4tbGdcIiBzdHlsZT17e2Rpc3BsYXk6J2Jsb2NrJyxiYWNrZ3JvdW5kQ29sb3I6JyMxY2EzZmQnLGZsb2F0OidyaWdodCcsbWFyZ2luVG9wOicxM3B4JyB9fT5Mb2cgSW48L2E+XG4gICAgKi9cbiAgfVxufSk7XG5cbnZhciBQcmljaW5nVGFibGVzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnUHJpY2luZ1RhYmxlcycsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBzdHlsZToge21hcmdpblRvcDoxNTB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJyb3cgZmxhdFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLWxnLTMgY29sLW1kLTMgY29sLXhzLTZcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcInNpZ25hbC1jYXJkIHBsYW4gcGxhbjJcIn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLW5hbWVcIn0sIFwiIFN0YXJ0dXAgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1wcmljZVwifSwgXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmgxKHtzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLGNvbG9yOicjMDI5NGY1J319LCBcIiQ0OTnCoFwiLCBSZWFjdC5ET00uc21hbGwobnVsbCwgXCIvIG1vbnRoXCIpKVxuICAgICAgICAgICAgICAgICAgICApLCBcblxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVXAgdG8gMTAwMCBFbWFpbCBDcmVkaXRzXCIpLCBcIiBcIiksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVXAgdG8gMTAgVGVhbSBNZW1iZXJzXCIpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe3N0eWxlOiB7cGFkZGluZzowfX0sIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwpLCBcIiBJbmNsdWRlczogXCIpLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCAnRW1haWxzICYgUGhvbmUgTnVtYmVycycpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJRdWljayBTdGFydCBQYWNrYWdlXCIpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJTaWduYWxzXCIpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJcIiwgc3R5bGU6IHtwYWRkaW5nQm90dG9tOjB9fSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4tbWQgY29vbC1idG5cIn0sIFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgIClcbiAgICAgICAgICksIFxuXG4gICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLWxnLTMgY29sLW1kLTMgY29sLXhzLTZcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwic2lnbmFsLWNhcmQgcGxhbiBwbGFuMyBmZWF0dXJlZFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1uYW1lXCJ9LCBcIiBHcm93dGggXCIpLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLXByaWNlXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oMSh7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxjb2xvcjonIzAyOTRmNSd9fSwgXCIkMTI5OcKgXCIsIFJlYWN0LkRPTS5zbWFsbChudWxsLCBcIi8gbW9udGhcIikpXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIlVwIHRvIDI1MDAgRW1haWwgQ3JlZGl0c1wiKSwgXCIgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIlVwIHRvIDI1IFRlYW0gTWVtYmVyc1wiKSksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtzdHlsZToge3BhZGRpbmc6MH19LCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsKSwgXCIgSW5jbHVkZXM6IFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJBbGwgU3RhcnR1cCBGZWF0dXJlcyBcIikpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7c3R5bGU6IHtwYWRkaW5nOjB9fSwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSkpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIkJ1bGsgU2FsZXNmb3JjZSBJbnRlZ3JhdGlvblwiKSksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiTWluaW5nIEpvYnNcIikpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge3BhZGRpbmdCb3R0b206MH19LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI1wiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1tZCBjb29sLWJ0blwifSwgXCJTaWduIFVwXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICApXG4gICAgICksIFxuXG4gICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbGctMyBjb2wtbWQtMyBjb2wteHMtNlwifSwgXG4gICAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcInNpZ25hbC1jYXJkIHBsYW4gcGxhbjRcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1uYW1lXCJ9LCBcIiBQcmVtaXVtIFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLXByaWNlXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmgxKHtzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLGNvbG9yOicjMDI5NGY1J319LCBcIiQyOTk5wqBcIiwgUmVhY3QuRE9NLnNtYWxsKG51bGwsIFwiLyBtb250aFwiKSlcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVXAgdG8gNzUwMCBFbWFpbCBDcmVkaXRzXCIpLCBcIiBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVXAgdG8gNTAgVGVhbSBNZW1iZXJzXCIpKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkoe3N0eWxlOiB7cGFkZGluZzowfX0sIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwpLCBcIiBJbmNsdWRlczogXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIkFsbCBHcm93dGggRmVhdHVyZXMgXCIpKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkoe3N0eWxlOiB7cGFkZGluZzowfX0sIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJEZWRpY2F0ZWQgSGFwcGluZXNzIE9mZmljZXJcIikpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIkltcHJvdmVkIHRlcnJpdG9yeSBwbGFubmluZ1wiKSksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwiXCIsIHN0eWxlOiB7cGFkZGluZ0JvdHRvbTowfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCIjXCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLW1kIGNvb2wtYnRuXCJ9LCBcIlNpZ24gVXBcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgIClcbiAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbGctMyBjb2wtbWQtMyBjb2wteHMtNlwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwic2lnbmFsLWNhcmQgcGxhbiBwbGFuMVwifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcInBsYW4tbmFtZVwifSwgXCIgRW50ZXJwcmlzZSBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJcIn0sIFwiIFwiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsKSwgXCIgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwpLCBcIiBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe3N0eWxlOiB7Zm9udFNpemU6MjJ9fSwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJDb250YWN0IFVzXCIpLCBcIiBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCksIFwiIFwiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsKSwgXCIgIFwiKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuKVxuXG4pXG4gICAgICApXG4gICAgKTtcbiAgfSxcbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbi8vVE9ETyAtIGFic3RyYWN0IGxpc3RzXG52YXIgU2lkZU1lbnVQcm9zcGVjdHMgPSByZXF1aXJlKCcuL3NpZGVfbWVudV91c2VyX3Byb3NwZWN0cy5qcy5taW4uanMnKTtcblxudmFyIFVzZXJQcm9zcGVjdCA9IHJlcXVpcmUoJy4vdXNlcl9wcm9zcGVjdC5qcy5taW4uanMnKTtcbnZhciBVc2VyUHJvc3BlY3RIZWFkZXIgPSByZXF1aXJlKCcuL3VzZXJfcHJvc3BlY3RfaGVhZGVyLmpzLm1pbi5qcycpO1xudmFyIFNpZGVNZW51TGlzdE9wdGlvbiA9IHJlcXVpcmUoJy4vdXNlcl9zaWRlX21lbnVfbGlzdC5qcy5taW4uanMnKTtcbnZhciBMb2FkaW5nU3Bpbm5lciA9IHJlcXVpcmUoJy4vbG9hZGluZ19zcGlubmVyLmpzLm1pbi5qcycpXG52YXIgUGFuZWxGb290aW5nID0gcmVxdWlyZSgnLi9wYW5lbF9mb290aW5nLmpzLm1pbi5qcycpXG52YXIgTWVzc2VuZ2VyID0gcmVxdWlyZSgnLi9tZXNzZW5nZXIuanMubWluLmpzJylcbnZhciBEZWxldGVMaXN0TW9kYWwgPSByZXF1aXJlKCcuL2RlbGV0ZV9saXN0X21vZGFsLmpzLm1pbi5qcycpXG52YXIgUmVuYW1lTGlzdE1vZGFsID0gcmVxdWlyZSgnLi9yZW5hbWVfbGlzdF9tb2RhbC5qcy5taW4uanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7ICBwcm9zcGVjdHMgICA6IFtdLFxuICAgICAgICAgICAgICBjdXJyZW50UGFnZSA6IDEsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1Byb3NwZWN0JyxcbiAgICAgICAgICAgICAgbGlzdENsYXNzTmFtZTogJ1Byb3NwZWN0TGlzdCcsXG4gICAgICAgICAgICAgIHBhZ2VzICAgICAgIDogMSxcbiAgICAgICAgICAgICAgY3VycmVudExpc3QgOiAnQWxsJyxcbiAgICAgICAgICAgICAgY3VycmVudExpc3RPYmplY3RJZCA6ICcnLFxuICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICBwcm9zcGVjdHNQZXJQYWdlOiA1MCxcbiAgICAgICAgICAgICAgbGlzdHMgOiBbXSxcbiAgICAgICAgICAgICAgbWFzdGVyQ2hlY2tib3hDaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAga2V5Ym9hcmRBY3RpdmVQcm9zcGVjdDogMCwgLy9maXJzdFxuICAgICAgICAgICAgICBzZWxlY3RlZFByb3NwZWN0czogW10sXG4gICAgICAgICAgICAgIHRvdGFsQ291bnQgIDogXCJ+XCIsIFxuICAgICAgICAgICAgICBjb3VudCAgICAgICA6IFwiflwiLCB9XG4gIH0sXG5cbiAgY3JlYXRlTGlzdDogZnVuY3Rpb24oZGF0YSkge1xuICAgIGxpc3RzID0gdGhpcy5zdGF0ZS5saXN0c1xuICAgIGxpc3RzLnB1c2goZGF0YSlcbiAgICB0aGlzLnNldFN0YXRlKHsgbGlzdHM6IGxpc3RzIH0pXG4gIH0sXG5cbiAgcmVuYW1lTGlzdDogZnVuY3Rpb24obmV3TGlzdE5hbWUpIHtcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0KVxuICAgIGNvbnNvbGUubG9nKG5ld0xpc3ROYW1lKVxuXG4gICAgLy8gVXBkYXRlIExvY2FsIFN0YXRlXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXMuc3RhdGUubGlzdHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmKGl0ZW0ubmFtZSA9PSB0aGlzcy5zdGF0ZS5jdXJyZW50TGlzdCl7XG4gICAgICAgIGl0ZW0ubmFtZSA9IG5ld0xpc3ROYW1lXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlbVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7bGlzdHMgOiBmaWx0ZXJlZH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudExpc3Q6IG5ld0xpc3ROYW1lfSlcblxuICAgICQoJy5tb2RhbCcpLmNsaWNrKClcbiAgICAkKCcjbmV3TGlzdE5hbWUnKS52YWwoJycpXG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykuY2xpY2soKVxuXG4gICAgLy8gUGVyc2lzdCAvIEFqYXhcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdC8nK3RoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZCxcbiAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyxcbiAgICAgIHR5cGU6J1BVVCcsXG4gICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHsnbmFtZSc6bmV3TGlzdE5hbWV9KSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZGVsZXRlTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETyBcbiAgICAvLyBHZXQgQWxsIE1lbWJlcnMgT2YgVGhpcyBMaXN0XG4gICAgLy8gUmVtb3ZlIEZyb20gTGlzdCBBcnJheVxuICAgIHBhcnNlSGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG4gICAgXG4gICAgdmFyIGZpbHRlcmVkID0gXy5maWx0ZXIodGhpcy5zdGF0ZS5saXN0cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYoaXRlbS5vYmplY3RJZCA9PSB0aGlzcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtsaXN0czogZmlsdGVyZWR9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRMaXN0OiAnQWxsJ30pXG4gICAgdGhpcy5jaGFuZ2VMaXN0KCdBbGwnLCAnJylcblxuICAgIC8vIFJlbW92ZVxuICAgICQoJy5tb2RhbCcpLmNsaWNrKClcbiAgICAkKCcjbmV3TGlzdE5hbWUnKS52YWwoJycpXG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykuY2xpY2soKVxuXG4gICAgLy8gUGVyc2lzdCAvIEFqYXhcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdC8nK3RoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZCxcbiAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyxcbiAgICAgIHR5cGU6J0RFTEVURScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGNoYW5nZUxpc3Q6IGZ1bmN0aW9uKG5ld0xpc3ROYW1lLG9iamVjdElkKSB7XG4gICAgLy8gYWRkIG92ZXJsYXkgbG9hZGluZ1xuICAgIC8vY29uc29sZS5sb2cobmV3TGlzdE5hbWUpXG4gICAgLy9jb25zb2xlLmxvZyhvYmplY3RJZClcblxuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IEpTT04uc3RyaW5naWZ5KFtdKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudExpc3QgOiBuZXdMaXN0TmFtZX0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudExpc3RPYmplY3RJZCA6IG9iamVjdElkfSlcbiAgICB0aGlzLnNldFN0YXRlKHtwcm9zcGVjdHMgIDogW10gICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjb3VudCAgICAgIDogJ34nICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtwYWdlcyAgICAgIDogMSAgICAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nICAgIDogdHJ1ZSAgfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogMX0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7a2V5Ym9hcmRBY3RpdmVQcm9zcGVjdDogMH0pXG5cbiAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImFyY2hpdmVkXCI6dHJ1ZX0mY291bnQ9MSZvcmRlcj0tY3JlYXRlZEF0J1xuICAgIGNvbnNvbGUubG9nKG5ld0xpc3ROYW1lKVxuXG4gICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCAhPSAnQWxsJyB8fCB0eXBlb2Yob2JqZWN0SWQpICE9IFwidW5kZWZpbmVkXCIgJiYgbmV3TGlzdE5hbWUgIT0gJ0FyY2hpdmVkJyl7XG4gICAgICBjdXJyZW50TGlzdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgJ29iamVjdElkJyAgOiBvYmplY3RJZCwgXG4gICAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLCBcbiAgICAgICAgJ2NsYXNzTmFtZScgOiAnUHJvc3BlY3RMaXN0JyBcbiAgICAgIH0pXG5cbiAgICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueSlcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9JmNvdW50PTEnXG4gICAgICBxcnkgPSAnd2hlcmU9e1wibGlzdHNcIjonK2N1cnJlbnRMaXN0Kyd9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCZpbmNsdWRlPWVtYWlsX2d1ZXNzZXMsZW1haWxfZ3Vlc3Nlcy5wYXR0ZXJuJ1xuICAgIH0gZWxzZSBpZiAobmV3TGlzdE5hbWUgPT0gJ0FyY2hpdmVkJykge1xuICAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImFyY2hpdmVkXCI6ZmFsc2V9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCZpbmNsdWRlPWVtYWlsX2d1ZXNzZXMsZW1haWxfZ3Vlc3Nlcy5wYXR0ZXJuJ1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhxcnkpXG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdCcsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgYWpheFN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0ZWQgbGlzdCcpXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtjb3VudDogcmVzLmNvdW50fSlcbiAgICAgICAgLy90aGlzc3Muc2V0U3RhdGUoe3RvdGFsQ291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cGFnZXM6IE1hdGguY2VpbChyZXMuY291bnQvdGhpc3NzLnByb3BzLnByb3NwZWN0c1BlclBhZ2UpfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBjaGVja2JveEFjdGlvbjogZnVuY3Rpb24oY2hlY2tlZFN0YXRlLCBvYmpJZCkge1xuICAgIC8qIFN0b3JpbmcgQ2hlY2tlZCBQcm9zcGVjdHMgSW4gTG9jYWxTdG9yYWdlIFRvIE1ha2UgaXQgRWFzaWVyIFRvXG4gICAgICogQ29weSBhbmQgTW92ZSBQcm9zcGVjdHMgXG4gICAgICpcbiAgICAgKiBNb3ZlIFRvIFVzZXJfUHJvc3BlY3RzP1xuICAgICAqL1xuICAgIFxuICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgLy9jb25zb2xlLmxvZyhjaGVja2VkU3RhdGUpXG4gICAgaWYoY2hlY2tlZFN0YXRlKVxuICAgICAgc2VsZWN0ZWRQcm9zcGVjdHMucHVzaChvYmpJZClcbiAgICBlbHNlXG4gICAgICBzZWxlY3RlZFByb3NwZWN0cyA9IF8ucmVqZWN0KHNlbGVjdGVkUHJvc3BlY3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oaWQpe3JldHVybiBpZCA9PSBvYmpJZH0pXG5cbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFByb3NwZWN0cylcbiAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShzZWxlY3RlZFByb3NwZWN0cylcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFByb3NwZWN0czogc2VsZWN0ZWRQcm9zcGVjdHN9KVxuICB9LFxuXG4gIG1hc3RlckNoZWNrYm94Q2hhbmdlZDogZnVuY3Rpb24obWFzdGVyQ2hlY2tib3hWYWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe21hc3RlckNoZWNrYm94Q2hlY2tlZDogbWFzdGVyQ2hlY2tib3hWYWx1ZX0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXJ0S2V5Ym9hcmRTaG9ydGN1dHMoKVxuICAgICQoJ2JvZHknKS5jc3Moe292ZXJmbG93OidhdXRvJ30pXG5cbiAgICBwcm9zcGVjdHMgPSBbXVxuICAgIGZvcihpPTA7aTx0aGlzLnN0YXRlLnByb3NwZWN0cy5sZW5ndGg7aSsrKSB7XG4gICAgICB1cmwgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS51cmxcbiAgICAgIHByb3NwZWN0ID0gdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV1cblxuICAgICAgaWYodXJsICE9IFwibm8gbGlua2VkaW4gd2Vic2l0ZVwiICYmIHR5cGVvZih1cmwpICE9IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9IFwiXCIpe1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaHR0cDovLycsJycpXG4gICAgICAgIHRoZV9saW5rID0gUmVhY3QuRE9NLmEoe2hyZWY6ICdodHRwOi8vJyt1cmx9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoZV9saW5rID0gXCJcIlxuICAgICAgfVxuXG4gICAgICBwcm9maWxlID0gdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV0ubGlua2VkaW5fdXJsLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKVxuICAgICAgcHJvZmlsZSA9IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLmxpbmtlZGluX3VybC5yZXBsYWNlKCdodHRwczovLycsJycpXG4gICAgICBsaSA9IFJlYWN0LkRPTS5hKHtocmVmOiAnaHR0cDovLycrcHJvZmlsZSwgY2xhc3NOYW1lOiBcImxpbmtlZGluX2xpbmtcIn0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbGlua2VkaW4tc3F1YXJlXCJ9KSlcblxuICAgICAga2V5Ym9hcmRTZWxlY3RlZCA9IChpID09IHRoaXMuc3RhdGUua2V5Ym9hcmRBY3RpdmVQcm9zcGVjdClcblxuICAgICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cylcbiAgICAgIGFscmVhZHlDaGVja2VkPWZhbHNlXG4gICAgICBmb3IoaWk9MDtpaTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2lpKyspXG4gICAgICAgIGlmKHByb3NwZWN0Lm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2lpXSlcbiAgICAgICAgICBhbHJlYWR5Q2hlY2tlZCA9IHRydWVcblxuICAgICAgICAvL2NvbnNvbGUubG9nKGFscmVhZHlDaGVja2VkKVxuXG4gICAgICBwcm9zcGVjdHMucHVzaChcbiAgICAgICAgVXNlclByb3NwZWN0KHtkZWxldGVQcm9zcGVjdDogdGhpcy5kZWxldGVQcm9zcGVjdCwgXG4gICAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3Q6IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLCBcbiAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJDaGVja2JveENoZWNrZWQ6IHRoaXMuc3RhdGUubWFzdGVyQ2hlY2tib3hDaGVja2VkLCBcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZ2VuZXJhdGVfaWQoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgbGluazogdGhlX2xpbmssIFxuICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkU2VsZWN0ZWQ6IGtleWJvYXJkU2VsZWN0ZWQsIFxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94QWN0aW9uOiB0aGlzLmNoZWNrYm94QWN0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgICBhbHJlYWR5Q2hlY2tlZDogYWxyZWFkeUNoZWNrZWQsIFxuICAgICAgICAgICAgICAgICAgICAgIGxpOiBsaX0pKVxuICAgIH1cblxuICAgIGxpc3RUeXBlID0gKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIikgPyB7ZGlzcGxheTonbm9uZSd9IDoge2Zsb2F0OidsZWZ0J31cbiAgICBsaXN0QnRuID0gKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIikgPyB7ZGlzcGxheTonbm9uZSd9IDoge2Zsb2F0OidsZWZ0JyxtYXJnaW5MZWZ0OjV9XG4gICAgbGlzdE9wdGlvbnMgPSAodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCA9PSBcIkFsbFwiKSA/IHtkaXNwbGF5Oidub25lJ30gOiB7ZmxvYXQ6J3JpZ2h0J31cbiAgICBjb3B5RHJvcGRvd25TdHlsZSA9ICh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpID8ge3dpZHRoOjExNCwgcmlnaHQ6NH0gOiB7d2lkdGg6MTE0LCByaWdodDozNn1cbiAgICBjdXJyZW50TGlzdCA9IHRoaXMuc3RhdGUuY3VycmVudExpc3RcbiAgICByZXR1cm4gKFxuICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBzdHlsZToge3dpZHRoOicxMDAlJyxwYWRkaW5nOicwJywgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgjZGFlOGZmLCNkYWU4ZmYpJywgYmFja2dyb3VuZEltYWdlOiAncmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCBjZW50ZXIgY2VudGVyLCNmZmYsI2RmZjFmZCA5MDBweCknfX0sIFxuICAgICAgICBTaWRlTWVudVByb3NwZWN0cyh7Y3VycmVudExpc3Q6IHRoaXMuc3RhdGUuY3VycmVudExpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHRoaXMuc3RhdGUuY291bnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb3VudDogdGhpcy5zdGF0ZS50b3RhbENvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUxpc3Q6IHRoaXMuY2hhbmdlTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMaXN0OiB0aGlzLmNyZWF0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHM6IHRoaXMuc3RhdGUubGlzdHN9KSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMFwiLCBzdHlsZToge3BhZGRpbmc6JzAnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJwcm9zcGVjdERldGFpbEJ1dHRvbnNcIn0sIFxuICAgICAgICAgICAgICAgIExpc3REZXRhaWxCdXR0b25zKHtcbiAgICAgICAgICAgICAgICAgIHJlbmFtZUxpc3Q6IHRoaXMucmVuYW1lTGlzdCwgXG4gICAgICAgICAgICAgICAgICBkZWxldGVMaXN0OiB0aGlzLmRlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgY3VycmVudExpc3ROYW1lOiB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0LCBcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaXN0OiB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWR9KSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZHJvcGRvd25cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBsaXN0LW9wdGlvbnNcIiwgXG4gICAgICAgICAgICAgICAgICAgICBpZDogXCJcIiwgXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZTogbGlzdE9wdGlvbnN9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1iYXJzXCJ9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImRyb3Bkb3duXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHsnZGF0YS10b2dnbGUnOiBcImRyb3Bkb3duXCIsIFxuICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiY29weVRvTGlzdFwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZHJvcC10YXJnZXQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBsaXN0LW9wdGlvbnNcIn0sIFxuICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jb3B5XCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgICAgIFwiwqAgQ29weSBUbyBMaXN0IMKgXCIsICBcbiAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FyZXQtZG93blwifSlcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBDdXJyZW50TGlzdHNUd28oe2xpc3RzOiB0aGlzLnN0YXRlLmxpc3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlEcm9wZG93blN0eWxlOiBjb3B5RHJvcGRvd25TdHlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QWN0aW9uOiB0aGlzLmNvcHlTZWxlY3RlZFByb3NwZWN0c30pXG4gICAgICAgICAgICAgICAgKSwgXG4gIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkcm9wZG93blwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7J2RhdGEtdG9nZ2xlJzogXCJkcm9wZG93blwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBpZDogXCJtb3ZlVG9MaXN0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGxpc3RPcHRpb25zLCBcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzIGxpc3Qtb3B0aW9uc1wifSwgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNoYXJlXCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgICBcIsKgIE1vdmUgVG8gTGlzdCDCoFwiLCAgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNhcmV0LWRvd25cIn0pXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgQ3VycmVudExpc3RzKHtsaXN0czogdGhpcy5zdGF0ZS5saXN0cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QWN0aW9uOiB0aGlzLm1vdmVTZWxlY3RlZFByb3NwZWN0c30pXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7b25DbGljazogdGhpcy5kb3dubG9hZEZpbGUsIFxuICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgaWQ6IFwiZG93bmxvYWRQcm9zcGVjdHNcIiwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImRyb3AtdGFyZ2V0IGJ0biBidG4tcHJpbWFyeSBidG4teHMgbGlzdC1vcHRpb25zXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZG93bmxvYWRcIn0pLCBcIiDCoCBEb3dubG9hZCBDU1YgwqBcIiBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksIFxuICAgICAgICBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcImF1dG9zY3JvbGxcIiwgc3R5bGU6IHtoZWlnaHQ6JzQwMHB4JyxvdmVyZmxvdzonYXV0byd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJwcm9zcGVjdHMtdGFibGUgdGFibGUgdGFibGUtc3RyaXBlZFwiLCBzdHlsZToge21hcmdpbkJvdHRvbTonMHB4J319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoZWFkKHtzdHlsZToge2JhY2tncm91bmRDb2xvcjond2hpdGUnfX0sIFxuICAgICAgICAgICAgICAgIFVzZXJQcm9zcGVjdEhlYWRlcih7bWFzdGVyQ2hlY2tib3hDaGFuZ2VkOiB0aGlzLm1hc3RlckNoZWNrYm94Q2hhbmdlZH0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICAgICAgcHJvc3BlY3RzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgKHRoaXMuc3RhdGUubG9hZGluZykgPyBMb2FkaW5nU3Bpbm5lcihudWxsKSA6IFwiXCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICksIFxuXG4gICAgICBQYW5lbEZvb3Rpbmcoe2N1cnJlbnRQYWdlOiB0aGlzLnN0YXRlLmN1cnJlbnRQYWdlLCBcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IHRoaXMuc3RhdGUuY291bnQsIFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0ZTogdGhpcy5wYWdpbmF0ZSwgXG4gICAgICAgICAgICAgICAgICAgIHByb3NwZWN0c1BlclBhZ2U6IHRoaXMuc3RhdGUucHJvc3BlY3RzUGVyUGFnZSwgXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VzOiB0aGlzLnN0YXRlLnBhZ2VzfSksIFxuICAgICAgTWVzc2VuZ2VyKG51bGwpXG4gICAgKVxuICAgICk7XG4gIH0sXG5cbiAgcGFnaW5hdGU6IGZ1bmN0aW9uKG5ld1Byb3NwZWN0cywgbmV3UGFnZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvc3BlY3RzOiBuZXdQcm9zcGVjdHMsXG4gICAgICBjdXJyZW50UGFnZTogbmV3UGFnZSxcbiAgICAgIGtleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IDBcbiAgICB9KVxuICAgIHRoaXMuc3RhcnRLZXlib2FyZFNob3J0Y3V0cygpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3AgPSAwXG4gIH0sXG5cbiAgZG93bmxvYWRGaWxlOiBmdW5jdGlvbigpIHtcbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgIH1cblxuICAgIC8vIEdldCBMaXN0IENvdW50XG4gICAgbGlzdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICdfX3R5cGUnICAgOiAgJ1BvaW50ZXInLFxuICAgICAgJ2NsYXNzTmFtZSc6ICAnUHJvc3BlY3RMaXN0JyxcbiAgICAgICdvYmplY3RJZCcgOiAgdGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhsaXN0KVxuICAgIC8vIEFkZCBTdXBwb3J0IEZvciBNb3JlIHRoYW4gMTAwMFxuICAgIC8vIG51bV9vZl9yZXF1ZXN0c1xuICAgIGxvY2FsU3RvcmFnZS5kb3dubG9hZF90b3RhbCA9IE1hdGguY2VpbCh0aGlzLnN0YXRlLmNvdW50LzEwMDApXG4gICAgbG9jYWxTdG9yYWdlLmRvd25sb2FkcyAgICAgID0gMFxuXG4gICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCA9PSBcIkFsbFwiKVxuICAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MSdcbiAgICBlbHNlXG4gICAgICBxcnkgPSAnd2hlcmU9e1wibGlzdHNcIjonK2xpc3QrJ30mY291bnQ9MSdcblxuICAgIGZvcihpPTA7aTwgTWF0aC5jZWlsKHRoaXMuc3RhdGUuY291bnQvMTAwMCk7IGkrKyl7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0P2xpbWl0PTEwMDAmc2tpcD0nK2ksXG4gICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICAgIGRvd25sb2FkRmlsZTogJ2Rvd25sb2FkXycraSxcbiAgICAgICAgZGF0YTogcXJ5LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIC8vIENsZWFuIFJlc3VsdHNcbiAgICAgICAgICAvLyBSZW1vdmUgQ2VydGFpbiBQYXJzZSBDb2x1bW5zIC0gY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCwgb2JqZWN0SWRcbiAgICAgICAgICAvLyBSZW5hbWUgY3JlYXRlZEF0IGFzIGRhdGUgcHJvc3BlY3RlZFxuICAgICAgICAgIGZvcihpPTA7aTwgcmVzLnJlc3VsdHMubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLmNvbXBhbnlcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS5wb3NcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS51c2VyXG4gICAgICAgICAgICBkZWxldGUgcmVzLnJlc3VsdHNbaV0ub2JqZWN0SWRcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS5jcmVhdGVkQXRcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS51cGRhdGVkQXRcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBZGQgUmVzdWx0cyBUbyBMb2NhbFN0b3JhZ2VcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UuZG93bmxvYWRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZG93bmxvYWRzKSArIDEgXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5kb3dubG9hZEZpbGUsIEpTT04uc3RyaW5naWZ5KHJlcy5yZXN1bHRzKSlcblxuICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBhbGwgYWpheCByZXFzIGluIGZvciBsb29wIGFyZSBjb21wbGV0ZVxuICAgICAgICAgIGlmKGxvY2FsU3RvcmFnZS5kb3dubG9hZHMgPT0gbG9jYWxTdG9yYWdlLmRvd25sb2FkX3RvdGFsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWF0Y2hlZCcpXG4gICAgICAgICAgICAvLyBNZXJnZSBhbGwgbG9jYWxTdG9yYWdlIHJlc3VsdHNcbiAgICAgICAgICAgIHByb3NwZWN0cyA9IFtdXG4gICAgICAgICAgICBmb3IoaWk9MDtpaSA8IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmRvd25sb2FkX3RvdGFsKTsgaWkrKyl7XG4gICAgICAgICAgICAgIHByb3NwZWN0cyA9IHByb3NwZWN0cy5jb25jYXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZG93bmxvYWRfJytpaSkpKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9zcGVjdHMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3NwZWN0cylcbiAgICAgICAgICAgIC8vIE91dHB1dCBhcyBDU1ZcbiAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW1BhcGEudW5wYXJzZShwcm9zcGVjdHMpXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGJsb2IpXG4gICAgICAgICAgICBzYXZlQXMoYmxvYiwgXCJwcm9zcGVjdHMuY3N2XCIpO1xuICAgICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuICAgIFxuXG4gIH0sXG5cbiAgcmVtb3ZlU2VsZWN0ZWRQcm9zcGVjdHM6IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIExpc3QgVHlwZSBpcyBBbGwgQXJjaGl2ZSB0aGUgcHJvc3BlY3RcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG5cbiAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgIGJhdGNoRGF0YSA9IFtdXG5cbiAgICBmb3IoaT0wO2k8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpKyspe1xuICAgICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCAhPSAnQWxsJyl7XG4gICAgICAgIHRtcCA9IHtcbiAgICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy9Qcm9zcGVjdC8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGxpc3RzOiB7XG4gICAgICAgICAgICAgICdfX29wJyAgICA6ICdSZW1vdmUnLFxuICAgICAgICAgICAgICBcIm9iamVjdHNcIiA6IFt7IFxuICAgICAgICAgICAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J1Byb3NwZWN0TGlzdCcsXG4gICAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOnRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZFxuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHRtcCA9IHtcbiAgICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy9Qcm9zcGVjdC8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGFyY2hpdmVkOmZhbHNlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmF0Y2hEYXRhLnB1c2godG1wKVxuICAgIH1cblxuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9iYXRjaCcsXG4gICAgICB0eXBlOidQT1NUJyxcbiAgICAgIGhlYWRlcnM6cGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe3JlcXVlc3RzOiBiYXRjaERhdGF9KSxcbiAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgbGlzdHMgPSB0aGlzcy5zdGF0ZS5saXN0c1xuXG4gICAgICAgIGZvcihpPTA7aTwgbGlzdHMubGVuZ3RoOyBpKyspIHsgXG4gICAgICAgICAgLy8gU3VidHJhY3QgRnJvbSBPbGQgTGlzdCAtIE5vdCBXb3JraW5nIEZvciBBcmNoaXZlXG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgICAgIGxpc3RzW2ldLmNvdW50ID0gcGFyc2VJbnQobGlzdHNbaV0uY291bnQpIC0gcGFyc2VJbnQoc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBsaXN0IGNvdW50XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgbGlzdCB1aVxuICAgICAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlIHNlbGVjdGVkIHByb3NwZWN0cycpXG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkUHJvc3BlY3RzKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzcy5zdGF0ZS5wcm9zcGVjdHMpXG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXNzLnN0YXRlLnByb3NwZWN0cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKykgXG4gICAgICAgICAgICBpZihpdGVtLm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2ldKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZmlsdGVyZWQpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtwcm9zcGVjdHM6IGZpbHRlcmVkfSlcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5zdHJpbmdpZnkoW10pXG5cbiAgICAgICAgLy8gYWRkIGFsZXJ0IHRvIGluZm9ybSB1c2VyXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgbW92ZVNlbGVjdGVkUHJvc3BlY3RzOiBmdW5jdGlvbihsaXN0T2JqZWN0SWQpIHtcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIHNlbGVjdGVkIG9iamVjdElkIGZyb20gc2VsZWN0ZWRQcm9zcGVjdHMgc3RhdGVcbiAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgIGJhdGNoRGF0YSA9IFtdXG5cblxuICAgIC8vIEJhdGNoIFVwZGF0ZSBQYXJzZVxuICAgIC8vIC0gUmVtb3ZlIEFsbCBTZWxlY3RlZCBQcm9zcGVjdHMgRnJvbSBDdXJyZW50IExpc3RcbiAgICBmb3IoaT0wO2k8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpKyspe1xuICAgICAgdG1wID0ge1xuICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvUHJvc3BlY3QvJytzZWxlY3RlZFByb3NwZWN0c1tpXSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGxpc3RzOiB7XG4gICAgICAgICAgICAnX19vcCcgICAgOiAnUmVtb3ZlJyxcbiAgICAgICAgICAgIFwib2JqZWN0c1wiIDogW3sgXG4gICAgICAgICAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOidQcm9zcGVjdExpc3QnLFxuICAgICAgICAgICAgICAgICdvYmplY3RJZCc6dGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmF0Y2hEYXRhLnB1c2godG1wKVxuICAgIH1cbiAgICBcbiAgICAvLyAtIEFkZCBPdGhlciBMaXN0IFxuICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKyl7XG4gICAgICB0bXAgPSB7XG4gICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy9Qcm9zcGVjdC8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgbGlzdHM6IHtcbiAgICAgICAgICAgICdfX29wJyAgICA6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgXCJvYmplY3RzXCIgOiBbeyBcbiAgICAgICAgICAgICAgICAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J1Byb3NwZWN0TGlzdCcsXG4gICAgICAgICAgICAgICAgJ29iamVjdElkJzpsaXN0T2JqZWN0SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXRjaERhdGEucHVzaCh0bXApXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2JhdGNoJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczpwYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cmVxdWVzdHM6IGJhdGNoRGF0YX0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICBsaXN0cyA9IHRoaXNzLnN0YXRlLmxpc3RzXG5cbiAgICAgICAgZm9yKGk9MDtpPCBsaXN0cy5sZW5ndGg7IGkrKykgeyBcbiAgICAgICAgICAvLyBBZGQgVG8gTmV3IExpc3RcbiAgICAgICAgICBpZihsaXN0c1tpXS5vYmplY3RJZCA9PSBsaXN0T2JqZWN0SWQpXG4gICAgICAgICAgICBsaXN0c1tpXS5jb3VudCA9IHBhcnNlSW50KGxpc3RzW2ldLmNvdW50KSArIHBhcnNlSW50KHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aClcbiAgICAgICAgICAvLyBTdWJ0cmFjdCBGcm9tIE9sZCBMaXN0XG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgICAgIGxpc3RzW2ldLmNvdW50ID0gcGFyc2VJbnQobGlzdHNbaV0uY291bnQpIC0gcGFyc2VJbnQoc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBsaXN0IGNvdW50XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgbGlzdCB1aVxuICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRQcm9zcGVjdHMnKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzcy5zdGF0ZS5wcm9zcGVjdHMpXG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXNzLnN0YXRlLnByb3NwZWN0cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGlzX3NlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKykgXG4gICAgICAgICAgICBpZihpdGVtLm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2ldKVxuICAgICAgICAgICAgICBpc19zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuIGlzX3NlbGVjdGVkXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWx0ZXJlZClcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogZmlsdGVyZWR9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShbXSlcblxuICAgICAgICAvLyBhZGQgYWxlcnQgdG8gaW5mb3JtIHVzZXJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjb3B5U2VsZWN0ZWRQcm9zcGVjdHM6IGZ1bmN0aW9uKGxpc3RPYmplY3RJZCkge1xuICAgIGNvbnNvbGUubG9nKGxpc3RPYmplY3RJZClcbiAgICBcbiAgICAvLyBtYWtlIGJhdGNoIGFqYXggcmVxdWVzdCB0byBwYXJzZVxuICAgIHBhcnNlSGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cblxuICAgIC8vIEFkZCBMb2FkaW5nIFNpZ24gVG8gTGlzdFxuXG4gICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cylcbiAgICBiYXRjaERhdGEgPSBbXVxuICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKyl7XG4gICAgICB0bXAgPSB7XG4gICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgcGF0aDonLzEvY2xhc3Nlcy9Qcm9zcGVjdC8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgbGlzdHM6IHtcbiAgICAgICAgICAgICdfX29wJyAgICA6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgXCJvYmplY3RzXCIgOiBbeyBcbiAgICAgICAgICAgICAgICAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J1Byb3NwZWN0TGlzdCcsXG4gICAgICAgICAgICAgICAgJ29iamVjdElkJzpsaXN0T2JqZWN0SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXRjaERhdGEucHVzaCh0bXApXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2JhdGNoJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczpwYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cmVxdWVzdHM6IGJhdGNoRGF0YX0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAvLyBVcGRhdGUgV2l0aCB0aGUgbnVtYmVyIG9mIHN1Y2Nlc3Nlc1xuICAgICAgICAvLyBVcGRhdGUgbG9jYWwgbGlzdCBjb3VudFxuICAgICAgICBsaXN0cyA9IHRoaXNzLnN0YXRlLmxpc3RzXG4gICAgICAgIGZvcihpPTA7aTwgbGlzdHMubGVuZ3RoOyBpKyspIHsgXG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gbGlzdE9iamVjdElkKVxuICAgICAgICAgICAgbGlzdHNbaV0uY291bnQgPSBwYXJzZUludChsaXN0c1tpXS5jb3VudCkgKyBwYXJzZUludChyZXMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBcIltdXCJcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3NlbGVjdGVkUHJvc3BlY3RzIDogW10gfSlcbiAgICAgICAgXG4gICAgICAgIC8vIGFkZCBhbGVydCB0byBpbmZvcm0gdXNlclxuICAgICAgICAvLyBVbnNlbGVjdCBhbGwgc2VsZWN0ZWRcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICB9LFxuXG4gIGhpZGVBbGVydDogZnVuY3Rpb24oKSB7XG4gICAgJCgnLmFsZXJ0JykuaGlkZSgpXG4gIH0sXG5cbiAgYWRqdXN0SGVpZ2h0OiBmdW5jdGlvbih3aGljaE9uZSkge1xuICAgIHByb3NwZWN0V2luZG93VG9wID0gJCgnI3Byb3NwZWN0RGV0YWlsQnV0dG9ucycpLnBvc2l0aW9uKCkudG9wXG4gICAgcHJvc3BlY3RXaW5kb3dUb3AgPSBwcm9zcGVjdFdpbmRvd1RvcCArICQoJyNwcm9zcGVjdERldGFpbEJ1dHRvbnMnKS5oZWlnaHQoKVxuICAgIHByb3NwZWN0V2luZG93Qm90dG9tID0gJCgnI2F1dG9zY3JvbGwnKS5wb3NpdGlvbigpLnRvcCArICQoJyNhdXRvc2Nyb2xsJykuaGVpZ2h0KClcblxuICAgIGlmKHdoaWNoT25lID09ICdqJylcbiAgICAgIGFjdGl2ZVByb3NwZWN0ID0gdGhpcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0ICsxIFxuICAgIGVsc2VcbiAgICAgIGFjdGl2ZVByb3NwZWN0ID0gdGhpcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0IC0xIFxuXG4gICAgYWN0aXZlVG9wID0gJCgkKCcucHJvc3BlY3RzLXRyJylbYWN0aXZlUHJvc3BlY3RdKS5wb3NpdGlvbigpLnRvcFxuICAgIHNlbGVjdGVkSGVpZ2h0ID0gJCgkKCcucHJvc3BlY3RzLXRyJylbYWN0aXZlUHJvc3BlY3RdKS5oZWlnaHQoKVxuICAgIGFjdGl2ZUJvdHRvbSA9ICQoJCgnLnByb3NwZWN0cy10cicpW2FjdGl2ZVByb3NwZWN0XSkucG9zaXRpb24oKS50b3Arc2VsZWN0ZWRIZWlnaHRcblxuICAgIGNvbnNvbGUubG9nKHByb3NwZWN0V2luZG93VG9wLCBwcm9zcGVjdFdpbmRvd0JvdHRvbSlcbiAgICBjb25zb2xlLmxvZyhhY3RpdmVUb3AsIGFjdGl2ZUJvdHRvbSlcblxuICAgIHNjcm9sbFRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvc2Nyb2xsJykuc2Nyb2xsVG9wXG4gICAgaWYoYWN0aXZlQm90dG9tID4gcHJvc3BlY3RXaW5kb3dCb3R0b20pXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b3Njcm9sbCcpLnNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIGFjdGl2ZUJvdHRvbSAtIHByb3NwZWN0V2luZG93Qm90dG9tXG5cbiAgICBpZihhY3RpdmVUb3AgPCAwKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgKyBhY3RpdmVUb3AgLSAzN1xuICAgIGVsc2UgaWYoYWN0aXZlVG9wID09ICQoJCgnLnByb3NwZWN0cy10cicpWzBdKS5wb3NpdGlvbigpLnRvcClcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvc2Nyb2xsJykuc2Nyb2xsVG9wID0gMFxuICAgICAgXG4gICAgLy8gR2V0IFBvc3Rpb24gb2YgVG9wXG4gICAgLy8gR2V0IFBvc2l0aW9uIG9mIEJvdHRvbSBcbiAgICAvLyBHZXQgUG9zaXRpb24gb2YgQ3VycmVudCBTZWxlY3RlZFxuICAgIC8vIEFkanVzdCBieSBzY3JvbGxpbmcgZG93biBvciB1cFxuICB9LFxuXG4gIHN0YXJ0S2V5Ym9hcmRTaG9ydGN1dHM6IGZ1bmN0aW9uKCkge1xuICAgIC8qIEtleWJvYXJkIFNob3J0Y3V0cyAqL1xuICAgIE1vdXNldHJhcC5yZXNldCgpXG4gICAgLy9Nb3VzZXRyYXAudW5iaW5kKFsnaicsJ2snLCdvJ10pXG4gICAgdGhpc3MgPSB0aGlzO1xuXG4gICAgLyogUHJvc3BlY3QgVGFibGUgU2hvcnRjdXRzICovXG4gICAgTW91c2V0cmFwLmJpbmQoJ2onLCBmdW5jdGlvbigpIHsgXG4gICAgICBrZXlib2FyZCA9IHRoaXNzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3RcbiAgICAgIGlmKGtleWJvYXJkICE9IHRoaXNzLnN0YXRlLnByb3NwZWN0c1BlclBhZ2UrMSlcbiAgICAgICAgdGhpc3MuYWRqdXN0SGVpZ2h0KCdqJylcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2tleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IGtleWJvYXJkKzF9KVxuICAgIH0pO1xuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2snLCBmdW5jdGlvbigpIHsgXG4gICAgICBrZXlib2FyZCA9IHRoaXNzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3RcbiAgICAgIGlmKGtleWJvYXJkICE9IDEpXG4gICAgICAgIHRoaXNzLmFkanVzdEhlaWdodCgnaycpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtrZXlib2FyZEFjdGl2ZVByb3NwZWN0OiBrZXlib2FyZC0xfSlcbiAgICB9KTtcblxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ28nLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnb3BlbiBjdXJyZW50IHByb3NwZWN0JylcbiAgICAgIGNvbnNvbGUubG9nKCQoJCgnLmtleVNlbGVjdCcpLmZpbmQoJ2EubGlua2VkaW5fbGluaycpWzBdKS5hdHRyKCdocmVmJykpXG4gICAgICBsaW5rID0gJCgkKCcua2V5U2VsZWN0JykuZmluZCgnYS5saW5rZWRpbl9saW5rJylbMF0pLmF0dHIoJ2hyZWYnKVxuICAgICAgLypcbiAgICAgIHdpbmRvdy5vcGVuKGxpbmssICdfYmxhbmsnKVxuICAgICAgY29uc29sZS5sb2coJ25ldycpXG4gICAgICAqL1xuICAgICAgLy9wb3B1cFdpbmRvdy5ibHVyKCk7XG4gICAgICAvL3dpbmRvdy5mb2N1cygpO1xuICAgICAgLy8ga2V5Ym9hcmQgPSB0aGlzcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0XG4gICAgICBcbiAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICBhLmhyZWYgPSBsaW5rXG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgIC8vdGhlIHRlbnRoIHBhcmFtZXRlciBvZiBpbml0TW91c2VFdmVudCBzZXRzIGN0cmwga2V5XG4gICAgICAvLyBGb3IgTWFjIFRoaXMgV29ya3MgQ2hlY2sgRm9yIC0gV2luZG93c1xuICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUsIDAsIG51bGwpO1xuICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfSk7XG5cblxuXG4gICAgLyogTGlzdCBNb2RpZmljYXRpb24gU2hvcnRjdXRzICovXG4gICAgTW91c2V0cmFwLmJpbmQoJ3RhYityJywgZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAkKCcjcmVuYW1lTGlzdEJ0bicpLmNsaWNrKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ3RhYitkJywgZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAkKCcjZGVsZXRlTGlzdE1vZGFsJykuY2xpY2soKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgndGFiK3MnLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgIC8vJCgnI2Rvd25sb2FkUHJvc3BlY3RzJykuY2xpY2soKVxuICAgICAgdGhpc3MuZG93bmxvYWRGaWxlKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ3NoaWZ0K2wnLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgIC8vJCgnI2Rvd25sb2FkUHJvc3BlY3RzJykuY2xpY2soKVxuICAgICAgLy90aGlzcy5kb3dubG9hZEZpbGUoKVxuICAgICAgJCgnLm5ldy1saXN0LWJ0bicpLmNsaWNrKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2UnLCBmdW5jdGlvbigpe1xuICAgICAgY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAvLyQoJyNkb3dubG9hZFByb3NwZWN0cycpLmNsaWNrKClcbiAgICAgIHRoaXNzLnJlbW92ZVNlbGVjdGVkUHJvc3BlY3RzKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2MnLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnY29weScpXG4gICAgICAkKCcjY29weVRvTGlzdCcpLmNsaWNrKClcbiAgICB9KTtcblxuICAgIE1vdXNldHJhcC5iaW5kKCdtJywgZnVuY3Rpb24oKSB7IFxuICAgICAgY29uc29sZS5sb2coJ2NvcHknKVxuICAgICAgJCgnI21vdmVUb0xpc3QnKS5jbGljaygpXG4gICAgfSk7XG5cbiAgICAvL01vdXNldHJhcC5iaW5kKCdlJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdlJyk7IH0pO1xuICAgIE1vdXNldHJhcC5iaW5kKCdyaWdodCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygncmlnaHQnKTsgfSk7XG4gICAgTW91c2V0cmFwLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2xlZnQnKTsgfSk7XG5cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgLyogT25Mb2FkIEZvciBUaGUgRmlyc3QgVGltZSBGdW5jdGlvbiAqL1xuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IEpTT04uc3RyaW5naWZ5KFtdKVxuICAgIHRoaXNzcyA9IHRoaXM7XG5cbiAgICAvL3RoaXMuc3RhcnRLZXlib2FyZFNob3J0Y3V0cygpXG5cbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInXG4gICAgfVxuXG4gICAgY3VpZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZFxuICAgIHVzZXIgPSBKU09OLnN0cmluZ2lmeSh7J19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzpjdWlkLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOiAnVXNlcid9KVxuICAgIGFyY2hpdmVMaXN0ID0gSlNPTi5zdHJpbmdpZnkoeyAvL2hhcmRDb2RlXG4gICAgICAnb2JqZWN0SWQnOidTZXJQUWpja3ZlJywgLy8gRGlmZmVyZW50ZSBGb3IgV2FjaCBVc2VyXG4gICAgICAnX190eXBlJzonUG9pbnRlcicsIFxuICAgICAgJ2NsYXNzTmFtZScgOiAnUHJvc3BlY3RMaXN0JyBcbiAgICB9KVxuXG4gICAgcXJ5ID0ge1xuICAgICAgd2hlcmU6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY29tcGFueTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnksXG4gICAgICAgIGFyY2hpdmVkOiB0cnVlLFxuICAgICAgfSksXG4gICAgICBjb3VudDogMSxcbiAgICAgIG9yZGVyOiAnLWNyZWF0ZWRBdCcsXG4gICAgICBsaW1pdDogdGhpcy5zdGF0ZS5wcm9zcGVjdFBlclBhZ2UsXG4gICAgICBpbmNsdWRlOiAnZW1haWxfZ3Vlc3NlcyxlbWFpbF9ndWVzc2VzLnBhdHRlcm4nXG4gICAgfVxuXG4gICAgLy9xcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwiYXJjaGl2ZWRcIjp0cnVlfSZjb3VudD0xJm9yZGVyPS1jcmVhdGVkQXQmaW5jdWRlPWVtYWlsX2d1ZXNzZXMnXG5cbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ICE9ICdBbGwnKXtcbiAgICAgIGN1cnJlbnRMaXN0ID0ge1xuICAgICAgICAnb2JqZWN0SWQnOnRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZCwgXG4gICAgICAgICdfX3R5cGUnOidQb2ludGVyJywgXG4gICAgICAgICdjbGFzc05hbWUnIDogJ1Byb3NwZWN0TGlzdCcgXG4gICAgICB9XG4gICAgICBjdXJyZW50TGlzdCA9IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMaXN0KVxuICAgICAgdXNlciA9IEpTT04uc3RyaW5naWZ5KHsnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6J3hUaEFYYzBMWlQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonVXNlcid9KVxuXG4gICAgICAvLyBhZGQgY29tcGFueSB0byBwcm9zcGVjdHMgYWRkZWQgdGhyb3VnaCBtaW5pbmcgam9iXG4gICAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwibGlzdHNcIjonK2N1cnJlbnRMaXN0Kyd9JmNvdW50PTEnXG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3QnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5wYXJzZUhlYWRlcnMsXG4gICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtjb3VudDogcmVzLmNvdW50fSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHt0b3RhbENvdW50OiByZXMuY291bnR9KVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe3BhZ2VzOiBNYXRoLmNlaWwocmVzLmNvdW50L3RoaXNzcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlKX0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHBhcnNlX2hlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgfVxuXG4gICAgY3VycmVudFVzZXIgPSB7IFxuICAgICAgJ19fdHlwZScgICA6ICdQb2ludGVyJyxcbiAgICAgICdjbGFzc05hbWUnOiAnX1VzZXInLFxuICAgICAgJ29iamVjdElkJyA6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZFxuICAgIH1cblxuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QnLFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcInVzZXJcIjonK0pTT04uc3RyaW5naWZ5KGN1cnJlbnRVc2VyKStcIn0mY291bnQ9MSZvcmRlcj0tY3JlYXRlZEF0XCIsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICByZXN1bHRzID0gcmVzLnJlc3VsdHNcbiAgICAgICAgZm9yKGk9MDtpPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0cy5jb3VudCA9ICd+J1xuICAgICAgICB9XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogcmVzdWx0c30pXG4gICAgICAgIC8vIE1ha2UgYmF0Y2ggcmVxdWVzdCB0byBnZXQgbGlzdCBjb3VudHMgYWZ0ZXIgdGhleSBhcmUgbG9hZGVkXG4gICAgICAgIGZvcihpPTA7aSA8IHJlcy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocmVzLnJlc3VsdHNbaV0ub2JqZWN0SWQsIFwiXCIpXG4gICAgICAgIH1cblxuICAgICAgICBmb3IoaT0wO2k8IHJlcy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdCA9IHtcbiAgICAgICAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLFxuICAgICAgICAgICAgJ29iamVjdElkJyAgOiByZXMucmVzdWx0c1tpXS5vYmplY3RJZCxcbiAgICAgICAgICAgICdjbGFzc05hbWUnIDogJ1Byb3NwZWN0TGlzdCcsIFxuICAgICAgICAgIH1cblxuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3QnLFxuICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6cGFyc2VfaGVhZGVycyxcbiAgICAgICAgICAgIGxpc3RPYmplY3RJZDogcmVzLnJlc3VsdHNbaV0ub2JqZWN0SWQsXG4gICAgICAgICAgICBkYXRhOiAnd2hlcmU9e1wibGlzdHNcIjonK0pTT04uc3RyaW5naWZ5KGxpc3QpKyd9JmNvdW50PTEnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5saXN0T2JqZWN0SWQpXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubGlzdE9iamVjdElkLCByZXMuY291bnQpXG4gICAgICAgICAgICAgIGFtb3VudCA9IDBcbiAgICAgICAgICAgICAgZm9yKGlpPTA7aWk8IHJlc3VsdHMubGVuZ3RoO2lpKyspe1xuICAgICAgICAgICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHJlc3VsdHNbaWldLm9iamVjdElkKSA9PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgYW1vdW50ID0gYW1vdW50ICsgMVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYoYW1vdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IoaWk9MDtpaTwgcmVzdWx0cy5sZW5ndGg7aWkrKylcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHNbaWldLmNvdW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocmVzdWx0c1tpaV0ub2JqZWN0SWQpXG5cbiAgICAgICAgICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7bGlzdHM6IHJlc3VsdHN9KVxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0dvdCBDb3VudHMnKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gdXBkYXRlZCByZXMuY291bnRcbiAgICAgICAgICAgICAgLy90aGlzcy5zZXRTdGF0ZSh7Y291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGdlbmVyYXRlX2lkIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gIH0sXG59KTtcblxuLyogIERyb3Bkb3duIE1lbnVzICovXG5cbnZhciBDdXJyZW50TGlzdHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdDdXJyZW50TGlzdHMnLFxuICBsaXN0QWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgbGlzdE5hbWUgPSAkKGUudGFyZ2V0KS50ZXh0KClcbiAgICBcbiAgICB2YXIgbGlzdFNlbGVjdCA9IF8uZmlsdGVyKHRoaXMucHJvcHMubGlzdHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICByZXR1cm4gaXRlbS5uYW1lID09IGxpc3ROYW1lXG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3BzLmxpc3RBY3Rpb24obGlzdFNlbGVjdFswXS5vYmplY3RJZClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxpc3RzID0gW10gXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLmxpc3RzLmxlbmd0aDtpKyspIHtcbiAgICAgIGxpc3RzLnB1c2goXG4gICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBSZWFjdC5ET00uYSh7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxmb250U2l6ZTonMTBweCd9LCBocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMubGlzdEFjdGlvbn0sIHRoaXMucHJvcHMubGlzdHNbaV0ubmFtZSkpXG4gICAgICApXG4gICAgfVxuICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcy5jb3B5RHJvcGRvd25TdHlsZSlcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwiZHJvcGRvd24tbWVudSBkcm9wLXRlc3RcIiwgaWQ6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgc3R5bGU6IHtyaWdodDoxNTh9fSwgXG4gICAgICAgIGxpc3RzXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBMaXN0c01lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdMaXN0c01lbnUnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJkcm9wZG93bi1tZW51IGRyb3AtdGVzdFwiLCBpZDogXCJkcm9wZG93blwiLCBcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbWluV2lkdGg6J2luaGVyaXQnLFxuICAgICAgICAgICAgdG9wOiAnMjBweCcsXG4gICAgICAgICAgICB3aWR0aDogJzEyNXB4JyxcbiAgICAgICAgICAgIHJpZ2h0OiAnMTU0cHgnLFxuICAgICAgICAgICAgbGVmdDonYXV0bydcbiAgICAgICAgICB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBSZWFjdC5ET00uYSh7aHJlZjogXCIjYm9va3NcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdGltZXNcIn0pLCBcIiDCoFwiICsgJyAnICtcbiAgICAgICAgICBcIkRlbGV0ZSBMaXN0XCJcbiAgICAgICAgKSksIFxuICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI3BvZGNhc3RzXCJ9LCBcbiAgICAgICAgICBcIlJlbmFtZSBMaXN0c1wiXG4gICAgICAgICkpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBDdXJyZW50TGlzdHNUd28gPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdDdXJyZW50TGlzdHNUd28nLFxuICBsaXN0QWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgbGlzdE5hbWUgPSAkKGUudGFyZ2V0KS50ZXh0KClcbiAgICBcbiAgICB2YXIgbGlzdFNlbGVjdCA9IF8uZmlsdGVyKHRoaXMucHJvcHMubGlzdHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICByZXR1cm4gaXRlbS5uYW1lID09IGxpc3ROYW1lXG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3BzLmxpc3RBY3Rpb24obGlzdFNlbGVjdFswXS5vYmplY3RJZClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxpc3RzID0gW10gXG4gICAgZm9yKGk9MDtpPHRoaXMucHJvcHMubGlzdHMubGVuZ3RoO2krKykge1xuICAgICAgbGlzdHMucHVzaChcbiAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFJlYWN0LkRPTS5hKHtzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLGZvbnRTaXplOicxMHB4J30sIFxuICAgICAgICAgICAgICAgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubGlzdEFjdGlvbn0sIFxuICAgICAgICAgIHRoaXMucHJvcHMubGlzdHNbaV0ubmFtZSkpXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJkcm9wZG93bi1tZW51IGRyb3AtdGVzdFwiLCBpZDogXCJkcm9wZG93blwiLCBcbiAgICAgICAgICBzdHlsZTogdGhpcy5wcm9wcy5jb3B5RHJvcGRvd25TdHlsZX0sIFxuICAgICAgICBsaXN0c1xuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgTGlzdERldGFpbEJ1dHRvbnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdMaXN0RGV0YWlsQnV0dG9ucycsXG4gIC8vIFJlbmFtZSBMaXN0XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkaXRNb2RlOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuY3VycmVudExpc3RPYmplY3RJZClcbiAgICBpZighdGhpcy5zdGF0ZS5lZGl0TW9kZSkge1xuICAgICAgc3R1ZmYgPSBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHRcIiwgc3R5bGU6IGxpc3RUeXBlfSwgXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5jdXJyZW50TGlzdE5hbWUgPT0gXCJBbGxcIikgPyAnJyA6IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYWxpZ24tanVzdGlmeVwiLCBzdHlsZToge21hcmdpblJpZ2h0Oic1cHgnfX0pLCBcbiAgICAgICAgICAgICh0aGlzLnByb3BzLmN1cnJlbnRMaXN0TmFtZSA9PSBcIkFsbFwiKSA/ICcnIDogXCIgICBcIiArdGhpcy5wcm9wcy5jdXJyZW50TGlzdE5hbWVcbiAgICAgICAgICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHVmZiA9IFJlYWN0LkRPTS5pbnB1dCh7Y2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwiLCBzdHlsZToge3dpZHRoOiAxMDAsIGZsb2F0OiAnbGVmdCcsIGhlaWdodDogMjQsIG1hcmdpblRvcDogLTF9fSlcbiAgICB9XG4gICAgcmV0dXJuIChcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDQoe3N0eWxlOiB7bWFyZ2luOjB9fSwgXG4gICAgICAgICAgICAgIHN0dWZmLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IGxpc3RCdG4sIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgXG4gICAgICAgICAgICAgICAgaWQ6IFwicmVuYW1lTGlzdEJ0blwiLCBcbiAgICAgICAgICAgICAgICAnZGF0YS10YXJnZXQnOiBcIi5icy1yZW5hbWVMaXN0LW1vZGFsLXNtXCIsIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4tZ3JhZGllbnQgYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wZW5jaWxcIn0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICBzdHlsZTogbGlzdEJ0biwgXG4gICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCBcbiAgICAgICAgICAgICAgICBpZDogXCJkZWxldGVMaXN0TW9kYWxcIiwgXG4gICAgICAgICAgICAgICAgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtZGVsZXRlTGlzdC1tb2RhbC1zbVwiLCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuLWdyYWRpZW50IGJ0biBidG4teHMgYnRuLXByaW1hcnlcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZW5hbWVMaXN0TW9kYWwoe3JlbmFtZUxpc3Q6IHRoaXMucHJvcHMucmVuYW1lTGlzdH0pLCBcbiAgICAgICAgICAgIERlbGV0ZUxpc3RNb2RhbCh7ZGVsZXRlTGlzdDogdGhpcy5wcm9wcy5kZWxldGVMaXN0fSlcbiAgICAgICAgICApXG4gICAgICApO1xuICB9LFxuXG4gIHJlbmFtZUxpc3Q6IGZ1bmN0aW9uKG5ld0xpc3ROYW1lKSB7XG4gICAgdGhpcy5wcm9wcy5yZW5hbWVMaXN0KG5ld0xpc3ROYW1lKVxuICB9LFxuXG4gIGRlbGV0ZUxpc3Q6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVMaXN0KClcbiAgfSxcblxuICB0b2dnbGVFZGl0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUgfSlcbiAgfVxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBjcmVhdGVMaXN0TW9kYWxcbiAgY3JlYXRlTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJCgnI2xpc3RUaXRsZScpLnZhbCgpKVxuXG4gICAgZGF0YSA9ICB7XG4gICAgICAnbmFtZScgICAgICAgIDogJCgnI2xpc3RUaXRsZScpLnZhbCgpLnRyaW0oKSwgICAvL1dhaXRpbmcgLCBSdW5uaW5nXG4gICAgICAndXNlcicgICAgICAgIDogeyAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J19Vc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOid4V0VTaXc1U21kJyB9LFxuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RMaXN0JyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGEuY291bnQgPSAwXG5cbiAgICB0aGlzLnByb3BzLmNyZWF0ZUxpc3QoZGF0YSlcbiAgICBcbiAgICAkKCcjY3JlYXRlTGlzdE1vZGFsJykubW9kYWwoJ2hpZGUnKVxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpO1xuICAgIC8vJCgnYnV0dG9uLmNsb3NlJykuY2xpY2soKVxuICB9LFxuXG4gIHJlbmFtZUxpc3Q6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAvL2NvbnNvbGUubG9nKCQoJyNuZXdMaXN0TmFtZScpLnZhbCgpKVxuICAgIG5ld0xpc3ROYW1lID0gJCgnI25ld0xpc3ROYW1lJykudmFsKClcbiAgICBpZihuZXdMaXN0TmFtZS50cmltKCkgIT0gXCJcIilcbiAgICAgIHRoaXMucHJvcHMucmVuYW1lTGlzdChuZXdMaXN0TmFtZSlcbiAgICAvLyBEaXNhYmxlIE1vZGFsXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLXJlbmFtZUxpc3QtbW9kYWwtc21cIiwgdGFiSW5kZXg6IFwiLTFcIiwgcm9sZTogXCJkaWFsb2dcIiwgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcImNyZWF0ZUxpc3RNb2RhbFwiLCBzdHlsZToge3RvcDonMjAwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjbG9zZVwiLCAnZGF0YS1kaXNtaXNzJzogXCJtb2RhbFwifSwgUmVhY3QuRE9NLnNwYW4oeydhcmlhLWhpZGRlbic6IFwidHJ1ZVwifSwgXCLDl1wiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwic3Itb25seVwifSwgXCJDbG9zZVwiKSksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1saXN0XCJ9KSwgXCIgwqBSZW5hbWUgTGlzdFwiKVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5mb3JtKHtvblN1Ym1pdDogdGhpcy5yZW5hbWVMaXN0fSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7aWQ6IFwibmV3TGlzdE5hbWVcIiwgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIkVudGVyIGxpc3QgdGl0bGUuLi5cIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwifSksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnJlbmFtZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsIHdpZHRoOicxMDAlJ319LCBcbiAgICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBMaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFwiU2NoZWR1bHNcIlxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRQcm9zcGVjdDogMCxcbiAgICB9XG4gIH0sXG4gIC8vU2VuZEVtYWlsTW9kYWxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuY3VycmVudFRlbXBsYXRlKVxuICAgIHByb3NwZWN0ID0gdGhpcy5wcm9wcy5wcm9zcGVjdHNbdGhpcy5zdGF0ZS5jdXJyZW50UHJvc3BlY3RdXG4gICAgcHJvc3BlY3QgPSAocHJvc3BlY3QpID8gcHJvc3BlY3QgOiB7J25hbWUnOicnLCdlbWFpbCc6Jyd9XG4gICAgLy9jb25zb2xlLmxvZyhwcm9zcGVjdClcbiAgICBwcm9zcGVjdHMgPSBbXVxuICAgIGZvcihpPTA7IGk8IHRoaXMucHJvcHMucHJvc3BlY3RzLmxlbmd0aDsgaSsrKXtcbiAgICAgIHByb3NwZWN0cy5wdXNoKFVzZXJQbGFjZUhvbGRlcih7cHJvc3BlY3Q6IHRoaXMucHJvcHMucHJvc3BlY3RzW2ldfSkpXG4gICAgfVxuICAgIGVtYWlsID0gKHByb3NwZWN0LmVtYWlsKSA/IHByb3NwZWN0LmVtYWlsLnRvTG93ZXJDYXNlKCkgOiBcIlwiXG4gICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwgZmFkZSBicy1zZW5kRW1haWwtbW9kYWwtbGdcIiwgdGFiSW5kZXg6IFwiLTFcIiwgcm9sZTogXCJkaWFsb2dcIiwgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcInNlbmRFbWFpbE1vZGFsXCIsIHN0eWxlOiB7dG9wOicxMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtbGdcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2xvc2VcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFJlYWN0LkRPTS5zcGFuKHsnYXJpYS1oaWRkZW4nOiBcInRydWVcIn0sIFwiw5dcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInNyLW9ubHlcIn0sIFwiQ2xvc2VcIikpLCBcbiAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnfSwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4tc21cIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGFwZXItcGxhbmVcIn0pLCBcIsKgXCIgKyAnICcgK1xuICAgICAgICAgICAgICAgIFwiU2VuZCBFbWFpbFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6MTAsIGZsb2F0OidyaWdodCd9LCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiLCAnZGF0YS1kaXNtaXNzJzogXCJtb2RhbFwifSwgXCJDbG9zZVwiKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe2NsYXNzTmFtZTogXCJtb2RhbC10aXRsZVwiLCBpZDogXCJteU1vZGFsTGFiZWxcIn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWVudmVsb3BlXCJ9KSwgXCIgwqBTZW5kIEVtYWlsXCIgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICBcIsKgwqBcIiwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zbWFsbChudWxsLCBcIihcIit0aGlzLnByb3BzLnByb3NwZWN0cy5sZW5ndGgrXCIpXCIpXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIiwgc3R5bGU6IHtwYWRkaW5nVG9wOjV9fSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQobnVsbCwgXCJQZW9wbGVcIiksIFxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicHJvc3BlY3QtY29udGFpbmVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3RzXG4gICAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcIkVtYWlscyDCoMKgwqBcIiwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zbWFsbChudWxsLCAodGhpcy5zdGF0ZS5jdXJyZW50UHJvc3BlY3QrMSkrJyBvZiAnK3RoaXMucHJvcHMucHJvc3BlY3RzLmxlbmd0aCkpLCBcbiAgICAgICAgICAgICAgICAgIFwiwqDCoMKgXCIsIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuc3RhdGUuY3VycmVudFByb3NwZWN0ID09IDAgKSA/IFwiYnRuIGRpc2FibGVkXCIgOiBcImJ0blwiLCBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c1Byb3NwZWN0fSwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1hcnJvdy1sZWZ0XCJ9KSksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLnN0YXRlLmN1cnJlbnRQcm9zcGVjdCA9PSAxMzUgKSA/IFwiYnRuIGRpc2FibGVkXCIgOiBcImJ0blwiLCBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5uZXh0UHJvc3BlY3R9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWFycm93LXJpZ2h0XCJ9KSksIFxuXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuXG5SZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJsaXN0LWdyb3VwIGVtYWlsLWhvbGRlclwiLCBzdHlsZToge2JvcmRlclRvcDonc29saWQgMXB4ICNlZWUnfX0sIFxuICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJsaXN0LWdyb3VwLWl0ZW1cIn0sIFxuICAgIFJlYWN0LkRPTS5oNSh7c3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLG1hcmdpblRvcDowLG1hcmdpbkJvdHRvbTowfX0sIFwiVG86wqDCoFwiKSwgXG4gICAgcHJvc3BlY3QubmFtZSArIFwiIC0gXCIgKyBlbWFpbFxuICApLCBcbiAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwibGlzdC1ncm91cC1pdGVtXCJ9LCBcbiAgICBSZWFjdC5ET00uaDUoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxtYXJnaW5Ub3A6MCxtYXJnaW5Cb3R0b206MH19LCBcIlN1YmplY3Q6wqDCoFwiKSwgXCIgXCIsIHRoaXMucHJvcHMuY3VycmVudFRlbXBsYXRlLnN1YmplY3RcbiAgKSwgXG4gIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbSBib2R5XCJ9KVxuKVxuICBcbiAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICksIFxuXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtZm9vdGVyXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRlZmF1bHRcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFwiQ2xvc2VcIiksIFxuICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5XCJ9LCBcIlNlbmQgRW1haWxcIilcbiAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIHByZXZpb3VzUHJvc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRQcm9zcGVjdDogdGhpcy5zdGF0ZS5jdXJyZW50UHJvc3BlY3QtMSB9KVxuICB9LFxuXG4gIG5leHRQcm9zcGVjdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudFByb3NwZWN0OiB0aGlzLnN0YXRlLmN1cnJlbnRQcm9zcGVjdCsxIH0pXG4gIH0sXG5cbiAgcGFyc2VUZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGVCb2R5KSB7XG4gICAgZmlyc3RfbmFtZSA9IHByb3NwZWN0Lm5hbWUuc3BsaXQoJyAnKVswXVxuICAgIC8vaGlyaW5nX3NpZ25hbCA9IHByb3NwZWN0LnNpZ25hbHNcblxuICAgIHNpZ25hbHMgPSAocHJvc3BlY3Quc2lnbmFscykgPyBwcm9zcGVjdC5zaWduYWxzWzBdIDogXCJcIlxuICAgIHRlbXBsYXRlQm9keSA9IE11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZUJvZHksIHtcbiAgICAgIGhpcmluZ19zaWduYWw6IHNpZ25hbHMsXG4gICAgICBmaXJzdF9uYW1lOiBwcm9zcGVjdC5uYW1lLnNwbGl0KCcgJylbMF1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2codGVtcGxhdGVCb2R5KVxuICAgICAgXG4gICAgcmV0dXJuIHRlbXBsYXRlQm9keVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmN1cnJlbnRUZW1wbGF0ZSlcbiAgICBwYXJzZWRUZW1wbGF0ZSA9IHRoaXMucGFyc2VUZW1wbGF0ZSh0aGlzLnByb3BzLmN1cnJlbnRUZW1wbGF0ZS5ib2R5KVxuICAgIFxuICAgIC8vJCgnLmJvZHknKS5odG1sKHRoaXMucHJvcHMuY3VycmVudFRlbXBsYXRlLmJvZHkpXG4gICAgJCgnLmJvZHknKS5odG1sKHBhcnNlZFRlbXBsYXRlKVxuICB9XG59KTtcblxudmFyIFVzZXJQbGFjZUhvbGRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1VzZXJQbGFjZUhvbGRlcicsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwiLCBzdHlsZToge21hcmdpblJpZ2h0OjUsbWFyZ2luQm90dG9tOjV9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJcIn0pLCBcIsKgwqBcIiwgXG4gICAgICAgICAgICAgICh0aGlzLnByb3BzLnByb3NwZWN0KSA/IHRoaXMucHJvcHMucHJvc3BlY3QubmFtZSA6IFwiXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRyYXNoLW9cIn0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTZW50IE1haWxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VudEVtYWlsczogW11cbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9TZW50RW1haWwnLFxuICAgICAgZGF0YTp7aW5jbHVkZTogJ2NhbXBhaWduLHByb3NwZWN0LHByb3NwZWN0LmVtYWlsX2d1ZXNzZXMucGF0dGVybid9LFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHsgdGhpc3Muc2V0U3RhdGUoe3NlbnRFbWFpbHM6IHJlcy5yZXN1bHRzfSkgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHt9XG4gICAgfSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHNlbnRFbWFpbHMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5zZW50RW1haWxzLmxlbmd0aDsgaSsrKSBcbiAgICAgIHNlbnRFbWFpbHMucHVzaChTZW50RW1haWxSb3coe3NlbnRFbWFpbDogdGhpcy5zdGF0ZS5zZW50RW1haWxzW2ldfSkpXG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtvdmVyZmxvdzonYXV0bycsaGVpZ2h0OjU1MH19LCBcbiAgICAgICAgUmVhY3QuRE9NLnRhYmxlKHtjbGFzc05hbWU6IFwidGFibGUgdGFibGUtc3RyaXBlZFwiLCBzdHlsZToge21hcmdpbkJvdHRvbTowfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS50aGVhZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJQcm9zcGVjdCBOYW1lXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIlByb3NwZWN0IEVtYWlsXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDoyOTB9fSwgXCJTdGF0dXNcIilcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICBzZW50RW1haWxzXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBTZW50RW1haWxSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdTZW50RW1haWxSb3cnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHNlbnRFbWFpbCA9IHRoaXMucHJvcHMuc2VudEVtYWlsXG4gICAgLy9jb25zb2xlLmxvZyhzZW50RW1haWwpXG5cbiAgICBlbWFpbCA9IHNlbnRFbWFpbC5lbWFpbFxuICAgIGlmKGVtYWlsID09IFwibm9fZW1haWxcIil7XG4gICAgICBmaXJzdCA9IHNlbnRFbWFpbC5wcm9zcGVjdC5uYW1lLnNwbGl0KCcgJylbMF1cbiAgICAgIGxhc3QgPSBfLmxhc3Qoc2VudEVtYWlsLnByb3NwZWN0Lm5hbWUuc3BsaXQoJyAnKSlcblxuICAgICAgcGF0dGVybiA9IF8uZmluZFdoZXJlKHNlbnRFbWFpbC5wcm9zcGVjdC5lbWFpbF9ndWVzc2VzLCB7J3RyaWVkJzpmYWxzZX0pXG4gICAgICBkYXRhID0ge2ZpcnN0OiBmaXJzdCwgbGFzdDogbGFzdCwgZmk6IGZpcnN0WzBdLCBsaTogbGFzdFswXX1cbiAgICAgIGVtYWlsID0gTXVzdGFjaGUucmVuZGVyKHBhdHRlcm4ucGF0dGVybi5wYXR0ZXJuLCBkYXRhKS50b0xvd2VyQ2FzZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFJlYWN0LkRPTS5oNihudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2xvY2tcIn0pLCBcbiAgICAgICAgICAgIG1vbWVudChzZW50RW1haWwuY3JlYXRlZEF0KS5mcm9tTm93KCkpKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7Zm9udFNpemU6MTQsZm9udFdlaWdodDonYm9sZCcsbWFyZ2luQm90dG9tOjB9fSwgc2VudEVtYWlsLnByb3NwZWN0Lm5hbWUpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOjQsbWFyZ2luQm90dG9tOjB9fSwgc2VudEVtYWlsLnByb3NwZWN0LnBvcy50cmltKCkpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOjR9fSwgc2VudEVtYWlsLnByb3NwZWN0LmNvbXBhbnlfbmFtZSlcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBSZWFjdC5ET00uaDYobnVsbCwgZW1haWwpKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHtwYWRkaW5nVG9wOjEzfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtZGVmYXVsdFwifSwgXCJRdWV1ZWRcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1jaXJjbGUtcmlnaHQgdGV4dC1tdXRlZFwiLCBcbiAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9fSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtc3VjY2Vzc1wifSwgXCJPcGVuZWRcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1jaXJjbGUtcmlnaHQgdGV4dC1tdXRlZFwiLCBcbiAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9fSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtZGVmYXVsdFwifSwgXCJEZWxpdmVyZWRcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1jaXJjbGUtcmlnaHQgdGV4dC1tdXRlZFwiLCBcbiAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmdMZWZ0OjUscGFkZGluZ1JpZ2h0OjV9fSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtZGVmYXVsdFwifSwgXCJSZXBsaWVkXCIpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudmFyIFNpZGVNZW51TGlzdE9wdGlvbiA9IHJlcXVpcmUoJy4vdXNlcl9zaWRlX21lbnVfbGlzdC5qcy5taW4uanMnKTtcbnZhciBjcmVhdGVMaXN0TW9kYWwgPSByZXF1aXJlKCcuL2NyZWF0ZV9saXN0X21vZGFsLmpzLm1pbi5qcycpXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vU2lkZU1lbnVQcm9zcGVjdHMgLSBTaWRlTGlzdFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKlxuICAgICAgY3JlYXRlTGlzdDogXG4gICAgICByZW5hbWVMaXN0OlxuICAgICAgZGVsZXRlTGlzdDpcbiAgICAgIGNoYW5nZUxpc3Q6XG4gICAgICBjdXJyZW50TGlzdDpcbiAgICAgIHRvdGFsQ291bnQ6XG4gICAgICBsaXN0czpcbiAgICAgICovXG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdGhpcy5wcm9wcy5jcmVhdGVMaXN0KGRhdGEpXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuXG4gIGNoYW5nZUxpc3Q6IGZ1bmN0aW9uKGUpIHtcbiAgICAvKlxuICAgIGN1cnJlbnRMaXN0ID0gJChlLnRhcmdldCkucGFyZW50KCkvLy5kYXRhKCdsaXN0JylcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50TGlzdClcbiAgICB0aGlzLnByb3BzLmNoYW5nZUxpc3QoY3VycmVudExpc3QubmFtZSwgY3VycmVudExpc3Qub2JqZWN0SWQpXG4gICAgKi9cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMucHJvcHMuY3VycmVudExpc3QgPT0gXCJBbGxcIilcbiAgICAgIHN0eWxlcyA9IHsnYmFja2dyb3VuZENvbG9yJzoncmdiKDAsIDEyMiwgMjU1KScsICdjb2xvcic6J3doaXRlJ30gXG4gICAgZWxzZVxuICAgICAgc3R5bGVzID0gIHt9XG5cbiAgICBsaXN0cyA9IFtTaWRlTWVudUxpc3RPcHRpb24oe2xpc3Q6IHtuYW1lOiAnQWxsJyxjb3VudDogdGhpcy5wcm9wcy50b3RhbENvdW50fSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVHlwZTogJ3VzZXJzJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VMaXN0OiB0aGlzLnByb3BzLmNoYW5nZUxpc3R9KSwgXG4gICAgICAgICAgICAgU2lkZU1lbnVMaXN0T3B0aW9uKHtsaXN0OiB7bmFtZTogJ0FyY2hpdmVkJywgY291bnQ6ICd+J30sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblR5cGU6ICdhcmNoaXZlJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VMaXN0OiB0aGlzLnByb3BzLmNoYW5nZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUNvdW50OiB0cnVlfSldXG5cbiAgICBmb3IoaT0wO2k8IHRoaXMucHJvcHMubGlzdHMubGVuZ3RoO2krKyl7XG4gICAgICBsaXN0ID0gdGhpcy5wcm9wcy5saXN0c1tpXVxuICAgICAgaWYobGlzdC5saXN0X3R5cGUgPT0gXCJzaWduYWxfbGlzdFwiKVxuICAgICAgICBpY29uVHlwZSA9IFwid2lmaVwiXG4gICAgICBlbHNlIGlmIChsaXN0Lmxpc3RfdHlwZSA9PSBcIm1pbmluZ19qb2JcIilcbiAgICAgICAgaWNvblR5cGUgPSBcImNsb3VkRG93bmxvYWRcIlxuICAgICAgaWYobGlzdC5saXN0X3R5cGUpXG4gICAgICAgIGxpc3RzLnB1c2goIFNpZGVNZW51TGlzdE9wdGlvbih7bGlzdDogbGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblR5cGU6IGljb25UeXBlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VMaXN0OiB0aGlzLnByb3BzLmNoYW5nZUxpc3R9KSlcbiAgICAgIGVsc2UgXG4gICAgICAgIGxpc3RzLnB1c2goIFNpZGVNZW51TGlzdE9wdGlvbih7bGlzdDogbGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTGlzdDogdGhpcy5wcm9wcy5jaGFuZ2VMaXN0fSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMlwiLCBcbiAgICAgICAgICAgc3R5bGU6IHtwYWRkaW5nOicwJyxoZWlnaHQ6JzQzOHB4JyxiYWNrZ3JvdW5kQ29sb3I6JyNlMGU5ZWUnLFxuICAgICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OicxcHggc29saWQgI2IwYjhiZicsdGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicHJvc3BlY3QtbGlzdC1oZWFkZXJcIn0sIFwiIExpc3RzIFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXAtdmVydGljYWxcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHt3aWR0aDonMTAwJScsIGhlaWdodDogJzMyMHB4Jywgb3ZlcmZsb3c6ICdhdXRvJ319LCBcbiAgICAgICAgICBsaXN0c1xuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IG5ldy1saXN0LWJ0blwiLCBcbiAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCIsIFxuICAgICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXMtY2lyY2xlXCJ9KSwgXCLCoMKgTmV3IExpc3RcIlxuICAgICAgICApLCBcbiAgICAgICAgY3JlYXRlTGlzdE1vZGFsKHtjcmVhdGVMaXN0OiB0aGlzLmNyZWF0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RDbGFzc05hbWU6IHRoaXMucHJvcHMubGlzdENsYXNzTmFtZX0pLCBcIiBcIiwgUmVhY3QuRE9NLmJyKG51bGwpXG4gICAgICApXG4gICAgKTtcbiAgfSxcbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIFNpZ25hbENhbGVuZGFyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcG9ydHMgOiBbXVxuICAgIH1cbiAgfSxcblxuICBnZXRTaWduYWxSZXBvcnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzc3MgPSB0aGlzO1xuICAgIFxuICAgIC8vY29uc29sZS5sb2coJ0NBTEVOREFSIFBST1BTJylcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGUpXG4gICAgcXJ5ID0gJ3doZXJlPScrSlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGU6e1xuICAgICAgX190eXBlOidQb2ludGVyJyxcbiAgICAgIGNsYXNzTmFtZTonUHJvc3BlY3RQcm9maWxlJyxcbiAgICAgIG9iamVjdElkOnRoaXMucHJvcHMuY3VycmVudFByb2ZpbGUub2JqZWN0SWRcbiAgICB9fSlcbiAgICAvLyBHZXQgU2lnbmFsIFJlcG9ydHMgT2YgQ3VycmVudCBQcm9maWxlXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvU2lnbmFsUmVwb3J0P29yZGVyPS1jcmVhdGVkQXQnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICB0aGlzc3NzLnNldFN0YXRlKHtyZXBvcnRzOiByZXMucmVzdWx0c30pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KClcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJlcG9ydHMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5yZXBvcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXBvcnRzLnB1c2goU2lnbmFsUmVwb3J0Um93KHtzZXRDdXJyZW50UmVwb3J0OiB0aGlzLnNldEN1cnJlbnRSZXBvcnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlldzogdGhpcy5zZXRDdXJyZW50VmlldywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydDogdGhpcy5zdGF0ZS5yZXBvcnRzW2ldfSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6MCx3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7aGVpZ2h0OjQ0LGJvcmRlckJvdHRvbTonc29saWQgMXB4IHJnYigyMjEsIDIyMSwgMjIxKSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtvbkNsaWNrOiB0aGlzLnJldHVyblRvQ2FsZW5kYXJWaWV3LCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtmb250V2VpZ2h0OjIwMCwgZmxvYXQ6J2xlZnQnLGN1cnNvcjoncG9pbnRlcicsbWFyZ2luVG9wOjcsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6MjAscGFkZGluZ1RvcDo1LCBkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FsZW5kYXJcIiwgc3R5bGU6IHttYXJnaW5SaWdodDo1fX0pLCBcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlLm5hbWVcbiAgICAgICAgICApXG4gICAgICAgICAgXG5cbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMTJcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDowLHBhZGRpbmdSaWdodDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDozNTYsb3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7b3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRhYmxlKHtjbGFzc05hbWU6IFwidGFibGUgdGFibGUtc3RyaXBlZFwiLCBzdHlsZToge21hcmdpbkJvdHRvbTowfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGhlYWQobnVsbCwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwpLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG9jay1vXCJ9KVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkNvbXBhbnkgU2lnbmFsc1wiKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiUHJvc3BlY3QgU2lnbmFsc1wiKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOjE1MCx0ZXh0QWxpZ246J2NlbnRlcid9fSlcbiAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50Ym9keSh7Y2xhc3NOYW1lOiBcInJlcG9ydHNcIn0sIFxuICAgICAgICAgICAgICAgIHJlcG9ydHNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG5cbiAgc2V0Q3VycmVudFJlcG9ydDogZnVuY3Rpb24obmV3UmVwb3J0KSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50UmVwb3J0KG5ld1JlcG9ydClcbiAgfVxufSk7XG5cbnZhciBTaWduYWxSZXBvcnRSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdTaWduYWxSZXBvcnRSb3cnLFxuICByb3dDbGljazogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50UmVwb3J0KHRoaXMucHJvcHMucmVwb3J0KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgaWYoIXRoaXMucHJvcHMucmVwb3J0Lm1pbmluZ19qb2IpXG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13aWZpXCJ9KVxuICAgIGVsc2VcbiAgICAgIGljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCIsIHN0eWxlOiB7Y29sb3I6JyM1NTUnfX0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKHtvbkNsaWNrOiB0aGlzLnJvd0NsaWNrLCBzdHlsZToge2N1cnNvcjoncG9pbnRlcid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J3JpZ2h0JyxwYWRkaW5nVG9wOjE1fX0sIFxuICAgICAgICAgIGljb25cbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgbW9tZW50KHRoaXMucHJvcHMucmVwb3J0LmNyZWF0ZWRBdCkuZnJvbU5vdygpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtc3VjY2Vzc1wifSwgXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlcG9ydC5jb21wYW55X2NvdW50XG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICBcIsKgIENvbXBhbmllcyBmb3VuZC5cIlxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXN1Y2Nlc3NcIn0sIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXBvcnQucGVvcGxlX2NvdW50XG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICBcIsKgIFBlb3BsZSBmb3VuZC5cIlxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLG1hcmdpblRvcDo1fSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIn0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdCBBbGxcIlxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnbmFsRGV0YWlsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpZ25hbHM6IFtdXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzc3NzID0gdGhpcztcbiAgICBjdXJyZW50UHJvZmlsZVJlcG9ydCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgY2xhc3NOYW1lOiAnU2lnbmFsUmVwb3J0JyxcbiAgICAgIG9iamVjdElkOiB0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlUmVwb3J0Lm9iamVjdElkXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCdDVVJSRU5UIFBST0ZJTEUnKVxuICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9maWxlUmVwb3J0KVxuICAgIHFyeSA9ICd3aGVyZT17XCJzaWduYWxfcmVwb3J0XCI6JytjdXJyZW50UHJvZmlsZVJlcG9ydCsnfSZpbmNsdWRlPWNvbXBhbnlfc2lnbmFsLGNvbXBhbnlfc2lnbmFsLnNpZ25hbHMmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9QZW9wbGVTaWduYWw/JytxcnksXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczphcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTSUdOQUwgREVUQUlMJylcbiAgICAgICAgY29uc29sZS5sb2cocmVzLnJlc3VsdHMpXG4gICAgICAgIHRoaXNzc3Muc2V0U3RhdGUoe3NpZ25hbHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICByZXR1cm5Ub0NhbGVuZGFyVmlldzogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3JldHVybiB0byBjYWxlbmRhciB2aWV3JylcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHNpZ25hbHMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5zaWduYWxzLmxlbmd0aDsgaSsrKVxuICAgICAgc2lnbmFscy5wdXNoKFNpZ25hbFJvdyh7c2lnbmFsOiB0aGlzLnN0YXRlLnNpZ25hbHNbaV19KSlcblxuICAgIGN1cnJlbnRQcm9maWxlUmVwb3J0ID0gdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZVJlcG9ydFxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7aGVpZ2h0OjM1NixwYWRkaW5nTGVmdDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6MCx3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7aGVpZ2h0OjQ0LGJvcmRlckJvdHRvbTonc29saWQgMXB4IHJnYigyMjEsIDIyMSwgMjIxKSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtvbkNsaWNrOiB0aGlzLnJldHVyblRvQ2FsZW5kYXJWaWV3LCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDonbGVmdCcsY3Vyc29yOidwb2ludGVyJyxtYXJnaW5Ub3A6Nyxmb250V2VpZ2h0OjIwMCxcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDoyMCxwYWRkaW5nVG9wOjUsZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jYWxlbmRhclwiLCBzdHlsZToge21hcmdpblJpZ2h0OjV9fSksIFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGUubmFtZVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtmb250U2l6ZToxMyxwYWRkaW5nTGVmdDo1LHBhZGRpbmdUb3A6NSxkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLXJpZ2h0XCIsIHN0eWxlOiB7Zm9udFNpemU6OX19KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb2NrLW9cIn0pLCBcIiDCoFwiLCBcbiAgICAgICAgICAgIG1vbWVudChjdXJyZW50UHJvZmlsZVJlcG9ydC5jcmVhdGVkQXQpLmZyb21Ob3coKSwgXCIgwqBcIlxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgc3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxmbG9hdDoncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OjEwLG1hcmdpblRvcDoxMH0sIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCJ9LCBcbiAgICAgICAgICAgIFwiUHJvc3BlY3QgQWxsXCJcbiAgICAgICAgICApLCBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXBcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luVG9wOjEwLG1hcmdpblJpZ2h0OjEwfSwgXG4gICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcImJ1dHRvbnNcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tZGVmYXVsdCBhY3RpdmVcIiwgc3R5bGU6IHt3aWR0aDozMH19LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdXNlclwifSlcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxhYmVsKHtjbGFzc05hbWU6IFwiYnRuIGJ0bi14cyBidG4tZGVmYXVsdFwiLCBzdHlsZToge3dpZHRoOjMwfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIn0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1idWlsZGluZ1wifSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG5cbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMTJcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDowLHBhZGRpbmdSaWdodDowfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7b3ZlcmZsb3c6J2F1dG8nLGhlaWdodDozNTZ9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoZWFkKG51bGwsIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicsd2lkdGg6OTB9fSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb2NrLW9cIn0pXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJQZW9wbGVcIiksIFxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiQ29tcGFuaWVzXCIpLCBcblxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDo5MCx0ZXh0QWxpZ246J2NlbnRlcid9fVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRib2R5KHtjbGFzc05hbWU6IFwicmVwb3J0c1wifSwgXG4gICAgICAgICAgICAgICAgc2lnbmFsc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBTaWduYWxSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdTaWduYWxSb3cnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGNvbXBhbnkgPSAodGhpcy5wcm9wcy5zaWduYWwuY29tcGFueV9zaWduYWwpID8gdGhpcy5wcm9wcy5zaWduYWwuY29tcGFueV9zaWduYWwgOiB7fVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgbW9tZW50KHRoaXMucHJvcHMuc2lnbmFsLmNyZWF0ZWRBdCkuZnJvbU5vdygpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIHRoaXMucHJvcHMuc2lnbmFsLmxpbmtfdGV4dCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCB0aGlzLnByb3BzLnNpZ25hbC50aXRsZSlcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBjb21wYW55Lm5hbWUpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgdGhpcy5wcm9wcy5zaWduYWwudGl0bGUpXG4gICAgICAgICksIFxuXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7Zm9udFdlaWdodDonYm9sZCd9fSwgXG4gICAgICAgICAgICBcIlByb3NwZWN0XCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnbmFsUHJvZmlsZVxuICBzZXRDdXJyZW50VmlldzogZnVuY3Rpb24oZSkge1xuICAgIGlmKCF0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYilcbiAgICAgIHRoaXMucHJvcHMuc2V0Q3VycmVudFZpZXcoJ0NhbGVuZGFyJylcbiAgICBlbHNlXG4gICAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdNaW5pbmdKb2JDYWxlbmRhcicpXG4gICAgLy9lLnN0b3BQcm9wYWdhdGlvbigpXG4gIH0sXG5cbiAgY2FsZW5kYXJDbGljazpmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50UHJvZmlsZSh0aGlzLnByb3BzLnByb2ZpbGUpXG5cbiAgICBpZighdGhpcy5wcm9wcy5wcm9maWxlLm1pbmluZ19qb2IpXG4gICAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdDYWxlbmRhcicpXG4gICAgZWxzZVxuICAgICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50VmlldygnTWluaW5nSm9iQ2FsZW5kYXInKVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICB9LFxuXG4gIHNldEN1cnJlbnRQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRQcm9maWxlKHRoaXMucHJvcHMucHJvZmlsZSlcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdGZWVkJylcbiAgfSxcblxuICByZW1vdmVQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoY29uZmlybShcIlByZXNzIGEgYnV0dG9uIVwiKSA9PSB0cnVlKSB7XG4gICAgICB0aGlzLnByb3BzLnJlbW92ZVByb2ZpbGUodGhpcy5wcm9wcy5wcm9maWxlKVxuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gXCJZb3UgcHJlc3NlZCBDYW5jZWwhXCI7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLnByb2ZpbGUpXG4gICAgc2lnbmFsRGV0YWlscyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnByb2ZpbGUucHJvZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNpZ25hbERldGFpbHMucHVzaChQcm9maWxlVHlwZSh7cHJvZmlsZTogdGhpcy5wcm9wcy5wcm9maWxlLnByb2ZpbGVzW2ldfSkpXG4gICAgfVxuICAgIGlmKCF0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYikgXG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13aWZpXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6NX19KVxuICAgIGVsc2VcbiAgICAgIGljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6NX19KVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibGlzdC1ncm91cC1pdGVtIGlkZWFsLWNvbXBhbnktcHJvZmlsZVwiLCBcbiAgICAgICAgICAgb25DbGljazogdGhpcy5zZXRDdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgIHN0eWxlOiB7cGFkZGluZ1RvcDo1LGJvcmRlckxlZnQ6MCxwYWRkaW5nTGVmdDoxMCxcbiAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDonMXB4IHNvbGlkICNkZGQnfX0sIFxuICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtdGl0bGVcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHQgcHJvZmlsZS1uYW1lXCJ9LCBcbiAgICAgICAgICAgIGljb24sIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLm5hbWVcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnJlbW92ZVByb2ZpbGV9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2hcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J25vbmUnfSwgXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNvZ1wifSkpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNhbGVuZGFyQ2xpY2t9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FsZW5kYXJcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5sYXVuY2hNb2RhbCwgXG4gICAgICAgICAgICAgc3R5bGU6ICh0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYikgPyB7ZGlzcGxheTonbm9uZSd9OntkaXNwbGF5OidibG9jayd9LCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCJ9KSlcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtYm9keVwiLCBzdHlsZToge21hcmdpblRvcDo1fX0sIFxuICAgICAgICAgIHNpZ25hbERldGFpbHNcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG4gIGxhdW5jaE1vZGFsOiBmdW5jdGlvbihlKSB7XG4gICAgJCgnI2NyZWF0ZU1pbmluZ0pvYk1vZGFsJykubW9kYWwoKVxuICAgIGUuc3RvcFByb3BvZ2F0aW9uKClcbiAgfVxufSk7XG5cbnZhciBQcm9maWxlVHlwZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1Byb2ZpbGVUeXBlJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblxuICBpZih0aGlzLnByb3BzLnByb2ZpbGUpe1xuICAgIGlmKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgPT0gXCJIaXJpbmdQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXN1aXRjYXNlXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiSGlyaW5nXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLnJvbGVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgICAvL2NvbnNvbGUubG9nKCd3dGYnKVxuICAgICAgLy9jb25zb2xlLmxvZyhzaWduYWxWYWx1ZSlcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiRW1wbG95ZWVQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJzXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiQ29tcGFueSBTaXplXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLmVtcGxveWVlcywgZnVuY3Rpb24ocmVzdWx0LCByb2xlKSB7XG4gICAgICAgIHJldHVybiByb2xlICsgXCIsIFwiKyByZXN1bHRcbiAgICAgIH0sIFwiXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJGdW5kaW5nUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1pbnN0aXR1dGlvblwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkZ1bmRpbmdcIlxuICAgICAgc2lnbmFsVmFsdWUgPSBfLnJlZHVjZSh0aGlzLnByb3BzLnByb2ZpbGUucmV2ZW51ZXMsIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiUmV2ZW51ZVByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbW9uZXlcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJSZXZlbnVlXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLnJldmVudWVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIlRlY2hub2xvZ3lQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXdyZW5jaFwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIlRlY2hub2xvZ3lcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJMb2NhdGlvblByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbWFwLW1hcmtlclwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkxvY2FsZVwiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS5sb2NhbGUsIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiSW5kdXN0cnlQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiSW5kdXN0cmllc1wiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS5pbmR1c3RyaWVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIkNvbXBhbnlTaXplUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13cmVuY2hcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJUZWNobm9sb2d5XCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiUHJvc3BlY3RUaXRsZVByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdXNlclwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIlRpdGxlc1wiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS50aXRsZV9rZXl3b3JkcywgXG4gICAgIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lnbmFsSWNvbiA9IFwibm90IGZvdW5kXCJcbiAgICAgIHNpZ25hbE5hbWUgPSBcIk5vdCBmb3VuZFwiXG4gICAgICBzaWduYWxWYWx1ZT0gXCJOb3QgZm91bmRcIlxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAgIHNpZ25hbEljb24gPSBcIm5vdCBmb3VuZFwiXG4gICAgICBzaWduYWxOYW1lID0gXCJOb3QgZm91bmRcIlxuICAgICAgc2lnbmFsVmFsdWU9IFwiTm90IGZvdW5kXCJcblxuICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJpZGVhbC1wcm9maWxlXCJ9LCBcIiBcIiwgc2lnbmFsSWNvbiwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtc2lnbmFsLW5hbWVcIn0sIHNpZ25hbE5hbWUsIFwiIC0gXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJwcm9maWxlLXNpZ25hbC12YWx1ZVwifSwgXCIgXCIrc2lnbmFsVmFsdWUpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbi8qXG4gIEZ1bmRpbmcgUHJvZmlsZVxuICAtIEFtb3VudCBSYWlzZWQgLSBidG4gZ3JvdXBcbiAgLSBTdGFnZSAtIGJ0biBncm91cFxuXG4gIFBlb3BsZSBQcm9maWxlXG4gIC0gTG9jYWxlIC0gdGFncyB3LyB0eXBhaGVhZFxuICAtIFRpdGxlIC0gdGFncyB3LyB0eXBhaGVhZFxuXG4gIENvbXBhbnkgUHJvZmlsZVxuICAtIEluZHVzdHJpZXMgLSB0YWdzIHdpdGggdHlwYWhlYWRcbiAgLSBSZXZlbnVlIC0gYnRuIGdyb3VwXG4gIC0gIyBvZiBFbXBsb3llZXMgLSBidG4gZ3JvdXBcbiAgLSBMb2NhbGUgLSB0YWdzIHdpdGggdHlwYWhlYWRcbiovXG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG52YXIgU2lnbmFsUHJvZmlsZSA9IHJlcXVpcmUoJy4vc2lnbmFsX3Byb2ZpbGUuanMubWluLmpzJylcbnZhciBDb21wYW55U2lnbmFsQ2FyZCA9IHJlcXVpcmUoJy4vY29tcGFueV9zaWduYWxfY2FyZC5qcy5taW4uanMnKVxudmFyIFBlb3BsZVNpZ25hbENhcmQgPSByZXF1aXJlKCcuL3Blb3BsZV9zaWduYWxfY2FyZC5qcy5taW4uanMnKVxudmFyIFNpZ25hbENhbGVuZGFyID0gcmVxdWlyZSgnLi9zaWduYWxfY2FsZW5kYXIuanMubWluLmpzJylcbnZhciBNaW5pbmdKb2JDYWxlbmRhciA9IHJlcXVpcmUoJy4vbWluaW5nX2pvYl9jYWxlbmRhci5qcy5taW4uanMnKVxudmFyIFNpZ25hbHNEZXRhaWwgPSByZXF1aXJlKCcuL3NpZ25hbF9kZXRhaWwuanMubWluLmpzJylcblxudmFyIENyZWF0ZUhpcmluZ1NpZ25hbE1vZGFsID0gcmVxdWlyZSgnLi9jcmVhdGVfaGlyaW5nX3NpZ25hbF9tb2RhbC5qcy5taW4uanMnKVxudmFyIENyZWF0ZUZ1bmRpbmdTaWduYWxNb2RhbCA9IHJlcXVpcmUoJy4vY3JlYXRlX2Z1bmRpbmdfc2lnbmFsX21vZGFsLmpzLm1pbi5qcycpXG52YXIgQ3JlYXRlUHJvc3BlY3RQcm9maWxlTW9kYWwgPSByZXF1aXJlKCcuL2NyZWF0ZV9wcm9zcGVjdF9wcm9maWxlX21vZGFsLmpzLm1pbi5qcycpXG52YXIgQ3JlYXRlQ29tcGFueVByb2ZpbGVNb2RhbCA9IHJlcXVpcmUoJy4vY3JlYXRlX2NvbXBhbnlfcHJvZmlsZV9tb2RhbC5qcy5taW4uanMnKVxudmFyIENyZWF0ZU1pbmluZ0pvYk1vZGFsID0gcmVxdWlyZSgnLi9jcmVhdGVfbWluaW5nX2pvYl9tb2RhbC5qcy5taW4uanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaWduYWxUeXBlOiAnQ29tcGFueVNpZ25hbCcsXG4gICAgICBjdXJyZW50UHJvZmlsZToge25hbWU6J0FsbCd9LFxuICAgICAgY3VycmVudFByb2ZpbGVPYmplY3RJZDoge30sXG4gICAgICBjdXJyZW50UHJvZmlsZVJlcG9ydDoge30sXG4gICAgICBzaWduYWxzOiBbXSxcbiAgICAgIGN1cnJlbnRWaWV3OiAnRmVlZCcsXG4gICAgICBwcm9maWxlczogW10sXG4gICAgfVxuICB9LFxuXG4gIHNldEN1cnJlbnRSZXBvcnQ6IGZ1bmN0aW9uKG5ld1Byb2ZpbGVSZXBvcnQpIHtcbiAgICBjb25zb2xlLmxvZygnTkVXIFJFUE9SVCcpXG4gICAgY29uc29sZS5sb2cobmV3UHJvZmlsZVJlcG9ydClcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBcbiAgICAgIGN1cnJlbnRWaWV3OidEZXRhaWwnLFxuICAgICAgY3VycmVudFByb2ZpbGVSZXBvcnQ6IG5ld1Byb2ZpbGVSZXBvcnQgXG4gICAgfSlcbiAgfSxcblxuICBzZXRDdXJyZW50VmlldzogZnVuY3Rpb24obmV3U2lnbmFsVmlldykge1xuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRWaWV3OiBuZXdTaWduYWxWaWV3fSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT0gXCJGZWVkXCIpIHtcbiAgICAgIHNpZ25hbFZpZXcgPSBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICAgIFNpZ25hbERldGFpbEJ1dHRvbnMoe3NpZ25hbFR5cGU6IHRoaXMuc3RhdGUuc2lnbmFsVHlwZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb2ZpbGU6IHRoaXMuc3RhdGUuY3VycmVudFByb2ZpbGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNpZ25hbFR5cGU6IHRoaXMuc2V0U2lnbmFsVHlwZX0pLCBcbiAgICAgICAgICBTaWduYWxzRmVlZCh7XG4gICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlldzogdGhpcy5zZXRDdXJyZW50VmlldywgXG4gICAgICAgICAgICAgICAgICBzaWduYWxUeXBlOiB0aGlzLnN0YXRlLnNpZ25hbFR5cGUsIFxuICAgICAgICAgICAgICAgICAgcHJvZmlsZTogdGhpcy5zdGF0ZS5jdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICBzaWduYWxzOiB0aGlzLnN0YXRlLnNpZ25hbHN9KVxuICAgICAgICAgIClcbiAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PSBcIkNhbGVuZGFyXCIpe1xuICAgICAgc2lnbmFsVmlldyA9IFNpZ25hbENhbGVuZGFyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9maWxlOiB0aGlzLnN0YXRlLmN1cnJlbnRQcm9maWxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRSZXBvcnQ6IHRoaXMuc2V0Q3VycmVudFJlcG9ydCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlldzogdGhpcy5zZXRDdXJyZW50Vmlld30pXG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT0gXCJEZXRhaWxcIil7XG4gICAgICBzaWduYWxWaWV3ID0gU2lnbmFsc0RldGFpbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvZmlsZTogdGhpcy5zdGF0ZS5jdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvZmlsZVJlcG9ydDogdGhpcy5zdGF0ZS5jdXJyZW50UHJvZmlsZVJlcG9ydCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlldzogdGhpcy5zZXRDdXJyZW50Vmlld30pXG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT0gXCJNaW5pbmdKb2JDYWxlbmRhclwiKXtcbiAgICAgIHNpZ25hbFZpZXcgPSBNaW5pbmdKb2JDYWxlbmRhcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvZmlsZTogdGhpcy5zdGF0ZS5jdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UmVwb3J0OiB0aGlzLnNldEN1cnJlbnRSZXBvcnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFZpZXc6IHRoaXMuc2V0Q3VycmVudFZpZXd9KVxuICAgIH1cblxuICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7aGVpZ2h0OjQwMH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBzdHlsZToge3BhZGRpbmc6MCwgd2lkdGg6JzEwMCUnLCBoZWlnaHQ6JzEwMCUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMyBzaWduYWwtbGlzdFwiLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7IGhlaWdodDonMTAyLjglJywgcGFkZGluZzowfX0sIFxuICAgICAgICAgICAgU2lnbmFsc09wdGlvbnMoe3Byb2ZpbGVzOiB0aGlzLnN0YXRlLnByb2ZpbGVzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9maWxlOiB0aGlzLmFkZFByb2ZpbGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVByb2ZpbGU6IHRoaXMucmVtb3ZlUHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFZpZXc6IHRoaXMuc2V0Q3VycmVudFZpZXcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcm9maWxlOiB0aGlzLnNldEN1cnJlbnRQcm9maWxlfSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTlcIiwgc3R5bGU6IHtoZWlnaHQ6JzEwMCUnLHBhZGRpbmc6MH19LCBcbiAgICAgICAgICAgIHNpZ25hbFZpZXdcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBDcmVhdGVNaW5pbmdKb2JNb2RhbChudWxsKSwgXG4gICAgICAgIENyZWF0ZUhpcmluZ1NpZ25hbE1vZGFsKHthZGRQcm9maWxlOiB0aGlzLmFkZFByb2ZpbGV9KSwgXG4gICAgICAgIENyZWF0ZUZ1bmRpbmdTaWduYWxNb2RhbCh7YWRkUHJvZmlsZTogdGhpcy5hZGRQcm9maWxlfSksIFxuICAgICAgICBDcmVhdGVDb21wYW55UHJvZmlsZU1vZGFsKHthZGRQcm9maWxlOiB0aGlzLmFkZFByb2ZpbGV9KSwgXG4gICAgICAgIENyZWF0ZVByb3NwZWN0UHJvZmlsZU1vZGFsKHthZGRQcm9maWxlOiB0aGlzLmFkZFByb2ZpbGV9KVxuICAgICAgKVxuICAgIClcbiAgfSxcblxuICBhZGRQcm9maWxlOiBmdW5jdGlvbihuZXdQcm9maWxlKSB7XG4gICAgcHJvZmlsZXMgPSB0aGlzLnN0YXRlLnByb2ZpbGVzXG4gICAgdGhpcy5zZXRTdGF0ZSh7cHJvZmlsZXM6IFtuZXdQcm9maWxlXS5jb25jYXQocHJvZmlsZXMpfSlcbiAgfSxcblxuICByZW1vdmVQcm9maWxlOiBmdW5jdGlvbihvbGRQcm9maWxlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7cHJvZmlsZXM6IF8ucmVqZWN0KHRoaXMuc3RhdGUucHJvZmlsZXMsIGZ1bmN0aW9uKHByb2ZpbGUpIHtcbiAgICAgIHJldHVybiBfLmlzRXF1YWwob2xkUHJvZmlsZSwgcHJvZmlsZSlcbiAgICB9KX0pXG5cbiAgICBpZihvbGRQcm9maWxlLm9iamVjdElkKXtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFByb2ZpbGUvJytvbGRQcm9maWxlLm9iamVjdElkLFxuICAgICAgICBoZWFkZXJzOmFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgICB0eXBlOidERUxFVEUnLFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgc2V0Q3VycmVudFByb2ZpbGU6IGZ1bmN0aW9uKG5ld1Byb2ZpbGUpIHtcbiAgICBjb25zb2xlLmxvZyhuZXdQcm9maWxlKVxuXG4gICAgaWYobmV3UHJvZmlsZS5vbmx5X3Blb3BsZSkge1xuICAgICAgdGhpcy5nZXRTaWduYWxzKCdQZW9wbGVTaWduYWwnLCBcbiAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUHJvc3BlY3RQcm9maWxlJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0SWQ6IG5ld1Byb2ZpbGUub2JqZWN0SWR9KSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaWduYWxUeXBlOiAnUGVvcGxlU2lnbmFsJyxcbiAgICAgICAgY3VycmVudFByb2ZpbGU6IG5ld1Byb2ZpbGUgXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50UHJvZmlsZTogbmV3UHJvZmlsZSB9KVxuICAgIH1cblxuICAgIHRoaXMuZ2V0U2lnbmFscygnUGVvcGxlU2lnbmFsJywgbmV3UHJvZmlsZSlcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaWduYWxzKHRoaXMuc3RhdGUuc2lnbmFsVHlwZSlcblxuICAgIGN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpXG4gICAgdXNlciA9IHtcbiAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLFxuICAgICAgJ2NsYXNzTmFtZScgOiAnX1VzZXInLFxuICAgICAgJ29iamVjdElkJyAgOiBjdXJyZW50VXNlci5vYmplY3RJZFxuICAgIH1cbiAgICB1c2VyID0gSlNPTi5zdHJpbmdpZnkodXNlcilcbiAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoY3VycmVudFVzZXIuY29tcGFueSlcbiAgICBxcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwidXNlclwiOicrdXNlcisnfSZpbmNsdWRlPXByb2ZpbGVzLHByb3NwZWN0X2xpc3Qmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgXG4gICAgdGhpc3NzID0gdGhpc1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0UHJvZmlsZScsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgaGVhZGVyczphcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9zcGVjdCBQcm9maWxlJylcbiAgICAgICAgY29uc29sZS5sb2cocmVzLnJlc3VsdHMpXG4gICAgICAgIHRoaXNzcy5zZXRDdXJyZW50UHJvZmlsZShyZXMucmVzdWx0c1swXSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwcm9maWxlczogcmVzLnJlc3VsdHN9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHNldFNpZ25hbFR5cGU6IGZ1bmN0aW9uKGxhYmVsVGV4dCkge1xuICAgIGlmKGxhYmVsVGV4dCA9PSBcIlBlb3BsZVwiKVxuICAgICAgY3VycmVudFNpZ25hbCA9IFwiUGVvcGxlU2lnbmFsXCJcbiAgICBlbHNlIGlmKGxhYmVsVGV4dCA9PSBcIkNvbXBhbmllc1wiKVxuICAgICAgY3VycmVudFNpZ25hbCA9IFwiQ29tcGFueVNpZ25hbFwiXG4gICAgdGhpcy5nZXRTaWduYWxzKGN1cnJlbnRTaWduYWwpXG4gICAgdGhpcy5zZXRTdGF0ZSh7c2lnbmFsVHlwZTogY3VycmVudFNpZ25hbH0pXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICB9LFxuXG4gIGdldFNpZ25hbHM6IGZ1bmN0aW9uKHNpZ25hbFR5cGUsIGN1cnJlbnRQcm9maWxlKSB7XG4gICAgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcilcbiAgICB1c2VyID0ge1xuICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsXG4gICAgICAnY2xhc3NOYW1lJyA6ICdfVXNlcicsXG4gICAgICAnb2JqZWN0SWQnICA6IGN1cnJlbnRVc2VyLm9iamVjdElkXG4gICAgfVxuXG4gICAgdXNlciA9IEpTT04uc3RyaW5naWZ5KHVzZXIpXG4gICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRVc2VyLmNvbXBhbnkpXG4gICAgcHJvZmlsZXMgPSB0aGlzLnN0YXRlLmN1cnJlbnRQcm9maWxlLnByb2ZpbGVzXG5cbiAgICBpZihwcm9maWxlcyl7XG4gICAgICAvL3FyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJ1c2VyXCI6Jyt1c2VyKycsXCJwcm9maWxlXCI6JytjdXJyZW50UHJvZmlsZSsnfSdcbiAgICAgIHByb2ZpbGUgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIF9fdHlwZTonUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTonUHJvc3BlY3RQcm9maWxlJyxcbiAgICAgICAgb2JqZWN0SWQ6Y3VycmVudFByb2ZpbGUub2JqZWN0SWRcbiAgICAgIH0pXG4gICAgICBxcnkgPSAnd2hlcmU9e1wicHJvZmlsZVwiOicrcHJvZmlsZSsnfSdcbiAgICAgIC8vcXJ5ID0gcXJ5ICsgJyxcInByb2ZpbGVzXCI6e1wiJGFsbFwiOicrSlNPTi5zdHJpbmdpZnkocHJvZmlsZXMpKyd9fSdcbiAgICAgIGlmKHNpZ25hbFR5cGUgPT0gJ1Blb3BsZVNpZ25hbCcpXG4gICAgICAgIHFyeSA9IHFyeSArICcmaW5jbHVkZT1zaWduYWxzJ1xuICAgICAgZWxzZVxuICAgICAgICBxcnkgPSBxcnkgKyAnJmluY2x1ZGU9c2lnbmFscyxjb21wYW55J1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHFyeSA9IHsnaW5jbHVkZSc6WydzaWduYWxzJywnY29tcGFueSddfVxuICAgIH1cbiAgXG4gICAgdGhpc3MgPSB0aGlzXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvJytzaWduYWxUeXBlLFxuICAgICAgLy91cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0NvbXBhbnlTaWduYWwnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMucmVzdWx0cylcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3NpZ25hbHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUubG9nKGVycikgfVxuICAgIH0pO1xuICB9LFxufSk7XG5cbnZhciBTaWduYWxEZXRhaWxCdXR0b25zID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lnbmFsRGV0YWlsQnV0dG9ucycsXG4gIHNldFNpZ25hbFR5cGU6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnByb3BzLnNldFNpZ25hbFR5cGUoJChlLnRhcmdldCkudGV4dCgpLnRyaW0oKSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHBwbCA9ICh0aGlzLnByb3BzLnNpZ25hbFR5cGUgPT0gXCJQZW9wbGVTaWduYWxcIikgPyBcImNob29zZSBidG4gYnRuLXByaW1hcnkgYXBwLWFjdGl2ZVwiIDogXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICBjbXAgPSAodGhpcy5wcm9wcy5zaWduYWxUeXBlID09IFwiQ29tcGFueVNpZ25hbFwiKSA/IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBhcHAtYWN0aXZlXCIgOiBcImNob29zZSBidG4gYnRuLXByaW1hcnlcIlxuXG4gICAgY21wID0gKHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGUub25seV9wZW9wbGUpICA/IGNtcCArIFwiIGRpc2FibGVkXCIgOiBjbXBcblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJzaWduYWxEZXRhaWxCdXR0b25zXCIsIHN0eWxlOiB7aGVpZ2h0OjQ0fX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNCh7c3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLGZsb2F0OidsZWZ0Jyx3aWR0aDozMDAsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDoyMDAsbWFyZ2luVG9wOjQscGFkZGluZ0xlZnQ6MjB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLW5ld3NwYXBlci1vXCJ9KSwgXCLCoFwiLCAgXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZS5uYW1lICE9IFwiXCIpID8gdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZS5uYW1lIDogJ0FsbCdcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwXCIsIHN0eWxlOiB7bWFyZ2luTGVmdDonMCUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2NsYXNzTmFtZTogcHBsLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7cGFkZGluZzoyfSwgXG4gICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNldFNpZ25hbFR5cGV9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJcIn0pLCBcIsKgUGVvcGxlXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2NsYXNzTmFtZTogY21wLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7cGFkZGluZzoyfSwgXG4gICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNldFNpZ25hbFR5cGV9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KSwgXCLCoENvbXBhbmllc1wiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBTaWduYWxzT3B0aW9ucyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1NpZ25hbHNPcHRpb25zJyxcbiAgYWRkUHJvZmlsZTogZnVuY3Rpb24obmV3UHJvZmlsZSkge1xuICAgIHRoaXMucHJvcHMuYWRkUHJvZmlsZShuZXdQcm9maWxlKVxuICB9LFxuXG4gIHNldEN1cnJlbnRQcm9maWxlOiBmdW5jdGlvbihjdXJyZW50UHJvZmlsZSkge1xuICAgIC8vIFNldCBDdXJyZW50IFByb2ZpbGVcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRQcm9maWxlKGN1cnJlbnRQcm9maWxlKVxuICAgIC8vIFVwZGF0ZSBSZXF1ZXN0IFRvIE5ldyBQcm9maWxlXG4gIH0sXG5cbiAgcmVtb3ZlUHJvZmlsZTogZnVuY3Rpb24ob2xkUHJvZmlsZSkge1xuICAgIHRoaXMucHJvcHMucmVtb3ZlUHJvZmlsZShvbGRQcm9maWxlKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgfSxcblxuICBzZXRDdXJyZW50VmlldzogZnVuY3Rpb24obmV3Vmlldykge1xuICAgIGNvbnNvbGUubG9nKG5ld1ZpZXcpXG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50VmlldyhuZXdWaWV3KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcHJvZnMgPSBbXVxuICAgIGZvcihpPTA7IGk8IHRoaXMucHJvcHMucHJvZmlsZXMubGVuZ3RoO2krKykge1xuICAgICAgcHJvZnMucHVzaChTaWduYWxQcm9maWxlKHtzZXRDdXJyZW50UHJvZmlsZTogdGhpcy5zZXRDdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRWaWV3OiB0aGlzLnNldEN1cnJlbnRWaWV3LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvZmlsZTogdGhpcy5yZW1vdmVQcm9maWxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTogdGhpcy5wcm9wcy5wcm9maWxlc1tpXX0pKVxuICAgIH1cblxuICAgIHByb2ZpbGVzX251bSA9ICh0aGlzLnByb3BzLnByb2ZpbGVzLmxlbmd0aCkgPyB0aGlzLnByb3BzLnByb2ZpbGVzLmxlbmd0aCA6IFwiflwiXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibGlzdC1ncm91cFwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbVwiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7Ym9yZGVyVG9wOjAsYm9yZGVyTGVmdDowLGhlaWdodDo0NCxwYWRkaW5nUmlnaHQ6NSxwYWRkaW5nTGVmdDoxMCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOicjZTBlNmVhJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOidsaW5lYXItZ3JhZGllbnQoI2Y1ZjdmOCwjZTBlNmVhKTsnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge21hcmdpbjowLHRleHRBbGlnbjonY2VudGVyJyxmb250V2VpZ2h0OjIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OidsZWZ0JyxtYXJnaW5Ub3A6Mn19LCBcIlByb2ZpbGVzIChcIiwgcHJvZmlsZXNfbnVtLCBcIilcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5IGNyZWF0ZS1wcm9maWxlLWRyb3Bkb3duXCIsIFxuICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5sYXVuY2hEcm9wZG93biwgXG4gICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6J2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSknfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXCLCoCBDcmVhdGUgUHJvZmlsZVwiXG4gICAgICAgICAgKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJkcm9wZG93bi1tZW51XCIsIFxuICAgICAgICAgICAgICBzdHlsZToge21hcmdpbkxlZnQ6MTc1LG1hcmdpblRvcDotMTB9LCBcbiAgICAgICAgICAgICAgcm9sZTogXCJtZW51XCIsICdhcmlhLWxhYmVsbGVkYnknOiBcImRyb3Bkb3duTWVudTFcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtyb2xlOiBcInByZXNlbnRhdGlvblwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtyb2xlOiBcIm1lbnVpdGVtXCIsIHRhYmluZGV4OiBcIi0xXCIsIFxuICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmxhdW5jaE1vZGFsLCBcbiAgICAgICAgICAgICAgICAgc3R5bGU6IHtwYWRkaW5nTGVmdDo1fSwgaHJlZjogXCIjXCJ9LCBcbiAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpbjoyfX0sIFxuICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc3VpdGNhc2VcIiwgc3R5bGU6IHt3aWR0aDoxMH19KSwgXG4gICAgICAgICAgICAgICAgICBcIsKgwqBDcmVhdGUgSGlyaW5nIFNpZ25hbFwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7cm9sZTogXCJwcmVzZW50YXRpb25cIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe3JvbGU6IFwibWVudWl0ZW1cIiwgdGFiaW5kZXg6IFwiLTFcIiwgXG4gICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubGF1bmNoTW9kYWwsIFxuICAgICAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmdMZWZ0OjV9LCBocmVmOiBcIiNcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46Mn19LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWluc3RpdHV0aW9uXCIsIHN0eWxlOiB7d2lkdGg6MTB9fSksIFxuICAgICAgICAgICAgICAgICAgXCLCoMKgQ3JlYXRlIEZ1bmRpbmcgU2lnbmFsXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtyb2xlOiBcInByZXNlbnRhdGlvblwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtyb2xlOiBcIm1lbnVpdGVtXCIsIHRhYmluZGV4OiBcIi0xXCIsIFxuICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmxhdW5jaE1vZGFsLCBcbiAgICAgICAgICAgICAgICAgc3R5bGU6IHtwYWRkaW5nTGVmdDo1LHBhZGRpbmdSaWdodDoyfSwgaHJlZjogXCIjXCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luOjJ9fSwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2VyXCIsIHN0eWxlOiB7d2lkdGg6MTB9fSksIFxuICAgICAgICAgICAgICAgICAgXCLCoMKgQ3JlYXRlIFByb3NwZWN0IFByb2ZpbGVcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkoe3JvbGU6IFwicHJlc2VudGF0aW9uXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtyb2xlOiBcIm1lbnVpdGVtXCIsIHRhYmluZGV4OiBcIi0xXCIsIFxuICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmxhdW5jaE1vZGFsLCBcbiAgICAgICAgICAgICAgICAgc3R5bGU6IHtwYWRkaW5nTGVmdDo1LHBhZGRpbmdSaWdodDoyfSwgaHJlZjogXCIjXCJ9LCBcbiAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpbjoyfX0sIFxuICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYnVpbGRpbmdcIiwgc3R5bGU6IHt3aWR0aDoxMH19KSwgXG4gICAgICAgICAgICAgICAgICAgXCLCoMKgQ3JlYXRlIENvbXBhbnkgUHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcInByb2ZpbGVzLW1lbnVcIiwgc3R5bGU6IHtoZWlnaHQ6MzU2LCBvdmVyZmxvdzonYXV0bycsbWFyZ2luVG9wOjF9fSwgXG4gICAgICAgICAgcHJvZnNcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgICApO1xuICB9LFxuXG4gIGxhdW5jaE1vZGFsOiBmdW5jdGlvbihlKSB7XG4gICAgY29uc29sZS5sb2coJChlLnRhcmdldCkudGV4dCgpLnRyaW0oKSlcbiAgICBpZigkKGUudGFyZ2V0KS50ZXh0KCkudHJpbSgpID09ICdDcmVhdGUgSGlyaW5nIFNpZ25hbCcpXG4gICAgICAkKCcjY3JlYXRlSGlyaW5nU2lnbmFsTW9kYWwnKS5tb2RhbCgpXG4gICAgZWxzZSBpZigkKGUudGFyZ2V0KS50ZXh0KCkudHJpbSgpID09ICdDcmVhdGUgRnVuZGluZyBTaWduYWwnKVxuICAgICAgJCgnI2NyZWF0ZUZ1bmRpbmdTaWduYWxNb2RhbCcpLm1vZGFsKClcbiAgICBlbHNlIGlmKCQoZS50YXJnZXQpLnRleHQoKS50cmltKCkgPT0gJ0NyZWF0ZSBQcm9zcGVjdCBQcm9maWxlJylcbiAgICAgICQoJyNjcmVhdGVQcm9zcGVjdFByb2ZpbGVNb2RhbCcpLm1vZGFsKClcbiAgICBlbHNlIGlmKCQoZS50YXJnZXQpLnRleHQoKS50cmltKCkgPT0gJ0NyZWF0ZSBDb21wYW55IFByb2ZpbGUnKVxuICAgICAgJCgnI2NyZWF0ZUNvbXBhbnlQcm9maWxlTW9kYWwnKS5tb2RhbCgpXG4gIH0sXG5cbiAgbGF1bmNoRHJvcGRvd246IGZ1bmN0aW9uKCkge1xuICAgICQoJy5jcmVhdGUtcHJvZmlsZS1kcm9wZG93bicpLmRyb3Bkb3duKClcbiAgfVxufSk7XG5cbnZhciBTaWduYWxzRmVlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1NpZ25hbHNGZWVkJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2lnbmFsczogW11cbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL3RoaXMuZ2V0U2lnbmFscygpXG5cbiAgICBzaWduYWxDYXJkcyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnNpZ25hbHMubGVuZ3RoO2krKykge1xuICAgICAgaWYodGhpcy5wcm9wcy5zaWduYWxUeXBlID09IFwiQ29tcGFueVNpZ25hbFwiKVxuICAgICAgICBzaWduYWxDYXJkcy5wdXNoKENvbXBhbnlTaWduYWxDYXJkKHtjb21wYW55OiB0aGlzLnByb3BzLnNpZ25hbHNbaV19KSlcbiAgICAgIGVsc2UgaWYodGhpcy5wcm9wcy5zaWduYWxUeXBlID09IFwiUGVvcGxlU2lnbmFsXCIpXG4gICAgICAgIHNpZ25hbENhcmRzLnB1c2goUGVvcGxlU2lnbmFsQ2FyZCh7cHJvZmlsZTogdGhpcy5wcm9wcy5wcm9maWxlLCBwZXJzb246IHRoaXMucHJvcHMuc2lnbmFsc1tpXX0pKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lciBzaWduYWwtY2FyZC1iYWNrZ3JvdW5kXCIsIHN0eWxlOiB7aGVpZ2h0OjM1Niwgb3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTggY29sLW1kLW9mZnNldC0yXCJ9LCBcbiAgICAgICAgICBzaWduYWxDYXJkc1xuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudGhlRGF0YSA9IHJlcXVpcmUoJy4uL2xpYi9kYXRhLm1pbi5qcycpIFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTaWduVXBcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5jc3Moe292ZXJmbG93OidoaWRkZW4nfSlcbiAgfSxcblxuICByZXRyaWV2ZVVzZXI6IGZ1bmN0aW9uKG9iamVjdElkKSB7XG4gICAgaGVhZGVycyA9IHtcbiAgICAgIFwiWC1QYXJzZS1BcHBsaWNhdGlvbi1JZFwiOiBcIk44NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkpcIixcbiAgICAgIFwiWC1QYXJzZS1SRVNULUFQSS1LZXlcIjogXCJWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiXCJcbiAgICB9XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvdXNlcnMvJytvYmplY3RJZCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VyJywgSlNPTi5zdHJpbmdpZnkocmVzKSlcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiI1wiXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2lnbnVwOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnc2lnbnVwJylcbiAgICBlbWFpbCA9ICQoJyNlbWFpbCcpLnZhbCgpXG4gICAgcGFzc3dvcmQgPSAkKCcjcGFzc3dvcmQnKS52YWwoKVxuICAgIHAgPSB7XG4gICAgICBcIlgtUGFyc2UtQXBwbGljYXRpb24tSWRcIiAgOiBcIk44NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkpcIixcbiAgICAgIFwiWC1QYXJzZS1SRVNULUFQSS1LZXlcIiAgICA6IFwiVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYlwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIiAgICAgICAgICAgIDogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG4gICAgdGhpc3MgPSB0aGlzO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Db21wYW55JyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogcCxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgJ25hbWUnOiAkKCcjY29tcGFueScpLnZhbCgpLFxuICAgICAgfSksXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvdXNlcnMnLFxuICAgICAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHAsXG4gICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgJ3VzZXJuYW1lJzplbWFpbCxcbiAgICAgICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmQsXG4gICAgICAgICAgICAnY29tcGFueSc6e1xuICAgICAgICAgICAgICAnX190eXBlJyAgICA6ICdQb2ludGVyJyxcbiAgICAgICAgICAgICAgJ2NsYXNzTmFtZScgOiAnQ29tcGFueScsXG4gICAgICAgICAgICAgICdvYmplY3RJZCcgIDogcmVzLm9iamVjdElkLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAvLyBEbyBhbm90aGVyIHJlcXVlc3QgdG8gZ2V0IGN1cnJlbnQgdXNlclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VyJywgSlNPTi5zdHJpbmdpZnkocmVzKSlcbiAgICAgICAgICAgIHRoaXNzLnJldHJpZXZlVXNlcihyZXMub2JqZWN0SWQpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkgeyBcbiAgICBkYXRhID0gdGhlRGF0YSgpXG4gICAgaW1nc18xID0gW11cbiAgICBpbWdzXzIgPSBbXVxuICAgIGZvcihpPTA7aSA8IDEyMDsgaSsrKSB7XG4gICAgICBpbWdzXzEucHVzaChSZWFjdC5ET00uaW1nKHtzcmM6IGRhdGFbaV0sIGNsYXNzTmFtZTogXCJwcm9zcGVjdC1pbWdcIn0pKVxuICAgIH1cbiAgICBmb3IoaT0xNTtpIDwgMzA7IGkrKykge1xuICAgICAgaW1nc18yLnB1c2goUmVhY3QuRE9NLmltZyh7c3JjOiBkYXRhW2ldLCBjbGFzc05hbWU6IFwicHJvc3BlY3QtaW1nXCJ9KSlcbiAgICB9XG5cbiAgY29uc29sZS5sb2coZGF0YSlcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcInNpZ251cFwifSwgXCIgXCIpLCBcblxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLmgxKHtjbGFzc05hbWU6IFwidGl0bGVcIn0sIFwiQ3VzdG9tZXJvLlwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNSh7Y2xhc3NOYW1lOiBcInRhZ2xpbmVcIn0sIFwiR2VuZXJhdGUgaGlnaCBxdWFsaXR5IHByb3NwZWN0IGxpc3RzLiBBY2NlbGVyYXRlIFNhbGVzLlwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHQgbG9naW4taW5mb1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxtYXJnaW5Ub3A6NTB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtYm9keVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5mb3JtKHtvblN1Ym1pdDogdGhpcy5sb2dpbn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIkVtYWlsXCIsIGlkOiBcImVtYWlsXCIsIHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIkNvbXBhbnlcIiwgdHlwZTogXCJ0ZXh0XCIsIGlkOiBcImNvbXBhbnlcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtwbGFjZWhvbGRlcjogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIsIGlkOiBcInBhc3N3b3JkXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiUmVwZWF0IFBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgaWQ6IFwicmVwZWF0X3Bhc3N3b3JkXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMuc2lnbnVwLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1sZ1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxiYWNrZ3JvdW5kQ29sb3I6JyMxY2EzZmQnfX0sIFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgKSwgXG5cbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcIlwiLCBzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsekluZGV4OictMicsdG9wOjAsbGVmdDowfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiXCIsIHN0eWxlOiB7bWFyZ2luTGVmdDozNH19LCBcbiAgICAgICAgaW1nc18xLCBcbiAgICAgICAgaW1nc18yXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnZhciBFZGl0VGVtcGxhdGVWaWV3ID0gcmVxdWlyZSgnLi9lZGl0X3RlbXBsYXRlLmpzLm1pbi5qcycpXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vVGVtcGxhdGVzXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkVGVtcGxhdGU6IDAsXG4gICAgICBlZGl0TW9kZTogZmFsc2VcbiAgICB9XG4gIH0sXG5cbiAgY2hhbmdlTW9kZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdE1vZGU6ICF0aGlzLnN0YXRlLmVkaXRlTW9kZX0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0ZW1wbGF0ZVZpZXcgPSAoIXRoaXMuc3RhdGUuZWRpdE1vZGUpID8gVGVtcGxhdGVWaWV3KHtjaGFuZ2VNb2RlOiB0aGlzLmNoYW5nZU1vZGV9KSA6IEVkaXRUZW1wbGF0ZVZpZXcobnVsbClcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtoZWlnaHQ6JzEwMCUnfX0sIFxuICAgICAgICAgIFRlbXBsYXRlU2lkZU1lbnUobnVsbCksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtOVwiLCBzdHlsZToge3BhZGRpbmc6MCxoZWlnaHQ6JzEwMCUnfX0sIFxuICAgICAgICAgICAgICB0ZW1wbGF0ZVZpZXdcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuXG52YXIgVGVtcGxhdGVWaWV3ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnVGVtcGxhdGVWaWV3JyxcbiAgY2hhbmdlTW9kZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5jaGFuZ2VNb2RlKClcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWluZm9cIiwgc3R5bGU6IHt3aWR0aDonMTAwJScsaGVpZ2h0OicxMDAlJyxib3JkZXI6MH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWhlYWRpbmdcIn0sIFxuICAgICAgICAgIFwiVGVtcGxhdGUgTmFtZVwiLCAgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5jaGFuZ2VNb2RlLCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1wiLCBcbiAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxmbG9hdDoncmlnaHQnLG1hcmdpblRvcDonMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsLXNxdWFyZVwifSksIFwiIMKgIEVkaXQgVGVtcGxhdGVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmg0KG51bGwsIFwiRm9sbG93dXAgLSBQcm9zcGVjdGluZyBTQUFTIE91dHJlYWNoXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpbkJvdHRvbTonMCd9LCBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXCJDcmVhdGVkIGJ5IE1hcmsgb24gSnVsLiAyMSwgMjAxNFwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW5Ub3A6JzAnfSwgY2xhc3NOYW1lOiBcInRleHQtbXV0ZWRcIn0sIFwibGFzdCB1cGRhdGVkIDcgZGF5cyBhZ29cIiksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCJ9LCBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICBcIjE1IG1pbnV0ZXMgdG8gZ2V0IGNvbXBhbnlfbmFtZSBtb3JlIGN1c3RvbWVyc1wiICsgJyAnICtcbiAgICAgICAgICBcIkhleSBmaXJzdF9uYW1lLFwiICsgJyAnICtcblxuICAgICAgICAgIFwiV291bGQgeW91IGxpa2UgdG8gaGVhciBhbiBpZGVhIGZvciBhIDE1IG1pbnV0ZSBoYWNrIHRoYXQgY291bGQgc2lnbmlmaWNhbnRseSBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHByb3NwZWN0cyB5b3VyIHNhbGVzIHBlb3BsZSBoYXZlIGFjY2VzcyB0byA/XCIgKyAnICcgK1xuICAgICAgICAgICBcbiAgICAgICAgICBcIlJlY2VudGx5IG9uZSBvZiBvdXIgQjJCIGNsaWVudHMgc2F3IGEgaHVnZSBpbmNyZWFzZSBpbiB0cmlhbCBzaWduIHVwcyBhZnRlciB3b3JraW5nIHdpdGggdXMuIGZpcnN0X25hbWUsIGxldHMgc2NoZWR1bGUgYSAxNSBtaW51dGUgY2FsbCB0aGlzIHdlZWsgdG8gc2VlIGlmIHRoaXMgd291bGQgYmUgYSBnb29kIGZpdCBmb3IgYm90aCBvZiB1cy5cIiArICcgJyArXG4gICAgICAgICAgIFxuICAgICAgICAgIFwiV2hhdCB0aGUgYmVzdCB0aW1lIGZvciB5b3UgdGhpcyB3ZWVrID9cIiArICcgJyArXG4gICAgICAgICAgIFxuICAgICAgICAgIFwiLS1cIiArICcgJyArXG4gICAgICAgICAgXCJNYXJrXCIgKyAnICcgKyBcbiAgICAgICAgICBcIkN1c3RvbWVyb1wiICsgJyAnICtcbiAgICAgICAgICBcIm1hcmtAY3VzdG9tZXJvaHEuY29tXCJcbiAgICAgICAgICBcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICAgKTtcbiAgfSxcbn0pO1xuXG52YXIgVGVtcGxhdGVTaWRlTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1RlbXBsYXRlU2lkZU1lbnUnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgLy9BamF4IFJlcXVlc3QgRm9yIFRlbXBsYXRlc1xuICAgIC8qXG4gICAgICQuYWpheCh7XG4gICAgICB1cmw6JycsXG4gICAgICBoZWFkZXJzOiBcIlwiLFxuICAgICAgZGF0YTogXCJcIixcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgIH1cbiAgICAgfSk7XG4gICAgKi9cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRlbXBsYXRlcyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLnRlbXBsYXRlcy5sZW5ndGg7IGkrKylcbiAgICAgIHRlbXBsYXRlcy5wdXNoKFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJsaXN0LWdyb3VwLWl0ZW1cIn0sIFwidGVtcGxhdGVzW2ldLm5hbWVcIikpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtM1wiLCBzdHlsZToge3BhZGRpbmc6JzAnLCBib3JkZXJSaWdodDonMXB4IHNvbGlkICNkZGQnLGhlaWdodDonMTAwJScsdGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBzdHlsZToge2JvcmRlcjowfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1oZWFkaW5nXCIsIHN0eWxlOiB7aGVpZ2h0OjYwfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7ZmxvYXQ6J2xlZnQnLGZvbnRTaXplOjIwLGZvbnRXZWlnaHQ6J2JvbGQnfX0sIFxuICAgICAgICAgICAgICBcIlRlbXBsYXRlc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgXCIsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0J319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcImxpc3QtZ3JvdXBcIiwgc3R5bGU6IHt0ZXh0QWxpZ246J2xlZnQnfX0sIFxuICAgICAgICAgICAgdGVtcGxhdGVzXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvL1RlbXBsYXRlc01lbnVcbiAgdG9nZ2xlVGVtcGxhdGVFZGl0TWVudTogZnVuY3Rpb24oY3VycmVudFRlbXBsYXRlKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51KGN1cnJlbnRUZW1wbGF0ZSlcbiAgfSxcblxuICBjcmVhdGVUZW1wbGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51KHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgYm9keTonJyxcbiAgICAgIHN1YmplY3Q6JycsXG4gICAgICBlZGl0TW9kZTp0cnVlLFxuICAgICAgbmV3VGVtcGxhdGU6IHRydWVcbiAgICB9LCB0cnVlKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLnRlbXBsYXRlcylcbiAgICB0ZW1wbGF0ZXMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5wcm9wcy50ZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRlbXBsYXRlcy5wdXNoKFxuICAgICAgICBUZW1wbGF0ZUxpc3RJdGVtKHtcbiAgICAgICAgICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiB0aGlzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUsIFxuICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnByb3BzLnRlbXBsYXRlc1tpXX0pXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJcIiwgc3R5bGU6IHtwYWRkaW5nOicwJywgYm9yZGVyUmlnaHQ6JzJweCBzb2xpZCByZ2JhKDAsMCwwLDApJyxoZWlnaHQ6JzEwMCUnLHRleHRBbGlnbjonY2VudGVyJ319LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtib3JkZXJSaWdodDowLGJvcmRlclJhZGl1czowLGhlaWdodDonMTAwJScsIG92ZXJmbG93OidhdXRvJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wiLCBzdHlsZToge2hlaWdodDo0MH19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2Zsb2F0OidsZWZ0Jyxmb250U2l6ZToxNCxmb250V2VpZ2h0Oidib2xkJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1maWxlLXRleHQtb1wifSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHttYXJnaW5MZWZ0OjV9fSwgXCJUZW1wbGF0ZXNcIilcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNyZWF0ZVRlbXBsYXRlLCBcbiAgICAgICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1c1wifSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHttYXJnaW5MZWZ0OjV9fSwgXCJDcmVhdGUgVGVtcGxhdGVcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJsaXN0LWdyb3VwXCIsIFxuICAgICAgICAgICAgICBzdHlsZToge3RleHRBbGlnbjonbGVmdCd9fSwgXG4gICAgICAgICAgICB0ZW1wbGF0ZXNcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuXG52YXIgVGVtcGxhdGVMaXN0SXRlbSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1RlbXBsYXRlTGlzdEl0ZW0nLFxuICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnRlbXBsYXRlKVxuICAgIHRlbXBsYXRlID0gdGhpcy5wcm9wcy50ZW1wbGF0ZVxuICAgIHRlbXBsYXRlLmVkaXRNb2RlID0gZmFsc2VcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUodGVtcGxhdGUpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgc3R5bGU6IHtib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiKDIyMSwgMjIxLCAyMjEpJyxwYWRkaW5nVG9wOjUscGFkZGluZ0JvdHRvbTowfSwgXG4gICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudSwgXG4gICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LWdyb3VwLWl0ZW1cIn0sIFxuICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHRcIn0sIFxuICAgICAgICAgICAgIHRoaXMucHJvcHMudGVtcGxhdGUubmFtZVxuICAgICAgICAgICApLCBcbiAgICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFwiU3ViamVjdDpcIiwgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJ0ZXh0IHRleHQtbXV0ZWRcIn0sIFxuICAgICAgICAgICAgIFwiIFwiICsgdGhpcy5wcm9wcy50ZW1wbGF0ZS5zdWJqZWN0XG4gICAgICAgICAgICkpXG4gICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gVGltZWxpbmVEYXlFbGVtZW50XG4gIC8vIFRPRE9cbiAgLy8gLSBhZGQgcHJvc3BlY3QgbGlzdCBwcm9ncmVzc2lvblxuICAvLyAtIGFkZCBzY2hlZHVsZWQgZm9sbG93dXBcbiAgLy9cblxuICBhZGRGb2xsb3d1cDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5hZGRGb2xsb3d1cCh0aGlzLnByb3BzLmRheUNvdW50KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgYmF0Y2hDb3VudCA9IHRoaXMucHJvcHMuYmF0Y2hDb3VudFxuICAgIGJhdGNoU3RhZ2UgPSAoYmF0Y2hDb3VudCkgPyBCYXRjaFN0YWdlKHtiYXRjaENvdW50OiB0aGlzLnByb3BzLmJhdGNoQ291bnR9KSA6IFwiXCJcblxuICAgIGlmKHRoaXMucHJvcHMuYWRkVGVtcGxhdGVNb2RlKSB7XG4gICAgICBtb2RlID0gRWRpdFRlbXBsYXRlKHthZGRGb2xsb3d1cDogdGhpcy5wcm9wcy5hZGRGb2xsb3d1cCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRm9sbG93dXA6IHRoaXMucHJvcHMuc2F2ZUZvbGxvd3VwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZvbGxvd3VwOiB0aGlzLnByb3BzLnJlbW92ZUZvbGxvd3VwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheUNvdW50OiB0aGlzLnByb3BzLmRheUNvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogdGhpcy5wcm9wcy50ZW1wbGF0ZXN9KVxuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlID0gVGVtcGxhdGVGb2xsb3d1cCh7Y3VycmVudFRlbXBsYXRlOiB0aGlzLnByb3BzLmN1cnJlbnRUZW1wbGF0ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZvbGxvd3VwOiB0aGlzLnByb3BzLmVkaXRGb2xsb3d1cCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5Q291bnQ6IHRoaXMucHJvcHMuZGF5Q291bnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZvbGxvd3VwOiB0aGlzLnByb3BzLnJlbW92ZUZvbGxvd3VwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VGVtcGxhdGU6IHRoaXMucHJvcHMuc2V0Q3VycmVudFRlbXBsYXRlfSlcbiAgICB9XG4gICAgbW9kZSA9ICh0aGlzLnByb3BzLmVsZW1lbnRUeXBlKSA/IFwiXCIgOiBtb2RlXG4gICAgYWRkRm9sbG93dXAgPSAodGhpcy5wcm9wcy5lbGVtZW50VHlwZSkgPyB0aGlzLmFkZEZvbGxvd3VwIDogXCJcIlxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe29uQ2xpY2s6IGFkZEZvbGxvd3VwLCBjbGFzc05hbWU6IFwiZGF5XCIsICdkYXRhLXRyaWdnZXInOiBcIm1hbnVhbFwifSwgXG4gICAgICAgICAgXCJEXCIrdGhpcy5wcm9wcy5kYXlDb3VudFxuICAgICAgICApLCBcbiAgICAgICAgYmF0Y2hTdGFnZSwgbW9kZVxuICAgICAgKVxuICAgIClcbiAgfSxcblxuICBzZXRDdXJyZW50VGVtcGxhdGU6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50VGVtcGxhdGUodGVtcGxhdGUpXG4gIH1cbn0pO1xuXG52YXIgVGVtcGxhdGVGb2xsb3d1cCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1RlbXBsYXRlRm9sbG93dXAnLFxuICAvLyBFZGl0TW9kZSBGYWxzZVxuXG4gIHNldEN1cnJlbnRUZW1wbGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50VGVtcGxhdGUodGhpcy5wcm9wcy5jdXJyZW50VGVtcGxhdGUpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImZvbGxvd3VwLXBsYWNlbWVudCBhcnJvd19ib3hfMSB0bXBfMlwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHt3aWR0aDoxMzAsZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWZpbGUtdGV4dC1vXCJ9KSwgXCLCoMKgXCIsIFxuICAgICAgICAgICh0aGlzLnByb3BzLmN1cnJlbnRUZW1wbGF0ZSkgPyB0aGlzLnByb3BzLmN1cnJlbnRUZW1wbGF0ZS5uYW1lIDogXCJcIlxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7Y2xhc3NOYW1lOiBcIndpbi1idG4gYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgICAnZGF0YS10YXJnZXQnOiBcIi5icy1zZW5kRW1haWwtbW9kYWwtbGdcIiwgXG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zZXRDdXJyZW50VGVtcGxhdGUsIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGFwZXItcGxhbmVcIn0pLCBcIsKgU2VuZFwiKSwgXCLCoFwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7b25DbGljazogdGhpcy5lZGl0Rm9sbG93dXAsIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3aW4tYnRuIGJ0biBidG4tZGVmYXVsdCBidG4teHNcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsXCJ9KSksIFwiwqBcIiwgXG4gICAgICAgIFJlYWN0LkRPTS5idXR0b24oe29uQ2xpY2s6IHRoaXMucmVtb3ZlRm9sbG93dXAsIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3aW4tYnRuIGJ0biBidG4tZGVmYXVsdCBidG4teHNcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSkpXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICBlZGl0Rm9sbG93dXA6IGZ1bmN0aW9uKGUpIHsgXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5kYXlDb3VudClcbiAgICB0aGlzLnByb3BzLmVkaXRGb2xsb3d1cCh0aGlzLnByb3BzLmRheUNvdW50KVxuICB9LFxuXG4gIHJlbW92ZUZvbGxvd3VwOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncmVtb3ZlJylcbiAgICB0aGlzLnByb3BzLnJlbW92ZUZvbGxvd3VwKHRoaXMucHJvcHMuZGF5Q291bnQpXG4gIH1cbn0pO1xuXG52YXIgQmF0Y2hTdGFnZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0JhdGNoU3RhZ2UnLFxuICAvLyBEaWZmZXJlbnQgU3RhZ2VzIG9mIFBlb3BsZSBBZGRlZCB0byBQcm9zcGVjdCBMaXN0XG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJmb2xsb3d1cC1wbGFjZW1lbnQgYXJyb3dfYm94IHRtcFwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwiYmFkZ2VcIn0sIFxuICAgICAgICAgIHRoaXMucHJvcHMuYmF0Y2hDb3VudFxuICAgICAgICApLCBcIsKgXCIsIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICBcInByb3NwZWN0cyBpbiB0aGUgc2FsZXMgY3ljbGUuXCIpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBFZGl0VGVtcGxhdGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdFZGl0VGVtcGxhdGUnLFxuICAvLyBFZGl0IE1vZGUgLSBUcnVlXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgb3B0aW9ucyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnRlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgb3B0aW9ucy5wdXNoKCBSZWFjdC5ET00ub3B0aW9uKG51bGwsIHRoaXMucHJvcHMudGVtcGxhdGVzW2ldLm5hbWUpKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImZvbGxvd3VwLXBsYWNlbWVudCBhcnJvd19ib3hfMSB0bXBfMlwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHt3aWR0aDo1NSxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSwgXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXG4gICAgICAgICAgXCJDaG9vc2UgOlwiXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uc2VsZWN0KHtjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LXNtXCIsIFxuICAgICAgICAgICAgICAgIGlkOiBcImNob29zZVRlbXBsYXRlRm9yRm9sbG93dXBcIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snLHdpZHRoOjEyNyxtYXJnaW5SaWdodDo1fX0sIFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7Y2xhc3NOYW1lOiBcIndpbi1idG4gYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNhdmVGb2xsb3d1cCwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5SaWdodDo1fX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hlY2tcIn0pKSwgXG4gICAgICAgIFJlYWN0LkRPTS5idXR0b24oe2NsYXNzTmFtZTogXCJ3aW4tYnRuIGJ0biBidG4tZGVmYXVsdCBidG4teHNcIiwgXG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5yZW1vdmVGb2xsb3d1cH0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSkpXG4gICAgICApXG4gICAgKVxuICB9LFxuXG4gIHNhdmVGb2xsb3d1cDogZnVuY3Rpb24oZSkge1xuICAgIC8vZ2V0IHRlbXBsYXRlIGZyb20gY3VycmVudFRlbXBsYXRlXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY2hvc2VuVGVtcGxhdGUgPSAkKCcjY2hvb3NlVGVtcGxhdGVGb3JGb2xsb3d1cCcpLnZhbCgpXG4gICAgY29uc29sZS5sb2coY2hvc2VuVGVtcGxhdGUpXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnRlbXBsYXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICBpZih0aGlzLnByb3BzLnRlbXBsYXRlc1tpXS5uYW1lID09IGNob3NlblRlbXBsYXRlKXtcbiAgICAgICAgY2hvc2VuVGVtcGxhdGUgPSB0aGlzLnByb3BzLnRlbXBsYXRlc1tpXVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhjaG9zZW5UZW1wbGF0ZSlcbiAgICBcbiAgICB0aGlzLnByb3BzLnNhdmVGb2xsb3d1cCh0aGlzLnByb3BzLmRheUNvdW50LCBjaG9zZW5UZW1wbGF0ZSlcbiAgfSxcblxuICByZW1vdmVGb2xsb3d1cDogZnVuY3Rpb24oZGF5KSB7XG4gICAgdGhpcy5wcm9wcy5yZW1vdmVGb2xsb3d1cCh0aGlzLnByb3BzLmRheUNvdW50KVxuICB9LFxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBVc2VyUHJvc3BlY3RcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyB9XG4gIH0sXG5cbiAgY2xpY2tDaGVjazogZnVuY3Rpb24oKSB7XG4gICAgZG9tTm9kZSA9IHRoaXMuZ2V0RE9NTm9kZSgpXG4gICAgaXNDaGVja2VkID0gJCgkKGRvbU5vZGUpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpWzBdKS5wcm9wKCdjaGVja2VkJylcbiAgICAvL2NvbnNvbGUubG9nKGlzQ2hlY2tlZClcbiAgICB0aGlzLnNldFN0YXRlKHtjaGVja2VkOiBpc0NoZWNrZWR9KVxuICAgIHRoaXMucHJvcHMuY2hlY2tib3hBY3Rpb24oaXNDaGVja2VkLCB0aGlzLnByb3BzLnByb3NwZWN0Lm9iamVjdElkKVxuICB9LFxuXG4gIHJvd0NsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAkKCQodGhpcy5nZXRET01Ob2RlKCkpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpWzBdKS5jbGljaygpXG4gIH0sXG5cbiAga2V5Ym9hcmRDbGljazogZnVuY3Rpb24oKSB7XG4gICAgJCgkKCcua2V5U2VsZWN0JykuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylbMF0pLmNsaWNrKClcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7IH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBrZXlib2FyZFNlbGVjdGVkID0ge2JvcmRlckxlZnQ6JzdweCBzb2xpZCByZ2JhKDAsMCwwLDApJ31cbiAgICB0aGlzc3NzID0gdGhpc1xuICAgIGlmKHRoaXMucHJvcHMua2V5Ym9hcmRTZWxlY3RlZCkge1xuICAgICAgLy8gQWRqdXN0IFNjcm9sbCBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHByb3NwZWN0IGlzXG4gICAgICBrZXlib2FyZFNlbGVjdGVkID0ge2JvcmRlckxlZnQ6JzdweCBzb2xpZCAjMDA5NmZmICFpbXBvcnRhbnQnfVxuICAgICAgTW91c2V0cmFwLnVuYmluZCgneCcpXG4gICAgICBNb3VzZXRyYXAuYmluZCgneCcsIGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgdGhpc3Nzcy5rZXlib2FyZENsaWNrKClcbiAgICAgICAgaWYodGhpc3Nzcy5zdGF0ZS5jaGVja2VkKVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwibG1hb1wiKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvc3BlY3QgPSB0aGlzLnByb3BzLnByb3NwZWN0XG5cbiAgICBpZih0aGlzLnByb3BzLm1hc3RlckNoZWNrYm94Q2hlY2tlZCAmJiB0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgICBjaGVja2VkID0gdHJ1ZVxuICAgIGVsc2UgaWYodGhpcy5wcm9wcy5hbHJlYWR5Q2hlY2tlZClcbiAgICAgIGNoZWNrZWQgPSB0cnVlXG4gICAgZWxzZSBpZih0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgICBjaGVja2VkID0gdHJ1ZVxuICAgIGVsc2UgaWYodGhpcy5wcm9wcy5tYXN0ZXJDaGVja2JveENoZWNrZWQgfHwgdGhpcy5zdGF0ZS5jaGVja2VkKVxuICAgICAgY2hlY2tlZCA9IHRydWVcbiAgICBlbHNlXG4gICAgICBjaGVja2VkID0gZmFsc2VcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5zdGF0ZS5jaGVja2VkKVxuICAgIC8vY29uc29sZS5sb2coY2hlY2tlZClcbiAgICAvL3twcm9zcGVjdC5lbXBsb3llZUNvdW50UmFuZ2UubmFtZSArIFwiIGVtcGxveWVlc1wiIH1cbiAgICBcbiAgICBjb2xvciA9IHt9XG4gICAgaWYodGhpcy5zdGF0ZS5jaGVja2VkIHx8IHRoaXMucHJvcHMuYWxyZWFkeUNoZWNrZWQpXG4gICAgICBjb2xvciA9IHtiYWNrZ3JvdW5kQ29sb3I6ICcjZWVmOGZmJ31cbiAgICAgIFxuICAgIHJvd0NsID0gKHRoaXMucHJvcHMua2V5Ym9hcmRTZWxlY3RlZCkgPyBcInByb3NwZWN0cy10ciBrZXlTZWxlY3RcIiA6IFwicHJvc3BlY3RzLXRyXCJcbiAgICB3ZWJzaXRlQnRuID0gKHByb3NwZWN0LndlYnNpdGVVcmwpID8gIFJlYWN0LkRPTS5hKHtocmVmOiBcImh0dHA6Ly9cIitwcm9zcGVjdC53ZWJzaXRlVXJsLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKX0sIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSwgXCIgXCIpIDogXCJcIlxuICAgIFxuICAgIHByb3NwZWN0X2VtYWlsID0gcHJvc3BlY3QuZW1haWxcbiAgICBpZihwcm9zcGVjdC5lbWFpbCA9PSBcIm5vX2VtYWlsXCIpe1xuICAgICAgaWYocHJvc3BlY3QuZW1haWxfZ3Vlc3Nlcykge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHByb3NwZWN0KVxuICAgICAgICAvLyBHZXQgRmlyc3QgVW50cmllZCBFbWFpbCB0aGVyXG4gICAgICAgIHByb3NwZWN0LmVtYWlsX2d1ZXNzZXMgPSBwcm9zcGVjdC5lbWFpbF9ndWVzc2VzLnJldmVyc2UoKVxuICAgICAgICBndWVzcyA9IF8uZmluZFdoZXJlKHByb3NwZWN0LmVtYWlsX2d1ZXNzZXMsIHt0cmllZDogZmFsc2V9KVxuICAgICAgICBuYW1lID0gdGhpcy5wcm9wcy5wcm9zcGVjdC5uYW1lXG4gICAgICAgIHZhcnMgPSB7XG4gICAgICAgICAgZmlyc3Q6IF8uZmlyc3QobmFtZS5zcGxpdCgnICcpKSxcbiAgICAgICAgICBsYXN0OiBfLmxhc3QobmFtZS5zcGxpdCgnICcpKSxcbiAgICAgICAgICBmaTogXy5maXJzdChuYW1lLnNwbGl0KCcgJykpWzBdLFxuICAgICAgICAgIGxpOiBfLmxhc3QobmFtZS5zcGxpdCgnICcpKVswXVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGd1ZXNzLnBhdHRlcm4ucGF0dGVybilcbiAgICAgICAgcHJvc3BlY3RfZW1haWwgPSBNdXN0YWNoZS5yZW5kZXIoZ3Vlc3MucGF0dGVybi5wYXR0ZXJuLCB2YXJzKVxuICAgICAgfVxuICAgIH1cbiAgICAgcHJvc3BlY3RfZW1haWwgPSAocHJvc3BlY3RfZW1haWwpID8gcHJvc3BlY3RfZW1haWwudG9Mb3dlckNhc2UoKSA6IFwiXCJcblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIoe2NsYXNzTmFtZTogcm93Q2wsIFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucm93Q2xpY2ssIFxuICAgICAgICAgIHN0eWxlOiBrZXlib2FyZFNlbGVjdGVkfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCIsIFxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuY2xpY2tDaGVjaywgXG4gICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkfSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvciwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmaXhlZC1kYXRhLWNvbHVtblwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJ319LCBwcm9zcGVjdC5uYW1lKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7Zm9udFdlaWdodDonNDAwJyxtYXJnaW46JzBweCd9fSwgXG4gICAgICAgICAgICAgIChwcm9zcGVjdC5wb3MpID8gcHJvc3BlY3QucG9zLnRyaW0oKSA6IFwiXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvciwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmaXhlZC1kYXRhLWNvbHVtblwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJ319LCBcbiAgICAgICAgICAgICAgcHJvc3BlY3QuY29tcGFueV9uYW1lXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtmb250V2VpZ2h0Oic0MDAnLG1hcmdpbjonMHB4J319LCBcbiAgICAgICAgICAgICAgKHByb3NwZWN0LmVtcGxveWVlQ291bnRSYW5nZSkgPyBwcm9zcGVjdC5lbXBsb3llZUNvdW50UmFuZ2UubmFtZSArIFwiIGVtcGxveWVlc1wiIDogXCJcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgcHJvc3BlY3QuY2l0eSkpLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvcn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwibWFpbHRvOlwiK3Byb3NwZWN0X2VtYWlsLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7bWFyZ2luOicwcHgnfX0sIFxuICAgICAgICAgICAgICAgcHJvc3BlY3RfZW1haWxcbiAgICAgICAgICApKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCB0aGlzLnByb3BzLmxpLCBcIsKgXCIsIHRoaXMucHJvcHMubGluayksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IGNvbG9yfSwgXG4gICAgICAgICAgICB3ZWJzaXRlQnRuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbiAgfSxcblxuICBkZWxldGVQcm9zcGVjdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVQcm9zcGVjdCh0aGlzLnByb3BzLnByb3NwZWN0Lm9iamVjdElkLCAnUHJvc3BlY3QnKVxuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGNoZWNrYm94QWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgY2hlY2tib3hWYWwgPSAkKGUudGFyZ2V0KS5pcygnOmNoZWNrZWQnKVxuICAgIHRoaXMucHJvcHMubWFzdGVyQ2hlY2tib3hDaGFuZ2VkKGNoZWNrYm94VmFsKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgICAgIFJlYWN0LkRPTS50cihudWxsLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwiLCBvbkNoYW5nZTogdGhpcy5jaGVja2JveEFjdGlvbn0pKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIk5hbWVcIiksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJDb21wYW55XCIpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOicxNzBweCd9fSwgXCJDaXR5XCIpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiRW1haWxcIiksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCLCoFwiKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIsKgXCIpXG4gICAgICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy9TaWRlTWVudUxpc3RPcHRpb25cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge2NvdW50OiAnfid9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIG1ha2UgYWpheCByZXF1ZXN0IHRvIGdldCBlYWNoIHJlcXVlc3RzIFxuICAgIC8qXG4gICAgbGlzdCA9IHtcbiAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLFxuICAgICAgJ29iamVjdElkJyAgOiB0aGlzLnByb3BzLmxpc3Qub2JqZWN0SWQsXG4gICAgICAnY2xhc3NOYW1lJyA6ICdQcm9zcGVjdExpc3QnLCBcbiAgICB9XG5cbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgIH1cblxuICAgIHRoaXNzID0gdGhpcztcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcy5saXN0Lm5hbWUpXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdHMnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6cGFyc2VfaGVhZGVycyxcbiAgICAgIGRhdGE6ICd3aGVyZT17XCJsaXN0c1wiOicrSlNPTi5zdHJpbmdpZnkobGlzdCkrJ30mY291bnQ9MScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2NvdW50OiByZXMuY291bnR9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgKi9cbiAgfSxcblxuICBjaGFuZ2VMaXN0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmNoYW5nZUxpc3QodGhpcy5wcm9wcy5saXN0Lm5hbWUsIHRoaXMucHJvcHMubGlzdC5vYmplY3RJZClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxpc3ROYW1lID0gdGhpcy5wcm9wcy5saXN0Lm5hbWVcbiAgICBwcm9wc0NvdW50ID0gdGhpcy5wcm9wcy5jb3VudFxuICAgIGNvdW50ID0gKHR5cGVvZihwcm9wc0NvdW50KT09IFwidW5kZWZpbmVkXCIpID8gdGhpcy5zdGF0ZS5jb3VudCA6IHByb3BzQ291bnRcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcy5pY29uVHlwZSlcbiAgICBpY29uID0gXCJcIlxuICAgIGlmKHRoaXMucHJvcHMuaWNvblR5cGUgPT0gXCJhcmNoaXZlXCIpe1xuICAgICAgaWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYXJjaGl2ZVwifSlcbiAgICB9IGVsc2UgaWYodGhpcy5wcm9wcy5pY29uVHlwZSA9PSBcInVzZXJzXCIpe1xuICAgICAgaWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdXNlclwifSlcbiAgICB9IGVsc2UgaWYodGhpcy5wcm9wcy5pY29uVHlwZSA9PSBcIndpZmlcIil7XG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13aWZpXCJ9KVxuICAgIH0gZWxzZSBpZih0aGlzLnByb3BzLmljb25UeXBlID09IFwiY2xvdWREb3dubG9hZFwiKXtcbiAgICAgIGljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCJ9KVxuICAgIH1cblxuXG4gICAgY291bnRTdHlsZSA9ICh0aGlzLnByb3BzLmhpZGVDb3VudCkgPyB7J2Rpc3BsYXknOidub25lJ30gOiB7YmFja2dyb3VuZENvbG9yOicjOTk5JyxmbG9hdDoncmlnaHQnLG1hcmdpblRvcDonMXB4J31cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTGlzdCwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgIGljb24sIFxuICAgICAgICAgICAgICBcIsKgXCIsIFxuICAgICAgICAgICAgICBsaXN0TmFtZSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZTogY291bnRTdHlsZSwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJhZGdlIGJhZGdlLWRlZmF1bHRcIn0sIHRoaXMucHJvcHMubGlzdC5jb3VudClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XCIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzgzNTNhM2ZjMDU3MjRjYmU0NWU4YzIzYjM0N2EzOWU3XzA5OTRkNDU4ZmFmZjFkMGI3MWYwZjhlNTM0Mjk5MzM1YTU3NjViYTRhNjcyZWQ4MTc2Njk3MjlmNmEwYTFlOWRcIixcIjFcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvMTA3ZmMyNjkxYmI4YjMzMzNiYTc4YTE4NjAwZmE1NjFfOWE4MzJiMmUyN2MyYWE4Y2U2ZWQxMmM2MmZiNjY1OTM5ZTRkZTM4ZjMwZWM5YmViZDkyZjgxM2VhNjc3ZjhjM1wiLFwiMlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC80NDMyYTVkZjk4YzVlYWQzMmNhM2VjODk4ZTE3NWM5MF9mOTNlZjBhN2RkYmE5YWM5NjBjNmExNTk0MWE2OWExMjRhNWQ1OTYxZmRlMzQ0NTVjYjdjZWU2Yzk3ZjcxMmJhXCIsXCIzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyOTU4MGI3MTY2MDZhNGViMjE0MmIxZWFhY2ExMGU3XzIzOThkNTA1MGUxOTFkMTVmZjVjZjllYjY4Y2M2ODM2OTBjMDZkMzk0OTM0NWRiZjc5MDM5NDQzN2E0NjVjMDhcIixcIjRcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvNDk5ZDhhODYzZDc4NzJkNmUyMzk1MTIxMjRhZjlkZGNfNzcxMTgyZGM3YjZjMDgwMWRlNmU1NzFkZWVkODliNDM3YWIxMjIzNzJiNTQ3ZTFmN2Q4ZGFjYWU5Y2IxNzI3NVwiLFwiNVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9hOWU5N2E2NDQ1YThhYzE4NzU2MTMxMGIxNmI0YmJkOF85NmNlOTI4OWZkOGU2ZjJhNmJmMjYyYjRiYWY1NDgzNjdhZDdmNTNhYWM5YTllYzExNTcwMjA0NjVkZTA3ZTY3XCIsXCI2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzM1YWY1MDhkYWE0YTU4MDgwNjk2MTIzNmJmYjc0M2ExXzFhNGFmZTI2NTZmOGQ5NWUzNzE3NzUxZjk2YTBjNmNlNmM1YjFkMjU5MjBmNGQ0NWU1Y2ZlOWJiYTA1ZGUwYzhcIixcIjdcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYTEwMDM1MDNlZjVlMjI1NGU2Njk0ZWViYmQyYjQ0OTlfYThjZDJjYWVmZTY5MTQ3NmUzZjAyMzUxMzY5ZGMyYzA3YzFhM2Q2Y2UwZjg3YjE4N2Y1OGZkZjRiMjAyOTJjNVwiLFwiOFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC8wMWRjYjUyNzhmNTUyMjViN2U5YzBjZmY2YWEzZDZlNl9iNDBmOTJiOWM1ZWYzYjhjODFkNDc4YmI3MGI3YTA5NGYwNzZlZDU5YjdkMzZkN2E2NDAxZjBmZDlkOTVlYWNmXCIsXCI5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzYxZDc5ZTNjMjUxMDUwOTlmNzM2NjhjNjI1ZWEzNjFjXzFkN2MxMjU1OTY4MjU4YzAzZDA1NjRlMTQxMjg0YjRiZGRiZDJkYjUyMDkxY2Y4ZDc1Y2IzODRiMjM5NDkzOTBcIixcIjEwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NhODA4NDUwYTYyMjJjOWIwOWQ1Yjg2OTI0YTA4ZmJiX2Y5MGUwMmMxZTk4MWU1ZjZjYWY4YWY3NmZlZmVmNzY1M2QwYTQ1MWRhNTFiYTVhMjJhYzBmMjY1ODc0YmM2Y2JcIixcIjExXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk3ZGU5M2E5OWI4YTkxNTlkZWRlMmI5ZmYxN2M3ODg3XzNlOTBkZjhlNzg5NGMwYzEyOTYzYWJmMmZhZGIyMDVlNDQzNjVmNThiNTM3ZjE1YjY3N2E0YTdlOWM1NTdiY2RcIixcIjEyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzliZjg0MDRkNjczYzlkNjE3OGYyMzU0OGNhYTRjOWE0XzQ2NjA2ZGJhOWRmNGQxMGNmMjgyZmE3YWRkMjNlOGE4N2I3Zjk3NmQwZTNhMTUzZmFkMGZmMTgxZTFiZTRlMTdcIixcIjEzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzdmM2E0NzU0YTYzNGZjMWUzOTA5MGM1ZGQ2YzQ2ODA4XzQyZDMyOTRiMzRjNGFjOWM2Zjk5ZjY2YmMzYWQ5YTE5NWQyMGU5OGIwOWM3NTc5ZmUzNDFkMGNmNDJmOWM5M2ZcIixcIjE0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I0YmViYmZiZmJlNDdlNTBmNDM1YjRjMmVmZTBkYjBmXzE4MWEzMTE5ZjEyZmQwM2I2YmI1MTczNTJjNjM2NTA4NDk3YmVjNjFmOTA3OGIwZTI4MTUxNWVmZDE5MmIzNDVcIixcIjE1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VjMWY2MTkwZTJiOWE4MGEzZjdjZjEwMTY0OWNjYzYzXzAwMjYwMTdmNDM4MDU4NWEyZTU0MGYwNTkzNmE2ZjU4ZmU3MjVmZTdlOGUwMzc4YWFlOTgwMzk2MjhjNGJkZjJcIixcIjE2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzlkZDkyMWY0MWZhOGQ0YWIyOWJjYzFjNDUzNDhiNWEyXzE1OGRmOGEyMmMxZjE1NzBlOGEyYzE3YWI1ZTMwMTY5MjQ4MDMwNTkzNjY1ZmJkODc5MmY1ZjJmMDE1MTYyOTBcIixcIjE3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I5Nzg2YzliNTZjOTRjYWExM2U3NGQ1OWI5YTlkYTQ4XzFmMTk1ZmJjZGY5NWMwZDI2MThkNTcxZTAxOTJmZjFiZTJlNDkyMWQ4OGFlZDhiN2I5ZmQ5ZTE0NDQ3NDkyNzFcIixcIjE4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FhODU3N2Y4Nzg4NThmMzE4ODU4YWNlZDVhYmQwMzdmX2NiOTI2YTA3ZDBlNDY4NjYwZTM1NjkyNzljYzEzNTRhYTcyNDNjZGM5NTFmOTcwMzI1MjczOTkzYzg5ZTllZTdcIixcIjE5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2MxMWIzMjJkOGE4MDA3MDM3ZWUzZTMyNDJiMjYwOTMwXzJhNjNjMTNiMzE1YTM4YjA2OWYzOGRhNjU3YjE4OWFhZDZjN2FmNTk0MWExOTg1OTExMWRmYjNjNzBjOTRiNDFcIixcIjIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE5YjZjMzk4OWE4MDhiZTg0NTcxOGQ4YWYyNDM1MmZmX2E4ZTcyYWJiMmI1NzcyNzA2YWMxYzc5ZTVjYmFmNTliM2MyZjIwZWZiMGFjYTliOTNkMDRhZThhMjQ5MjA5NjdcIixcIjIxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Y0MTIwOTcwYTY4NmE1NmI0NzU5NTg1ODA4MTc3Y2M3XzhlMTc1ZTQ5NWIxZGU5MjJjY2Q5YTkyYTVkZTk3Yjk1NDMzNDQ0YWNhNDIyYjNlNjMyYzJlYTRlZDQ4ZDNiYzlcIixcIjIyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FlZTdlNDBiMmRkNGM0Yzk5NjEzMjNkOTgyNDljODI2X2MxYzM4N2M3MTRlODlkNWRmY2NmMDZkM2ZlMGZlZDMzMjk5MmVmZjg3N2NkYmQ2MGJjNGU5NGU3YTJlZDM4ZmZcIixcIjIzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY2ZDE4YmFmZmY0ZjliOGQwNzdjMTA3YmI3M2IyOTEyX2Y4MDU1Mjg5ZWFlNThmYWQwMGNjMGY2NzI3YjJiNWNmMGY3MmI4Mzc5NjMzNTFiN2NhNjI1MGJhNGUyNjMyYTFcIixcIjI0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzJkYTg1NDZjM2I2YTk5YjE5MTI0OWFlNjkyMDdlMzFhX2RiODY2ODEzMzFkMGQyYjk4NTBlNTU5NmNlNzcxMWFjMzg2ZjRlMTQ2OWM1MjY5MzQyNjc5NzhhZjM0OTgzMzhcIixcIjI1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU2MTdmNzc4N2NkZjAxNzZlNTRjNGYxM2U5Y2NjNTRlX2RhN2NjMTY5ZjQ2NTg1ZGU3MmFjZjVmNzA1Y2QzNGE1MmM2ODhhNDBkYzhhYTcyZWE3MjBkNTU2YTcwMjJmNzJcIixcIjI2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Y3ZTI3MTJhYThjZmFiODhjNTVkMWY2Yzc4ZWYyZTQ1XzVjODk1Y2EwNmY0MGUzMDM2OWUwN2IxOWM2NGI3YmYxZmU1YmUwOTc3ZTViYmZjMGMyMjEyYjczZWE2ZTY1MTJcIixcIjI3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI5YWI3MmMyYjk3YjI1YzRlM2UxYzI4MGUzMjY0ZjgwXzA2OWI5NGNhYWQzYjE0ZTJiYjNiMjAxMmE1MWQ5NGVkOGU0NzZmMGEzZDlhMzY4YWFjMzZkYjlkNzE2YTEyYWZcIixcIjI4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VlMTdhN2Q5MGM4MDY1YTNhYmNkMGE2NzIwYjUyZTY2XzNiOTkzOGMyNjkzZTE0MmJhMzcwNjVkZTI0ZGFiZWM1NTZhMTkyYWRkNGI4NGI0ZjI5Nzg1Y2VhM2I3NDg1M2ZcIixcIjI5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE2ZjYxZWJmMTgxMGFjMzMzZjdjOTM2Y2U3MTFiMjhhXzM1ZDQzZjNkMWM3NjJiMjFkNjI5NjM0YjQ1ODRkMGNkOTVhZWNkZmQ5YTMwODdmMjRhOWViNzI5ZDEzNGI3NjlcIixcIjMwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2UzMThjY2M1MTIxY2ZlYjNiOTljMjFkMDU1ZTZlY2U5X2VkYzYwNmQ0YmNkM2Q3NmY4ZTQ1ZGE5NmQ5ZGJkNjUxYmYwYzA2N2E3Y2ExNTllMTA3M2UzYjQ0YjAzNTMwYzlcIixcIjMxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RmOWM5MGYyYjkzYTllNDg4ZDk0ZmU1MjcyNWJkNzk4XzNiMGUzMzk2ZDlkZWE4NjY5NjBkOGNlNmY2N2FmMTBjODgwOWYxNTRiNjgzMWZjMjc4YjhlZDM0MzkwYTlmMjdcIixcIjMyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlZWUzNTdkMTIxYzgxNGE5N2I2MzYyYzRlNTU1MjZhX2NiZmY0YWM0MzljMjA1NDgxM2RlYThkYThiOGYxZWMzYjVlMGM2NDRhY2YwZGMyYWU2MjU3NDFlOTdmMGJlYTBcIixcIjMzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU2MGFlZDFiZWU4ZTIyMGYwOTgwMTkwZGVkYjdhZGQ2XzlhZDJkZTdjNmViZmRkNzI0ZjJhMTdjODVlZmQ1MTkyZjgzOTNhNDc3ZGRkZjBhMGM4YzkyNjBlMTdkNWE1MTVcIixcIjM0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzg1MGYxMjQyZGRkNjUzOWFkOGIyN2Y2OTkwOGM3ZjllXzA4ZmZlY2QyYjZkMTg0ZTdkNzBhYjcwYWJiYmJhYmU3MTMyMjY5MjUwYzkzZGJiZGNiYTdmMjJlODZmMDY5MmVcIixcIjM1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA3NWMwNmM0ODFlZWE0MjlmNmNjODE2Njk3ZmNiYmY4X2M1NWI5OWJlMDUwYmRjYjFmMzJjOTU3OGNiOGUxN2Y2ZjRkNmYyMDBjMWYzN2Y1MjhjMjRmZWU2NWEyNjE4MmFcIixcIjM2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzAyOGIzMTEwYWE2MDU1NGU3NDM0ZjFhMjQ3MzIyOWNmX2QxNWUxYzdmMDBjODI3NTVlMTQ0NzczZDQ2YmI0ZTBlOTY0ZmNmYTQyNWEyNTRjYTA1YWMxMzEzZmNlYTNiYWVcIixcIjM3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2MzNzE5Zjg1ZDI0YmFmZWY2NGVhZGE2NGU3MzVjYTczXzAyNTg4MGM1MWZmNDJiZDNmZjc5YmEzNWQ0NTZkOGNiMTRiNmZiYzdlZTE3YmEzYjk4NjEyZTcxYWExZDc0YjlcIixcIjM4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyMzU2YWI2YWU0NDY3YzQ0YTA3NGE0MTM0YmFkOTM3X2E5OTA5YzM3ZTZlMjNiNDM0M2NlMTk1ODJjOTExOGNmYjM3NDhiODk3N2YxZGI4MjMwYWE5OTJkNjQwZjEyMTdcIixcIjM5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIxMzJlNWEyZmNkODlhNTRlN2M0MmM1ZmEwYjhlZjc3X2ZmMGRjNDY1MTFiMTUwYTRiMGFmOWNkZjg2NmFmMmUwNmNlODk4ZDcxMTliN2FiMjEzNTBlMGIzMzA0ZDgwNjVcIixcIjQwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQ1YWFhNzNiNjkzYWVlYzQxNGIzNGZkNDQyNjJlZjhmXzUxYzIyNTMyYWJlMGI2MTVmMGU2ZTNjMGU5MWNiMWE5YmNhNDFhNmY2YzBlYzZmMzNjMzY5M2QxMjhmZDE3NTVcIixcIjQxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU3YmMyZDFhMmFiNjkyZTM4Mjg0ZjM1NTBmNThiMzgxXzAzYmQ0NDExNzIwMDFlM2MyZTUwODRmMzM5MGVlMGNhMDMyN2I1MDJiMGMxZGM3OTRjOGM4YWMyYjNkMjEzMGVcIixcIjQyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQ3NDVhZDA3ODA3Y2NhZDk3ZTA3MjZmYzdiYTE4MTcwXzQ4OTExYTcyNzQ3NGMwMzk4YzNmYzcwMTg4MGQ2MjNmYWVkYzU5MmYxNjY3NzMxMGY4ZTgxMTFhMjVlMmJlMzdcIixcIjQzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NkMTU5NGM2MmEzMWM4MzFkMTI0ZTI4NmI2OTA5NzAwXzBjZDlkMDYwMzkyYzVmNWQ1NzVmMjlhODkzMGM1NWM2OWE1NDUwMWMxZDc2MzY5Mjk2ODJjMzhlNGUwNjlkNWVcIixcIjQ0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmM2RiNzcxMjMxM2EzYmNmZTVmZjRhOTliNjdmY2RmX2E2NmJlYzBhNDMxNzk1MzFiY2U4MDIwYWFhZGUzZDg1OTY3YjdjOWRmNTRhYjJiZGY0MWYxMmY2Y2Q2MGQzZWZcIixcIjQ1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI2NDNlMDA4NzUyZGJmZmQxN2NkN2U0Y2VhMzBiYjA4Xzg2N2ZkOWI3NmM1MzQyYjkxNGJkOWIyODU3NTZhYzEwY2YwNGUxYjNhZDhjYjY1MjRhMmM5NmQ3YWI3NWMwN2FcIixcIjQ2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Q4OWZkMjk1OWY5ZWZkY2Y3MDc3ODgwMTI1M2E0OTIwXzk3YTkwNjY4NGY4NDNlOGVhM2YzMjM3Nzk3YWRjNjAxYzRkMjBkZmNjNzllN2I2ZTc1NjYzMDIwNjMxMmZlODlcIixcIjQ3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2QwYjc5MjI4MjFjNzNiYjM0MzU3YjlhN2JiZjIyNjdjX2Q2M2E0ZTQ2NTU2NjUyNjhlYTkyZGEwODA2M2M5NWYzMDk2NDZmOTY5ODEyNWIzMThiMDYyMTQ4N2I5MDZjYTRcIixcIjQ4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I3NmY4ZGE5NTM4ZWVhOWViNGQ4OTc2NTZmNGFlZDhiX2Y0OWZmYjk3NTEzNDkzZDA1NmY0MmZlMzE2NjUwZjFmYjUwN2ZjMWViZTdhMDRhZDg0NTRmZDJiNThjNTBlYTdcIixcIjQ5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE5MDI4NWM2NTNmZTFkMThkYjMyNTdlZWFmNGJlNDNiXzYwYWFjNTYxNWI4YzA5ZmYzY2ZjODQwZWFmYmIwMjA4YThkYzQ4MjRkOTQyZGYxMDYzN2VkMWRjNDMxOTg4OTZcIixcIjUwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2JkZWUxMTQ0OTA5NzY4NTQ0ZmIyMTY1ZDVlMDUzZTY1XzAxZWViMGI2OGZiZTAzOGIzM2JkMGQ5NTJjZTYwNTkwYjJmZjUyYzMyZGEzMmJjZWVlNTE4NjUyYTg5ZTgxNDBcIixcIjUxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY3ZjM4MTZmZmFlM2Y3MmJlNDJhNzg1MzYwN2ZmNTQ1XzliNzdmN2VlOWVkMzk5ZmU3NzY2NGEwYzZjZGVkMzA5YTE0MTg3ZWQzMjViN2RhY2U5Yjc0ZjU4ZDM4NGZhNzBcIixcIjUyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQzMTRiNjU5MWNjZWNhYTNlYjI2NWU0ZTg5MDAyMWY1XzEzNWY0MmFjNTI1YzcxNjBjNjY4MGQ5OWQwODQ2M2NjYTRmNGY4NmI0YTBhMTEyNTJiMjZjNTdmN2Y2NTUyZTJcIixcIjUzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RjMjQ5OGEyMjEwZjVjOGRmYzkzODkwOTY3MGJhNjhmX2JiNGVkYjMyNGFlYjc2ZjQ4MDlkMmYyZmZlZjAzNjgxNTQ5NzQwMGZkMjc2ZjgzNmQ5MjNlN2UwOTk5YzM1NTJcIixcIjU0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzhlYTJmOGFlY2I2NWJjYzNjZWM2OTFiZTA2MTgyMmE2X2M5ZThjYzRmZjY3MGRlZjI2YTIwMTRiNDY1OGY1NjFiYjM5YWY3NTU3MjdhYjMxYTA0YjY2YzcwM2ZhYTZiZmNcIixcIjU1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NjNjIyMDUwOGQ2YjUwOTkzZThjYjQ5ZTZjMDcyYTNhXzI2NmQ1N2Q0MDgyODU5NWRjZjk5NjQwNzY5NTUyNDJjYmM2ZDljZGM3OGJiYzMyM2JhMzlmMDg4M2MwNWZkYThcIixcIjU2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZkMjAwZWUzOWY0MDk2ZjQ5YjUyM2Q5OGQ4NTM2YjAzXzBlMGQxOTI3ZjY1OGIxNGZmMzVhMjRjOWQ4ZmM2OTMxOTBjOWY3MzlhNmQxNGIzNjM4YTY5ZTkwMWIxYTQ5NGNcIixcIjU3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RlYWYwZDRkNDQzMWQ2YmIyZGNjNmJkYTEyNTc1ZGM4Xzc4NmJlN2U4ZTM1NzMxNzBlMTQyZDFjMzk3NGYxOGQ2ZDY5ZDRjNGRkM2NhMDY1OTM0NjdmMmY1M2Y4MzE4OTVcIixcIjU4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ViZjMzOWIyOTYzOTM1NWMwMWE3ZTFkMGM5MDU1YmEzXzBjMmM2MzU0YWY1OGM3MWVlZTE3OWY3NzJiOGY5Yzk1NTYxMTFjMDQyZWRkZWM0ODg2NDIyMDVmY2U5MDFmNmFcIixcIjU5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FkZjc1OGE4ZGMwMzIyMzlkMDVjMmJmMzBhNGEwZWRmXzFkZTY5NTI3NWFhZjg0YzVkOTYyNDg3MmVmYWNjMjFmMmJiMzVkNzY5MDdjMDMyNzg5ZjBhOGE5MTAwN2E3NTFcIixcIjYwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ZjZmQ3M2I2ZTNlYjVhOWUyNDliMzc5YTZmNTU5ZmM3XzdmMTJmZWVlZmI3NzdjNTJkYTJjMTc1YmZjMzNkZDE5ZGI0MDc0OWIzODhhZjQzNWY0YTY4YzBmMDZiNGY5YWRcIixcIjYxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzNjODJkMDhiY2E3NzAwOTliYjFmY2RiZGEyMTQ4NGVhXzRiMWIxYTMxNTcxNzExNDQwNDQ2MzI3YTM3MzI3Y2Y4NjY4NTMwN2Y3ZGQ1OGFkMjZhNWI1NjRiMzg0ZDU0YzlcIixcIjYyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RhMDg1ZGRmNjFmYWJmYzUyM2E2ZDViYzIyZWEzMDViX2YxOThkYzQ3NjQxM2FlNTI0ZTIzMGViY2Q0MjhmNDY0OTUwOWE2NDc5NGJiMTJkZmRlMGQ4ZmMyZDljZjg3ODJcIixcIjYzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzUxMGM1N2FjODE4ZDA1MzcwMTMyMWQxNmNmZWQ4YjNlXzc0MjEwZDk5YWE2NTk3YjIyN2ZlNTIxYjBjN2UxMjhiNjY1MTBkYTZiMmNmYmQ2N2Y0ZDBkMGY4YmU3YTFjMTJcIixcIjY0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQwMTIyMzM0OTYwYTU5NTQyNTVjY2E4N2QwMWJhNWFlXzFkNmZhN2FiMDdhMTVkZjc5ZTRjNjFjZWM1YTM2OWU2ZTdkY2M3ZTU3ZWJmZDUyZmQ5Mzc2MzBlMDU2ZGJmMzJcIixcIjY1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI4MWJjMDEwZGE2NDYwNDU0NTUzMWNhNDA3NGVkYTJlXzkxYzQ3NzgyZTFlN2UxOWU1OGQzZDVkYTllNDNjMWM1MzUwNWExNDVkZTRhZGNkMjI5MzE3MjFmOTUxZWRjZWRcIixcIjY2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmMDMwNmFjMTVmMmExMTcwN2ZiNjYzN2I2NGFiNWJjX2JiZjc1ZDdhMzFhZmY2Mzg5MTZiMTU0ZDI2M2IyZmExYWY5ZjNmNTNlZjMxMjRlNWQ0NzAyODliMWI0ZGM1YzRcIixcIjY3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk5MTQ3YjQyNmYwMmVhNjNmNTJkN2I5MDk2YmZiYTk1XzJhZjkxODU0ZTg5YTgyMTQ2NjcyMjJlYTg3MWQ5OGViOGMxY2NhZjQ5NjllYzEyOTM1NmJlMGZjZTJlZWNhNTFcIixcIjY4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VjZWJiMTdlNWNhMjNkYTdmNDIwZmEzNTc0NzJiZjNlXzlkY2M5MmU2OTY2ZDY4OGM5NTZlMWU2YTBhYmY0MjQ5OTY4N2Y5ZTgyYjgyYTI0OTlkNTZiYjkzYTU5YjJiZDhcIixcIjY5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FhOTY4ZDUxMjgxNTMyMWI1Yzc0YWY0OGYzZDUzYzNkXzc0ZjdiOTJhNjZmNDVmOGUwNTBhNDZmOTRjYjY3NWRiN2ZjMjU3YWNlZmVkN2NlZDZmZTg1YTgyY2FhOTMxMzlcIixcIjcwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI0NTFlZmEzOWNiNmVlNzU3NmI0MWUxNGI5MDc5MjVhX2Y0OGVjOTAzYWIyMjgxMmEzODU3NDM2MjVlOTcyZTc2NzczYmRiZDNlMzIzYzczNjg5ZjI3ZWNjYWE5ZDkwYmNcIixcIjcxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlY2E1YzQ2MDc0ODAxOGZlOTFmOTE5ZDM1ZjFkZTAyXzIxMTZkN2U5YzgzMzAyMWM3ZmI1ODIzN2RiMWU4YWJkM2UzN2EzMmY2NTJlNTQ0OWZlYjk0Y2QyODdjYTYzY2RcIixcIjcyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2QyMzNkNjVkZjJhMjdiNGU2YzE3N2FiMzdmNzI2YzMzX2NlYTdkYmNiNzc3MGE5Nzk4YTQ5ZmNlM2E4ZDU1Njg5YzZiNzlhZDcxMGU4ZjNhYTAxMjFiY2FiZDliMDE3NmJcIixcIjczXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA2MzIxNTk0MzVlNjdiZGQyYTVmZmQ2ODQ3MTM2MWYwX2I3NzExYjk2ZDQ5YmZlMDdiYTRjNmE5NzAwNjE4YzY5NDI1YzY2Nzk5OTIwOWNjYmQ3NTc1OTI1ODA1YjBiNWJcIixcIjc0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmNmVkZWJkNTU5N2JhZTdkYTYzZTdhZDg2MjE0Y2NkXzBiY2M1ZWUxOGE5NTM5MDQzNTI0ZmRhZDVkOWNiZGI1Mjc1MTQxNDNlNzU1YTFhMDUxNjllMDVlMDZjMzc5NDFcIixcIjc1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzMxODc0YzEyZDlkZjJkZmQ4OWNiNmE0NDZiZGM0MDQyXzYxMTY0NGUwZTZiZDY2ZjI5MjcwYmU5OTlhZjVkNGFlZTM3YTU4OThkOTNkZDQxYzQ2ZGVlMTExZjRlNjNmYTNcIixcIjc2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk1YmFkMzFjODEyN2RlZWY4YWVmN2E4YzBkOTYyODVmXzA1YjU1OGI4NmRiOWVkNjFiZGIxMzRlN2UzMmU1NmRkZWE5NjBkMTgwNjdjNGQ0NGNiN2IyMDdjZWI1OTJlNWJcIixcIjc3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2UxYTIxYjZhNDY1YmE4YzA1YWVjOTdmYTc1NjhlZmI1Xzg4OGFiOGFiNDI0YTMyYTU4YjAwODA4Y2EyZjcxNmI5MDM5OTNhN2QwNzZiNDkyNWM1MjExN2EyNDY3ZmYwNGJcIixcIjc4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Q4YzI1YjNlZDkxYThmYzkxZjkzYWM1NjM3N2M5ZGNjXzcyYWZkOTZjYjM5ZjVkMDdlYTI4NjM2MWVkYjI2NDYyN2QxZjIzNGU4NzFjZTQ4MzcxZGNhNTdiYzQ0YzdhODJcIixcIjc5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk1YjE5M2UwZGIwZjg5NjVkZTVjNzBhNWI5NmJiMDcxXzRiNTg3YTM4YTViM2I1ZjJlYjZhZDM3ZDc0NTUzMWU3MjNlZGMwN2UzOGViNmQ0Y2ZlYzNhOTM4NmY2NWIxZThcIixcIjgwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzkwYjNkYTdlNjJiYmQ5OTZiNzIyOTc1YTMyMzBmMGYzX2IzZTg5ZWJlM2EwZjlkMWE2NTA4NzcxZTExMDg2Mjc4ODViNWRmNzkzNzdiMjkxNDEzYTM1Mjg0Y2M1MDZmNWVcIixcIjgxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzMyNDIxNTYzNTNjOTA2NTc3ZTllYTQwZjkyMTM5NzE5Xzc2Y2I2N2JjYjgyMWVmNGE4M2I0Nzk2ODMyYjE1ZDNhYjQ0MDI2Mjc1MzRkZTM2YzNmZjU5MmJhMGUwY2FjYjBcIixcIjgyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2E0YmViNjM0ZmI5NzJlZjljYWVmZWNmNDc1MjdlMzQ1X2ExOGQ2ODUxODgyZDAzZDQzNzBmYTEyYzg2NmZjZDkxY2FhOTA3YjBjZDIyNjNhNzIyMzc4YzM5OWZiNTkyYjVcIixcIjgzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA0NDdjZDI1ZTQ1MTU1NjljM2I2MTNiYzRiZDg4YTA1X2MzNjU2ZGRiYmY1ZGZjODRlNDRjMzYxNmNmYWQ0MTI2N2M4ZDczMGUwMGRiNTkxOGNjYzc3NTczZmFjMDdkNDlcIixcIjg0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFlMDFhNGVjYmViOWNhNDZhNjNiNzQ1YzZhMmU0NjJkXzNlYmJiYWIxNGRmMGUyZGI0M2EyOTQ4YzAyOThhZDY3ZGVkNTMwMjllZmU5YWJhNmJkNDBiM2ZkOTlkNWFhMThcIixcIjg1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU1OWM1MDJhZWE3YWFiNGExMWUxMjE3NDNjOWQ3YzQzXzY5Y2FjY2ZlZTQ5Zjc0N2U3MmE0NzY4YWQ0Mjc0YzhiNjg3NTg0OGU5YWI3YjJjODUxN2UyMDlkMzZiZGZiMzJcIixcIjg2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2IyN2EzYWZhOTVkODQ5YjczNzVhMzA0NzY5YmQzYmYzX2FjYWRhN2JiY2EyMDgzY2U1NWFiMTE5ZTg4NjY2Y2EwYWUxMGE0YWFjNDQ4YWQ1ZDdmNDVlZGYwMDc3ODk3YTFcIixcIjg3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RlMjRhZTZlNmI1MzFiYWQ1N2MzN2JmZmNhYzE5NTRkXzJjMTVmM2RhMzU5M2M5NTI2MDc4YmI4MGJjN2ZhYTY2ZWMwODFiMWNjYWVhMjMxYjVjMjU5YmRiODI3ZjZmZDhcIixcIjg4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzczNzVhMzA4Yzc2NGU0MDVmOTJhYjlkOTQzOTQyOTQ5XzZiN2IzOTJmNTY5NGFiY2ZiYjcwZGFmNDU4YzIyMzY5ZGIyZjliODkwNTgzZTNlMmQ3MTNiMDQ2Y2Q4NGVjODlcIixcIjg5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ExZmM4YjRjYjVlODlmMWRjM2VkNzRlYzhiYWZjM2E1XzRkMGVmYzcxNmYzZjJjYjdiZGE2ODllNWRhYTdiYTVkOTU0ZWU1NGE4Zjk0Zjc3NTViMzAzMDQzOTcwYjFkOTlcIixcIjkwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2M0ZjdkMmI2MjhjNjYxZDFiYWFkNmZmMWY0NzIyZGE4XzE0OWUyYjZmM2FkNDg4ZDEwZmNlNjcxNDRjY2VlNmI2NjUxOWQ5ZDdmODQ4MmExZmYwYzlhZTYyN2YxZGRiY2FcIixcIjkxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA5NDU5NjQ3ZjM5MjhlNzc3NTI0NDlmNDE4YTg1YzI3XzdhNzA0ZjhjZmFlYTYyYTE5NTNkZmQxZTM0NWViNmUzYWVlMDIxMTQxODlmMTg2ZjAxODFiZmYzYTdlNzdmZTZcIixcIjkyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY1NWE3ZGI4NjJjY2RmYTE2MmI2ZWEwZGZmYTNlZjFlXzZlYjEzM2U3MDU4NzhlNjQwYTQyN2I2NjQ2NTYxODlmMWVhOTMzMDI4NTEzM2U0YTczYTk0M2EwOTc2MDZkYTZcIixcIjkzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQzNGQ4MmI0MzAyNzlkMjZiY2RkOWJkMTNkZGVjNzZmXzVjYmFkN2Q3ZWI2NzQwZGViYzllMmUzYzFiNzE5N2Y4NjFiNzA1ZTZlNzQzNzkzMDdhNWJjOTAwZDc1MjUwZjVcIixcIjk0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE0MmU2NGIwNTM1YTJiMGMzYmI1MjUzYzBkMjI2NmE5XzZjNzQwM2NkYTZmOGRjNjFlYjlkMmIzMmQzN2Y2MDhjMzRjNjQxMTAxZDZhMmYzNWMwNzM5MDc4OThhN2U0YWVcIixcIjk1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzNmODc5MGYxMTM0ZjA1MTRhZjNkMmJiYzA1MjA5MDYwXzYzNzdlNWRjZGYwZDIzMmYxYWE4MTM5MDIyYjhjOTI4MGY4YjQyOTdmNzBlZmZmM2UwZjdkNTI0MTdjMWViMjNcIixcIjk2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyMGE3MDUyOTBlYjdhZGJjZGYwNTJkZGIyZDExYzk5XzA2Mzc0ZDg1NDZkNWM3NDU2NzFkOTg2ODZmMWI0YjBkZDMxZDc3N2IxYzdiY2RkMGU2ZGZlNjNkMGEyM2U3MTlcIixcIjk3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzUxMjQ5YmI2ZjUwNmU0MmUxN2JmOTI0MWVmODhiNmIyX2MxMjIxMjA1Zjg1NDM5MGRmMWQyMWFhMDVlNWQwZGUyNjRiMWI5NTNjNjU5YTEwYzE4NDc4Y2ZkN2Y3NTVlZmRcIixcIjk4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI4NGMwMGI1ZmYxMTg5ZDJiZGRmNjdkZjQwOGVkYzRlXzAxYzE5MTdhMjQ0ZmNhZGYwYmZkMzkzM2FmMjFjNjg0ZGQ5MGNhMjc0MTExMjQ4MjEyMDI1MzYxZDg1NWFiMzlcIixcIjk5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzM3NDgzZmZlMzY3MjVlMDVhZjA5NTRhNWQ5YTU1YTI2X2RhZjBhMmYwZTEwYzk4YzJiNzJiZTljMGRhMjRiMzgzMjJmMGY5NTY3MzNhNDI1NjUzNjVlZTYxNTU2OGJhMDdcIixcIjEwMFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jNmIwMzUzMWZlZDQ0Zjk2YWNlY2FiMjY4MjhmYmUzN18zMDM5M2I2ZmEzMDk2YTc0YmZhNTFjYWQxY2I1OGY3NjYwODQ4MjYzZjAxZjJmN2QyZTEyZGFlM2E1YjFjM2VkXCIsXCIxMDFcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvNWRjOTM0NWVlNjA5MmNhMDA2Zjc3N2I0MmIzNGU4NTNfZGYxM2FkN2M2MTQwN2QxYTAwZTI2MWZjZDVmY2Q5M2MxNmUxYTBjMWJlMTNkMDkwM2Q3NmEyMWE4OWNkMzQ1OVwiLFwiMTAyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFkYmVmOTg0MDkzOGQ1ZTMwNTYzYzNmODQ0YjllYmFjXzEyZmUxMGRmNjZhNmVlNDhiZmZlNzI1NzhhNmY0MmQzNDBmZjBiNGY3NWQ0ZmU2NWY2YmVkMmI3NTg0MWU5NzhcIixcIjEwM1wiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jM2FmMjkyYTkxNjMzOWU2YzU3YmEwZDAzNzEyYTQ0NV8yNzNjMzhiZTQyMjI2OWE0NjQ2NmQ0ODQ5NGM1MTNkYWY1M2IzYTY2NDQwYjY0MDFjOTRjMzdmMWU1NTA3MGMyXCIsXCIxMDRcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYjQ0ZGVkMGIwOTAwOTc1MjhhZjJjNGFkNjk0YzJhNDBfM2Y1ZWQ1NmM2NjJkYTg5ZTFlMGYzYWU2MmE2N2Y5ZTE0ZWEyMzg0ZjI5ODUyNzdiMWNkZmE2ZWJmZTFkMThjOVwiLFwiMTA1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RmOGVhODY5MDZkZTMwN2M1MmNiOWNmM2IyMjI4MDQzXzMxMmJkYmQ5NTM2ZWMzNmU0MmQ4MzI4ZGVmOGFmMWFmY2FhZjNmNzA1OTE3YTYyOGVhNGFkZDAwYmE3N2I4YjVcIixcIjEwNlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC82ODQ2ZjYxZDZiZmNmNzdhZWNkNzIwNmM2YWRiNWJlOV82NGUxNDkyNDdlNTJlODZiNjcxZmRkMmI3MWFjMjc4NTJkNTRhZTZlYjZmNDA1OTQ1OGJkYjExNjFmMzAwZGFjXCIsXCIxMDdcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvZWY0YTE3NjU5MTE0NTNkY2FlOGU0YmRkNWQzMjAzYTFfMzIxY2YzYmM4NzEwYTZhMTk1NzZkZmU5MzY3N2RlZjQ2NjZkYTBiNDc0NDQ4OWMyNmFhNDRmNzVhNzUzMzMzZVwiLFwiMTA4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RjMzgxZjllMGI2MTkzZThiZTVkOTQ1OTVlZDFjNGI3X2Q2MTJhZmRlN2JhZjQzYWM1ZGFlYWU5ZTBlZmU0Mjc4MTg2N2JjMzQ1MWUzZTg4MTQyNTNjYmZjNDQxMGJiNGFcIixcIjEwOVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC85NTc5ZDVkZDg1MjNjNDkzZTA1OTBlMzg4MWUyNTA0MV8xMDZjMzliN2U5N2ZkZDU3YWJiOTkyZWM3ZmY3YzBmMGIxNWYwZjgzYTM0OGUzYTM2OThlM2ZjYmRjZGYyODM2XCIsXCIxMTBcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvOTVjZmRhMGNiN2JmYWFjMGZjNzg5Y2YwNWM3ZTUxM2VfYTUwOTA0OWFlYTAyODg2ZWI0MDljNTNhMTVlMDNhNmNmNWViNjU4MzEyMDI2N2JiY2E3NWMyMjA2MDI3YzBiMVwiLFwiMTExXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlMDVkYWFhYjlhODFhMmVhNTM0OGI3MDgzM2JkZmI2XzAyM2ViMWU5NDc2ODZhZWY3NzY0YTNjZTRjOTY4M2I0N2QyMjM1YzUxYTAzMWUzNmI5NDdlNDM5OGVmNjkwNmRcIixcIjExMlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9kMjlkNGZjYjFiMjVhOWQ0MjRhMTI4MDA4NjlhM2I2NV85OTFkNTYzODgwYTMzNDUwNzNlYmI0Y2MzY2Q1Nzc3OGVmNWNmYmMzYWU2MjVjZWZlYzJmZmMzYjY5MGE1YWE1XCIsXCIxMTNcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvOTgzNzY0Y2I1MDc1ZWVkYmQ5NmVjMDM0ZGYxMzc0YTFfYTk0ZjVhMWYwYzliNDViOTA4MjA0NGViZTcyNzc0YjAzMTNhNThlNWEyZjU4ZDAwYTYzODI3YWQ3ZDQ4YmI2MlwiLFwiMTE0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzlhYmFmZWQ3YTkxOWZlNTQwNDZhYmU0NThhNmIzMTQwXzQwMDNjNTIyNjA4M2I3YmViN2I1OTAxYzc5MDI3ZTM4MzNiZTBhZWM3OGRhOWFhM2ZjMDVmMDI5M2Y1YmI0M2VcIixcIjExNVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC80MjY4YTIzMWUzNGM3OGE4MDdiZDUxYzdkNWUxMDY0ZV9hOTA0OWNmZDljYmJiMjUwNDc0YzEzNjQ3MTBkY2QyNzZlMTg5NjI5N2IyZGVlMzdiNmZmYWQ5NmE4ODJiZGE5XCIsXCIxMTZcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYjgwYmU1NGJmMGZiYjQzZWJkOGEyMGRjYTRkOGY2ZjBfNTQ0ZDVhMzRlMWQ5NTllNGU3Nzk0YzU4NTAzYjM0NzhkZTMzZWI0ZWYyMWU4Yjc0ODM5Yjk1MGFkZGE3ZGVkZFwiLFwiMTE3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzRjZTI4MzcxZGU2NWEyMmEyNDFkZWUyODEyOGRkYTRkXzBkYWVjNmRmZmU2YmQ3MjZmMzAzMWQ1MWEzOTcyOGM0Zjg4ZjQ4NDgyZWJiYWU2YzA1Zjc1OGNhMjRkZDA4OTBcIixcIjExOFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jNTUyODRiODA5OGNiYWE5YTFkYjA4Y2JkZjQ2YmFlOF82YmFhN2FjZWZiMDM4YWNiYjJmZWRiZmRjZTU1Njc2NmM0ODM0OWM1ZDEzMzc0MzQ3YTI2YmQ4M2UyYWNmMjgzXCIsXCIxMTlcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvZGQ3N2NmNDJmNjkwZTgwOGJiOWQ4MTMxYjdjZWM0OGJfMGIzNzEzNzE2ZDExMjdiMzZlYjMzNTczNzc3OGNjYTNkNGI3YjQ3NmE5OWE1NzFhMTFkYzExOGU3MTQ2M2QyYlwiLFwiMTIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2M2NTdlM2YyNWFiOWFlODVhOTllNDIxMjMxYTZjNmE4XzA2ZGViODFjZmVjNzBkYmQxNGRhNmJiNjQ3MWI4ZWU0YmNjMTQyZWUwOGI2MDcxNGFmOWY5MTY4M2I0NjFlNmFcIixcIjEyMVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jZDRmYzQyNjcwN2Q2M2U0ZDliOGJjOTIwNWRlYTNmY19jYjY0OGZmZTcwZWMwOTQyYmU4MGYyOTRhMWEwN2M1ZTY0OTU4NTcwMjY1YjcwY2ZkODRkYTc4MDcyODc3ZmU3XCJ9XG59XG4iLCIvKiBtb3VzZXRyYXAgdjEuNC42IGNyYWlnLmlzL2tpbGxpbmcvbWljZSAqL1xuKGZ1bmN0aW9uKEoscixmKXtmdW5jdGlvbiBzKGEsYixkKXthLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsZCwhMSk6YS5hdHRhY2hFdmVudChcIm9uXCIrYixkKX1mdW5jdGlvbiBBKGEpe2lmKFwia2V5cHJlc3NcIj09YS50eXBlKXt2YXIgYj1TdHJpbmcuZnJvbUNoYXJDb2RlKGEud2hpY2gpO2Euc2hpZnRLZXl8fChiPWIudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGJ9cmV0dXJuIGhbYS53aGljaF0/aFthLndoaWNoXTpCW2Eud2hpY2hdP0JbYS53aGljaF06U3RyaW5nLmZyb21DaGFyQ29kZShhLndoaWNoKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHQoYSl7YT1hfHx7fTt2YXIgYj0hMSxkO2ZvcihkIGluIG4pYVtkXT9iPSEwOm5bZF09MDtifHwodT0hMSl9ZnVuY3Rpb24gQyhhLGIsZCxjLGUsdil7dmFyIGcsayxmPVtdLGg9ZC50eXBlO2lmKCFsW2FdKXJldHVybltdO1wia2V5dXBcIj09aCYmdyhhKSYmKGI9W2FdKTtmb3IoZz0wO2c8bFthXS5sZW5ndGg7KytnKWlmKGs9XG5sW2FdW2ddLCEoIWMmJmsuc2VxJiZuW2suc2VxXSE9ay5sZXZlbHx8aCE9ay5hY3Rpb258fChcImtleXByZXNzXCIhPWh8fGQubWV0YUtleXx8ZC5jdHJsS2V5KSYmYi5zb3J0KCkuam9pbihcIixcIikhPT1rLm1vZGlmaWVycy5zb3J0KCkuam9pbihcIixcIikpKXt2YXIgbT1jJiZrLnNlcT09YyYmay5sZXZlbD09djsoIWMmJmsuY29tYm89PWV8fG0pJiZsW2FdLnNwbGljZShnLDEpO2YucHVzaChrKX1yZXR1cm4gZn1mdW5jdGlvbiBLKGEpe3ZhciBiPVtdO2Euc2hpZnRLZXkmJmIucHVzaChcInNoaWZ0XCIpO2EuYWx0S2V5JiZiLnB1c2goXCJhbHRcIik7YS5jdHJsS2V5JiZiLnB1c2goXCJjdHJsXCIpO2EubWV0YUtleSYmYi5wdXNoKFwibWV0YVwiKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYixkLGMpe20uc3RvcENhbGxiYWNrKGIsYi50YXJnZXR8fGIuc3JjRWxlbWVudCxkLGMpfHwhMSE9PWEoYixkKXx8KGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEsYi5zdG9wUHJvcGFnYXRpb24/XG5iLnN0b3BQcm9wYWdhdGlvbigpOmIuY2FuY2VsQnViYmxlPSEwKX1mdW5jdGlvbiB5KGEpe1wibnVtYmVyXCIhPT10eXBlb2YgYS53aGljaCYmKGEud2hpY2g9YS5rZXlDb2RlKTt2YXIgYj1BKGEpO2ImJihcImtleXVwXCI9PWEudHlwZSYmej09PWI/ej0hMTptLmhhbmRsZUtleShiLEsoYSksYSkpfWZ1bmN0aW9uIHcoYSl7cmV0dXJuXCJzaGlmdFwiPT1hfHxcImN0cmxcIj09YXx8XCJhbHRcIj09YXx8XCJtZXRhXCI9PWF9ZnVuY3Rpb24gTChhLGIsZCxjKXtmdW5jdGlvbiBlKGIpe3JldHVybiBmdW5jdGlvbigpe3U9YjsrK25bYV07Y2xlYXJUaW1lb3V0KEQpO0Q9c2V0VGltZW91dCh0LDFFMyl9fWZ1bmN0aW9uIHYoYil7eChkLGIsYSk7XCJrZXl1cFwiIT09YyYmKHo9QShiKSk7c2V0VGltZW91dCh0LDEwKX1mb3IodmFyIGc9blthXT0wO2c8Yi5sZW5ndGg7KytnKXt2YXIgZj1nKzE9PT1iLmxlbmd0aD92OmUoY3x8RShiW2crMV0pLmFjdGlvbik7RihiW2ddLGYsYyxhLGcpfX1mdW5jdGlvbiBFKGEsYil7dmFyIGQsXG5jLGUsZj1bXTtkPVwiK1wiPT09YT9bXCIrXCJdOmEuc3BsaXQoXCIrXCIpO2ZvcihlPTA7ZTxkLmxlbmd0aDsrK2UpYz1kW2VdLEdbY10mJihjPUdbY10pLGImJlwia2V5cHJlc3NcIiE9YiYmSFtjXSYmKGM9SFtjXSxmLnB1c2goXCJzaGlmdFwiKSksdyhjKSYmZi5wdXNoKGMpO2Q9YztlPWI7aWYoIWUpe2lmKCFwKXtwPXt9O2Zvcih2YXIgZyBpbiBoKTk1PGcmJjExMj5nfHxoLmhhc093blByb3BlcnR5KGcpJiYocFtoW2ddXT1nKX1lPXBbZF0/XCJrZXlkb3duXCI6XCJrZXlwcmVzc1wifVwia2V5cHJlc3NcIj09ZSYmZi5sZW5ndGgmJihlPVwia2V5ZG93blwiKTtyZXR1cm57a2V5OmMsbW9kaWZpZXJzOmYsYWN0aW9uOmV9fWZ1bmN0aW9uIEYoYSxiLGQsYyxlKXtxW2ErXCI6XCIrZF09YjthPWEucmVwbGFjZSgvXFxzKy9nLFwiIFwiKTt2YXIgZj1hLnNwbGl0KFwiIFwiKTsxPGYubGVuZ3RoP0woYSxmLGIsZCk6KGQ9RShhLGQpLGxbZC5rZXldPWxbZC5rZXldfHxbXSxDKGQua2V5LGQubW9kaWZpZXJzLHt0eXBlOmQuYWN0aW9ufSxcbmMsYSxlKSxsW2Qua2V5XVtjP1widW5zaGlmdFwiOlwicHVzaFwiXSh7Y2FsbGJhY2s6Yixtb2RpZmllcnM6ZC5tb2RpZmllcnMsYWN0aW9uOmQuYWN0aW9uLHNlcTpjLGxldmVsOmUsY29tYm86YX0pKX12YXIgaD17ODpcImJhY2tzcGFjZVwiLDk6XCJ0YWJcIiwxMzpcImVudGVyXCIsMTY6XCJzaGlmdFwiLDE3OlwiY3RybFwiLDE4OlwiYWx0XCIsMjA6XCJjYXBzbG9ja1wiLDI3OlwiZXNjXCIsMzI6XCJzcGFjZVwiLDMzOlwicGFnZXVwXCIsMzQ6XCJwYWdlZG93blwiLDM1OlwiZW5kXCIsMzY6XCJob21lXCIsMzc6XCJsZWZ0XCIsMzg6XCJ1cFwiLDM5OlwicmlnaHRcIiw0MDpcImRvd25cIiw0NTpcImluc1wiLDQ2OlwiZGVsXCIsOTE6XCJtZXRhXCIsOTM6XCJtZXRhXCIsMjI0OlwibWV0YVwifSxCPXsxMDY6XCIqXCIsMTA3OlwiK1wiLDEwOTpcIi1cIiwxMTA6XCIuXCIsMTExOlwiL1wiLDE4NjpcIjtcIiwxODc6XCI9XCIsMTg4OlwiLFwiLDE4OTpcIi1cIiwxOTA6XCIuXCIsMTkxOlwiL1wiLDE5MjpcImBcIiwyMTk6XCJbXCIsMjIwOlwiXFxcXFwiLDIyMTpcIl1cIiwyMjI6XCInXCJ9LEg9e1wiflwiOlwiYFwiLFwiIVwiOlwiMVwiLFxuXCJAXCI6XCIyXCIsXCIjXCI6XCIzXCIsJDpcIjRcIixcIiVcIjpcIjVcIixcIl5cIjpcIjZcIixcIiZcIjpcIjdcIixcIipcIjpcIjhcIixcIihcIjpcIjlcIixcIilcIjpcIjBcIixfOlwiLVwiLFwiK1wiOlwiPVwiLFwiOlwiOlwiO1wiLCdcIic6XCInXCIsXCI8XCI6XCIsXCIsXCI+XCI6XCIuXCIsXCI/XCI6XCIvXCIsXCJ8XCI6XCJcXFxcXCJ9LEc9e29wdGlvbjpcImFsdFwiLGNvbW1hbmQ6XCJtZXRhXCIsXCJyZXR1cm5cIjpcImVudGVyXCIsZXNjYXBlOlwiZXNjXCIsbW9kOi9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pP1wibWV0YVwiOlwiY3RybFwifSxwLGw9e30scT17fSxuPXt9LEQsej0hMSxJPSExLHU9ITE7Zm9yKGY9MTsyMD5mOysrZiloWzExMStmXT1cImZcIitmO2ZvcihmPTA7OT49ZjsrK2YpaFtmKzk2XT1mO3MocixcImtleXByZXNzXCIseSk7cyhyLFwia2V5ZG93blwiLHkpO3MocixcImtleXVwXCIseSk7dmFyIG09e2JpbmQ6ZnVuY3Rpb24oYSxiLGQpe2E9YSBpbnN0YW5jZW9mIEFycmF5P2E6W2FdO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKUYoYVtjXSxiLGQpO3JldHVybiB0aGlzfSxcbnVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBtLmJpbmQoYSxmdW5jdGlvbigpe30sYil9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtpZihxW2ErXCI6XCIrYl0pcVthK1wiOlwiK2JdKHt9LGEpO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2w9e307cT17fTtyZXR1cm4gdGhpc30sc3RvcENhbGxiYWNrOmZ1bmN0aW9uKGEsYil7cmV0dXJuLTE8KFwiIFwiK2IuY2xhc3NOYW1lK1wiIFwiKS5pbmRleE9mKFwiIG1vdXNldHJhcCBcIik/ITE6XCJJTlBVVFwiPT1iLnRhZ05hbWV8fFwiU0VMRUNUXCI9PWIudGFnTmFtZXx8XCJURVhUQVJFQVwiPT1iLnRhZ05hbWV8fGIuaXNDb250ZW50RWRpdGFibGV9LGhhbmRsZUtleTpmdW5jdGlvbihhLGIsZCl7dmFyIGM9QyhhLGIsZCksZTtiPXt9O3ZhciBmPTAsZz0hMTtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKWNbZV0uc2VxJiYoZj1NYXRoLm1heChmLGNbZV0ubGV2ZWwpKTtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKWNbZV0uc2VxP2NbZV0ubGV2ZWw9PWYmJihnPSEwLFxuYltjW2VdLnNlcV09MSx4KGNbZV0uY2FsbGJhY2ssZCxjW2VdLmNvbWJvLGNbZV0uc2VxKSk6Z3x8eChjW2VdLmNhbGxiYWNrLGQsY1tlXS5jb21ibyk7Yz1cImtleXByZXNzXCI9PWQudHlwZSYmSTtkLnR5cGUhPXV8fHcoYSl8fGN8fHQoYik7ST1nJiZcImtleWRvd25cIj09ZC50eXBlfX07Si5Nb3VzZXRyYXA9bTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUobSl9KSh3aW5kb3csZG9jdW1lbnQpO1xuIl19
