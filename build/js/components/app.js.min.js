(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
   //Analytics
  render: function () {
    return (
      React.DOM.div({style: {height:'400px'}, className: ""}, 
        React.DOM.div({className: "container", style: {width:'100%',padding:'0',height:'100%'}}, 
          AnalyticsSideMenu(null), 
          React.DOM.div({className: "col-md-3", style: {padding:'0'}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead(null, 
                React.DOM.th(null, "Stat"), 
                React.DOM.th(null, "#")
              ), 
              React.DOM.tbody(null, 
                React.DOM.tr(null, React.DOM.td(null, "# of People Prospected"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Companies Prospected"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Sent"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Delivered"), React.DOM.td(null, "lil")), 
                React.DOM.tr(null, React.DOM.td(null, "# of Emails Delivery Failures"), React.DOM.td(null, "lil"))
              )
            )
          )
        )
      )
    );
  }
});

var AnalyticsSideMenu = React.createClass({displayName: 'AnalyticsSideMenu',
  render: function() {
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'100%',backgroundColor:'rgb(90, 107, 119)',borderBottomLeftRadius:'3px'}}, 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-search"}), "   Prospecting Overview"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "   Email Outreach"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-user"}), "   Team Stats"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-cloud"}), "   CRM Integration"
          ), 
          React.DOM.button({type: "button", className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-circle-o"}), "   Sales Cycle"
          )
        )
      )
    );
  }
});

},{}]},{},[1])


},{}],2:[function(require,module,exports){
/** @jsx React.DOM */

/* TODO
 * 
 * - All count change, when prospect is archived
 * - When is list is chaanged from all and then returned to All prospects take a long     time to load
 * - Fix pagination issues
 *
 * - Parallelize Workers
 * - Scale up google scrape to hundreds of workers (heroku)
 *
 * - Company Shortcuts 
 * - Add ability to switch accounts for admins
 * - Add email uneditable email fields
 */

var Prospects = require('./prospects.js.min.js');
var CompanyProspects = require('./company_prospects.js.min.js');
var MiningJob = require('./mining_job.js.min.js');
var Campaigns = require('./email.js.min.js');
var Analytics = require('./analytics.js.min.js');
var SignUp = require('./signup.js.min.js');
var Login = require('./login.js.min.js');
var LandingPage = require('./landing_page.js.min.js');
var LandingPage = require('./landing_page_concept.js.min.js');
var FreeTrial = require('./free_trial.js.min.js');
var Pricing = require('./pricing.js.min.js');
var Signals = require('./signals.js.min.js');
var MouseTrap = require('../lib/mousetrap.min.min.js')
//var checkAuth = require('./auth.min.js')

var Home = React.createClass({displayName: 'Home',
  componentWillMount: function(){
    checkAuth()
  },

  getInitialState: function() {
    // num_of_pages
    return {prospects: [] , 
            currentPage: 1, 
            pages: 1, 
            count:"~", 
            prospectType:'Prospect', 
            selectedScreen: 'Prospects'}
  },

  toggleScreen: function(e) {
    e.preventDefault()
    this.setState({selectedScreen : $(e.target).text().trim()})
  },

  logout: function() {
    localStorage.clear()
    location.href = "#get_started"
  },

  listDropdown: function() {
    console.log('dropdown')
    //$('.dropdown-menu').dropdown()
    $('.prospect-list-select').css('border-bottom-right-radius','0px')
    $('.prospect-list-select').css('border-bottom-left-radius','0px')
      
    $('.list-select-dropdown').css('border-top-left-radius','0px')
    $('.list-select-dropdown').css('border-top-right-radius','0px')
  },

  selectChange : function() {

  },

  stripeCheckout: function() {
    handler.open({
      name: 'Customero',
      description: 'Get 900 free email credits!',
      amount: 0,
      panelLabel: "Start Your Free Trial!",
      opened: function() {
      },
      closed: function() {
        console.log("closed")
        location.reload()
      }
    });
  },

  componentDidMount: function() {
    // Credit Card Verified Check
    localStorage.selectedProspects = "[]"
    currentUser = JSON.parse(localStorage.currentUser)
    if(!currentUser.creditCardVerified)
      this.stripeCheckout()

    /*
     * Make Request To Get Most Up to Date Info
     * On Success Add To Intercom
    */

    /*
    $.ajax({
      url:''
      success: function(res) {
        // Number of Prospects for user
        // Number of Lists
        // Number of Emails found
        Intercom('boot', {
          app_id: 'abc12345',
          email: 'john.doe@example.com',
          created_at: 1234567890,
          name: 'John Doe',
          user_id: '9876'
        });
      },
      error: function(err) {
      }
    });
    */
    // Intercom
    // Mixpanel
  },

  render: function() {
    switch (this.state.selectedScreen) {
      case 'Prospects':
        currentScreen = Prospects({prospectType: this.state.selectedScreen})
        break;
      case 'Companies':
        currentScreen = CompanyProspects({prospectType: this.state.selectedScreen})
        break;
      case 'Mining Jobs':
        currentScreen = MiningJob(null)
        break;
      case 'Analytics':
        currentScreen = Analytics(null)
        break;
      case 'Campaigns':
        currentScreen = Campaigns(null)
        break;
      case 'Signals':
        currentScreen = Signals(null)
        break;
      case 'Settings':
        currentScreen = Settings(null)
        break;
    }

    return (
      React.DOM.div(null, 
      React.DOM.br(null), 
      React.DOM.br(null), 
      React.DOM.div({className: "container"}, 
      React.DOM.h1({style: {fontWeight:'bold',display:'inline',fontWeight:'100',color:'#1ca3fd'}}, "Customero "), 
      React.DOM.span({style: {float:'right'}}, 
        React.DOM.img({src: "build/img/user.png", style: {height:'40px',width:'40px',padding:'2px',marginTop:'5px',borderRadius:'23px',display:'inline'}, className: "thumbnail"}), "   ",  
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline'}}, "Welcome")
      ), 
      React.DOM.span({style: {float:'right', marginRight:'150px'}}, 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline',}}, React.DOM.a({href: "javascript:", onClick: this.logout}, "Logout")), 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline',marginRight:'10px'}}, React.DOM.a({href: "#pricing"}, "Pricing")), 
        React.DOM.h6({style: {marginTop:'20px',float:'right',display:'inline',display:'none', marginRight:'10px'}}, React.DOM.a({href: "#pricing"}, "Documentation"))
      ), 
      React.DOM.br(null), 
      React.DOM.br(null), 
        React.DOM.div({className: "panel panel-default"}, 
        React.DOM.div({id: "navbar", className: "panel-heading"}, 

          React.DOM.div({className: "btn-group col-md-offset-4"}, 
            React.DOM.a({className: "choose btn btn-primary ", style: {display:'block'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-wifi"}), " Signals"
            ), 
            React.DOM.a({className: "choose btn btn-primary active", onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-user"}), " Prospects"
            ), 
            React.DOM.a({className: "choose btn btn-primary", style: {display:'none'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-bar-chart-o"}), " Analytics"
            ), 
            React.DOM.a({className: "choose btn btn-primary", 
                  style: {width:162,display:'none'}, 
                  onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-tasks"}), " Mining Jobs  ", 
                React.DOM.span({className: "label label-default"}, "BETA")
            ), 
            React.DOM.a({className: "choose btn btn-primary", onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-building"}), " Companies"
            ), 
            React.DOM.a({className: "choose btn btn-primary", style: {display:'block'}, onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-envelope"}), " Campaigns"
            )
          ), 
          React.DOM.a({href: "javascript:", 
            style: {marginTop:7, float:'right'}, 
            className: "btn btn-success btn-sm", 
            onClick: this.downloadSocialProspecter}, 
            "Download Social Prospecter"
          )
        ), 

          currentScreen

        )
      )
      )
    );
  },
  
  downloadSocialProspecter: function() {
    //chrome.webstore.install('https://chrome.google.com/webstore/detail/ofcalkjbogaiipekcocdefjenclioeci')
    chrome.webstore.install()
    console.log('download')
  },

  /*
          <a href="#" className="btn btn-success" onClick={this.downloadFile}
                  style={{float:'right',marginTop:'6px'}}>
            <i className="fa fa-download" />&nbsp;&nbsp;
            <h5 style={{display:'inline'}} >Download CSV</h5>
          </a>
  */

  deleteProspect: function(objectId, endpoint) {
    var filtered = _.filter(this.state.prospects, function(item) {
       return item.objectId != objectId
    });
    this.setState({prospects: filtered})

    $.ajax({
      url:'https://api.parse.com/1/classes/'+endpoint+'/'+objectId,
      type:'DELETE',
      headers: parse_headers,
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
      }
    });
  }
});


var Workspace = Backbone.Router.extend({
  routes: {
    //landing_page
    ""            : "home",
    "get_started" : "landing_page",
    "free_trial"  : "free_trial",
    "signup"      : "signup",
    "login"       : "login",
    "pricing"     : "pricing",
  },
  home: function() {
    currentUser = localStorage.getItem('currentUser')
    if (currentUser) 
      React.renderComponent(Home(), document.getElementById('content'));
    else
      location.href = "#get_started"
  },
  landing_page: function() {
    React.renderComponent(LandingPage(), document.getElementById('content'));
  },
  free_trial: function() {
    React.renderComponent(FreeTrial(), document.getElementById('content'));
  },

  signup: function() {
    React.renderComponent(SignUp(), document.getElementById('content'));
  },
  login: function() {
    React.renderComponent(Login(), document.getElementById('content'));
  },
  pricing: function() {
    React.renderComponent(Pricing(), document.getElementById('content'));
  }
});

$(document).ready(function(){
  checkAuth()
  var workspace = new Workspace;
  Backbone.history.start();
});
/*
          <div className="dropdown" style={{display:'block',float:'left'}}>
            <a data-toggle="dropdown" onClick={this.listDropdown} className="prospect-list-select" href="javascript:">Default&nbsp;&nbsp;&nbsp;<i className="fa fa-chevron-circle-down" /></a>
              <ul className="list-select-dropdown dropdown-menu" role="menu" aria-labelledby="dLabel" style={{marginTop:'-1px'}}>
                <li>LOL</li>
                <li>LMAO</li>
                <li>LMFAO</li>
              </ul>
          </div>
*/

},{"../lib/mousetrap.min.min.js":39,"./analytics.js.min.js":1,"./company_prospects.js.min.js":6,"./email.js.min.js":12,"./free_trial.js.min.js":15,"./landing_page.js.min.js":16,"./landing_page_concept.js.min.js":17,"./login.js.min.js":19,"./mining_job.js.min.js":21,"./pricing.js.min.js":23,"./prospects.js.min.js":24,"./signals.js.min.js":31,"./signup.js.min.js":32}],3:[function(require,module,exports){
/** @jsx React.DOM */
var TemplatesMenu = require('./templates_menu.js.min.js');
var EditTemplateView = require('./edit_template.js.min.js');
var FollowupTimeline = require('./followup_timeline.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  // Campaign Detail
  getInitialState: function() {
    return {
      selectedTemplate: 0,
      templateDetailMode: false,
      editMode: false,
      followupDay: 0,
      templates:[],
      currentTemplate:'',
    }
  },

  componentDidMount: function() {
     thissss = this;
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     qry = 'where={"company":'+company+'}'
    $.ajax({
      url:'https://api.parse.com/1/classes/Templates',
      headers: appConfig.headers,
      data: qry,
      success: function(res) {
        //console.log(res.results)
        thissss.setState({templates: res.results})
      },
      error: function(err) {
        console.log('error')
        //console.log(err)
      }
    });
    /*
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      headers: appConfig.headers,
      data: qry,
      success: function(res) {
        //console.log(res.results)
        thissss.setState({templates: res.results})
      },
      error: function(err) {
        console.log('error')
        //console.log(err)
      }
    });
    */
  },

  returnToOverview: function() {
    this.props.toggleScreen('Campaigns')
  },

  render: function() {
    //console.log('campaign detail')
    //console.log(this.props.selectedCampaign)
    thiss = this;
    return (
      React.DOM.div({className: "container", 
           style: {width:'100%',height:'100%',paddingLeft:0,paddingRight:0}}, 
        React.DOM.div({style: {marginBottom:30}}, 
        React.DOM.h5({style: {marginTop:20,marginLeft:20}}, 
          React.DOM.a({href: "javascript:", onClick: this.returnToOverview}, "Campaigns "), 
          React.DOM.small(null, 
            React.DOM.i({style: {marginLeft:10, marginRight:10}, 
               className: "fa fa-chevron-right"})
          ), 
          this.props.selectedCampaign.name
        ), 
        React.DOM.h6({style: {marginLeft:20}}, 
          React.DOM.span({className: "text-muted"}, "Prospect List:"), "  ", 
          this.props.selectedCampaign.prospect_list.name
        ), 
        React.DOM.a({href: "javascript:", 
          style: {float: 'right', marginTop: -35, marginRight: 30, display:'none'}, 
           className: "btn btn-success btn-sm"}, 
          React.DOM.i({className: "fa fa-envelope"}), " Send!"
        )
        ), 
          React.DOM.div({className: "col-md-8 panel panel-default", 
               style: {height:'363px',paddingLeft:305,paddingTop:50,overflow:'auto',borderRight:0,borderRadius:0}}, 
               FollowupTimeline({
                  currentCampaign: this.props.selectedCampaign, 
                  followups: this.props.selectedCampaign.followups})
          ), 
          React.DOM.div({className: "col-md-4", 
               style: {paddingLeft:0,paddingRight:0,height:363}}, 
            TemplatesMenu({
              templates: this.state.templates, 
              toggleTemplateEditMenu: this.toggleTemplateEditMenu})
          ), 

          (this.state.templateDetailMode) ? EditTemplateView({
            editMode: this.state.editMode, 
            initialTemplateValues: this.state.currentTemplate, 
            toggleTemplateEditMenu: this.toggleTemplateEditMenu, 
            followupDay: this.state.followupDay}) : ""
      )
    );
  },

  toggleTemplateEditMenu: function(currentTemplate) {
    //console.log(this.getDOMNode())
    //console.log(currentTemplate)

    this.setState({
      currentTemplate: currentTemplate,
      templateDetailMode: !this.state.templateDetailMode,
    })
  }
});

},{"./edit_template.js.min.js":11,"./followup_timeline.js.min.js":14,"./templates_menu.js.min.js":34}],4:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Campaigns
  getInitialState: function() {
    return {
      selectedScreen: 'Overview',
      campaigns: []
    }
  },

  changeSelectedCampaign: function(campaign) {
    //this.props.toggleScreen('CampaignDetail')
    this.props.changeSelectedCampaign('CampaignDetail', campaign)
  },

  componentDidMount: function() {
    thiss = this;
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     qry = 'where={"company":'+company+'}&include=prospect_list,followups'
     $.ajax({
       url:'https://api.parse.com/1/classes/Campaign',
      headers: appConfig.headers,
      data: qry,
      success: function(res) {
        console.log(res.results)
        thiss.setState({campaigns: res.results})
        // TODO  - Add Get Prospect List Count
        // Follow Up Feed Feature
        // - Shows what stages different prospects are at and whether you 
        //   should send a follow up to them.
        // How to get the stage of Prospect List
        // - Where to persist last email sent
        // - What is stored at the campaign level
        // - What is stored at the prospect level
        // - Timeline (General 7 x 7 cadences)
        //   - 
        // - Rules (Sankey / Flow View)
        //   - Shows all or only the ones that havent responded 
        //   - Show all the ones hthat haven't replied
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
     });
  },

  render: function() {
    campaigns = []
    for(i=0;i< this.state.campaigns.length; i++){ 
      campaigns.push(CampaignRow({
                        toggleScreen: this.toggleScreen, 
                        changeSelectedCampaign: this.changeSelectedCampaign, 
                        campaign: this.state.campaigns[i]}) )
    }
    return (
      React.DOM.div(null, 
        React.DOM.table({className: "table table-striped"}, 
          React.DOM.thead(null, 
            React.DOM.th(null), 
            React.DOM.th(null, "Campaign Name"), 
            React.DOM.th(null, "Prospect List"), 
            React.DOM.th({style: {textAlign:'center'}}, "Opened"), 
            React.DOM.th({style: {textAlign:'center'}}, "Replied"), 
            React.DOM.th({style: {textAlign:'center'}}, "Link Clicks"), 
            React.DOM.th({style: {textAlign:'center'}}, "Bounces"), 
            React.DOM.th({style: {width:150,textAlign:'center'}}, 
              "Status"
            )
          ), 
          React.DOM.tbody(null, 
            campaigns
          )
        )
      )
    );
  }
});

var CampaignRow = React.createClass({displayName: 'CampaignRow',
  toggleScreen: function() {
    //this.props.toggleScreen()
    this.props.changeSelectedCampaign(this.props.campaign)
  },

  render: function() {
    return (
      React.DOM.tr({style: {cursor:'pointer'}, onClick: this.toggleScreen}, 
        React.DOM.td(null), 
        React.DOM.td(null, " ", React.DOM.h6(null, 
            this.props.campaign.name
        ), " "), 
        React.DOM.td(null, " ", React.DOM.h6(null, 
            this.props.campaign.prospect_list.name
        ), " "), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-success"}, "100%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-info"}, "100%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-primary"}, "18%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.span({className: "label label-danger"}, "11%")
        ), 
        React.DOM.td({style: {textAlign:'center',padding:12}}, 
          React.DOM.h4({style: {margin:0}}, 
            React.DOM.span({className: "label label-success"}, "Ready")
          )
        )
      )
    )
  }
});

},{}],5:[function(require,module,exports){
/** @jsx React.DOM */
// 

module.exports = React.createClass({displayName: 'exports',
  //CompanyProspect
  render: function () {
    prospect = this.props.prospect
    website = (prospect.website) ? React.DOM.a({href: 'http://'+prospect.website}, React.DOM.i({className: "fa fa-globe"})) : ''
    linkedin_profile = (prospect.profile != "") ? React.DOM.a({href: prospect.profile}, React.DOM.i({className: "fa fa-linkedin-square"})) : ''

  /*
            <a href="javascript:" className="btn btn-success btn-xs"
              style={{background: 'linear-gradient(#34c520,#219211)'}}> 
              <i className="fa fa-search" /> &nbsp;
              Find Prospects
            </a>
  */

  console.log

  //<td><a href="javascript:" onClick={this.deleteProspect}><i className="fa fa-times-circle" /></a></td>
    return (
        React.DOM.tr(null, 
          React.DOM.td({style: {width:'300px'}}, 
            React.DOM.span({style: {fontWeight:'bold'}}, prospect.name), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, prospect.headcount)
          ), 
          React.DOM.td(null, React.DOM.h6({style: {margin:'0px'}}, moment(prospect.createdAt,'YYYY-MM-DDTh:mm:ss').fromNow())), 
          React.DOM.td(null, React.DOM.h6({style: {margin:'0px'}}, prospect.industry)), 
          React.DOM.td(null, 
            React.DOM.span({className: "label label-primary", style: {display: 'block', width: 'auto', marginRight: 'auto', marginLeft: 'auto', width: '25px'}}, "0")
          ), 
          React.DOM.td(null, React.DOM.span({className: "label label-info"}, "Hiring")), 
          React.DOM.td(null, 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openLinkedinCompanyProfile, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
              "Search Profiles"
            ), 
            "   ", 
            React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
              onClick: this.openSimilarCompanies, 
              style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
              React.DOM.i({className: "fa fa-copy"}), "  " + ' ' +
              "Find Similar Companies"
            )
          ), 
          React.DOM.td(null, " ", linkedin_profile, "   ", website, " ")
        )
    );
  },

  openLinkedinCompanyProfile: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/p?f_CC="+cid)
  },

  openSimilarCompanies: function() {
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    window.open("https://www.linkedin.com/vsearch/c?rsid=526440371409184768175&pivotType=sim&pid="+cid+"&trk=sim_companies_res_sim&trkInfo=VSRPsearchId%3A526440371409184768175%2CVSRPtargetId%3A1025%2CVSRPcmpt%3Aprimary")
  },

  deleteProspect: function() {
    this.props.deleteProspect(this.props.prospect.objectId, 'CompanyProspect')
  }
});

},{}],6:[function(require,module,exports){
/** @jsx React.DOM */

var CompanyProspect = require('./company.js.min.js');
var LoadingSpinner = require('./loading_spinner.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {  prospects   : [],
              currentPage : 1,
              loading     : true,
              pages       : 1,
              count       : "~", }
  },
  /*
   *
    cid = this.props.prospect.profile.split('?')[0].split('/company/')[1]
    console.log(this.props)
    window.open("https://www.linkedin.com/vsearch/p?f_CC="+cid)
  */
  
  render: function() {
    console.log('company')
    prospects = []
    for(i=0;i<this.state.prospects.length;i++) {
      url = this.state.prospects[i].url

      if(url != "no linkedin website" && typeof(url) != "undefined" && url != ""){
        url = url.replace('http://','')
        the_link = React.DOM.a({href: 'http://'+url}, React.DOM.i({className: "fa fa-globe"}))
      } else {
        the_link = ""
      }

      profile = this.state.prospects[i].profile
      //profile = profile.replace('http://','')
      li = React.DOM.a({href: 'http://'+profile}, React.DOM.i({className: "fa fa-linkedin-square"}))

      if(this.props.prospectType == 'Prospect') {
        prospects.push(
          UserProspect({deleteProspect: this.deleteProspect, 
                        prospect: this.state.prospects[i], 
                        key: this.generate_id(), 
                        link: the_link, li: li})
        )
      } else {
        prospects.push(
          CompanyProspect({deleteProspect: this.deleteProspect, 
                           key: this.generate_id(), 
                           prospect: this.state.prospects[i]})
        )
      }
    }

    previous = (this.state.currentPage - 1) ? '' : 'disabled'
    forward = (this.state.currentPage == this.state.pages) ? 'disabled' : ''

    lowerLimit = (this.state.currentPage-1)*100
    upperLimit = this.state.currentPage*100

    lowerLimit = (lowerLimit) ? lowerLimit : 1
    upperLimit = (upperLimit > this.state.count) ? this.state.count : upperLimit
  
    console.log(prospects.length)
    companyStyle= (prospects.length) ? {padding:'0'} : {display:'none'}

    return (
      React.DOM.div(null, 
      React.DOM.div({className: "container bg-radius", style: {width:'100%',padding:'0'}}, 
        (prospects.length == 0 && this.state.loading == false) ? EmptyCompanyProspectsPanel(null) : "", 
        (this.state.loading) ? LoadingSpinner(null) : "", 
        React.DOM.div({className: "col-md-12", style: companyStyle}, 
          React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead({style: {backgroundColor:'white'}}, 
                CompanyProspectHeader(null)
              ), 
              React.DOM.tbody(null, 
                prospects
              )
            )
          )
        )
      ), 
        React.DOM.div({className: "panel-footing", id: "navbar", style: {height:'35px',padding:'0px',paddingTop:'7px'}}, 
          React.DOM.span({style: {float:'right',marginRight:'20px'}}, 
          React.DOM.a({href: "javascript:", style: {marginRight:'5px'}, onClick: this.paginatePrevious, className: "blue-gradient btn btn-primary btn-xs " + previous}, React.DOM.i({className: "fa fa-fast-backward"})), 
          React.DOM.a({href: "javascript:", onClick: this.paginatePrevious, className: "blue-gradient btn btn-primary btn-xs " + previous}, React.DOM.i({className: "fa fa-chevron-left"})), 
          "   ", 
          React.DOM.span({className: ""}, lowerLimit + ' - '+upperLimit+' of '+this.state.count), 
          "   ", 
          React.DOM.a({href: "javascript:", onClick: this.paginateForward, className: "blue-gradient btn btn-primary btn-xs " + forward}, React.DOM.i({className: "fa fa-chevron-right"})), 
          React.DOM.a({href: "javascript:", style: {marginLeft:'5px'}, onClick: this.paginateForward, className: "blue-gradient btn btn-primary btn-xs " + forward}, React.DOM.i({className: "fa fa-fast-forward"}))
          )
        )
      )
    );
  },

  componentDidMount: function() {
    thisss = this;
    parse_headers = {'X-Parse-Application-Id':'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 'X-Parse-REST-API-Key':'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb'}
    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)

    $.ajax({
      url: 'https://api.parse.com/1/classes/CompanyProspect',
      type:'GET',
      headers: parse_headers,
      async: true,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        thisss.setState({pages: Math.ceil(res.count/100)})
        thisss.setState({loading: false})
      },
      error: function(res){
        console.log('error')
        console.log(res)
      }
    });
  },

  generate_id : function () {
    return '_' + Math.random().toString(36).substr(2, 9);
  },
});

var SideMenuCompanyProspects = React.createClass({displayName: 'SideMenuCompanyProspects',
  render: function() {
        
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'400px',backgroundColor:'#e0e9ee',borderRight:'1px solid #b0b8bf',textAlign:'center'}}, 
        React.DOM.div({className: "prospect-list-header"}, 
          "Lists"
        ), 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Templates"), 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Schedules"), 
          React.DOM.button({type: "button", className: "list-names btn btn-default"}, "Rules")
        ), 
        React.DOM.br(null), 
        React.DOM.br(null), 
        React.DOM.a({href: "javascript:", className: "btn btn-primary", 
              style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
          React.DOM.i({className: "fa fa-plus-circle"}), " New Class"
        ), 
        React.DOM.br(null)
      )
    );
  },

  paginatePrevious: function() {
    console.log('previous')
    console.log((this.state.currentPage - 1)*100)
    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+(thiss.state.currentPage-2)*100,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        thiss.setState({prospects: res.results})
        thiss.setState({currentPage: thiss.state.currentPage - 1})
      },
      error: function(res){
        console.log(res)
      }
    });
  },

  paginateForward: function() {
    console.log('forward')

    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+thiss.state.currentPage*100,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        thiss.setState({prospects: res.results})
        thiss.setState({currentPage: thiss.state.currentPage + 1})
      },
      error: function(res){
        console.log(res)
      }
    });
  },
});

var EmptyCompanyProspectsPanel = React.createClass({displayName: 'EmptyCompanyProspectsPanel',
  openLinkedinWindow: function() {
    window.open('https://www.linkedin.com/vsearch/c?type=companies')
  },

  render: function() {
    return (
      React.DOM.div({className: "col-md-offset-3 col-md-6", style: {height:400}}, 
      React.DOM.div({className: "panel panel-default", style: {marginTop:100,height:200}}, 
        React.DOM.div({className: "panel-body"}, 
          React.DOM.h1({className: "lead", style: {textAlign:'center'}}, "Start Prospecting On Linkedin"), 
          React.DOM.a({href: "javascript:", onClick: this.openLinkedinWindow, className: "btn btn-success", style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important',display:'block',marginRight:'auto',marginLeft:'auto',width:200, marginTop:50}}, 
            React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
            "Search for companies!")
        )
      )
    )
    );
  }
});

var CompanyProspectHeader = React.createClass({displayName: 'CompanyProspectHeader',
  render: function() {
    return (
      React.DOM.tr(null, 
        React.DOM.th(null, "Name"), 
        React.DOM.th(null, "Added On"), 
        React.DOM.th(null, "Industry"), 
        React.DOM.th(null, "# of Prospects"), 
        React.DOM.th(null, "Signals"), 
        React.DOM.th(null, " "), 
        React.DOM.th(null, " ")
      )
    );
  }
});

},{"./company.js.min.js":5,"./loading_spinner.js.min.js":18}],7:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  renameList: function(e) {
    e.preventDefault()
    //console.log($('#newListName').val())
    newListName = $('#newListName').val()
    if(newListName.trim() != "")
      this.props.renameList(newListName)
    // Disable Modal
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-createCampaign-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-envelope"}), "  Create Campaign")
                ), 

                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.renameList}, 
                    React.DOM.input({id: "newCampaignName", 
                           type: "text", 
                           placeholder: "Enter Campaign Name...", 
                           className: "form-control"}), 

                    React.DOM.select({className: "form-control", 
                            style: {marginTop:20,marginBottom:20}}, 
                      React.DOM.option(null, "1"), 
                      React.DOM.option(null, "2"), 
                      React.DOM.option(null, "3"), 
                      React.DOM.option(null, "4"), 
                      React.DOM.option(null, "5")
                    ), 

                    React.DOM.a({href: "javascript:", 
                      onClick: this.renameList, 
                      className: "btn btn-success", 
                      style: {display:'block', width:'100%'}}, 
                      "Create Campaign"
                    )
                  )
                )
              )
            )
          )
    );
  }
});


},{}],8:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createListButtonClick: function() {
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  createMiningJob: function(e) {
    e.preventDefault()
    console.log('lmao')
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-example-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-list"}), "  Create List")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.createMiningJob}, 
                    React.DOM.input({id: "listTitle", type: "text", placeholder: "Enter list title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", onClick: this.createListButtonClick, placeholder: "Enter City Area...", className: "btn btn-success", style: {display:'block', width:'100%'}}, "Create List")
                  )

                )
              )
            )
          )
    );
  }
});


},{}],9:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createListButtonClick: function() {
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  createMiningJob: function(e) {
    e.preventDefault()
    console.log('lmao')
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  deleteList: function() {
    this.props.deleteList()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-createSignal-modal-md", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'100px',overflow:'hidden'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-wifi"}), "  Create Signal"
                  )
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({className: "createSignal", onSubmit: this.createSignal}, 
                    React.DOM.span(null, " ", React.DOM.i({className: "fa fa-suitcase"}), "  ", 
                      React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                            className: "form-control", placeholder: "Find Companies Hiring For ..."})
                    ), 
                    React.DOM.br(null), " ", React.DOM.br(null), 
                    React.DOM.span(null, " ", React.DOM.i({className: "fa fa-users"}), "  ", 
                      React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                            className: "form-control", placeholder: "Number of Employees ..."})
                    ), 
                    React.DOM.br(null), " ", React.DOM.br(null), 
                    React.DOM.span(null, " ", React.DOM.i({className: "fa fa-institution"}), "  ", 
                      React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                            className: "form-control", placeholder: "Amount of Funding ..."})
                    ), 
                    React.DOM.br(null), " ", React.DOM.br(null), 
                    React.DOM.span(null, " ", React.DOM.i({className: "fa fa-money"}), "  ", 
                      React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                            className: "form-control", placeholder: "Revenue Amount ..."})
                    ), 
                    React.DOM.br(null), " ", React.DOM.br(null), 
                    React.DOM.span(null, " ", React.DOM.i({className: "fa fa-wrench"}), "  ", 
                      React.DOM.input({type: "text", style: {display:'inline-block',width:'90%'}, 
                            className: "form-control", placeholder: "Using Technologies Such As..."})
                    ), 
                    React.DOM.br(null), " ", React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.createSignal, 
                      className: "btn btn-default btn-success", 
                      style: {display:'block', width:'100%'}}, 
                      "Create Signal"
                    )
                  )

                )
              )
            )
          )
    );
  }
});


},{}],10:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  createListButtonClick: function() {
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  createMiningJob: function(e) {
    e.preventDefault()
    console.log('lmao')
    if($('#listTitle').val().trim() != "")
      this.createList()
  },

  deleteList: function() {
    this.props.deleteList()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-deleteList-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-trash-o"}), "  Delete List?")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({className: "deleteForm", onSubmit: this.deleteList}, 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.deleteList, 
                      className: "btn btn-danger", 
                      style: {display:'block', width:'100%'}}, 
                      "Delete"
                    ), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.deleteList, 
                      className: "btn btn-default", 
                      style: {display:'block', width:'100%'}}, 
                      "Cancel"
                    )
                  )

                )
              )
            )
          )
    );
  }
});


},{}],11:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    console.log(this.props.initialTemplateValues)
    return {
      templateBody: this.props.initialTemplateValues.body,
      templateSubject: this.props.initialTemplateValues.subject,
      editMode:false
    }
  },
  //EditTemplateView
  componentDidMount: function() {
    $('.template-body').html(this.state.templateBody)
  },

  clickedOverlay: function() {
    console.log('clicked overlay')
    this.props.toggleTemplateEditMenu()
  },

  changeMode: function() {
    // Update template html on toggle
    parse_headers = appConfig.parseHeaders
    if(this.state.editMode){
      $('.summer').destroy();
      this.setState({
        templateBody: $('.summer').code(),
        templateSubject: $('.subject').val(),
        editMode: !this.state.editMode,
      })

      $.ajax({
        url:'https://api.parse.com/1/classes/Templates/'+this.props.initialTemplateValues.objectId,
        type:'PUT',
        headers:parse_headers,
        data:JSON.stringify({body: $('.summer').code(),subject: $('.subject').val()}),
        success: function(res) {
          console.log(res)
        },
        error: function(err) {
          console.log(err)
        }
      });
    } else {
      this.setState({ editMode: !this.state.editMode })
    }
  },

  componentDidUpdate: function() {
    /*
    thiss = this;
    */

    if(this.state.editMode){
      // Replace Subject 
      $('.subject').val(this.state.templateSubject)

      $('.summer').summernote({
        height: 200,
        toolbar: [
          ['style', ['bold', 'italic', 'underline', 'clear']],
          ['font', ['strikethrough']],
          ['fontsize', ['fontsize']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['height', ['height']],
        ]
      })

      // Initialize Editor with html
      $('.summer').code(this.state.templateBody)
    }
  },

  render: function() {
    subjectPlace = (this.state.editMode) ? React.DOM.input({style: {display:'inline',width:480}, className: "form-control subject"}) : this.state.templateSubject

    if(this.state.editMode){
       toggleButton = React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-success btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            React.DOM.i({className: "fa fa-save"}), "   Save Template")
    } else {
       toggleButton = React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-primary btn-xs", 
             style: {display:'block',float:'right',marginTop:5}}, 
            React.DOM.i({className: "fa fa-pencil-square"}), "   Edit Template")
    }

    return (
      React.DOM.div(null, 
      React.DOM.div({onClick: this.clickedOverlay, id: "editTemplateOverlay"}), 
      React.DOM.div({id: "editTemplateView", 
           className: "panel panel-info", 
           style: {display:'block'}}, 
           React.DOM.div({className: "panel-heading", style: {height:50}}, 
             React.DOM.h6({style: {float:'left'}}, 
               React.DOM.i({className: "fa fa-file-text-o"}), 
               "  " + this.props.initialTemplateValues.name
             ), 
          toggleButton
        ), 
        React.DOM.div({className: "panel-body"}, 
          React.DOM.div({className: "editTemplateTitle"}, 
            React.DOM.span(null, "Subject: "), 
            subjectPlace
          ), 
         React.DOM.br(null), 
         React.DOM.div({className: "templateDetails"}, 
           React.DOM.h6({style: {marginBottom:'0'}, className: "text-muted"}, 
             "Created by Mark on Jul. 21, 2014"
           ), 
           React.DOM.h6({style: {marginTop:'0'}, className: "text-muted"}, 
             "last updated 7 days ago"
           )
         ), 
        React.DOM.br(null), 
        React.DOM.div({className: "panel panel-default"}, 
          React.DOM.div({className: "panel-body summer template-body"}
          )
        )
    )
)
)
    );
  }
});

},{}],12:[function(require,module,exports){
/** @jsx React.DOM */

var Templates = require('./templates.js.min.js');
var Schedules = require('./schedule.js.min.js');
var Campaigns = require('./campaigns.js.min.js');
var SentMail = require('./sent_mail.js.min.js');
var FollowupFeed = require('./followup_feed.js.min.js');
var CampaignDetail = require('./campaign_detail.js.min.js');
var CreateCampaignModal = require('./create_campaign.js.min.js');

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {
      selectedScreen: 'Campaigns',
      selectedCampaign:'',
    }
  },
  
  toggleScreen: function(screen) {
    this.setState({selectedScreen : screen})
  },

  changeSelectedCampaign: function(screen, selectedCampaign) {
    console.log(selectedCampaign)
    this.setState({
      selectedCampaign : selectedCampaign,
      selectedScreen: screen,
    })
  },

  render: function() {
    thiss = this
    console.log(this.state.selectedCampaign)
    switch (this.state.selectedScreen){
      case 'Campaigns':
        CurrentScreen = Campaigns({
                            changeSelectedCampaign: thiss.changeSelectedCampaign, 
                            toggleScreen: thiss.toggleScreen})
        break;
      case 'CampaignDetail':
        CurrentScreen = CampaignDetail({
                        selectedCampaign: thiss.state.selectedCampaign, 
                        selectedCampaignObjectId: thiss.state.selectedCampaginObjectId, 
                        toggleScreen: thiss.toggleScreen})
        break;
      case 'Templates':
        CurrentScreen = Templates(null)
        break;
      case 'Overview':
        CurrentScreen = Campaigns({
                            changeSelectedCampaign: thiss.changeSelectedCampaign, 
                            toggleScreen: thiss.toggleScreen})
        break;
      case 'Sent Mail':
        CurrentScreen = SentMail(null)
        break;
      case 'Followup Feed':
        CurrentScreen = FollowupFeed(null)
        break;
      case 'Schedules':
        CurrentScreen = Schedules(null)
        break;
    }

    return (
      React.DOM.div({className: "", style: {height:'450px'}}, 
        React.DOM.div({className: "container", style: {padding:'0',width:'100%',height:'100%'}}, 
            SideMenu({toggleScreen: this.toggleScreen}), 
          React.DOM.div({className: "col-md-10", style: {padding:'0',height:'100%'}}, 
            CurrentScreen
          )
        )
      )
    );
  }
});

var SideMenu = React.createClass({displayName: 'SideMenu',
  toggleScreen: function(e) {
    this.props.toggleScreen($(e.target).text().trim())
  },

  /*
    <button type="button" className="sharp btn btn-default" onClick={this.toggleScreen}>
      <i className="fa fa-file-text" /> &nbsp; Templates
    </button>
    <button type="button" className="sharp btn btn-default" onClick={this.toggleScreen}>
      <i className="fa fa-clock-o" /> &nbsp; Schedules
    </button>
  */
  createCampaignModal: function() {

  },

  render: function() {
    return (
      React.DOM.div({className: "col-md-2", 
        style: {padding:'0',height:'100%', backgroundColor:'rgb(90, 107, 119)',borderBottomLeftRadius:'3px'}}, 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%'}}, 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.span({style: {marginLeft:'27px'}}, "Overview")
          ), 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-newspaper-o"}), "  ",  
            React.DOM.span({style: {marginLeft:'4px'}}, "Followup Feed")
          ), 
          React.DOM.button({type: "button", style: {display:'none'}, 
                  className: "sharp btn btn-default"}, 
            React.DOM.i({className: "fa fa-code-fork"}), "  ",  
            React.DOM.span({style: {marginLeft:'4px'}}, "Rules")
          ), 
          React.DOM.button({type: "button", style: {display:'none'}, 
                  className: "sharp btn btn-default", onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-pie-chart"}), "   Analytics"
          ), 
          React.DOM.button({type: "button", 
                  className: "sharp btn btn-default", 
                  onClick: this.toggleScreen}, 
            React.DOM.i({className: "fa fa-paper-plane"}), "   Sent Mail"
          )
        ), 

        React.DOM.div({className: "", style: {width:'100%',textAlign:'center',marginTop:100}}, 
          React.DOM.a({href: "javascript:", className: "btn btn-primary new-list-btn", 
                'data-toggle': "modal", 'data-target': ".bs-createCampaign-modal-sm", 
                style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
            React.DOM.i({className: "fa fa-plus-circle"}), "  New Campaign"
          )
        ), 
        CreateCampaignModal({createCampaignModal: this.createCampaignModal})
      )
    );
  }
});

},{"./campaign_detail.js.min.js":3,"./campaigns.js.min.js":4,"./create_campaign.js.min.js":7,"./followup_feed.js.min.js":13,"./schedule.js.min.js":26,"./sent_mail.js.min.js":27,"./templates.js.min.js":33}],13:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // FollowupFeed
  render: function() {
    return (
      React.DOM.div(null, 
        "Followup Feed"
      )
    );
  }
});

},{}],14:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // FollowupTimeline
  getInitialState: function() {
    return {
      loading: false,
    }
  },

  componentDidMount: function() {
    thiss = this;
    $('.day').tooltip()
    $('.day-popover').popover({
      html: true,
      content: '<h6 style="width:130px;display:inline-block;"><i class="fa fa-file-text-o" ></i>&nbsp;&nbsp;Example Template</h6><button class="win-btn btn btn-success btn-xs"><i class="fa fa-paper-plane"></i>&nbsp;Send</button>&nbsp;<button class="win-btn btn btn-default btn-xs"><i class="fa fa-pencil"></i></button>&nbsp;<button class="win-btn btn btn-default btn-xs"><i class="fa fa-trash-o"></i></button>'
    })

    $('.day-popover').popover('show')
    $('.win-btn').click(function() {
      //console.log('clicked win btn')
    });

    // Followups that belong to campaign
     company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
     currentCampaign = {
       '__type': 'Pointer',
       'className':'Campaign',
       'objectId':this.props.currentCampaign.objectId
     }
     currentCampaign = JSON.stringify(currentCampaign)
     //qry = 'where={"company":'+company+',"campaign":'+currentCampaign+'}&include=template'
     qry = 'where={"campaign":'+currentCampaign+'}&include=template'
     $.ajax({
       url:'https://api.parse.com/1/classes/Followup',
       type:'GET',
       headers: appConfig.headers,
       data: qry,
       success: function(res) {
         console.log(res.results)
       },
       error: function(err) {
         console.log('error')
         console.log(err)
       }
     })
  },
  
  render: function() {
    //console.log(this.props.followups)
    timelineElements = []
    for(i=0;i< 31;i++){
      for(ii=0;ii< this.props.followups.length; ii++){
        elementType = i == this.props.followups[ii].day
        if(elementType)
          break
      }
      timelineElements.push(TimelineDayElement({
                              dayCount: i, 
                              elementType: !elementType, 
                              toggleTemplateEditMenu: this.toggleTemplateEditMenu}))
    }
    return (
      React.DOM.div(null, 
          React.DOM.div({className: "timeline", 
               style: {height:'900px',backgroundColor:'rgb(90, 107, 119)',width:5}}, 
               timelineElements
          )
      )
    );
  }
});

var TimelineDayElement = React.createClass({displayName: 'TimelineDayElement',
  render: function() {
    timelineDay = "lol"
    if(this.props.elementType) {
      timelineDay = React.DOM.div({className: "day", 
                         onClick: this.props.toggleTemplateEditMenu, 
                         'data-toggle': "tooltip", 
                         'data-placement': "right", 
                         title: "+ Add a follow-up"}, "D"+this.props.dayCount)
    } else {
      timelineDay = React.DOM.div({className: "day day-popover", 
                         onClick: this.props.toggleTemplateEditMenu, 
                         'data-toggle': "popover", 
                         'data-trigger': "manual", 
                         'data-placement': "right"}, "D"+this.props.dayCount, " ")
    }
    return (
      React.DOM.div(null, 
      timelineDay
      )
    )
  }
});

},{}],15:[function(require,module,exports){
/** @jsx React.DOM */

data = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // free trial
  open: function() {
    console.log('open')
    handler.open({
      name: 'Customero',
      description: 'Get 900 free email credits!',
      amount: 0,
      panelLabel: "Start Your Free Trial!",
      open: function() {
        console.log($('.close'))
        $('.close').hide()
      },
      closed: function() {
        console.log("closed")
      }
    });
  },

  componentDidMount: function() {
    $('body').css({overflow:'hidden'})


    //console.log(this.getDOMNode())
    /*
    $(this.getDOMNode()).append(' <form action="" method="POST"> <script src="https://checkout.stripe.com/checkout.js" class="stripe-button" data-key="pk_test_4T5Pftl4ho0EgFVo1G7OKRda" data-amount="2000" data-name="Demo Site" data-description="2 widgets ($20.00)" data-image=""> </script> </form>')

  setTimeout(function() {
    console.log($('.stripe-button-el').html())
    $('.stripe-button-el').click()

  }, 400)
*/

  },

  render: function() { 
  data = data()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 

      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Get 900 free email credits. 100% refund guarantee.  We will only start charging your card after 1 month.")

      ), 

      React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
        React.DOM.div({className: "", style: {marginLeft:34}}, 
        imgs_1, 
        imgs_2
        )
      )
      )
    )
  }
});

},{"../lib/data.min.js":38}],16:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Landing Page
  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() {
    $('body').css({overflow:'auto'})

    return (
      React.DOM.div({className: ""}, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'22px',marginLeft:'30px'}}, "Supercharge your sales! ")
            )
          ), 
          React.DOM.a({href: "#login", className: "btn-lg btn login-btn"}, "Log In")
        ), 
        React.DOM.div({className: "col-md-12", style: {marginTop:'100px',paddingTop:'100px'}}, 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'bold',textAlign:'center',fontSize:'56px'}}, " Generate High Quality Prospect Lists "), 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',textAlign:'center',fontSize:'56px'}}, " Accelerate Sales "), 
          React.DOM.a({href: "#signup", className: "btn-lg btn-success btn start-trial"}, "Start Your Free Trial Today"), 

          React.DOM.div({className: "panel panel-default", style: {display:'none'}}, 
          React.DOM.div({className: "panel-heading"}, " "), 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            ), 
          React.DOM.div({className: "panel-footer"}, " ")
          )
        ), 
        React.DOM.div({className: "gradient"}, " ")
      )
    );
  }
});

},{}],17:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Landing Page
  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() {
    $('body').css({overflow:'auto'})

    return (
      React.DOM.div({className: ""}, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.img({className: "network-logo", src: "build/img/network.png"}), 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'20px',marginLeft:'30px',fontFamily:'Open Sans'}}, "Social Prospecting On Steroids ")
            )
          ), 
          React.DOM.a({href: "#login", className: "btn-lg btn login-btn", style: {fontFamily:'proxima-nova'}}, "LOG IN")
        ), 

        React.DOM.div({className: "col-md-7 col-sm-7", style: {marginTop:'100px',paddingTop:'80px'}}, 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',color:'white',textAlign:'center',fontSize:'38px',fontFamily:'Open Sans',fontSize:'40px'}}, " Generate High Quality Prospect Lists "), 
          React.DOM.h1({style: {color:'#1ca3fd',fontWeight:'100',textAlign:'center',color:'white',fontSize:'46px',fontFamily:'Open Sans', fontStyle:'italic'}}, " Accelerate Sales "), 
          React.DOM.a({href: "#signup", className: "btn-lg btn-success btn start-trial"}, "Start Your Free Trial Today"), 

          React.DOM.div({className: "panel panel-default", style: {display:'none'}}, 
          React.DOM.div({className: "panel-heading"}, " "), 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            ), 
          React.DOM.div({className: "panel-footer"}, " ")
          )
        ), 
        React.DOM.div({className: "gradient"}, " "), 

        React.DOM.div({className: "col-md-5 col-sm-5", id: "network-picture", 
             style: {height:500,backgroundImage:"url('build/img/network_icon_1.png')"}}
        )
      )
    );
  }
});

},{}],18:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // LoadingSpinner
  render: function() {
    return (
    React.DOM.div({className: "spinner", style: {marginTop:'180px'}}, 
      React.DOM.div({className: "spinner-container container1"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      ), 
      React.DOM.div({className: "spinner-container container2"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      ), 
      React.DOM.div({className: "spinner-container container3"}, 
        React.DOM.div({className: "circle circle1"}), 
        React.DOM.div({className: "circle circle2"}), 
        React.DOM.div({className: "circle circle3"}), 
        React.DOM.div({className: "circle circle4"})
      )
    )
    )
  }
});

},{}],19:[function(require,module,exports){
/** @jsx React.DOM */

theData = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // SignUp
  componentDidMount: function() {
    $('body').css({overflow:'hidden'})
  },

  login: function() {
    console.log('login')
    email = $('#email').val()
    password = $('#password').val()
    p = {"X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
         "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"}
    $.ajax({
      url:'https://api.parse.com/1/login',
      headers: p,
      type:'GET',
      data: {
        'username':email,
        'password':password
      },
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() { 
    data = theData()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 
      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Generate high quality prospect lists. Accelerate Sales."), 
          React.DOM.div({className: "panel panel-default login-info", style: {display:'block'}}, 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.login, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Log In")
              )
            )
          )
      ), 

        React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
          React.DOM.div({className: "", style: {marginLeft:34, display:'none'}}, 
          imgs_1, 
          imgs_2
          )
        )
      )
    )
  }
});

},{"../lib/data.min.js":38}],20:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  //Messenger
  render: function() {
    return (
        React.DOM.div({className: "alert alert-success", 
             'data-alert': "alert", 
             style: {position:'absolute',
                     top: 31, 
                     right:30, 
                     display:'none',
                     width:200}}, 
                     React.DOM.a({className: "close", 
                       href: "javascript:", 
                       onClick: this.hideAlert}, "×"), 
            "Test"
        )
    );
  }
});

},{}],21:[function(require,module,exports){
/** @jsx React.DOM */

var LoadingSpinner = require('./loading_spinner.js.min.js')

var Job = React.createClass({displayName: 'Job',
  startJob: function() {
    // Add Linkedin Locations
    // Email When Completed
    // Have Report For Number of Profiles Found / number of emails found per mining job
    
    miningJob = this.props.miningJob
    miningJob.status = "Running"
    miningJob.last_ran = Math.round(+new Date()/1000)

    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+miningJob.objectId,
      type:'PUT',
      headers: appConfig.parseHeaders,
      // status should be waiting
      data : JSON.stringify({'status':'Running', 'last_ran':Math.round(+new Date()/1000)+"" }),
      success: function(res) {
        console.log(res)
        // make request to heroku api
        $.ajax({
          //url: 'https://0.0.0.0:5000/mining_job' ,
          url: 'http://agile-plains-2430.herokuapp.com/mining_job' ,
          //type:'POST',
          crossDomain: true,
          data:{'locale':miningJob.locale, 
                'current_title':miningJob.prospect_title,
                'current_user_id':JSON.parse(localStorage.currentUser).objectId,
                'company_id':JSON.parse(localStorage.currentUser).company.objectId,
                'mining_job_id':miningJob.objectId},
          success: function(res) {
            console.log(res)
          },
          error: function(err) {
            console.log(err)
          }
        })
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    this.setState({miningJob: miningJob})
  },

  deleteJob: function() {
    //console.log(this.state.miningJob)
    this.props.deleteJob(this.state.miningJob)
      /*
    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+this.state.miningJob.objectId,
      type:'DELETE',
      headers: appConfig.parseHeaders,
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
      */
  },

  cancelJob: function() {
    miningJob = this.state.miningJob
    miningJob.status = ""

    $.ajax({
      url: 'https://api.parse.com/1/classes/MiningJob/'+miningJob.objectId,
      type:'PUT',
      headers: appConfig.parseHeaders,
      data : JSON.stringify({'status':''}),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
    this.setState({miningJob: miningJob})
  },

  render: function(){
    miningJob = this.props.miningJob
    button = (miningJob.status == "") ? React.DOM.a({href: "javascript:", className: "btn btn-xs btn-success", onClick: this.startJob}, " ", React.DOM.i({className: "fa fa-check"}), " Run ") : React.DOM.a({href: "javascript:", className: "btn btn-xs btn-danger", onClick: this.cancelJob}, " ", React.DOM.i({className: "fa fa-times"}), " Cancel ")

    disabled = ""
    disabled_trash = ""
    /*
    disabled = (miningJob.status == "") ? "btn btn-xs btn-success" : "btn btn-xs btn-success disabled"
    disabled_trash = (miningJob.status == "") ? "btn btn-xs btn-default" :  "btn btn-xs btn-default disabled"
    button = <a href="javascript:" className={disabled} onClick={this.startJob}> <i className="fa fa-check" />&nbsp;Run </a> 
    */

    //console.log(miningJob)
    return (
      React.DOM.tr(null, 
        React.DOM.td(null, React.DOM.h6(null, miningJob.prospect_title)), 
        React.DOM.td(null, React.DOM.h6(null, miningJob.locale)), 
        React.DOM.td(null, React.DOM.h6(null, (miningJob.last_ran == "" ) ? "----" : moment.unix(miningJob.last_ran).fromNow())), 
        React.DOM.td(null, 
          React.DOM.span({className: "badge"}, 
            (miningJob.results == "") ? 0 : miningJob.results
          ), " ",  
          React.DOM.h6({style: {display:'inline-block'}}, "profiles found")
        ), 
        React.DOM.td({style: {paddingTop:'12px'}}, 
          React.DOM.span({className: (miningJob.status == "" ) ? "label label-primary" : "label label-success"}, 
            (miningJob.status == "") ? "Ready" : miningJob.status
          )
        ), 
        React.DOM.td({style: {paddingTop:'13px',width:'105px'}}, 
          button, 
          " ", 
          React.DOM.a({href: "javascript:", className: disabled_trash, 
                  onClick: this.deleteJob}, 
            React.DOM.i({className: "fa fa-trash-o"})
          )
        )
      )
    );
  }
});


module.exports = React.createClass({displayName: 'exports',
  // Mining Jobs
  //{(prospects.length == 0 && this.state.loading == false) ? <EmptyCompanyProspectsPanel /> : ""}
  getInitialState: function() {
    return { 
      miningJobs : [],
      loading    : true
    }
  },

  deleteJob: function(job) {
    //console.log(job.objectId)
    var filtered = _.filter(this.state.miningJobs, function(item) {
       console.log(item.objectId != job.objectId)
       return item.objectId != job.objectId
    });
    //console.log(filtered)
    this.setState({miningJobs: filtered})
  },

  render: function () {
    //console.log('render')
    miningJobs = []
    for(i=0;i<this.state.miningJobs.length;i++){
      miningJob = this.state.miningJobs[i]
      miningJobs.push(
        Job({deleteJob: this.deleteJob, miningJob: miningJob})
      )
    }

    return (
      React.DOM.div(null, 
      React.DOM.div({className: "mining-job-toolbar container", style: {width:'100%'}}, 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Prospects By Title and Area"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies Hiring For Roles"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies Who Just Raised Funding"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Find Companies By Industy And Area"
        ), 
        "   ", 
        React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 'data-toggle': "modal", 'data-target': ".bs-example-modal-sm"}, 
          React.DOM.i({className: "fa fa-plus"}), "   Press Coverage"
        )
    ), 
      React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
        React.DOM.table({className: "table table-striped"}, 
          React.DOM.thead(null, 
            React.DOM.th(null, "Job Title"), 
            React.DOM.th(null, "City"), 
            React.DOM.th(null, "Last Ran"), 
            React.DOM.th(null, "Results"), 
            React.DOM.th(null, "Status"), 
            React.DOM.th(null, " ")
          ), 
          React.DOM.tbody(null, 
            miningJobs
          )
        ), 
          (this.state.loading) ? LoadingSpinner(null) : "", 
        createJobModal({createJob: this.createJob})
      )
      )
    );
  },
  
  runMiningJob: function() {

  },

  createJob: function(data) {
    miningJobs = this.state.miningJobs
    miningJobs.push(data)
    this.setState({ miningJobs: miningJobs })

    $('#miningJobModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
  },

  componentDidMount: function() {
    console.log('this did mount')
    thiss = this;
    qry = 'where={"company":'+company+'}&count=1&order=-createdAt'
    $.ajax({
      url:'https://api.parse.com/1/classes/MiningJob',
      type:'GET',
      headers: appConfig.parseHeaders,
      data: qry,
      success: function(res) {
        thiss.setState({miningJobs : res.results})
        thiss.setState({loading    : false})
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  }

});

var createJobModal = React.createClass({displayName: 'createJobModal',
  createMiningJob: function() {
    console.log('mining job')
    console.log($('#prospectTitle').val())
    console.log($('#locale').val())

    data =  {
      'prospect_title': $('#prospectTitle').val(),
      'locale'        : $('#locale').val(),
      'last_ran'      : '',
      'results'       : '',
      'status'        : '',   //Waiting , Running
    }
    //  update local jobs state
    $.ajax({
      url:'https://api.parse.com/1/classes/MiningJob',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    this.props.createJob(data)
    
    //$('button.close').click()
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-example-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "miningJobModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-bolt"}), "  Create Mining Job")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.createMiningJob}, 
                    React.DOM.input({id: "prospectTitle", type: "text", placeholder: "Enter prospect title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.input({id: "locale", type: "text", placeholder: "Enter City Area...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", onClick: this.createMiningJob, placeholder: "Enter City Area...", className: "btn btn-success", style: {display:'block', width:'100%'}}, "Start Mining!")
                  )

                )
              )
            )
          )
    );
  }
});

var EmptyMiningJob = React.createClass({displayName: 'EmptyMiningJob',
  render: function() {
    return (
      React.DOM.div({className: "col-md-offset-3 col-md-6", style: {height:400}}, 
      React.DOM.div({className: "panel panel-default", style: {marginTop:100,height:200}}, 
        React.DOM.div({className: "panel-body"}, 
          React.DOM.h1({className: "lead", style: {textAlign:'center'}}, "Start Prospecting On Linkedin"), 
          React.DOM.a({href: "javascript:", onClick: this.openLinkedinWindow, className: "btn btn-success", style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%) !important',display:'block',marginRight:'auto',marginLeft:'auto',width:200, marginTop:50}}, 
            React.DOM.i({className: "fa fa-search"}), "  " + ' ' +
            "Search for companies!")
        )
      )
    )
    );
  }
});

},{"./loading_spinner.js.min.js":18}],22:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Panel Footing
  paginatePrevious: function() {
    thiss = this;

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospects?skip='+(thiss.props.currentPage-2)*thiss.props.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+',"archived":true}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: this.props.currentPage - 1})
        thiss.props.paginate(res.results, thiss.props.currentPage - 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },


  paginate: function(direction) {
    prospectsPerPage = this.props.prospectsPerPage
    if(direction=='previous')
      skip = (this.props.currentPage - 2)*prospectsPerPage
    else if(direction=="forward")
      skip = this.props.currentPage*prospectsPerPage

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospect?skip='+skip,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+'}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: this.props.currentPage + 1})
        this.props.paginate(res.results, this.props.currentPage + 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },

  paginateForward: function() {
    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospects?skip='+thiss.props.currentPage*thiss.props.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      data: 'where={"company":'+company+',"archived":true}&count=1',
      success: function(res){
        //thiss.setState({prospects: res.results})
        //thiss.setState({currentPage: thiss.props.currentPage + 1})
        console.log("success")
        thiss.props.paginate(res.results, thiss.props.currentPage + 1)
      },
      error: function(res){
        console.log(res)
      }
    });
  },
  componentDidMount: function() {
    paginateForward = this.paginateForward
    paginatePrevious = this.paginatePrevious

    Mousetrap.bind('l', function() { 
      console.log('new forward')
      paginateForward()
    });

    Mousetrap.bind('h', function() { 
      console.log('new back')
      paginatePrevious()
    });
  },

  render: function() {
    // Should be handled by Panle Footing


    previous = (this.props.currentPage - 1) ? '' : 'disabled'
    forward = (this.props.currentPage == this.props.pages) ? 'disabled' : ''

    lowerLimit = (this.props.currentPage-1)*this.props.prospectsPerPage
    upperLimit = this.props.currentPage*this.props.prospectsPerPage

    lowerLimit = (lowerLimit) ? lowerLimit : 1
    upperLimit = (upperLimit > this.props.count) ? this.props.count : upperLimit

    return (
      React.DOM.div({className: "panel-footing", 
           id: "navbar", 
           style: {height:'35px',padding:'0px', paddingTop:'7px'}}, 
          React.DOM.span({style: {float:'right',marginRight:'20px'}}, 
            React.DOM.a({href: "javascript:", 
               style: {marginRight:'5px'}, 
               onClick: this.paginatePrevious, 
               className: "blue-gradient btn btn-primary btn-xs "+previous}, 
            React.DOM.i({className: "fa fa-fast-backward"})
          ), 
          React.DOM.a({href: "javascript:", 
             onClick: this.paginatePrevious, 
             className: "paginate-back-btn blue-gradient btn btn-primary btn-xs "+previous}, 
            React.DOM.i({className: "fa fa-chevron-left"})
          ), 
          React.DOM.span({style: {marginLeft:5, marginRight:5,display:'inline-block',width:115, textAlign:'center'}}, 
            lowerLimit+' - '+upperLimit+' of '+this.props.count
          ), 
          React.DOM.a({href: "javascript:", 
             onClick: this.paginateForward, 
             className: "paginate-forward-btn blue-gradient btn btn-primary btn-xs "+forward}, 
            React.DOM.i({className: "fa fa-chevron-right"})
          ), 
          React.DOM.a({href: "javascript:", 
             style: {marginLeft:'5px'}, 
             onClick: this.paginateForward, 
             className: "blue-gradient btn btn-primary btn-xs "+forward}, 
            React.DOM.i({className: "fa fa-fast-forward"}))
          )
        )
    );
  }
});

},{}],23:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    $('body').css({overflow:'hidden'})
    return (
      React.DOM.div(null, 
        React.DOM.div({className: "background-image"}), 
        React.DOM.nav({className: "thenavbar navbar navbar-default navbar-fixed-top", role: "navigation"}, 
          React.DOM.div({className: "container-fluid"}, 
            React.DOM.a({className: "the-title tk-foco brand navbar-brand", style: {fontWeight:'100'}, 
                href: "#"}, 
              "Customero", 
              React.DOM.span({style: {fontSize:'22px',marginLeft:'30px'}}, "Supercharge your sales! ")
            )
          )
        ), 
          PricingTables(null), 
        React.DOM.div({className: "gradient"}, " ")
      )
    )
    /*
              <a href="#signup" className="btn btn-success btn-lg" style={{display:'block',backgroundColor:'#1ca3fd',float:'right',marginTop:'13px' }}>Log In</a>
    */
  }
});

var PricingTables = React.createClass({displayName: 'PricingTables',
  render: function() {
    return (
      React.DOM.div(null, 
    React.DOM.div({className: "container", style: {marginTop:150}}, 
        React.DOM.div({className: "row flat"}, 
            React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
                React.DOM.ul({className: "plan plan1"}, 
                    React.DOM.li({className: "plan-name"}, " Basic "), 
                    React.DOM.li({className: "plan-price"}, " ", React.DOM.strong(null, "$29"), " / month "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "5GB"), " Storage "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "1GB"), " RAM "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "400GB"), " Bandwidth "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "10"), " Email Address "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "Forum"), " Support "), 
                    React.DOM.li({className: ""}, " ", React.DOM.a({href: "#", className: "btn btn-danger btn-lg"}, "Signup"), " ")
                )
            ), 

            React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
                React.DOM.ul({className: "plan plan2 featured"}, 
                    React.DOM.li({className: "plan-name"}, " Standard "), 
                    React.DOM.li({className: "plan-price"}, " ", React.DOM.strong(null, "$39"), " / month "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "5GB"), " Storage "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "1GB"), " RAM "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "400GB"), " Bandwidth "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "10"), " Email Address "), 
                    React.DOM.li(null, " ", React.DOM.strong(null, "Forum"), " Support "), 
                    React.DOM.li({className: ""}
                 )
             )
         ), 

         React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
            React.DOM.ul({className: "plan plan3"}, 
                React.DOM.li({className: "plan-name"}, " Advanced "), 
                React.DOM.li({className: "plan-price"}, " ", React.DOM.strong(null, "$199"), " / month "), 
                React.DOM.li(null, " ", React.DOM.strong(null, "50GB"), " Storage "), 
                React.DOM.li(null, " ", React.DOM.strong(null, "8GB"), " RAM "), 
                React.DOM.li(null, " ", React.DOM.strong(null, "1024GB"), " Bandwidth "), 
                React.DOM.li(null, " ", React.DOM.strong(null, "Unlimited"), " Email Address "), 
                React.DOM.li(null, " ", React.DOM.strong(null, "Forum"), " Support "), 
                React.DOM.li({className: "plan-action"}, "  ")
         )
     ), 

     React.DOM.div({className: "col-lg-3 col-md-3 col-xs-6"}, 
        React.DOM.ul({className: "plan plan4"}, 
            React.DOM.li({className: "plan-name"}, " Mighty "), 
            React.DOM.li({className: "plan-price"}, " ", React.DOM.strong(null, "$999"), " / month "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "50GB"), " Storage "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "8GB"), " RAM "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "1024GB"), " Bandwidth "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Unlimited"), " Email Address "), 
            React.DOM.li(null, " ", React.DOM.strong(null, "Forum"), " Support "), 
            React.DOM.li({className: "plan-action"}, " ", React.DOM.a({href: "#", className: "btn btn-danger btn-lg"}, "Signup"), " ")
     )
 )
)

)
      )
    );
  },
});

},{}],24:[function(require,module,exports){
/** @jsx React.DOM */

var UserProspect = require('./user_prospect.js.min.js');
var UserProspectHeader = require('./user_prospect_header.js.min.js');
var SideMenuProspects = require('./side_menu_user_prospects.js.min.js');
var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var LoadingSpinner = require('./loading_spinner.js.min.js')
var PanelFooting = require('./panel_footing.js.min.js')
var Messenger = require('./messenger.js.min.js')
var DeleteListModal = require('./delete_list_modal.js.min.js')
var RenameListModal = require('./rename_list_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {  prospects   : [],
              currentPage : 1,
              pages       : 1,
              currentList : 'All',
              currentListObjectId : '',
              loading: true,
              prospectsPerPage: 50,
              lists : [],
              masterCheckboxChecked: false,
              keyboardActiveProspect: 0, //first
              selectedProspects: [],
              totalCount  : "~", 
              count       : "~", }
  },

  createList: function(data) {
    lists = this.state.lists
    lists.push(data)
    this.setState({ lists: lists })
  },

  renameList: function(newListName) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    console.log(this.state.currentListObjectId)
    console.log(this.state.currentList)
    console.log(newListName)

    // Update Local State
    thiss = this;
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.name == thiss.state.currentList){
        item.name = newListName
        return item
      }
      return item
    });

    this.setState({lists : filtered})
    this.setState({currentList: newListName})

    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'PUT',
      data:JSON.stringify({'name':newListName}),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  deleteList: function() {
    // TODO 
    // Get All Members Of This List
    // Remove From List Array
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      'Content-Type': 'application/json'
    }
    
    var filtered = _.filter(this.state.lists, function(item) {
      if(item.objectId == thiss.state.currentListObjectId)
        return false
      return true
    });

    this.setState({lists: filtered})
    this.setState({currentList: 'All'})
    this.changeList('All', '')

    // Remove
    $('.modal').click()
    $('#newListName').val('')
    $('.modal-backdrop').click()

    // Persist / Ajax
    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList/'+this.state.currentListObjectId,
      headers: parseHeaders,
      type:'DELETE',
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  changeList: function(newListName,objectId) {
    // add overlay loading
    //console.log(newListName)
    //console.log(objectId)

    localStorage.selectedProspects = JSON.stringify([])

    this.setState({currentList : newListName})
    this.setState({currentListObjectId : objectId})
    this.setState({prospects  : []    })
    this.setState({count      : '~'   })
    this.setState({pages      : 1     })
    this.setState({loading    : true  })
    this.setState({currentPage: 1})
    this.setState({keyboardActiveProspect: 0})

    qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt'
    console.log(newListName)

    if(this.state.currentList != 'All' || typeof(objectId) != "undefined" && newListName != 'Archived'){
      currentList = JSON.stringify({
        'objectId'  : objectId, 
        '__type'    : 'Pointer', 
        'className' : 'ProspectList' 
      })

      company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
      qry = 'where={"company":'+company+'}&count=1'
      qry = 'where={"lists":'+currentList+'}&count=1&order=-createdAt'
    } else if (newListName == 'Archived') {
      qry = 'where={"company":'+company+',"archived":false}&count=1&order=-createdAt'
    }
    console.log(qry)

    $.ajax({
      url: 'https://api.parse.com/1/classes/Prospects',
      type:'GET',
      headers: parse_headers,
      async: true,
      data: qry,
      ajaxStart: function() {
        console.log('started list')
      },
      success: function(res){
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        //thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        //console.log('error')
        //console.log(res)
      }
    })
  },

  checkboxAction: function(checkedState, objId) {
    /* Storing Checked Prospects In LocalStorage To Make it Easier To
     * Copy and Move Prospects 
     *
     * Move To User_Prospects?
     */
    
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    //console.log(checkedState)
    if(checkedState)
      selectedProspects.push(objId)
    else
      selectedProspects = _.reject(selectedProspects, 
                                   function(id){return id == objId})

    console.log(selectedProspects)
    localStorage.selectedProspects = JSON.stringify(selectedProspects)
    this.setState({selectedProspects: selectedProspects})
  },

  masterCheckboxChanged: function(masterCheckboxValue) {
    this.setState({masterCheckboxChecked: masterCheckboxValue})
  },

  render: function() {
    this.startKeyboardShortcuts()
    $('body').css({overflow:'auto'})

    prospects = []
    for(i=0;i<this.state.prospects.length;i++) {
      url = this.state.prospects[i].url
      prospect = this.state.prospects[i]

      if(url != "no linkedin website" && typeof(url) != "undefined" && url != ""){
        url = url.replace('http://','')
        the_link = React.DOM.a({href: 'http://'+url}, React.DOM.i({className: "fa fa-globe"}))
      } else {
        the_link = ""
      }

      profile = this.state.prospects[i].linkedin_url.replace('http://','')
      profile = this.state.prospects[i].linkedin_url.replace('https://','')
      li = React.DOM.a({href: 'http://'+profile, className: "linkedin_link"}, React.DOM.i({className: "fa fa-linkedin-square"}))

      keyboardSelected = (i == this.state.keyboardActiveProspect)

      selectedProspects = JSON.parse(localStorage.selectedProspects)
      alreadyChecked=false
      for(ii=0;ii< selectedProspects.length;ii++)
        if(prospect.objectId == selectedProspects[ii])
          alreadyChecked = true

        //console.log(alreadyChecked)

      prospects.push(
        UserProspect({deleteProspect: this.deleteProspect, 
                      prospect: this.state.prospects[i], 
                      masterCheckboxChecked: this.state.masterCheckboxChecked, 
                      key: this.generate_id(), 
                      link: the_link, 
                      keyboardSelected: keyboardSelected, 
                      checkboxAction: this.checkboxAction, 
                      alreadyChecked: alreadyChecked, 
                      li: li}))
    }

    listType = (this.state.currentList == "All") ? {display:'none'} : {float:'left'}
    listBtn = (this.state.currentList == "All") ? {display:'none'} : {float:'left',marginLeft:5}
    listOptions = (this.state.currentList == "All") ? {display:'none'} : {float:'right'}
    copyDropdownStyle = (this.state.currentList == "All") ? {width:114, right:4} : {width:114, right:36}
    currentList = this.state.currentList
    return (
        React.DOM.div(null, 
      React.DOM.div({className: "container", style: {width:'100%',padding:'0', background: 'linear-gradient(#dae8ff,#dae8ff)', backgroundImage: 'radial-gradient(circle at center center,#fff,#dff1fd 900px)'}}, 
        SideMenuProspects({currentList: this.state.currentList, 
                           count: this.state.count, 
                           totalCount: this.state.totalCount, 
                           changeList: this.changeList, 
                           createList: this.createList, 
                           lists: this.state.lists}), 

        React.DOM.div({className: "col-md-10", style: {padding:'0'}}, 
              React.DOM.div({id: "prospectDetailButtons"}, 
                ListDetailButtons({
                  renameList: this.renameList, 
                  deleteList: this.deleteList, 
                  currentListName: this.state.currentList, 
                  currentList: this.state.currentListObjectId}), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({href: "javascript:", 
                     className: "btn btn-primary btn-xs list-options", 
                     id: "", 
                     style: listOptions}, 
                    React.DOM.i({className: "fa fa-bars"})
                  )
                ), 

                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     id: "copyToList", 
                     href: "javascript:", 
                     className: "drop-target btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-copy"}), 
                       "  Copy To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentListsTwo({lists: this.state.lists, 
                                 copyDropdownStyle: copyDropdownStyle, 
                                 listAction: this.copySelectedProspects})
                ), 
  
                React.DOM.div({className: "dropdown"}, 
                  React.DOM.a({'data-toggle': "dropdown", 
                     href: "javascript:", 
                     id: "moveToList", 
                     style: listOptions, 
                     className: "btn btn-primary btn-xs list-options"}, 
                     React.DOM.i({className: "fa fa-share"}), 
                     "  Move To List  ",  
                     React.DOM.i({className: "fa fa-caret-down"})
                ), 
                CurrentLists({lists: this.state.lists, 
                              listAction: this.moveSelectedProspects})
                ), 

                React.DOM.a({onClick: this.downloadFile, 
                   href: "javascript:", 
                   id: "downloadProspects", 
                   className: "drop-target btn btn-primary btn-xs list-options"}, 
                  React.DOM.i({className: "fa fa-download"}), "   Download CSV  " 
                )
              ), 
        

          React.DOM.div({id: "autoscroll", style: {height:'400px',overflow:'auto'}}, 
            React.DOM.table({className: "prospects-table table table-striped", style: {marginBottom:'0px'}}, 
              React.DOM.thead({style: {backgroundColor:'white'}}, 
                UserProspectHeader({masterCheckboxChanged: this.masterCheckboxChanged})
              ), 
              React.DOM.tbody(null, 
                prospects
              )
            ), 
            (this.state.loading) ? LoadingSpinner(null) : ""
          )
        )
      ), 

      PanelFooting({currentPage: this.state.currentPage, 
                    count: this.state.count, 
                    paginate: this.paginate, 
                    prospectsPerPage: this.state.prospectsPerPage, 
                    pages: this.state.pages}), 
      Messenger(null)
    )
    );
  },

  paginate: function(newProspects, newPage) {
    this.setState({
      prospects: newProspects,
      currentPage: newPage,
      keyboardActiveProspect: 0
    })
    this.startKeyboardShortcuts()
    document.getElementById('autoscroll').scrollTop = 0
  },

  downloadFile: function() {
    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    // Get List Count
    list = JSON.stringify({
      '__type'   :  'Pointer',
      'className':  'ProspectList',
      'objectId' :  this.state.currentListObjectId
    })
    console.log(list)
    // Add Support For More than 1000
    // num_of_requests
    localStorage.download_total = Math.ceil(this.state.count/1000)
        this.props.paginate(res.results, this.props.currentPage + 1)
    localStorage.downloads      = 0

    if(this.state.currentList == "All")
      qry = 'where={"company":'+company+'}&count=1'
    else
      qry = 'where={"lists":'+list+'}&count=1'

    for(i=0;i< Math.ceil(this.state.count/1000); i++){
      $.ajax({
        url: 'https://api.parse.com/1/classes/Prospects?limit=1000&skip='+i,
        type:'GET',
        headers: parse_headers,
        downloadFile: 'download_'+i,
        data: qry,
        success: function(res){
          // Clean Results
          // Remove Certain Parse Columns - created_at, updated_at, objectId
          // Rename createdAt as date prospected
          for(i=0;i< res.results.length;i++) {
            delete res.results[i].company
            delete res.results[i].pos
            delete res.results[i].user
            delete res.results[i].objectId
            delete res.results[i].createdAt
            delete res.results[i].updatedAt
          }

          // Add Results To LocalStorage
          localStorage.downloads = JSON.parse(localStorage.downloads) + 1 
          localStorage.setItem(this.downloadFile, JSON.stringify(res.results))

          // Check to see if all ajax reqs in for loop are complete
          if(localStorage.downloads == localStorage.download_total) {
            console.log('matched')
            // Merge all localStorage results
            prospects = []
            for(ii=0;ii < JSON.parse(localStorage.download_total); ii++){
              prospects = prospects.concat(JSON.parse(localStorage.getItem('download_'+ii)))
              console.log(prospects)
            }

            console.log(prospects)
            // Output as CSV
            var blob = new Blob([Papa.unparse(prospects)], {type: "text/plain;charset=utf-8"});
            console.log(blob)
            saveAs(blob, "prospects.csv");
          }
      },

      error: function(res){
        console.log(res)
      }
      });
    }
    
    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    

  },

  removeSelectedProspects: function() {
    // If List Type is All Archive the prospect
    //
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []

    for(i=0;i< selectedProspects.length;i++){
      if(this.state.currentList != 'All'){
        tmp = {
          method:'PUT',
          path:'/1/classes/Prospects/'+selectedProspects[i],
          body: {
            lists: {
              '__op'    : 'Remove',
              "objects" : [{ 
                  '__type':'Pointer',
                  'className':'ProspectList',
                  'objectId':this.state.currentListObjectId
              }]
            }
          }
        }
      }else{
        tmp = {
          method:'PUT',
          path:'/1/classes/Prospects/'+selectedProspects[i],
          body: {
            archived:false,
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Subtract From Old List - Not Working For Archive
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        selectedProspects = JSON.parse(localStorage.selectedProspects)
        console.log('remove selected prospects')
        console.log(selectedProspects)
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              return false
          return true
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  moveSelectedProspects: function(listObjectId) {
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // get the selected objectId from selectedProspects state
    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []


    // Batch Update Parse
    // - Remove All Selected Prospects From Current List
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospects/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'Remove',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':this.state.currentListObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }
    
    // - Add Other List 
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospects/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        lists = thiss.state.lists

        for(i=0;i< lists.length; i++) { 
          // Add To New List
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(selectedProspects.length)
          // Subtract From Old List
          if(lists[i].objectId == thiss.state.currentListObjectId)
            lists[i].count = parseInt(lists[i].count) - parseInt(selectedProspects.length)
        }
        // Update local list count
        thiss.setState({lists: lists})

        // remove from current list ui
        console.log('selectedProspects')
        console.log(thiss.state.prospects)
        var filtered = _.filter(thiss.state.prospects, function(item) {
          is_selected = true
          for(i=0;i< selectedProspects.length;i++) 
            if(item.objectId == selectedProspects[i])
              is_selected = false
          return is_selected
        });
        console.log(filtered)
        thiss.setState({prospects: filtered})
        localStorage.selectedProspects = JSON.stringify([])

        // add alert to inform user
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  copySelectedProspects: function(listObjectId) {
    console.log(listObjectId)
    
    // make batch ajax request to parse
    parseHeaders = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
      "Content-Type" : "application/json"
    }

    // Add Loading Sign To List

    selectedProspects = JSON.parse(localStorage.selectedProspects)
    batchData = []
    for(i=0;i< selectedProspects.length;i++){
      tmp = {
        method:'PUT',
        path:'/1/classes/Prospects/'+selectedProspects[i],
        body: {
          lists: {
            '__op'    : 'AddUnique',
            "objects" : [{ 
                '__type':'Pointer',
                'className':'ProspectList',
                'objectId':listObjectId
            }]
          }
        }
      }
      batchData.push(tmp)
    }

    thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/batch',
      type:'POST',
      headers:parseHeaders,
      data: JSON.stringify({requests: batchData}),
      success:function(res) {
        console.log(res)
        // Update With the number of successes
        // Update local list count
        lists = thiss.state.lists
        for(i=0;i< lists.length; i++) { 
          if(lists[i].objectId == listObjectId)
            lists[i].count = parseInt(lists[i].count) + parseInt(res.length)
        }
        thiss.setState({lists: lists})
        localStorage.selectedProspects = "[]"
        thiss.setState({selectedProspects : [] })
        
        // add alert to inform user
        // Unselect all selected
      },
      error: function(err) {
        console.log(err)
      }
    });

  },

  hideAlert: function() {
    $('.alert').hide()
  },

  adjustHeight: function(whichOne) {
    prospectWindowTop = $('#prospectDetailButtons').position().top
    prospectWindowTop = prospectWindowTop + $('#prospectDetailButtons').height()
    prospectWindowBottom = $('#autoscroll').position().top + $('#autoscroll').height()

    if(whichOne == 'j')
      activeProspect = this.state.keyboardActiveProspect +1 
    else
      activeProspect = this.state.keyboardActiveProspect -1 

    activeTop = $($('.prospects-tr')[activeProspect]).position().top
    selectedHeight = $($('.prospects-tr')[activeProspect]).height()
    activeBottom = $($('.prospects-tr')[activeProspect]).position().top+selectedHeight

    console.log(prospectWindowTop, prospectWindowBottom)
    console.log(activeTop, activeBottom)

    scrollTop = document.getElementById('autoscroll').scrollTop
    if(activeBottom > prospectWindowBottom)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeBottom - prospectWindowBottom

    if(activeTop < 0)
      document.getElementById('autoscroll').scrollTop = scrollTop + activeTop - 37
    else if(activeTop == $($('.prospects-tr')[0]).position().top)
      document.getElementById('autoscroll').scrollTop = 0
      
    // Get Postion of Top
    // Get Position of Bottom 
    // Get Position of Current Selected
    // Adjust by scrolling down or up
  },

  startKeyboardShortcuts: function() {
    /* Keyboard Shortcuts */
    Mousetrap.reset()
    //Mousetrap.unbind(['j','k','o'])
    thiss = this;

    /* Prospect Table Shortcuts */
    Mousetrap.bind('j', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != thiss.state.prospectsPerPage+1)
        thiss.adjustHeight('j')
        thiss.setState({keyboardActiveProspect: keyboard+1})
    });

    Mousetrap.bind('k', function() { 
      keyboard = thiss.state.keyboardActiveProspect
      if(keyboard != 1)
        thiss.adjustHeight('k')
        thiss.setState({keyboardActiveProspect: keyboard-1})
    });


    Mousetrap.bind('o', function() { 
      console.log('open current prospect')
      console.log($($('.keySelect').find('a.linkedin_link')[0]).attr('href'))
      link = $($('.keySelect').find('a.linkedin_link')[0]).attr('href')
      /*
      window.open(link, '_blank')
      console.log('new')
      */
      //popupWindow.blur();
      //window.focus();
      // keyboard = thiss.state.keyboardActiveProspect
      
      var a = document.createElement("a");
      a.href = link
      var evt = document.createEvent("MouseEvents");
      //the tenth parameter of initMouseEvent sets ctrl key
      // For Mac This Works Check For - Windows
      evt.initMouseEvent("click", true, true, window, 0, 0, 0, 0, 0,
                                  false, false, false, true, 0, null);
      a.dispatchEvent(evt);
    });



    /* List Modification Shortcuts */
    Mousetrap.bind('tab+r', function(){
      //console.log('reload')
      $('#renameListBtn').click()
    })

    Mousetrap.bind('tab+d', function(){
      //console.log('reload')
      $('#deleteListModal').click()
    })

    Mousetrap.bind('tab+s', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      thiss.downloadFile()
    })

    Mousetrap.bind('shift+l', function(){
      //console.log('reload')
      //$('#downloadProspects').click()
      //thiss.downloadFile()
      $('.new-list-btn').click()
    })

    Mousetrap.bind('e', function(){
      console.log('reload')
      //$('#downloadProspects').click()
      thiss.removeSelectedProspects()
    })

    Mousetrap.bind('c', function() { 
      console.log('copy')
      $('#copyToList').click()
    });

    Mousetrap.bind('m', function() { 
      console.log('copy')
      $('#moveToList').click()
    });

    //Mousetrap.bind('e', function() { console.log('e'); });
    Mousetrap.bind('right', function() { console.log('right'); });
    Mousetrap.bind('left', function() { console.log('left'); });

  },

  componentDidMount: function() {
    /* OnLoad For The First Time Function */
    localStorage.selectedProspects = JSON.stringify([])
    thisss = this;

    //this.startKeyboardShortcuts()

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb'
    }

    company = JSON.stringify(JSON.parse(localStorage.currentUser).company)
    cuid = JSON.parse(localStorage.currentUser).objectId
    user = JSON.stringify({'__type':'Pointer',
                           'objectId':cuid, 
                           'className': 'User'})
    archiveList = JSON.stringify({
      //hardCode
      'objectId':'SerPQjckve',
      '__type':'Pointer', 
      'className' : 'ProspectList' 
    })

    qry = 'where={"company":'+company+',"archived":true}&count=1&order=-createdAt'

    if(this.state.currentList != 'All'){
      currentList = {
        'objectId':this.state.currentListObjectId, 
        '__type':'Pointer', 
        'className' : 'ProspectList' 
      }
      currentList = JSON.stringify(currentList)
      user = JSON.stringify({'__type':'Pointer','objectId':'xThAXc0LZT',
                             'className':'User'})

      // add company to prospects added through mining job
      qry = 'where={"company":'+company+',"lists":'+currentList+'}&count=1'
    }

    $.ajax({
      //url: 'https://api.parse.com/1/classes/Prospects?limit=50',
      url: 'https://api.parse.com/1/classes/Prospects?limit='+thisss.state.prospectsPerPage,
      type:'GET',
      headers: parse_headers,
      cache: true,
      data: qry,
      success: function(res){
        console.log(res)
        thisss.setState({prospects: res.results})
        thisss.setState({count: res.count})
        thisss.setState({totalCount: res.count})
        thisss.setState({pages: Math.ceil(res.count/thisss.props.prospectsPerPage)})
        thisss.setState({loading: false})
      },
      error: function(res){
        console.log('error')
        console.log(res)
      }
    })

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    currentUser = { 
      '__type'   : 'Pointer',
      'className': '_User',
      'objectId' : JSON.parse(localStorage.currentUser).objectId
    }

    thiss = this;
    $.ajax({
      url: 'https://api.parse.com/1/classes/ProspectList',
      type: 'GET',
      headers: parse_headers,
      data: 'where={"user":'+JSON.stringify(currentUser)+"}&count=1",
      success: function(res) {
        console.log(res)
        results = res.results
        for(i=0;i< results.length; i++) {
          results.count = '~'
        }
        thiss.setState({lists: results})
        // Make batch request to get list counts after they are loaded
        for(i=0;i < res.results.length; i++) {
          localStorage.setItem(res.results[i].objectId, "")
        }

        for(i=0;i< res.results.length; i++) {
          list = {
            '__type'    : 'Pointer',
            'objectId'  : res.results[i].objectId,
            'className' : 'ProspectList', 
          }

          $.ajax({
            url:'https://api.parse.com/1/classes/Prospects',
            type:'GET',
            headers:parse_headers,
            listObjectId: res.results[i].objectId,
            data: 'where={"lists":'+JSON.stringify(list)+'}&count=1',
            success: function(res) {
              //console.log(this.listObjectId)
              localStorage.setItem(this.listObjectId, res.count)
              amount = 0
              for(ii=0;ii< results.length;ii++){
                if(localStorage.getItem(results[ii].objectId) == "")
                  amount = amount + 1
              }

              if(amount == 0) {
                for(ii=0;ii< results.length;ii++)
                  results[ii].count = localStorage.getItem(results[ii].objectId)

                thiss.setState({lists: results})
                //console.log('Got Counts')
              }

              // updated res.count
              //thiss.setState({count: res.count})
            },
            error: function(err) {
              console.log(err)
            }
          })
        }
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });
  },

  generate_id : function () {
    return '_' + Math.random().toString(36).substr(2, 9);
  },
});

/*  Dropdown Menus */

var CurrentLists = React.createClass({displayName: 'CurrentLists',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i< this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, href: "javascript:", onClick: this.listAction}, this.props.lists[i].name))
      )
    }
    //console.log(this.props.copyDropdownStyle)
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {right:158}}, 
        lists
      )
    );
  }
});

var ListsMenu = React.createClass({displayName: 'ListsMenu',
  render: function() {
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: {
            minWidth:'inherit',
            top: '20px',
            width: '125px',
            right: '154px',
            left:'auto'
          }}, 
        React.DOM.li(null, React.DOM.a({href: "#books"}, 
          React.DOM.i({className: "fa fa-times"}), "  " + ' ' +
          "Delete List"
        )), 
        React.DOM.li(null, React.DOM.a({href: "#podcasts"}, 
          "Rename Lists"
        ))
      )
    );
  }
});

var CurrentListsTwo = React.createClass({displayName: 'CurrentListsTwo',
  listAction: function(e) {
    listName = $(e.target).text()
    
    var listSelect = _.filter(this.props.lists, function(item) {
       return item.name == listName
    });

    this.props.listAction(listSelect[0].objectId)
  },

  render: function() {
    lists = [] 
    for(i=0;i<this.props.lists.length;i++) {
      lists.push(
        React.DOM.li(null, React.DOM.a({style: {fontWeight:'bold',fontSize:'10px'}, 
               href: "javascript:", 
               onClick: this.listAction}, 
          this.props.lists[i].name))
      )
    }
    return (
      React.DOM.ul({className: "dropdown-menu drop-test", id: "dropdown", 
          style: this.props.copyDropdownStyle}, 
        lists
      )
    );
  }
});

var ListDetailButtons = React.createClass({displayName: 'ListDetailButtons',
  // Rename List
  getInitialState: function() {
    return {
      editMode: false
    }
  },
  render: function() {
    //console.log(this.props.currentListObjectId)
    if(!this.state.editMode) {
      stuff = React.DOM.span({className: "label label-default", style: listType}, 
            (this.props.currentListName == "All") ? '' : React.DOM.i({className: "fa fa-align-justify", style: {marginRight:'5px'}}), 
            (this.props.currentListName == "All") ? '' : "   " +this.props.currentListName
              )
    } else {
      stuff = React.DOM.input({className: "form-control", style: {width: 100, float: 'left', height: 24, marginTop: -1}})
    }
    return (

          React.DOM.div(null, 
            React.DOM.h4({style: {margin:0}}, 
              stuff, 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "renameListBtn", 
                'data-target': ".bs-renameList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-pencil"})
              ), 
              React.DOM.a({href: "javascript:", 
                style: listBtn, 
                'data-toggle': "modal", 
                id: "deleteListModal", 
                'data-target': ".bs-deleteList-modal-sm", 
                className: "btn-gradient btn btn-xs btn-primary"}, 
                React.DOM.i({className: "fa fa-trash-o"})
              )
            ), 
            RenameListModal({renameList: this.props.renameList}), 
            DeleteListModal({deleteList: this.props.deleteList})
          )
      );
  },

  renameList: function(newListName) {
    this.props.renameList(newListName)
  },

  deleteList: function(){
    this.props.deleteList()
  },

  toggleEdit: function() {
    this.setState({editMode: !this.state.editMode })
  }
});


},{"./delete_list_modal.js.min.js":10,"./loading_spinner.js.min.js":18,"./messenger.js.min.js":20,"./panel_footing.js.min.js":22,"./rename_list_modal.js.min.js":25,"./side_menu_user_prospects.js.min.js":28,"./user_prospect.js.min.js":35,"./user_prospect_header.js.min.js":36,"./user_side_menu_list.js.min.js":37}],25:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createListModal
  createList: function() {
    console.log($('#listTitle').val())

    data =  {
      'name'        : $('#listTitle').val().trim(),   //Waiting , Running
      'user'        : { '__type':'Pointer',
                      'className':'_User',
                      'objectId':'xWESiw5Smd' },
    }

    $.ajax({
      url:'https://api.parse.com/1/classes/ProspectList',
      type:'POST',
      headers: appConfig.parseHeaders,
      data: JSON.stringify(data),
      success: function(res) {
        console.log(res)
      },
      error: function(err) {
        console.log('error')
        console.log(err)
      }
    });

    data.count = 0

    this.props.createList(data)
    
    $('#createListModal').modal('hide')
    $('body').removeClass('modal-open');
    $('.modal-backdrop').remove();
    //$('button.close').click()
  },

  renameList: function(e) {
    e.preventDefault()
    //console.log($('#newListName').val())
    newListName = $('#newListName').val()
    if(newListName.trim() != "")
      this.props.renameList(newListName)
    // Disable Modal
  },

  render: function() {
    return (
          React.DOM.div({className: "modal fade bs-renameList-modal-sm", tabIndex: "-1", role: "dialog", 'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", id: "createListModal", style: {top:'200px'}}, 
            React.DOM.div({className: "modal-dialog modal-sm"}, 
              React.DOM.div({className: "modal-content"}, 
                React.DOM.div({className: "modal-header"}, 
                  React.DOM.button({type: "button", className: "close", 'data-dismiss': "modal"}, React.DOM.span({'aria-hidden': "true"}, "×"), 
                    React.DOM.span({className: "sr-only"}, "Close")), 
                  React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                    React.DOM.i({className: "fa fa-list"}), "  Rename List")
                ), 
                React.DOM.div({className: "modal-body"}, 
                  React.DOM.form({onSubmit: this.renameList}, 
                    React.DOM.input({id: "newListName", type: "text", placeholder: "Enter list title...", className: "form-control"}), 
                    React.DOM.br(null), 
                    React.DOM.a({href: "javascript:", 
                      onClick: this.renameList, 
                      className: "btn btn-success", 
                      style: {display:'block', width:'100%'}}, 
                      "Create List"
                    )
                  )
                )
              )
            )
          )
    );
  }
});


},{}],26:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    return (
      React.DOM.div(null, 
        "Scheduls"
      )
    );
  }
});

},{}],27:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // Sent Mail
  render: function() {
    return (
      React.DOM.div(null, 
        "Sent Mail"
      )
    );
  }
});

},{}],28:[function(require,module,exports){
/** @jsx React.DOM */

var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var createListModal = require('./create_list_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  //SideMenuProspects
  createList: function (data) {
    this.props.createList(data)
  },

  componentDidMount: function() {
  },

  changeList: function(e) {
    /*
    currentList = $(e.target).parent()//.data('list')
    console.log(currentList)
    this.props.changeList(currentList.name, currentList.objectId)
    */
  },

  render: function() {
    
    styles = (this.props.currentList == "All") ? {'backgroundColor':'rgb(0, 122, 255)', 'color':'white'} : {}

    lists  = [ React.DOM.button({type: "button", onClick: this.props.changeList, style: styles, className: "list-names btn btn-default all"}, 'All', 
      React.DOM.span({style: {float:'right',marginTop:'1px', backgroundColor:'#999'}, className: "badge badge-default"}, this.props.count)),
      React.DOM.button({type: "button", onClick: this.props.changeList, style: styles, className: "list-names btn btn-default all"}, 
        React.DOM.i({className: "fa fa-archive"}), "  ", 
        'Archived', " ", React.DOM.span({style: {float:'right',marginTop:'1px', backgroundColor:'#999'}, className: "badge badge-default"}, this.props.count)) ]
  
    for(i=0;i<this.props.lists.length;i++){
      list = this.props.lists[i]
      lists.push(
        React.DOM.button({type: "button", onClick: this.props.changeList, 'data-list': JSON.stringify(list), className: "list-names btn btn-default"}, list.name, React.DOM.span({style: {backgroundColor:'#999',float:'right',marginTop:'1px'}, className: "badge badge-default"}, list.count), "      ")
      )
    }
    lists = [SideMenuListOption({list: {name: 'All',count: this.props.totalCount}, 
                iconType: 'users', 
                changeList: this.props.changeList}), SideMenuListOption({list: {name: 'Archived', count: '~'}, iconType: 'archive', changeList: this.props.changeList, hideCount: true})]
    for(i=0;i<this.props.lists.length;i++){
      list = this.props.lists[i]
      lists.push(
        SideMenuListOption({list: list, changeList: this.props.changeList})
      )
    }

    
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'438px',backgroundColor:'#e0e9ee',borderRight:'1px solid #b0b8bf',textAlign:'center'}}, 
        React.DOM.div({className: "prospect-list-header"}, 
          "Lists"
        ), 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%', height: '320px', overflow: 'auto'}}, 
          lists
        ), 
        React.DOM.br(null), 
        React.DOM.br(null), 
        React.DOM.a({href: "javascript:", className: "btn btn-primary new-list-btn", 
              'data-toggle': "modal", 'data-target': ".bs-example-modal-sm", 
              style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
          React.DOM.i({className: "fa fa-plus-circle"}), "  New List"
        ), 
        createListModal({createList: this.createList}), 
        React.DOM.br(null)
      )
    );
  },

});

},{"./create_list_modal.js.min.js":8,"./user_side_menu_list.js.min.js":37}],29:[function(require,module,exports){
/** @jsx React.DOM */


module.exports = React.createClass({displayName: 'exports',
  render: function() {
    company = this.props.company
    return (
      React.DOM.div({className: "panel panel-default signal-card"}, 
        React.DOM.div({className: "panel-body", style: {paddingLeft:25, paddingRight:25}}, 
          React.DOM.h4({style: {display:'inline-block',width:'100%'}}, 
            React.DOM.span({style: { float:'left',maxWidth: '60%', whiteSpace: 'nowrap',
                overflow: 'hidden', textOverflow: 'ellipsis'}}, 
              company.name), 
            React.DOM.span({className: "label label-success", 
              style: {marginLeft:7, float:'right',fontSize:12,
                maxWidth: '40%', whiteSpace: 'nowrap',
                overflow: 'hidden', textOverflow: 'ellipsis'}}, 
              React.DOM.i({className: "fa fa-suitcase"}), "  ", 
              company.signals[0].job_title
            )
          ), 
          React.DOM.a({href: "javascript:", className: "btn btn-success", 
            style: {float:'right',marginTop:15, fontWeight:'bold'}}, 
            "Prospect This Company"), 
          React.DOM.p({style: {fontSize:12,width:'75%'}}, 
            company.signals[0].summary
          ), 
          React.DOM.h6(null, " ", React.DOM.i({className: "fa fa-map-marker"}), 
            "  ", company.signals[0].location)
        )
      )
    );
  }
});

},{}],30:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    signalDetails = []
    for(i=0;i< this.props.profile.profiles.length; i++) {
      signalDetails.push(ProfileType({profile: this.props.profile.profiles[i]}))
    }
    return (
      React.DOM.div({className: "list-group-item ideal-company-profile", 
        style: {paddingTop:5}}, 
        React.DOM.span({className: "profile-title"}, 
          React.DOM.h6({className: "label label-default"}, " ", this.props.profile.name), 
          React.DOM.a({href: "javascript:", className: "btn btn-default btn-xs", 
            style: {float:'right'}}, 
            React.DOM.i({className: "fa fa-trash-o"})), 
          React.DOM.a({href: "javascript:", className: "btn btn-default btn-xs", 
            style: {float:'right',marginRight:5}}, 
            React.DOM.i({className: "fa fa-cog"}))
        ), 

        React.DOM.div({className: "profile-body", style: {marginTop:5}}, 
          signalDetails
        )
        
      )
    );
  }
});

var ProfileType = React.createClass({displayName: 'ProfileType',
  render: function() {
    console.log(this.props.profile)
    console.log(this.props.profile.className)
    if(this.props.profile.className == "HiringProfile") {
      signalIcon = React.DOM.i({className: "fa fa-suitcase"})
      signalName = "Hiring"
      signalValue = this.props.profile.job_title
    } else if (this.props.profile.className  == "CompanySizeProfile") {
      signalIcon = React.DOM.i({className: "fa fa-users"})
      signalName = "Company Size"
    } else if (this.props.profile.className  == "FundingProfile") {
      signalIcon = React.DOM.i({className: "fa fa-institutions"})
      signalName = "Funding"
    } else if (this.props.profile.className  == "RevenueProfile") {
      signalIcon = React.DOM.i({className: "fa fa-money"})
      signalName = "Revenue"
    } else if (this.props.profile.className  == "TechnologyProfile") {
      signalIcon = React.DOM.i({className: "fa fa-wrench"})
      signalName = "Technology"
    }else{
      signalIcon = "not found"
      signalName = "Not found"
      signalValue= "Not found"
    }

    return (
      React.DOM.span({className: "ideal-profile"}, 
        signalIcon, 
        React.DOM.h6({className: "profile-signal-name"}, signalName, " - "), 
        React.DOM.span({className: "profile-signal-value"}, signalValue)
      )
    );
  }
});

},{}],31:[function(require,module,exports){
/** @jsx React.DOM */

var CreateSignalModal = require('./create_signal_modal.js.min.js')
var SignalProfile = require('./signal_profile.js.min.js')
var SignalCard = require('./signal_card.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  render: function() {
    // Signals
    /*
      - Feed
      - Research
      - Create Ideal People Profile
        - modal
      - Create Ideal Company Profile
        - modal
    */
   return (
      React.DOM.div({style: {height:400}}, 
        React.DOM.div({className: "container", style: {padding:0, width:'100%', height:'100%'}}, 
          React.DOM.div({className: "col-md-3", style: {borderRight:'1px solid #ddd',height:'100%',padding:0}}, 
            SignalsOptions(null)
          ), 
          React.DOM.div({className: "col-md-9", style: {height:'100%',padding:0}}, 
            SignalDetailButtons(null), 
            SignalsFeed(null)
          )
        ), 
        CreateSignalModal({createSignal: this.createSignal})
      )
    )
  }
});

var SignalDetailButtons = React.createClass({displayName: 'SignalDetailButtons',
  render: function() {
    return (
      React.DOM.div(null, 
        React.DOM.div({id: "prospectDetailButtons", style: {height:50}}, 
          React.DOM.div({className: "btn-group col-md-offset-4"}, 
            React.DOM.a({className: "choose btn btn-primary", 
               style: {display:'block',padding:5}, 
               onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-user"}), " People"
            ), 
            React.DOM.a({className: "choose btn btn-primary active", 
               style: {padding:5}, 
               onClick: this.toggleScreen}, 
                React.DOM.i({className: "fa fa-building"}), " Companies"
            )
          )
        )
      )
    );
  }
});

var SignalsOptions = React.createClass({displayName: 'SignalsOptions',
  getInitialState: function() {
    return {
      profiles: []
    }
  },
  componentDidMount: function() {
    currentUser = JSON.parse(localStorage.currentUser)
    user = {
      '__type'    : 'Pointer',
      'className' : '_User',
      'objectId'  : currentUser.objectId
    }
    user = JSON.stringify(user)
    company = JSON.stringify(currentUser.company)
    qry = 'where={"company":'+company+',"user":'+user+'}&include=profiles'
  
    thisss = this
    $.ajax({
      url: 'https://api.parse.com/1/classes/ProspectProfile',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log('Prospect Profile')
        console.log(res.results)
        thisss.setState({profiles: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },
  createSignal: function() {
    console.log('create signal')
  },
  render: function() {
    profs = []
    for(i=0; i< this.state.profiles.length;i++){
      profs.push(SignalProfile({profile: this.state.profiles[i]}))
    }
    console.log(profs)
    return (
      React.DOM.div({className: "list-group"}, 
        React.DOM.li({className: "list-group-item", style: {borderLeft:0,height:44,paddingRight:5}}, 
          React.DOM.h4({style: {margin:0,textAlign:'center',float:'left'}}, "Profiles"), 
          React.DOM.a({href: "javascript:", 
            'data-toggle': "modal", 
            'data-target': ".bs-createSignal-modal-md", 
            className: "btn btn-xs btn-success", 
            style: {float:'right'}}, 
            React.DOM.i({className: "fa fa-plus"}), " " + ' ' +
            "Create Profile"
          )
        ), 
        profs
      )
    );
  }
});

var SignalsFeed = React.createClass({displayName: 'SignalsFeed',
  getInitialState: function() {
    return {
      signals: []
    }
  },

  componentDidMount: function() {
    currentUser = JSON.parse(localStorage.currentUser)
    user = {
      '__type'    : 'Pointer',
      'className' : '_User',
      'objectId'  : currentUser.objectId
    }
    user = JSON.stringify(user)
    company = JSON.stringify(currentUser.company)
    qry = 'where={"company":'+company+',"user":'+user+'}&include=signals'
  
    thiss = this
    $.ajax({
      url: 'https://api.parse.com/1/classes/CompanySignal',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log(res.results)
        thiss.setState({signals: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  render: function() {
    signalCards = []
    for(i=0;i< this.state.signals.length;i++) {
      signalCards.push(SignalCard({company: this.state.signals[i]}))
    }
    return (
      React.DOM.div({className: "container signal-card-background", style: {height:350, overflow:'auto'}}, 
        React.DOM.div({className: "col-md-8 col-md-offset-2"}, 
          signalCards
        )
      )
    );
  }
});

},{"./create_signal_modal.js.min.js":9,"./signal_card.js.min.js":29,"./signal_profile.js.min.js":30}],32:[function(require,module,exports){
/** @jsx React.DOM */

theData = require('../lib/data.min.js') 

module.exports = React.createClass({displayName: 'exports',
  // SignUp
  componentDidMount: function() {
    $('body').css({overflow:'hidden'})
  },

  retrieveUser: function(objectId) {
    headers = {
      "X-Parse-Application-Id": "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
      "X-Parse-REST-API-Key": "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb"
    }
    $.ajax({
      url:'https://api.parse.com/1/users/'+objectId,
      headers: headers,
      type:'GET',
      success:function(res) {
        localStorage.setItem('currentUser', JSON.stringify(res))
        location.href = "#"
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  signup: function() {
    console.log('signup')
    email = $('#email').val()
    password = $('#password').val()
    p = {
      "X-Parse-Application-Id"  : "N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ",
      "X-Parse-REST-API-Key"    : "VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb",
      "Content-Type"            : "application/json"
    }
    thiss = this;

    $.ajax({
      url:'https://api.parse.com/1/classes/Company',
      type:'POST',
      headers: p,
      data: JSON.stringify({
        'name': $('#company').val(),
      }),
      success:function(res) {
        $.ajax({
          url:'https://api.parse.com/1/users',
          type:'POST',
          headers: p,
          data: JSON.stringify({
            'username':email,
            'password':password,
            'company':{
              '__type'    : 'Pointer',
              'className' : 'Company',
              'objectId'  : res.objectId,
            }
          }),
          success:function(res) {
            // Do another request to get current user
            localStorage.setItem('currentUser', JSON.stringify(res))
            thiss.retrieveUser(res.objectId)
          },
          error: function(res) {
            console.log(res)
          }
        });
      },
      error: function(res) {
        console.log(res)
      }
    });
  },

  render: function() { 
    data = theData()
    imgs_1 = []
    imgs_2 = []
    for(i=0;i < 120; i++) {
      imgs_1.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }
    for(i=15;i < 30; i++) {
      imgs_2.push(React.DOM.img({src: data[i], className: "prospect-img"}))
    }

  console.log(data)
    return (
      React.DOM.div(null, 
      React.DOM.div({id: "signup"}, " "), 

      React.DOM.div(null, 
        React.DOM.h1({className: "title"}, "Customero."), 
        React.DOM.h5({className: "tagline"}, "Generate high quality prospect lists. Accelerate Sales."), 
          React.DOM.div({className: "panel panel-default login-info", style: {display:'block',marginTop:50}}, 
            React.DOM.div({className: "panel-body"}, 
              React.DOM.form({onSubmit: this.login}, 
              React.DOM.input({placeholder: "Email", id: "email", type: "text", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Company", type: "text", id: "company", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Password", type: "password", id: "password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.input({placeholder: "Repeat Password", type: "password", id: "repeat_password", className: "form-control input-lg", style: {fontWeight:'100',fontSize:'22px'}}), 
              React.DOM.br(null), 
              React.DOM.a({href: "javascript:", onClick: this.signup, className: "btn btn-success btn-lg", style: {display:'block',backgroundColor:'#1ca3fd'}}, "Sign Up")
              )
            )
          )
      ), 

      React.DOM.div({id: "", style: {position:'absolute',zIndex:'-2',top:0,left:0}}, 
        React.DOM.div({className: "", style: {marginLeft:34}}, 
        imgs_1, 
        imgs_2
        )
      )
      )
    )
  }
});

},{"../lib/data.min.js":38}],33:[function(require,module,exports){
/** @jsx React.DOM */

var EditTemplateView = require('./edit_template.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  //Templates
  getInitialState: function() {
    return {
      selectedTemplate: 0,
      editMode: false
    }
  },

  changeMode: function() {
    this.setState({editMode: !this.state.editeMode})
  },

  render: function() {
    templateView = (!this.state.editMode) ? TemplateView({changeMode: this.changeMode}) : EditTemplateView(null)
    return (
      React.DOM.div(null, 
        React.DOM.div({style: {height:'100%'}}, 
          TemplateSideMenu(null), 
          React.DOM.div({className: "col-md-9", style: {padding:0,height:'100%'}}, 
              templateView
          )
        )
      )
    );
  }
});


var TemplateView = React.createClass({displayName: 'TemplateView',
  changeMode: function() {
    this.props.changeMode()
  },
  render: function() {
    return (
      React.DOM.div({className: "panel panel-info", style: {width:'100%',height:'100%',border:0}}, 
        React.DOM.div({className: "panel-heading"}, 
          "Template Name",  
          React.DOM.a({href: "javascript:", 
             onClick: this.changeMode, 
             className: "btn btn-primary btn-xs", 
             style: {display:'block',float:'right',marginTop:'0px'}}, 
            React.DOM.i({className: "fa fa-pencil-square"}), "   Edit Template")
        ), 
        React.DOM.div({className: "panel-body"}, 
        React.DOM.h4(null, "Followup - Prospecting SAAS Outreach"), 
        React.DOM.h6({style: {marginBottom:'0'}, className: "text-muted"}, "Created by Mark on Jul. 21, 2014"), 
        React.DOM.h6({style: {marginTop:'0'}, className: "text-muted"}, "last updated 7 days ago"), 
        React.DOM.br(null), 
        React.DOM.br(null), 

        React.DOM.div({className: "panel panel-default"}, 

          React.DOM.div({className: "panel-body"}, 
          "15 minutes to get company_name more customers" + ' ' +
          "Hey first_name," + ' ' +

          "Would you like to hear an idea for a 15 minute hack that could significantly increase the number of prospects your sales people have access to ?" + ' ' +
           
          "Recently one of our B2B clients saw a huge increase in trial sign ups after working with us. first_name, lets schedule a 15 minute call this week to see if this would be a good fit for both of us." + ' ' +
           
          "What the best time for you this week ?" + ' ' +
           
          "--" + ' ' +
          "Mark" + ' ' + 
          "Customero" + ' ' +
          "mark@customerohq.com"
          
          )
        )
      )
    )
    );
  },
});

var TemplateSideMenu = React.createClass({displayName: 'TemplateSideMenu',
  getInitialState: function() {
    return {
      templates: [],
    }
  },

  componentDidMount: function() {
    //Ajax Request For Templates
    /*
     $.ajax({
      url:'',
      headers: "",
      data: "",
      success: function() {
      },
      error: function() {
      }
     });
    */
  },

  render: function() {
    templates = []
    for(i=0;i< this.state.templates.length; i++)
      templates.push(React.DOM.a({href: "javascript:", className: "list-group-item"}, "templates[i].name"))
    return (
      React.DOM.div({className: "col-md-3", style: {padding:'0', borderRight:'1px solid #ddd',height:'100%',textAlign:'center'}}, 
        React.DOM.div({className: "panel panel-default", style: {border:0}}, 
          React.DOM.div({className: "panel-heading", style: {height:60}}, 
            React.DOM.span({style: {float:'left',fontSize:20,fontWeight:'bold'}}, 
              "Templates"
            ), 
            React.DOM.a({href: "javascript:", className: "btn btn-success ", 
                style: {float:'right'}}, 
              React.DOM.i({className: "fa fa-plus"})
            )
          ), 
          React.DOM.ul({className: "list-group", style: {textAlign:'left'}}, 
            templates
          )
        )
      )
    )
  }
});

},{"./edit_template.js.min.js":11}],34:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  //TemplatesMenu

  toggleTemplateEditMenu: function(currentTemplate) {
    this.props.toggleTemplateEditMenu(currentTemplate)
  },

  render: function() {
    //console.log(this.props.templates)
    templates = []
    for(i=0;i< this.props.templates.length; i++) {
      templates.push(
        TemplateListItem({
          toggleTemplateEditMenu: this.toggleTemplateEditMenu, 
          template: this.props.templates[i]})
      )
    }

    return (
      React.DOM.div({className: "", style: {padding:'0', borderRight:'2px solid rgba(0,0,0,0)',height:'100%',textAlign:'center'}}, 
        React.DOM.div({className: "panel panel-default", 
             style: {borderRight:0,borderRadius:0,height:'100%'}}, 
          React.DOM.div({className: "panel-heading", style: {height:40}}, 
            React.DOM.span({style: {float:'left',fontSize:14,fontWeight:'bold'}}, 
              React.DOM.i({className: "fa fa-file-text-o"}), 
              React.DOM.span({style: {marginLeft:5}}, "Templates")
            ), 
            React.DOM.a({href: "javascript:", 
              className: "btn btn-success btn-xs", 
              onClick: this.props.toggleTemplateEditMenu, 
                style: {float:'right'}}, 
              React.DOM.i({className: "fa fa-plus"}), 
              React.DOM.span({style: {marginLeft:5}}, "Create Template")
            )
          ), 
          React.DOM.ul({className: "list-group", 
              style: {textAlign:'left', borderBottom:'1px solid #ddd'}}, 
            templates
          )
        )
      )
    )
  }
});

var TemplateListItem = React.createClass({displayName: 'TemplateListItem',
  toggleTemplateEditMenu: function() {
    console.log(this.props.template)
    this.props.toggleTemplateEditMenu(this.props.template)
  },
  render: function() {
    return (
      React.DOM.div(null, 
        React.DOM.a({href: "javascript:", 
           onClick: this.toggleTemplateEditMenu, 
           className: "list-group-item"}, 
           React.DOM.span({className: "label label-default"}, 
             this.props.template.name
           ), 
           React.DOM.h6(null, "Subject:", React.DOM.span({className: "text text-muted"}, 
             " " + this.props.template.subject
           ))
         )
      )
    );
  }
});

},{}],35:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // UserProspect
  getInitialState: function() {
    return { }
  },

  clickCheck: function() {
    domNode = this.getDOMNode()
    isChecked = $($(domNode).find('input[type="checkbox"]')[0]).prop('checked')
    //console.log(isChecked)
    this.setState({checked: isChecked})
    this.props.checkboxAction(isChecked, this.props.prospect.objectId)
  },

  rowClick: function() {
    $($(this.getDOMNode()).find('input[type="checkbox"]')[0]).click()
  },

  keyboardClick: function() {
    $($('.keySelect').find('input[type="checkbox"]')[0]).click()
  },

  componentDidMount: function() { },

  render: function() {
    keyboardSelected = {borderLeft:'7px solid rgba(0,0,0,0)'}
    thissss = this
    if(this.props.keyboardSelected) {
      // Adjust Scroll depending on where the prospect is
      keyboardSelected = {borderLeft:'7px solid #0096ff !important'}
      Mousetrap.unbind('x')
      Mousetrap.bind('x', function() { 
        thissss.keyboardClick()
        if(thissss.state.checked)
          console.log("lmao")
      });
    }

    prospect = this.props.prospect

    if(this.props.masterCheckboxChecked && this.state.checked)
      checked = true
    else if(this.props.alreadyChecked)
      checked = true
    else if(this.state.checked)
      checked = true
    else if(this.props.masterCheckboxChecked || this.state.checked)
      checked = true
    else
      checked = false

    //console.log(this.state.checked)
    //console.log(checked)
    //{prospect.employeeCountRange.name + " employees" }
    
    color = {}
    if(this.state.checked || this.props.alreadyChecked)
      color = {backgroundColor: '#eef8ff'}
      
    rowCl = (this.props.keyboardSelected) ? "prospects-tr keySelect" : "prospects-tr"
    websiteBtn = (prospect.websiteUrl) ?  React.DOM.a({href: "http://"+prospect.websiteUrl.replace('http://','')}, " ", React.DOM.i({className: "fa fa-globe"}), " ") : ""
    return (
      React.DOM.tr({className: rowCl, 
          onClick: this.rowClick, 
          style: keyboardSelected}, 
          React.DOM.td({style: color}, 
              React.DOM.input({type: "checkbox", 
                     onChange: this.clickCheck, 
                     checked: checked})
          ), 
          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.span({style: {fontWeight:'bold'}}, prospect.name), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, 
              (prospect.pos) ? prospect.pos.trim() : ""
            )
          ), 
          React.DOM.td({style: color, 
              className: "fixed-data-column"}, 
            React.DOM.span({style: {fontWeight:'bold'}}, 
              prospect.company_name
            ), 
            React.DOM.h6({style: {fontWeight:'400',margin:'0px'}}, 
              (prospect.employeeCountRange) ? prospect.employeeCountRange.name + " employees" : ""
            )
          ), 

          React.DOM.td({style: color}, 
            React.DOM.h6({style: {margin:'0px'}}, prospect.city)), 
          React.DOM.td({style: color}, 
            React.DOM.a({href: "mailto:"+prospect.email, 
               style: {margin:'0px'}}, 
            (prospect.email) ? prospect.email.toLowerCase() : ""
          )), 
          React.DOM.td({style: color}, this.props.li, " ", this.props.link), 
          React.DOM.td({style: color}, 
            websiteBtn
          )
        )
    );
  },

  deleteProspect: function() {
    this.props.deleteProspect(this.props.prospect.objectId, 'Prospect')
  }
});


},{}],36:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  checkboxAction: function(e) {
    checkboxVal = $(e.target).is(':checked')
    this.props.masterCheckboxChanged(checkboxVal)
  },

  componentDidMount: function() {

  },

  render: function() {
    return (
            React.DOM.tr(null, 
              React.DOM.th(null, React.DOM.input({type: "checkbox", onChange: this.checkboxAction})), 
              React.DOM.th(null, "Name"), 
              React.DOM.th(null, "Company"), 
              React.DOM.th({style: {width:'170px'}}, "City"), 
              React.DOM.th(null, "Email"), 
              React.DOM.th(null, " "), 
              React.DOM.th(null, " ")
            )
    );
  }
});

},{}],37:[function(require,module,exports){
/** @jsx React.DOM */

//SideMenuListOption
module.exports = React.createClass({displayName: 'exports',
  getInitialState: function() {
    return {count: '~'}
  },

  componentDidMount: function() {
    // make ajax request to get each requests 
    /*
    list = {
      '__type'    : 'Pointer',
      'objectId'  : this.props.list.objectId,
      'className' : 'ProspectList', 
    }

    parse_headers = {
      'X-Parse-Application-Id'  : 'N85QOkteEEQkuZVJKAvt8MVes0sjG6qNpEGqQFVJ', 
      'X-Parse-REST-API-Key'    : 'VN6EwVyBZwO1uphsBPsau8t7JQRp00UM3KYsiiQb',
    }

    thiss = this;

    //console.log(this.props.list.name)
    $.ajax({
      url:'https://api.parse.com/1/classes/Prospects',
      type:'GET',
      headers:parse_headers,
      data: 'where={"lists":'+JSON.stringify(list)+'}&count=1',
      success: function(res) {
        thiss.setState({count: res.count})
      },
      error: function(err) {
        console.log(err)
      }
    })
    */
  },

  changeList: function() {
    this.props.changeList(this.props.list.name, this.props.list.objectId)
  },

  render: function() {
    listName = this.props.list.name
    propsCount = this.props.count
    count = (typeof(propsCount)== "undefined") ? this.state.count : propsCount

    //console.log(this.props.iconType)
    icon = ""
    if(this.props.iconType == "archive"){
      icon = React.DOM.i({className: "fa fa-archive"})
    } else if(this.props.iconType == "users"){
      icon = React.DOM.i({className: "fa fa-user"})
    }


    countStyle = (this.props.hideCount) ? {'display':'none'} : {backgroundColor:'#999',float:'right',marginTop:'1px'}
    return (
      React.DOM.button({type: "button", 
              onClick: this.changeList, 
              className: "list-names btn btn-default"}, 
              icon, 
              " ", 
              listName, 
              React.DOM.span({style: countStyle, 
                className: "badge badge-default"}, this.props.list.count)
      )
    );
  }
});


},{}],38:[function(require,module,exports){
module.exports = function () {
  return {"0":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/8353a3fc05724cbe45e8c23b347a39e7_0994d458faff1d0b71f0f8e534299335a5765ba4a672ed817669729f6a0a1e9d","1":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/107fc2691bb8b3333ba78a18600fa561_9a832b2e27c2aa8ce6ed12c62fb665939e4de38f30ec9bebd92f813ea677f8c3","2":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4432a5df98c5ead32ca3ec898e175c90_f93ef0a7ddba9ac960c6a15941a69a124a5d5961fde34455cb7cee6c97f712ba","3":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/229580b716606a4eb2142b1eaaca10e7_2398d5050e191d15ff5cf9eb68cc683690c06d3949345dbf790394437a465c08","4":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/499d8a863d7872d6e239512124af9ddc_771182dc7b6c0801de6e571deed89b437ab122372b547e1f7d8dacae9cb17275","5":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a9e97a6445a8ac187561310b16b4bbd8_96ce9289fd8e6f2a6bf262b4baf548367ad7f53aac9a9ec1157020465de07e67","6":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/35af508daa4a580806961236bfb743a1_1a4afe2656f8d95e3717751f96a0c6ce6c5b1d25920f4d45e5cfe9bba05de0c8","7":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a1003503ef5e2254e6694eebbd2b4499_a8cd2caefe691476e3f02351369dc2c07c1a3d6ce0f87b187f58fdf4b20292c5","8":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/01dcb5278f55225b7e9c0cff6aa3d6e6_b40f92b9c5ef3b8c81d478bb70b7a094f076ed59b7d36d7a6401f0fd9d95eacf","9":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/61d79e3c25105099f73668c625ea361c_1d7c1255968258c03d0564e141284b4bddbd2db52091cf8d75cb384b23949390","10":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ca808450a6222c9b09d5b86924a08fbb_f90e02c1e981e5f6caf8af76fefef7653d0a451da51ba5a22ac0f265874bc6cb","11":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/97de93a99b8a9159dede2b9ff17c7887_3e90df8e7894c0c12963abf2fadb205e44365f58b537f15b677a4a7e9c557bcd","12":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9bf8404d673c9d6178f23548caa4c9a4_46606dba9df4d10cf282fa7add23e8a87b7f976d0e3a153fad0ff181e1be4e17","13":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/7f3a4754a634fc1e39090c5dd6c46808_42d3294b34c4ac9c6f99f66bc3ad9a195d20e98b09c7579fe341d0cf42f9c93f","14":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b4bebbfbfbe47e50f435b4c2efe0db0f_181a3119f12fd03b6bb517352c636508497bec61f9078b0e281515efd192b345","15":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ec1f6190e2b9a80a3f7cf101649ccc63_0026017f4380585a2e540f05936a6f58fe725fe7e8e0378aae98039628c4bdf2","16":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9dd921f41fa8d4ab29bcc1c45348b5a2_158df8a22c1f1570e8a2c17ab5e30169248030593665fbd8792f5f2f01516290","17":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b9786c9b56c94caa13e74d59b9a9da48_1f195fbcdf95c0d2618d571e0192ff1be2e4921d88aed8b7b9fd9e1444749271","18":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aa8577f878858f318858aced5abd037f_cb926a07d0e468660e3569279cc1354aa7243cdc951f970325273993c89e9ee7","19":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c11b322d8a8007037ee3e3242b260930_2a63c13b315a38b069f38da657b189aad6c7af5941a19859111dfb3c70c94b41","20":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/19b6c3989a808be845718d8af24352ff_a8e72abb2b5772706ac1c79e5cbaf59b3c2f20efb0aca9b93d04ae8a24920967","21":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/f4120970a686a56b4759585808177cc7_8e175e495b1de922ccd9a92a5de97b95433444aca422b3e632c2ea4ed48d3bc9","22":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aee7e40b2dd4c4c9961323d98249c826_c1c387c714e89d5dfccf06d3fe0fed332992eff877cdbd60bc4e94e7a2ed38ff","23":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/66d18bafff4f9b8d077c107bb73b2912_f8055289eae58fad00cc0f6727b2b5cf0f72b837963351b7ca6250ba4e2632a1","24":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2da8546c3b6a99b191249ae69207e31a_db86681331d0d2b9850e5596ce7711ac386f4e1469c526934267978af3498338","25":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/5617f7787cdf0176e54c4f13e9ccc54e_da7cc169f46585de72acf5f705cd34a52c688a40dc8aa72ea720d556a7022f72","26":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/f7e2712aa8cfab88c55d1f6c78ef2e45_5c895ca06f40e30369e07b19c64b7bf1fe5be0977e5bbfc0c2212b73ea6e6512","27":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/29ab72c2b97b25c4e3e1c280e3264f80_069b94caad3b14e2bb3b2012a51d94ed8e476f0a3d9a368aac36db9d716a12af","28":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ee17a7d90c8065a3abcd0a6720b52e66_3b9938c2693e142ba37065de24dabec556a192add4b84b4f29785cea3b74853f","29":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/16f61ebf1810ac333f7c936ce711b28a_35d43f3d1c762b21d629634b4584d0cd95aecdfd9a3087f24a9eb729d134b769","30":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/e318ccc5121cfeb3b99c21d055e6ece9_edc606d4bcd3d76f8e45da96d9dbd651bf0c067a7ca159e1073e3b44b03530c9","31":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/df9c90f2b93a9e488d94fe52725bd798_3b0e3396d9dea866960d8ce6f67af10c8809f154b6831fc278b8ed34390a9f27","32":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6eee357d121c814a97b6362c4e55526a_cbff4ac439c2054813dea8da8b8f1ec3b5e0c644acf0dc2ae625741e97f0bea0","33":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/560aed1bee8e220f0980190dedb7add6_9ad2de7c6ebfdd724f2a17c85efd5192f8393a477dddf0a0c8c9260e17d5a515","34":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/850f1242ddd6539ad8b27f69908c7f9e_08ffecd2b6d184e7d70ab70abbbbabe7132269250c93dbbdcba7f22e86f0692e","35":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/075c06c481eea429f6cc816697fcbbf8_c55b99be050bdcb1f32c9578cb8e17f6f4d6f200c1f37f528c24fee65a26182a","36":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/028b3110aa60554e7434f1a2473229cf_d15e1c7f00c82755e144773d46bb4e0e964fcfa425a254ca05ac1313fcea3bae","37":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c3719f85d24bafef64eada64e735ca73_025880c51ff42bd3ff79ba35d456d8cb14b6fbc7ee17ba3b98612e71aa1d74b9","38":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/22356ab6ae4467c44a074a4134bad937_a9909c37e6e23b4343ce19582c9118cfb3748b8977f1db8230aa992d640f1217","39":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2132e5a2fcd89a54e7c42c5fa0b8ef77_ff0dc46511b150a4b0af9cdf866af2e06ce898d7119b7ab21350e0b3304d8065","40":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/45aaa73b693aeec414b34fd44262ef8f_51c22532abe0b615f0e6e3c0e91cb1a9bca41a6f6c0ec6f33c3693d128fd1755","41":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/57bc2d1a2ab692e38284f3550f58b381_03bd441172001e3c2e5084f3390ee0ca0327b502b0c1dc794c8c8ac2b3d2130e","42":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4745ad07807ccad97e0726fc7ba18170_48911a727474c0398c3fc701880d623faedc592f16677310f8e8111a25e2be37","43":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cd1594c62a31c831d124e286b6909700_0cd9d060392c5f5d575f29a8930c55c69a54501c1d7636929682c38e4e069d5e","44":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f3db7712313a3bcfe5ff4a99b67fcdf_a66bec0a43179531bce8020aaade3d85967b7c9df54ab2bdf41f12f6cd60d3ef","45":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2643e008752dbffd17cd7e4cea30bb08_867fd9b76c5342b914bd9b285756ac10cf04e1b3ad8cb6524a2c96d7ab75c07a","46":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d89fd2959f9efdcf70778801253a4920_97a906684f843e8ea3f3237797adc601c4d20dfcc79e7b6e756630206312fe89","47":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d0b7922821c73bb34357b9a7bbf2267c_d63a4e4655665268ea92da08063c95f309646f9698125b318b0621487b906ca4","48":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b76f8da9538eea9eb4d897656f4aed8b_f49ffb97513493d056f42fe316650f1fb507fc1ebe7a04ad8454fd2b58c50ea7","49":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/190285c653fe1d18db3257eeaf4be43b_60aac5615b8c09ff3cfc840eafbb0208a8dc4824d942df10637ed1dc43198896","50":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/bdee1144909768544fb2165d5e053e65_01eeb0b68fbe038b33bd0d952ce60590b2ff52c32da32bceee518652a89e8140","51":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/67f3816ffae3f72be42a7853607ff545_9b77f7ee9ed399fe77664a0c6cded309a14187ed325b7dace9b74f58d384fa70","52":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4314b6591ccecaa3eb265e4e890021f5_135f42ac525c7160c6680d99d08463cca4f4f86b4a0a11252b26c57f7f6552e2","53":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dc2498a2210f5c8dfc938909670ba68f_bb4edb324aeb76f4809d2f2ffef036815497400fd276f836d923e7e0999c3552","54":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/8ea2f8aecb65bcc3cec691be061822a6_c9e8cc4ff670def26a2014b4658f561bb39af755727ab31a04b66c703faa6bfc","55":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cc6220508d6b50993e8cb49e6c072a3a_266d57d40828595dcf9964076955242cbc6d9cdc78bbc323ba39f0883c05fda8","56":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6d200ee39f4096f49b523d98d8536b03_0e0d1927f658b14ff35a24c9d8fc693190c9f739a6d14b3638a69e901b1a494c","57":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/deaf0d4d4431d6bb2dcc6bda12575dc8_786be7e8e3573170e142d1c3974f18d6d69d4c4dd3ca06593467f2f53f831895","58":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ebf339b29639355c01a7e1d0c9055ba3_0c2c6354af58c71eee179f772b8f9c9556111c042eddec488642205fce901f6a","59":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/adf758a8dc032239d05c2bf30a4a0edf_1de695275aaf84c5d9624872efacc21f2bb35d76907c032789f0a8a91007a751","60":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/fcfd73b6e3eb5a9e249b379a6f559fc7_7f12feeefb777c52da2c175bfc33dd19db40749b388af435f4a68c0f06b4f9ad","61":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3c82d08bca770099bb1fcdbda21484ea_4b1b1a31571711440446327a37327cf86685307f7dd58ad26a5b564b384d54c9","62":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/da085ddf61fabfc523a6d5bc22ea305b_f198dc476413ae524e230ebcd428f4649509a64794bb12dfde0d8fc2d9cf8782","63":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/510c57ac818d053701321d16cfed8b3e_74210d99aa6597b227fe521b0c7e128b66510da6b2cfbd67f4d0d0f8be7a1c12","64":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/40122334960a5954255cca87d01ba5ae_1d6fa7ab07a15df79e4c61cec5a369e6e7dcc7e57ebfd52fd937630e056dbf32","65":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/281bc010da64604545531ca4074eda2e_91c47782e1e7e19e58d3d5da9e43c1c53505a145de4adcd22931721f951edced","66":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f0306ac15f2a11707fb6637b64ab5bc_bbf75d7a31aff638916b154d263b2fa1af9f3f53ef3124e5d470289b1b4dc5c4","67":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/99147b426f02ea63f52d7b9096bfba95_2af91854e89a8214667222ea871d98eb8c1ccaf4969ec129356be0fce2eeca51","68":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ecebb17e5ca23da7f420fa357472bf3e_9dcc92e6966d688c956e1e6a0abf42499687f9e82b82a2499d56bb93a59b2bd8","69":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/aa968d512815321b5c74af48f3d53c3d_74f7b92a66f45f8e050a46f94cb675db7fc257acefed7ced6fe85a82caa93139","70":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/2451efa39cb6ee7576b41e14b907925a_f48ec903ab22812a385743625e972e76773bdbd3e323c73689f27eccaa9d90bc","71":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6eca5c460748018fe91f919d35f1de02_2116d7e9c833021c7fb58237db1e8abd3e37a32f652e5449feb94cd287ca63cd","72":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d233d65df2a27b4e6c177ab37f726c33_cea7dbcb7770a9798a49fce3a8d55689c6b79ad710e8f3aa0121bcabd9b0176b","73":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/0632159435e67bdd2a5ffd68471361f0_b7711b96d49bfe07ba4c6a9700618c69425c667999209ccbd7575925805b0b5b","74":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1f6edebd5597bae7da63e7ad86214ccd_0bcc5ee18a9539043524fdad5d9cbdb527514143e755a1a05169e05e06c37941","75":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/31874c12d9df2dfd89cb6a446bdc4042_611644e0e6bd66f29270be999af5d4aee37a5898d93dd41c46dee111f4e63fa3","76":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95bad31c8127deef8aef7a8c0d96285f_05b558b86db9ed61bdb134e7e32e56ddea960d18067c4d44cb7b207ceb592e5b","77":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/e1a21b6a465ba8c05aec97fa7568efb5_888ab8ab424a32a58b00808ca2f716b903993a7d076b4925c52117a2467ff04b","78":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d8c25b3ed91a8fc91f93ac56377c9dcc_72afd96cb39f5d07ea286361edb264627d1f234e871ce48371dca57bc44c7a82","79":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95b193e0db0f8965de5c70a5b96bb071_4b587a38a5b3b5f2eb6ad37d745531e723edc07e38eb6d4cfec3a9386f65b1e8","80":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/90b3da7e62bbd996b722975a3230f0f3_b3e89ebe3a0f9d1a6508771e1108627885b5df79377b291413a35284cc506f5e","81":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3242156353c906577e9ea40f92139719_76cb67bcb821ef4a83b4796832b15d3ab4402627534de36c3ff592ba0e0cacb0","82":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a4beb634fb972ef9caefecf47527e345_a18d6851882d03d4370fa12c866fcd91caa907b0cd2263a722378c399fb592b5","83":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/0447cd25e4515569c3b613bc4bd88a05_c3656ddbbf5dfc84e44c3616cfad41267c8d730e00db5918ccc77573fac07d49","84":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1e01a4ecbeb9ca46a63b745c6a2e462d_3ebbbab14df0e2db43a2948c0298ad67ded53029efe9aba6bd40b3fd99d5aa18","85":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/559c502aea7aab4a11e121743c9d7c43_69caccfee49f747e72a4768ad4274c8b6875848e9ab7b2c8517e209d36bdfb32","86":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b27a3afa95d849b7375a304769bd3bf3_acada7bbca2083ce55ab119e88666ca0ae10a4aac448ad5d7f45edf0077897a1","87":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/de24ae6e6b531bad57c37bffcac1954d_2c15f3da3593c9526078bb80bc7faa66ec081b1ccaea231b5c259bdb827f6fd8","88":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/7375a308c764e405f92ab9d943942949_6b7b392f5694abcfbb70daf458c22369db2f9b890583e3e2d713b046cd84ec89","89":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/a1fc8b4cb5e89f1dc3ed74ec8bafc3a5_4d0efc716f3f2cb7bda689e5daa7ba5d954ee54a8f94f7755b303043970b1d99","90":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c4f7d2b628c661d1baad6ff1f4722da8_149e2b6f3ad488d10fce67144ccee6b66519d9d7f8482a1ff0c9ae627f1ddbca","91":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/09459647f3928e77752449f418a85c27_7a704f8cfaea62a1953dfd1e345eb6e3aee02114189f186f0181bff3a7e77fe6","92":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/655a7db862ccdfa162b6ea0dffa3ef1e_6eb133e705878e640a427b664656189f1ea9330285133e4a73a943a097606da6","93":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/434d82b430279d26bcdd9bd13ddec76f_5cbad7d7eb6740debc9e2e3c1b7197f861b705e6e74379307a5bc900d75250f5","94":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/142e64b0535a2b0c3bb5253c0d2266a9_6c7403cda6f8dc61eb9d2b32d37f608c34c641101d6a2f35c073907898a7e4ae","95":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/3f8790f1134f0514af3d2bbc05209060_6377e5dcdf0d232f1aa8139022b8c9280f8b4297f70efff3e0f7d52417c1eb23","96":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/220a705290eb7adbcdf052ddb2d11c99_06374d8546d5c745671d98686f1b4b0dd31d777b1c7bcdd0e6dfe63d0a23e719","97":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/51249bb6f506e42e17bf9241ef88b6b2_c1221205f854390df1d21aa05e5d0de264b1b953c659a10c18478cfd7f755efd","98":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/284c00b5ff1189d2bddf67df408edc4e_01c1917a244fcadf0bfd3933af21c684dd90ca274111248212025361d855ab39","99":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/37483ffe36725e05af0954a5d9a55a26_daf0a2f0e10c98c2b72be9c0da24b38322f0f956733a42565365ee615568ba07","100":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c6b03531fed44f96acecab26828fbe37_30393b6fa3096a74bfa51cad1cb58f7660848263f01f2f7d2e12dae3a5b1c3ed","101":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/5dc9345ee6092ca006f777b42b34e853_df13ad7c61407d1a00e261fcd5fcd93c16e1a0c1be13d0903d76a21a89cd3459","102":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/1dbef9840938d5e30563c3f844b9ebac_12fe10df66a6ee48bffe72578a6f42d340ff0b4f75d4fe65f6bed2b75841e978","103":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c3af292a916339e6c57ba0d03712a445_273c38be422269a46466d48494c513daf53b3a66440b6401c94c37f1e55070c2","104":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b44ded0b090097528af2c4ad694c2a40_3f5ed56c662da89e1e0f3ae62a67f9e14ea2384f2985277b1cdfa6ebfe1d18c9","105":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/df8ea86906de307c52cb9cf3b2228043_312bdbd9536ec36e42d8328def8af1afcaaf3f705917a628ea4add00ba77b8b5","106":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6846f61d6bfcf77aecd7206c6adb5be9_64e149247e52e86b671fdd2b71ac27852d54ae6eb6f4059458bdb1161f300dac","107":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/ef4a1765911453dcae8e4bdd5d3203a1_321cf3bc8710a6a19576dfe93677def4666da0b4744489c26aa44f75a753333e","108":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dc381f9e0b6193e8be5d94595ed1c4b7_d612afde7baf43ac5daeae9e0efe42781867bc3451e3e8814253cbfc4410bb4a","109":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9579d5dd8523c493e0590e3881e25041_106c39b7e97fdd57abb992ec7ff7c0f0b15f0f83a348e3a3698e3fcbdcdf2836","110":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/95cfda0cb7bfaac0fc789cf05c7e513e_a509049aea02886eb409c53a15e03a6cf5eb6583120267bbca75c2206027c0b1","111":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/6e05daaab9a81a2ea5348b70833bdfb6_023eb1e947686aef7764a3ce4c9683b47d2235c51a031e36b947e4398ef6906d","112":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/d29d4fcb1b25a9d424a12800869a3b65_991d563880a3345073ebb4cc3cd57778ef5cfbc3ae625cefec2ffc3b690a5aa5","113":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/983764cb5075eedbd96ec034df1374a1_a94f5a1f0c9b45b9082044ebe72774b0313a58e5a2f58d00a63827ad7d48bb62","114":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/9abafed7a919fe54046abe458a6b3140_4003c5226083b7beb7b5901c79027e3833be0aec78da9aa3fc05f0293f5bb43e","115":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4268a231e34c78a807bd51c7d5e1064e_a9049cfd9cbbb250474c1364710dcd276e1896297b2dee37b6ffad96a882bda9","116":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/b80be54bf0fbb43ebd8a20dca4d8f6f0_544d5a34e1d959e4e7794c58503b3478de33eb4ef21e8b74839b950adda7dedd","117":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/4ce28371de65a22a241dee28128dda4d_0daec6dffe6bd726f3031d51a39728c4f88f48482ebbae6c05f758ca24dd0890","118":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c55284b8098cbaa9a1db08cbdf46bae8_6baa7acefb038acbb2fedbfdce556766c48349c5d13374347a26bd83e2acf283","119":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/dd77cf42f690e808bb9d8131b7cec48b_0b3713716d1127b36eb335737778cca3d4b7b476a99a571a11dc118e71463d2b","120":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/c657e3f25ab9ae85a99e421231a6c6a8_06deb81cfec70dbd14da6bb6471b8ee4bcc142ee08b60714af9f91683b461e6a","121":"https:\/\/d2ojpxxtu63wzl.cloudfront.net\/static\/cd4fc426707d63e4d9b8bc9205dea3fc_cb648ffe70ec0942be80f294a1a07c5e64958570265b70cfd84da78072877fe7"}
}

},{}],39:[function(require,module,exports){
/* mousetrap v1.4.6 craig.is/killing/mice */
(function(J,r,f){function s(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,d)}function A(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return h[a.which]?h[a.which]:B[a.which]?B[a.which]:String.fromCharCode(a.which).toLowerCase()}function t(a){a=a||{};var b=!1,d;for(d in n)a[d]?b=!0:n[d]=0;b||(u=!1)}function C(a,b,d,c,e,v){var g,k,f=[],h=d.type;if(!l[a])return[];"keyup"==h&&w(a)&&(b=[a]);for(g=0;g<l[a].length;++g)if(k=
l[a][g],!(!c&&k.seq&&n[k.seq]!=k.level||h!=k.action||("keypress"!=h||d.metaKey||d.ctrlKey)&&b.sort().join(",")!==k.modifiers.sort().join(","))){var m=c&&k.seq==c&&k.level==v;(!c&&k.combo==e||m)&&l[a].splice(g,1);f.push(k)}return f}function K(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function x(a,b,d,c){m.stopCallback(b,b.target||b.srcElement,d,c)||!1!==a(b,d)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?
b.stopPropagation():b.cancelBubble=!0)}function y(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=A(a);b&&("keyup"==a.type&&z===b?z=!1:m.handleKey(b,K(a),a))}function w(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function L(a,b,d,c){function e(b){return function(){u=b;++n[a];clearTimeout(D);D=setTimeout(t,1E3)}}function v(b){x(d,b,a);"keyup"!==c&&(z=A(b));setTimeout(t,10)}for(var g=n[a]=0;g<b.length;++g){var f=g+1===b.length?v:e(c||E(b[g+1]).action);F(b[g],f,c,a,g)}}function E(a,b){var d,
c,e,f=[];d="+"===a?["+"]:a.split("+");for(e=0;e<d.length;++e)c=d[e],G[c]&&(c=G[c]),b&&"keypress"!=b&&H[c]&&(c=H[c],f.push("shift")),w(c)&&f.push(c);d=c;e=b;if(!e){if(!p){p={};for(var g in h)95<g&&112>g||h.hasOwnProperty(g)&&(p[h[g]]=g)}e=p[d]?"keydown":"keypress"}"keypress"==e&&f.length&&(e="keydown");return{key:c,modifiers:f,action:e}}function F(a,b,d,c,e){q[a+":"+d]=b;a=a.replace(/\s+/g," ");var f=a.split(" ");1<f.length?L(a,f,b,d):(d=E(a,d),l[d.key]=l[d.key]||[],C(d.key,d.modifiers,{type:d.action},
c,a,e),l[d.key][c?"unshift":"push"]({callback:b,modifiers:d.modifiers,action:d.action,seq:c,level:e,combo:a}))}var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},B={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},H={"~":"`","!":"1",
"@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},G={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p,l={},q={},n={},D,z=!1,I=!1,u=!1;for(f=1;20>f;++f)h[111+f]="f"+f;for(f=0;9>=f;++f)h[f+96]=f;s(r,"keypress",y);s(r,"keydown",y);s(r,"keyup",y);var m={bind:function(a,b,d){a=a instanceof Array?a:[a];for(var c=0;c<a.length;++c)F(a[c],b,d);return this},
unbind:function(a,b){return m.bind(a,function(){},b)},trigger:function(a,b){if(q[a+":"+b])q[a+":"+b]({},a);return this},reset:function(){l={};q={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:function(a,b,d){var c=C(a,b,d),e;b={};var f=0,g=!1;for(e=0;e<c.length;++e)c[e].seq&&(f=Math.max(f,c[e].level));for(e=0;e<c.length;++e)c[e].seq?c[e].level==f&&(g=!0,
b[c[e].seq]=1,x(c[e].callback,d,c[e].combo,c[e].seq)):g||x(c[e].callback,d,c[e].combo);c="keypress"==d.type&&I;d.type!=u||w(a)||c||t(b);I=g&&"keydown"==d.type}};J.Mousetrap=m;"function"===typeof define&&define.amd&&define(m)})(window,document);

},{}]},{},[2])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvYXBwLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY2FtcGFpZ25fZGV0YWlsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY2FtcGFpZ25zLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY29tcGFueS5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL2NvbXBhbnlfcHJvc3BlY3RzLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY3JlYXRlX2NhbXBhaWduLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY3JlYXRlX2xpc3RfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9jcmVhdGVfc2lnbmFsX21vZGFsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZGVsZXRlX2xpc3RfbW9kYWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9lZGl0X3RlbXBsYXRlLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZW1haWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9mb2xsb3d1cF9mZWVkLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvZm9sbG93dXBfdGltZWxpbmUuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9mcmVlX3RyaWFsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvbGFuZGluZ19wYWdlLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvbGFuZGluZ19wYWdlX2NvbmNlcHQuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9sb2FkaW5nX3NwaW5uZXIuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9sb2dpbi5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL21lc3Nlbmdlci5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL21pbmluZ19qb2IuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9wYW5lbF9mb290aW5nLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvcHJpY2luZy5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3Byb3NwZWN0cy5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3JlbmFtZV9saXN0X21vZGFsLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvc2NoZWR1bGUuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zZW50X21haWwuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWRlX21lbnVfdXNlcl9wcm9zcGVjdHMuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvY29tcG9uZW50cy9zaWduYWxfY2FyZC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3NpZ25hbF9wcm9maWxlLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvc2lnbmFscy5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3NpZ251cC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3RlbXBsYXRlcy5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3RlbXBsYXRlc19tZW51LmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdXNlcl9wcm9zcGVjdC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9jb21wb25lbnRzL3VzZXJfcHJvc3BlY3RfaGVhZGVyLmpzLm1pbi5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdXNlcl9zaWRlX21lbnVfbGlzdC5qcy5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9saWIvZGF0YS5taW4uanMiLCIvVXNlcnMvcm9iaW4vUHJvamVjdHMvcHJvc3BlY3Rlci9wcm9zcGVjdGVyLXBhcnNlL2Rldi9idWlsZC9qcy9saWIvbW91c2V0cmFwLm1pbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6aUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG4vKiBUT0RPXG4gKiBcbiAqIC0gQWxsIGNvdW50IGNoYW5nZSwgd2hlbiBwcm9zcGVjdCBpcyBhcmNoaXZlZFxuICogLSBXaGVuIGlzIGxpc3QgaXMgY2hhYW5nZWQgZnJvbSBhbGwgYW5kIHRoZW4gcmV0dXJuZWQgdG8gQWxsIHByb3NwZWN0cyB0YWtlIGEgbG9uZyAgICAgdGltZSB0byBsb2FkXG4gKiAtIEZpeCBwYWdpbmF0aW9uIGlzc3Vlc1xuICpcbiAqIC0gUGFyYWxsZWxpemUgV29ya2Vyc1xuICogLSBTY2FsZSB1cCBnb29nbGUgc2NyYXBlIHRvIGh1bmRyZWRzIG9mIHdvcmtlcnMgKGhlcm9rdSlcbiAqXG4gKiAtIENvbXBhbnkgU2hvcnRjdXRzIFxuICogLSBBZGQgYWJpbGl0eSB0byBzd2l0Y2ggYWNjb3VudHMgZm9yIGFkbWluc1xuICogLSBBZGQgZW1haWwgdW5lZGl0YWJsZSBlbWFpbCBmaWVsZHNcbiAqL1xuXG52YXIgUHJvc3BlY3RzID0gcmVxdWlyZSgnLi9wcm9zcGVjdHMuanMubWluLmpzJyk7XG52YXIgQ29tcGFueVByb3NwZWN0cyA9IHJlcXVpcmUoJy4vY29tcGFueV9wcm9zcGVjdHMuanMubWluLmpzJyk7XG52YXIgTWluaW5nSm9iID0gcmVxdWlyZSgnLi9taW5pbmdfam9iLmpzLm1pbi5qcycpO1xudmFyIENhbXBhaWducyA9IHJlcXVpcmUoJy4vZW1haWwuanMubWluLmpzJyk7XG52YXIgQW5hbHl0aWNzID0gcmVxdWlyZSgnLi9hbmFseXRpY3MuanMubWluLmpzJyk7XG52YXIgU2lnblVwID0gcmVxdWlyZSgnLi9zaWdudXAuanMubWluLmpzJyk7XG52YXIgTG9naW4gPSByZXF1aXJlKCcuL2xvZ2luLmpzLm1pbi5qcycpO1xudmFyIExhbmRpbmdQYWdlID0gcmVxdWlyZSgnLi9sYW5kaW5nX3BhZ2UuanMubWluLmpzJyk7XG52YXIgTGFuZGluZ1BhZ2UgPSByZXF1aXJlKCcuL2xhbmRpbmdfcGFnZV9jb25jZXB0LmpzLm1pbi5qcycpO1xudmFyIEZyZWVUcmlhbCA9IHJlcXVpcmUoJy4vZnJlZV90cmlhbC5qcy5taW4uanMnKTtcbnZhciBQcmljaW5nID0gcmVxdWlyZSgnLi9wcmljaW5nLmpzLm1pbi5qcycpO1xudmFyIFNpZ25hbHMgPSByZXF1aXJlKCcuL3NpZ25hbHMuanMubWluLmpzJyk7XG52YXIgTW91c2VUcmFwID0gcmVxdWlyZSgnLi4vbGliL21vdXNldHJhcC5taW4ubWluLmpzJylcbi8vdmFyIGNoZWNrQXV0aCA9IHJlcXVpcmUoJy4vYXV0aC5taW4uanMnKVxuXG52YXIgSG9tZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0hvbWUnLFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCl7XG4gICAgY2hlY2tBdXRoKClcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIG51bV9vZl9wYWdlc1xuICAgIHJldHVybiB7cHJvc3BlY3RzOiBbXSAsIFxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsIFxuICAgICAgICAgICAgcGFnZXM6IDEsIFxuICAgICAgICAgICAgY291bnQ6XCJ+XCIsIFxuICAgICAgICAgICAgcHJvc3BlY3RUeXBlOidQcm9zcGVjdCcsIFxuICAgICAgICAgICAgc2VsZWN0ZWRTY3JlZW46ICdQcm9zcGVjdHMnfVxuICB9LFxuXG4gIHRvZ2dsZVNjcmVlbjogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuc2V0U3RhdGUoe3NlbGVjdGVkU2NyZWVuIDogJChlLnRhcmdldCkudGV4dCgpLnRyaW0oKX0pXG4gIH0sXG5cbiAgbG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKVxuICAgIGxvY2F0aW9uLmhyZWYgPSBcIiNnZXRfc3RhcnRlZFwiXG4gIH0sXG5cbiAgbGlzdERyb3Bkb3duOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnZHJvcGRvd24nKVxuICAgIC8vJCgnLmRyb3Bkb3duLW1lbnUnKS5kcm9wZG93bigpXG4gICAgJCgnLnByb3NwZWN0LWxpc3Qtc2VsZWN0JykuY3NzKCdib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cycsJzBweCcpXG4gICAgJCgnLnByb3NwZWN0LWxpc3Qtc2VsZWN0JykuY3NzKCdib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzJywnMHB4JylcbiAgICAgIFxuICAgICQoJy5saXN0LXNlbGVjdC1kcm9wZG93bicpLmNzcygnYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cycsJzBweCcpXG4gICAgJCgnLmxpc3Qtc2VsZWN0LWRyb3Bkb3duJykuY3NzKCdib3JkZXItdG9wLXJpZ2h0LXJhZGl1cycsJzBweCcpXG4gIH0sXG5cbiAgc2VsZWN0Q2hhbmdlIDogZnVuY3Rpb24oKSB7XG5cbiAgfSxcblxuICBzdHJpcGVDaGVja291dDogZnVuY3Rpb24oKSB7XG4gICAgaGFuZGxlci5vcGVuKHtcbiAgICAgIG5hbWU6ICdDdXN0b21lcm8nLFxuICAgICAgZGVzY3JpcHRpb246ICdHZXQgOTAwIGZyZWUgZW1haWwgY3JlZGl0cyEnLFxuICAgICAgYW1vdW50OiAwLFxuICAgICAgcGFuZWxMYWJlbDogXCJTdGFydCBZb3VyIEZyZWUgVHJpYWwhXCIsXG4gICAgICBvcGVuZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgfSxcbiAgICAgIGNsb3NlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2VkXCIpXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIENyZWRpdCBDYXJkIFZlcmlmaWVkIENoZWNrXG4gICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzID0gXCJbXVwiXG4gICAgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcilcbiAgICBpZighY3VycmVudFVzZXIuY3JlZGl0Q2FyZFZlcmlmaWVkKVxuICAgICAgdGhpcy5zdHJpcGVDaGVja291dCgpXG5cbiAgICAvKlxuICAgICAqIE1ha2UgUmVxdWVzdCBUbyBHZXQgTW9zdCBVcCB0byBEYXRlIEluZm9cbiAgICAgKiBPbiBTdWNjZXNzIEFkZCBUbyBJbnRlcmNvbVxuICAgICovXG5cbiAgICAvKlxuICAgICQuYWpheCh7XG4gICAgICB1cmw6JydcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAvLyBOdW1iZXIgb2YgUHJvc3BlY3RzIGZvciB1c2VyXG4gICAgICAgIC8vIE51bWJlciBvZiBMaXN0c1xuICAgICAgICAvLyBOdW1iZXIgb2YgRW1haWxzIGZvdW5kXG4gICAgICAgIEludGVyY29tKCdib290Jywge1xuICAgICAgICAgIGFwcF9pZDogJ2FiYzEyMzQ1JyxcbiAgICAgICAgICBlbWFpbDogJ2pvaG4uZG9lQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAxMjM0NTY3ODkwLFxuICAgICAgICAgIG5hbWU6ICdKb2huIERvZScsXG4gICAgICAgICAgdXNlcl9pZDogJzk4NzYnXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAqL1xuICAgIC8vIEludGVyY29tXG4gICAgLy8gTWl4cGFuZWxcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5zZWxlY3RlZFNjcmVlbikge1xuICAgICAgY2FzZSAnUHJvc3BlY3RzJzpcbiAgICAgICAgY3VycmVudFNjcmVlbiA9IFByb3NwZWN0cyh7cHJvc3BlY3RUeXBlOiB0aGlzLnN0YXRlLnNlbGVjdGVkU2NyZWVufSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdDb21wYW5pZXMnOlxuICAgICAgICBjdXJyZW50U2NyZWVuID0gQ29tcGFueVByb3NwZWN0cyh7cHJvc3BlY3RUeXBlOiB0aGlzLnN0YXRlLnNlbGVjdGVkU2NyZWVufSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNaW5pbmcgSm9icyc6XG4gICAgICAgIGN1cnJlbnRTY3JlZW4gPSBNaW5pbmdKb2IobnVsbClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBbmFseXRpY3MnOlxuICAgICAgICBjdXJyZW50U2NyZWVuID0gQW5hbHl0aWNzKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ2FtcGFpZ25zJzpcbiAgICAgICAgY3VycmVudFNjcmVlbiA9IENhbXBhaWducyhudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1NpZ25hbHMnOlxuICAgICAgICBjdXJyZW50U2NyZWVuID0gU2lnbmFscyhudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1NldHRpbmdzJzpcbiAgICAgICAgY3VycmVudFNjcmVlbiA9IFNldHRpbmdzKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCJ9LCBcbiAgICAgIFJlYWN0LkRPTS5oMSh7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxkaXNwbGF5OidpbmxpbmUnLGZvbnRXZWlnaHQ6JzEwMCcsY29sb3I6JyMxY2EzZmQnfX0sIFwiQ3VzdG9tZXJvIFwiKSwgXG4gICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnfX0sIFxuICAgICAgICBSZWFjdC5ET00uaW1nKHtzcmM6IFwiYnVpbGQvaW1nL3VzZXIucG5nXCIsIHN0eWxlOiB7aGVpZ2h0Oic0MHB4Jyx3aWR0aDonNDBweCcscGFkZGluZzonMnB4JyxtYXJnaW5Ub3A6JzVweCcsYm9yZGVyUmFkaXVzOicyM3B4JyxkaXNwbGF5OidpbmxpbmUnfSwgY2xhc3NOYW1lOiBcInRodW1ibmFpbFwifSksIFwiwqDCoMKgXCIsICBcbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMjBweCcsZmxvYXQ6J3JpZ2h0JyxkaXNwbGF5OidpbmxpbmUnfX0sIFwiV2VsY29tZVwiKVxuICAgICAgKSwgXG4gICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnLCBtYXJnaW5SaWdodDonMTUwcHgnfX0sIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luVG9wOicyMHB4JyxmbG9hdDoncmlnaHQnLGRpc3BsYXk6J2lubGluZScsfX0sIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMubG9nb3V0fSwgXCJMb2dvdXRcIikpLCBcbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMjBweCcsZmxvYXQ6J3JpZ2h0JyxkaXNwbGF5OidpbmxpbmUnLG1hcmdpblJpZ2h0OicxMHB4J319LCBSZWFjdC5ET00uYSh7aHJlZjogXCIjcHJpY2luZ1wifSwgXCJQcmljaW5nXCIpKSwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW5Ub3A6JzIwcHgnLGZsb2F0OidyaWdodCcsZGlzcGxheTonaW5saW5lJyxkaXNwbGF5Oidub25lJywgbWFyZ2luUmlnaHQ6JzEwcHgnfX0sIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNwcmljaW5nXCJ9LCBcIkRvY3VtZW50YXRpb25cIikpXG4gICAgICApLCBcbiAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcIm5hdmJhclwiLCBjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wifSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwIGNvbC1tZC1vZmZzZXQtNFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcImNob29zZSBidG4gYnRuLXByaW1hcnkgXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snfSwgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXdpZmlcIn0pLCBcIsKgU2lnbmFsc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBhY3RpdmVcIiwgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJcIn0pLCBcIsKgUHJvc3BlY3RzXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2NsYXNzTmFtZTogXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5XCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9LCBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtYmFyLWNoYXJ0LW9cIn0pLCBcIiBBbmFseXRpY3NcIlxuICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcImNob29zZSBidG4gYnRuLXByaW1hcnlcIiwgXG4gICAgICAgICAgICAgICAgICBzdHlsZToge3dpZHRoOjE2MixkaXNwbGF5Oidub25lJ30sIFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRhc2tzXCJ9KSwgXCIgTWluaW5nIEpvYnMgwqBcIiwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1kZWZhdWx0XCJ9LCBcIkJFVEFcIilcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2NsYXNzTmFtZTogXCJjaG9vc2UgYnRuIGJ0bi1wcmltYXJ5XCIsIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1idWlsZGluZ1wifSksIFwiIENvbXBhbmllc1wiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeVwiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJ30sIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1lbnZlbG9wZVwifSksIFwiwqBDYW1wYWlnbnNcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5Ub3A6NywgZmxvYXQ6J3JpZ2h0J30sIFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tc21cIiwgXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmRvd25sb2FkU29jaWFsUHJvc3BlY3Rlcn0sIFxuICAgICAgICAgICAgXCJEb3dubG9hZCBTb2NpYWwgUHJvc3BlY3RlclwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICAgIGN1cnJlbnRTY3JlZW5cblxuICAgICAgICApXG4gICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgXG4gIGRvd25sb2FkU29jaWFsUHJvc3BlY3RlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jaHJvbWUud2Vic3RvcmUuaW5zdGFsbCgnaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvb2ZjYWxramJvZ2FpaXBla2NvY2RlZmplbmNsaW9lY2knKVxuICAgIGNocm9tZS53ZWJzdG9yZS5pbnN0YWxsKClcbiAgICBjb25zb2xlLmxvZygnZG93bmxvYWQnKVxuICB9LFxuXG4gIC8qXG4gICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIiBvbkNsaWNrPXt0aGlzLmRvd25sb2FkRmlsZX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6JzZweCd9fT5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWRvd25sb2FkXCIgLz4mbmJzcDsmbmJzcDtcbiAgICAgICAgICAgIDxoNSBzdHlsZT17e2Rpc3BsYXk6J2lubGluZSd9fSA+RG93bmxvYWQgQ1NWPC9oNT5cbiAgICAgICAgICA8L2E+XG4gICovXG5cbiAgZGVsZXRlUHJvc3BlY3Q6IGZ1bmN0aW9uKG9iamVjdElkLCBlbmRwb2ludCkge1xuICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXMuc3RhdGUucHJvc3BlY3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ub2JqZWN0SWQgIT0gb2JqZWN0SWRcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtwcm9zcGVjdHM6IGZpbHRlcmVkfSlcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvJytlbmRwb2ludCsnLycrb2JqZWN0SWQsXG4gICAgICB0eXBlOidERUxFVEUnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuXG52YXIgV29ya3NwYWNlID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG4gIHJvdXRlczoge1xuICAgIC8vbGFuZGluZ19wYWdlXG4gICAgXCJcIiAgICAgICAgICAgIDogXCJob21lXCIsXG4gICAgXCJnZXRfc3RhcnRlZFwiIDogXCJsYW5kaW5nX3BhZ2VcIixcbiAgICBcImZyZWVfdHJpYWxcIiAgOiBcImZyZWVfdHJpYWxcIixcbiAgICBcInNpZ251cFwiICAgICAgOiBcInNpZ251cFwiLFxuICAgIFwibG9naW5cIiAgICAgICA6IFwibG9naW5cIixcbiAgICBcInByaWNpbmdcIiAgICAgOiBcInByaWNpbmdcIixcbiAgfSxcbiAgaG9tZTogZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudFVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKVxuICAgIGlmIChjdXJyZW50VXNlcikgXG4gICAgICBSZWFjdC5yZW5kZXJDb21wb25lbnQoSG9tZSgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgICBlbHNlXG4gICAgICBsb2NhdGlvbi5ocmVmID0gXCIjZ2V0X3N0YXJ0ZWRcIlxuICB9LFxuICBsYW5kaW5nX3BhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChMYW5kaW5nUGFnZSgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgfSxcbiAgZnJlZV90cmlhbDogZnVuY3Rpb24oKSB7XG4gICAgUmVhY3QucmVuZGVyQ29tcG9uZW50KEZyZWVUcmlhbCgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcbiAgfSxcblxuICBzaWdudXA6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChTaWduVXAoKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSk7XG4gIH0sXG4gIGxvZ2luOiBmdW5jdGlvbigpIHtcbiAgICBSZWFjdC5yZW5kZXJDb21wb25lbnQoTG9naW4oKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSk7XG4gIH0sXG4gIHByaWNpbmc6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0LnJlbmRlckNvbXBvbmVudChQcmljaW5nKCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykpO1xuICB9XG59KTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgY2hlY2tBdXRoKClcbiAgdmFyIHdvcmtzcGFjZSA9IG5ldyBXb3Jrc3BhY2U7XG4gIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoKTtcbn0pO1xuLypcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duXCIgc3R5bGU9e3tkaXNwbGF5OidibG9jaycsZmxvYXQ6J2xlZnQnfX0+XG4gICAgICAgICAgICA8YSBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgb25DbGljaz17dGhpcy5saXN0RHJvcGRvd259IGNsYXNzTmFtZT1cInByb3NwZWN0LWxpc3Qtc2VsZWN0XCIgaHJlZj1cImphdmFzY3JpcHQ6XCI+RGVmYXVsdCZuYnNwOyZuYnNwOyZuYnNwOzxpIGNsYXNzTmFtZT1cImZhIGZhLWNoZXZyb24tY2lyY2xlLWRvd25cIiAvPjwvYT5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3Qtc2VsZWN0LWRyb3Bkb3duIGRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiIGFyaWEtbGFiZWxsZWRieT1cImRMYWJlbFwiIHN0eWxlPXt7bWFyZ2luVG9wOictMXB4J319PlxuICAgICAgICAgICAgICAgIDxsaT5MT0w8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5MTUFPPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+TE1GQU88L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuKi9cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xudmFyIFRlbXBsYXRlc01lbnUgPSByZXF1aXJlKCcuL3RlbXBsYXRlc19tZW51LmpzLm1pbi5qcycpO1xudmFyIEVkaXRUZW1wbGF0ZVZpZXcgPSByZXF1aXJlKCcuL2VkaXRfdGVtcGxhdGUuanMubWluLmpzJyk7XG52YXIgRm9sbG93dXBUaW1lbGluZSA9IHJlcXVpcmUoJy4vZm9sbG93dXBfdGltZWxpbmUuanMubWluLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIENhbXBhaWduIERldGFpbFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFRlbXBsYXRlOiAwLFxuICAgICAgdGVtcGxhdGVEZXRhaWxNb2RlOiBmYWxzZSxcbiAgICAgIGVkaXRNb2RlOiBmYWxzZSxcbiAgICAgIGZvbGxvd3VwRGF5OiAwLFxuICAgICAgdGVtcGxhdGVzOltdLFxuICAgICAgY3VycmVudFRlbXBsYXRlOicnLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgIHRoaXNzc3MgPSB0aGlzO1xuICAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9J1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvVGVtcGxhdGVzJyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2cocmVzLnJlc3VsdHMpXG4gICAgICAgIHRoaXNzc3Muc2V0U3RhdGUoe3RlbXBsYXRlczogcmVzLnJlc3VsdHN9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gICAgLypcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcuaGVhZGVycyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICB0aGlzc3NzLnNldFN0YXRlKHt0ZW1wbGF0ZXM6IHJlcy5yZXN1bHRzfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIC8vY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICAgICovXG4gIH0sXG5cbiAgcmV0dXJuVG9PdmVydmlldzogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVTY3JlZW4oJ0NhbXBhaWducycpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdjYW1wYWlnbiBkZXRhaWwnKVxuICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcy5zZWxlY3RlZENhbXBhaWduKVxuICAgIHRoaXNzID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBcbiAgICAgICAgICAgc3R5bGU6IHt3aWR0aDonMTAwJScsaGVpZ2h0OicxMDAlJyxwYWRkaW5nTGVmdDowLHBhZGRpbmdSaWdodDowfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge21hcmdpbkJvdHRvbTozMH19LCBcbiAgICAgICAgUmVhY3QuRE9NLmg1KHtzdHlsZToge21hcmdpblRvcDoyMCxtYXJnaW5MZWZ0OjIwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMucmV0dXJuVG9PdmVydmlld30sIFwiQ2FtcGFpZ25zIFwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNtYWxsKG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe3N0eWxlOiB7bWFyZ2luTGVmdDoxMCwgbWFyZ2luUmlnaHQ6MTB9LCBcbiAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLXJpZ2h0XCJ9KVxuICAgICAgICAgICksIFxuICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRDYW1wYWlnbi5uYW1lXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luTGVmdDoyMH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInRleHQtbXV0ZWRcIn0sIFwiUHJvc3BlY3QgTGlzdDpcIiksIFwiIMKgXCIsIFxuICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRDYW1wYWlnbi5wcm9zcGVjdF9saXN0Lm5hbWVcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6ICdyaWdodCcsIG1hcmdpblRvcDogLTM1LCBtYXJnaW5SaWdodDogMzAsIGRpc3BsYXk6J25vbmUnfSwgXG4gICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWVudmVsb3BlXCJ9KSwgXCIgU2VuZCFcIlxuICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtOCBwYW5lbCBwYW5lbC1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgc3R5bGU6IHtoZWlnaHQ6JzM2M3B4JyxwYWRkaW5nTGVmdDozMDUscGFkZGluZ1RvcDo1MCxvdmVyZmxvdzonYXV0bycsYm9yZGVyUmlnaHQ6MCxib3JkZXJSYWRpdXM6MH19LCBcbiAgICAgICAgICAgICAgIEZvbGxvd3VwVGltZWxpbmUoe1xuICAgICAgICAgICAgICAgICAgY3VycmVudENhbXBhaWduOiB0aGlzLnByb3BzLnNlbGVjdGVkQ2FtcGFpZ24sIFxuICAgICAgICAgICAgICAgICAgZm9sbG93dXBzOiB0aGlzLnByb3BzLnNlbGVjdGVkQ2FtcGFpZ24uZm9sbG93dXBzfSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTRcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmdMZWZ0OjAscGFkZGluZ1JpZ2h0OjAsaGVpZ2h0OjM2M319LCBcbiAgICAgICAgICAgIFRlbXBsYXRlc01lbnUoe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IHRoaXMuc3RhdGUudGVtcGxhdGVzLCBcbiAgICAgICAgICAgICAgdG9nZ2xlVGVtcGxhdGVFZGl0TWVudTogdGhpcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51fSlcbiAgICAgICAgICApLCBcblxuICAgICAgICAgICh0aGlzLnN0YXRlLnRlbXBsYXRlRGV0YWlsTW9kZSkgPyBFZGl0VGVtcGxhdGVWaWV3KHtcbiAgICAgICAgICAgIGVkaXRNb2RlOiB0aGlzLnN0YXRlLmVkaXRNb2RlLCBcbiAgICAgICAgICAgIGluaXRpYWxUZW1wbGF0ZVZhbHVlczogdGhpcy5zdGF0ZS5jdXJyZW50VGVtcGxhdGUsIFxuICAgICAgICAgICAgdG9nZ2xlVGVtcGxhdGVFZGl0TWVudTogdGhpcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51LCBcbiAgICAgICAgICAgIGZvbGxvd3VwRGF5OiB0aGlzLnN0YXRlLmZvbGxvd3VwRGF5fSkgOiBcIlwiXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiBmdW5jdGlvbihjdXJyZW50VGVtcGxhdGUpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZ2V0RE9NTm9kZSgpKVxuICAgIC8vY29uc29sZS5sb2coY3VycmVudFRlbXBsYXRlKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50VGVtcGxhdGU6IGN1cnJlbnRUZW1wbGF0ZSxcbiAgICAgIHRlbXBsYXRlRGV0YWlsTW9kZTogIXRoaXMuc3RhdGUudGVtcGxhdGVEZXRhaWxNb2RlLFxuICAgIH0pXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIENhbXBhaWduc1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFNjcmVlbjogJ092ZXJ2aWV3JyxcbiAgICAgIGNhbXBhaWduczogW11cbiAgICB9XG4gIH0sXG5cbiAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogZnVuY3Rpb24oY2FtcGFpZ24pIHtcbiAgICAvL3RoaXMucHJvcHMudG9nZ2xlU2NyZWVuKCdDYW1wYWlnbkRldGFpbCcpXG4gICAgdGhpcy5wcm9wcy5jaGFuZ2VTZWxlY3RlZENhbXBhaWduKCdDYW1wYWlnbkRldGFpbCcsIGNhbXBhaWduKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueSlcbiAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30maW5jbHVkZT1wcm9zcGVjdF9saXN0LGZvbGxvd3VwcydcbiAgICAgJC5hamF4KHtcbiAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ2FtcGFpZ24nLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBkYXRhOiBxcnksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzLnJlc3VsdHMpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtjYW1wYWlnbnM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgLy8gVE9ETyAgLSBBZGQgR2V0IFByb3NwZWN0IExpc3QgQ291bnRcbiAgICAgICAgLy8gRm9sbG93IFVwIEZlZWQgRmVhdHVyZVxuICAgICAgICAvLyAtIFNob3dzIHdoYXQgc3RhZ2VzIGRpZmZlcmVudCBwcm9zcGVjdHMgYXJlIGF0IGFuZCB3aGV0aGVyIHlvdSBcbiAgICAgICAgLy8gICBzaG91bGQgc2VuZCBhIGZvbGxvdyB1cCB0byB0aGVtLlxuICAgICAgICAvLyBIb3cgdG8gZ2V0IHRoZSBzdGFnZSBvZiBQcm9zcGVjdCBMaXN0XG4gICAgICAgIC8vIC0gV2hlcmUgdG8gcGVyc2lzdCBsYXN0IGVtYWlsIHNlbnRcbiAgICAgICAgLy8gLSBXaGF0IGlzIHN0b3JlZCBhdCB0aGUgY2FtcGFpZ24gbGV2ZWxcbiAgICAgICAgLy8gLSBXaGF0IGlzIHN0b3JlZCBhdCB0aGUgcHJvc3BlY3QgbGV2ZWxcbiAgICAgICAgLy8gLSBUaW1lbGluZSAoR2VuZXJhbCA3IHggNyBjYWRlbmNlcylcbiAgICAgICAgLy8gICAtIFxuICAgICAgICAvLyAtIFJ1bGVzIChTYW5rZXkgLyBGbG93IFZpZXcpXG4gICAgICAgIC8vICAgLSBTaG93cyBhbGwgb3Igb25seSB0aGUgb25lcyB0aGF0IGhhdmVudCByZXNwb25kZWQgXG4gICAgICAgIC8vICAgLSBTaG93IGFsbCB0aGUgb25lcyBodGhhdCBoYXZlbid0IHJlcGxpZWRcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBjYW1wYWlnbnMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5jYW1wYWlnbnMubGVuZ3RoOyBpKyspeyBcbiAgICAgIGNhbXBhaWducy5wdXNoKENhbXBhaWduUm93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNjcmVlbjogdGhpcy50b2dnbGVTY3JlZW4sIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogdGhpcy5jaGFuZ2VTZWxlY3RlZENhbXBhaWduLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbXBhaWduOiB0aGlzLnN0YXRlLmNhbXBhaWduc1tpXX0pIClcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS50aGVhZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJDYW1wYWlnbiBOYW1lXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIlByb3NwZWN0IExpc3RcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcIk9wZW5lZFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFwiUmVwbGllZFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFwiTGluayBDbGlja3NcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJ319LCBcIkJvdW5jZXNcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOjE1MCx0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgICAgIFwiU3RhdHVzXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICBjYW1wYWlnbnNcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIENhbXBhaWduUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ2FtcGFpZ25Sb3cnLFxuICB0b2dnbGVTY3JlZW46IGZ1bmN0aW9uKCkge1xuICAgIC8vdGhpcy5wcm9wcy50b2dnbGVTY3JlZW4oKVxuICAgIHRoaXMucHJvcHMuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbih0aGlzLnByb3BzLmNhbXBhaWduKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cih7c3R5bGU6IHtjdXJzb3I6J3BvaW50ZXInfSwgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaDYobnVsbCwgXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbXBhaWduLm5hbWVcbiAgICAgICAgKSwgXCIgXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaDYobnVsbCwgXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbXBhaWduLnByb3NwZWN0X2xpc3QubmFtZVxuICAgICAgICApLCBcIiBcIiksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLHBhZGRpbmc6MTJ9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCJ9LCBcIjEwMCVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMn19LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWluZm9cIn0sIFwiMTAwJVwiKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJyxwYWRkaW5nOjEyfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtcHJpbWFyeVwifSwgXCIxOCVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMn19LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRhbmdlclwifSwgXCIxMSVcIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZzoxMn19LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDQoe3N0eWxlOiB7bWFyZ2luOjB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXN1Y2Nlc3NcIn0sIFwiUmVhZHlcIilcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG4vLyBcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy9Db21wYW55UHJvc3BlY3RcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgcHJvc3BlY3QgPSB0aGlzLnByb3BzLnByb3NwZWN0XG4gICAgd2Vic2l0ZSA9IChwcm9zcGVjdC53ZWJzaXRlKSA/IFJlYWN0LkRPTS5hKHtocmVmOiAnaHR0cDovLycrcHJvc3BlY3Qud2Vic2l0ZX0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIn0pKSA6ICcnXG4gICAgbGlua2VkaW5fcHJvZmlsZSA9IChwcm9zcGVjdC5wcm9maWxlICE9IFwiXCIpID8gUmVhY3QuRE9NLmEoe2hyZWY6IHByb3NwZWN0LnByb2ZpbGV9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWxpbmtlZGluLXNxdWFyZVwifSkpIDogJydcblxuICAvKlxuICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6XCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiXG4gICAgICAgICAgICAgIHN0eWxlPXt7YmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgjMzRjNTIwLCMyMTkyMTEpJ319PiBcbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtc2VhcmNoXCIgLz4gJm5ic3A7XG4gICAgICAgICAgICAgIEZpbmQgUHJvc3BlY3RzXG4gICAgICAgICAgICA8L2E+XG4gICovXG5cbiAgY29uc29sZS5sb2dcblxuICAvLzx0ZD48YSBocmVmPVwiamF2YXNjcmlwdDpcIiBvbkNsaWNrPXt0aGlzLmRlbGV0ZVByb3NwZWN0fT48aSBjbGFzc05hbWU9XCJmYSBmYS10aW1lcy1jaXJjbGVcIiAvPjwvYT48L3RkPlxuICAgIHJldHVybiAoXG4gICAgICAgIFJlYWN0LkRPTS50cihudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7d2lkdGg6JzMwMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnfX0sIHByb3NwZWN0Lm5hbWUpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtmb250V2VpZ2h0Oic0MDAnLG1hcmdpbjonMHB4J319LCBwcm9zcGVjdC5oZWFkY291bnQpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgbW9tZW50KHByb3NwZWN0LmNyZWF0ZWRBdCwnWVlZWS1NTS1ERFRoOm1tOnNzJykuZnJvbU5vdygpKSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luOicwcHgnfX0sIHByb3NwZWN0LmluZHVzdHJ5KSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtcHJpbWFyeVwiLCBzdHlsZToge2Rpc3BsYXk6ICdibG9jaycsIHdpZHRoOiAnYXV0bycsIG1hcmdpblJpZ2h0OiAnYXV0bycsIG1hcmdpbkxlZnQ6ICdhdXRvJywgd2lkdGg6ICcyNXB4J319LCBcIjBcIilcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1pbmZvXCJ9LCBcIkhpcmluZ1wiKSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14c1wiLCBcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuTGlua2VkaW5Db21wYW55UHJvZmlsZSwgXG4gICAgICAgICAgICAgIHN0eWxlOiB7YmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc2VhcmNoXCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgICAgIFwiU2VhcmNoIFByb2ZpbGVzXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgXCLCoCDCoFwiLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9wZW5TaW1pbGFyQ29tcGFuaWVzLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjMDA5NmZmIDAlLCAjMDA1ZGZmIDEwMCUpJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jb3B5XCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgICAgIFwiRmluZCBTaW1pbGFyIENvbXBhbmllc1wiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFwiIFwiLCBsaW5rZWRpbl9wcm9maWxlLCBcIiDCoCBcIiwgd2Vic2l0ZSwgXCIgXCIpXG4gICAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIG9wZW5MaW5rZWRpbkNvbXBhbnlQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICBjaWQgPSB0aGlzLnByb3BzLnByb3NwZWN0LnByb2ZpbGUuc3BsaXQoJz8nKVswXS5zcGxpdCgnL2NvbXBhbnkvJylbMV1cbiAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS92c2VhcmNoL3A/Zl9DQz1cIitjaWQpXG4gIH0sXG5cbiAgb3BlblNpbWlsYXJDb21wYW5pZXM6IGZ1bmN0aW9uKCkge1xuICAgIGNpZCA9IHRoaXMucHJvcHMucHJvc3BlY3QucHJvZmlsZS5zcGxpdCgnPycpWzBdLnNwbGl0KCcvY29tcGFueS8nKVsxXVxuICAgIHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3ZzZWFyY2gvYz9yc2lkPTUyNjQ0MDM3MTQwOTE4NDc2ODE3NSZwaXZvdFR5cGU9c2ltJnBpZD1cIitjaWQrXCImdHJrPXNpbV9jb21wYW5pZXNfcmVzX3NpbSZ0cmtJbmZvPVZTUlBzZWFyY2hJZCUzQTUyNjQ0MDM3MTQwOTE4NDc2ODE3NSUyQ1ZTUlB0YXJnZXRJZCUzQTEwMjUlMkNWU1JQY21wdCUzQXByaW1hcnlcIilcbiAgfSxcblxuICBkZWxldGVQcm9zcGVjdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVQcm9zcGVjdCh0aGlzLnByb3BzLnByb3NwZWN0Lm9iamVjdElkLCAnQ29tcGFueVByb3NwZWN0JylcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudmFyIENvbXBhbnlQcm9zcGVjdCA9IHJlcXVpcmUoJy4vY29tcGFueS5qcy5taW4uanMnKTtcbnZhciBMb2FkaW5nU3Bpbm5lciA9IHJlcXVpcmUoJy4vbG9hZGluZ19zcGlubmVyLmpzLm1pbi5qcycpXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgIHByb3NwZWN0cyAgIDogW10sXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlIDogMSxcbiAgICAgICAgICAgICAgbG9hZGluZyAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICBwYWdlcyAgICAgICA6IDEsXG4gICAgICAgICAgICAgIGNvdW50ICAgICAgIDogXCJ+XCIsIH1cbiAgfSxcbiAgLypcbiAgICpcbiAgICBjaWQgPSB0aGlzLnByb3BzLnByb3NwZWN0LnByb2ZpbGUuc3BsaXQoJz8nKVswXS5zcGxpdCgnL2NvbXBhbnkvJylbMV1cbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzKVxuICAgIHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3ZzZWFyY2gvcD9mX0NDPVwiK2NpZClcbiAgKi9cbiAgXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2NvbXBhbnknKVxuICAgIHByb3NwZWN0cyA9IFtdXG4gICAgZm9yKGk9MDtpPHRoaXMuc3RhdGUucHJvc3BlY3RzLmxlbmd0aDtpKyspIHtcbiAgICAgIHVybCA9IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLnVybFxuXG4gICAgICBpZih1cmwgIT0gXCJubyBsaW5rZWRpbiB3ZWJzaXRlXCIgJiYgdHlwZW9mKHVybCkgIT0gXCJ1bmRlZmluZWRcIiAmJiB1cmwgIT0gXCJcIil7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdodHRwOi8vJywnJylcbiAgICAgICAgdGhlX2xpbmsgPSBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3VybH0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIn0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhlX2xpbmsgPSBcIlwiXG4gICAgICB9XG5cbiAgICAgIHByb2ZpbGUgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS5wcm9maWxlXG4gICAgICAvL3Byb2ZpbGUgPSBwcm9maWxlLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKVxuICAgICAgbGkgPSBSZWFjdC5ET00uYSh7aHJlZjogJ2h0dHA6Ly8nK3Byb2ZpbGV9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWxpbmtlZGluLXNxdWFyZVwifSkpXG5cbiAgICAgIGlmKHRoaXMucHJvcHMucHJvc3BlY3RUeXBlID09ICdQcm9zcGVjdCcpIHtcbiAgICAgICAgcHJvc3BlY3RzLnB1c2goXG4gICAgICAgICAgVXNlclByb3NwZWN0KHtkZWxldGVQcm9zcGVjdDogdGhpcy5kZWxldGVQcm9zcGVjdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9zcGVjdDogdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlX2lkKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluazogdGhlX2xpbmssIGxpOiBsaX0pXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3NwZWN0cy5wdXNoKFxuICAgICAgICAgIENvbXBhbnlQcm9zcGVjdCh7ZGVsZXRlUHJvc3BlY3Q6IHRoaXMuZGVsZXRlUHJvc3BlY3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlX2lkKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3Q6IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZpb3VzID0gKHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgLSAxKSA/ICcnIDogJ2Rpc2FibGVkJ1xuICAgIGZvcndhcmQgPSAodGhpcy5zdGF0ZS5jdXJyZW50UGFnZSA9PSB0aGlzLnN0YXRlLnBhZ2VzKSA/ICdkaXNhYmxlZCcgOiAnJ1xuXG4gICAgbG93ZXJMaW1pdCA9ICh0aGlzLnN0YXRlLmN1cnJlbnRQYWdlLTEpKjEwMFxuICAgIHVwcGVyTGltaXQgPSB0aGlzLnN0YXRlLmN1cnJlbnRQYWdlKjEwMFxuXG4gICAgbG93ZXJMaW1pdCA9IChsb3dlckxpbWl0KSA/IGxvd2VyTGltaXQgOiAxXG4gICAgdXBwZXJMaW1pdCA9ICh1cHBlckxpbWl0ID4gdGhpcy5zdGF0ZS5jb3VudCkgPyB0aGlzLnN0YXRlLmNvdW50IDogdXBwZXJMaW1pdFxuICBcbiAgICBjb25zb2xlLmxvZyhwcm9zcGVjdHMubGVuZ3RoKVxuICAgIGNvbXBhbnlTdHlsZT0gKHByb3NwZWN0cy5sZW5ndGgpID8ge3BhZGRpbmc6JzAnfSA6IHtkaXNwbGF5Oidub25lJ31cblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lciBiZy1yYWRpdXNcIiwgc3R5bGU6IHt3aWR0aDonMTAwJScscGFkZGluZzonMCd9fSwgXG4gICAgICAgIChwcm9zcGVjdHMubGVuZ3RoID09IDAgJiYgdGhpcy5zdGF0ZS5sb2FkaW5nID09IGZhbHNlKSA/IEVtcHR5Q29tcGFueVByb3NwZWN0c1BhbmVsKG51bGwpIDogXCJcIiwgXG4gICAgICAgICh0aGlzLnN0YXRlLmxvYWRpbmcpID8gTG9hZGluZ1NwaW5uZXIobnVsbCkgOiBcIlwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMlwiLCBzdHlsZTogY29tcGFueVN0eWxlfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiYXV0b3Njcm9sbFwiLCBzdHlsZToge2hlaWdodDonNDAwcHgnLG92ZXJmbG93OidhdXRvJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50YWJsZSh7Y2xhc3NOYW1lOiBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGhlYWQoe3N0eWxlOiB7YmFja2dyb3VuZENvbG9yOid3aGl0ZSd9fSwgXG4gICAgICAgICAgICAgICAgQ29tcGFueVByb3NwZWN0SGVhZGVyKG51bGwpXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICAgICAgcHJvc3BlY3RzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtZm9vdGluZ1wiLCBpZDogXCJuYXZiYXJcIiwgc3R5bGU6IHtoZWlnaHQ6JzM1cHgnLHBhZGRpbmc6JzBweCcscGFkZGluZ1RvcDonN3B4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblJpZ2h0OicyMHB4J319LCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBzdHlsZToge21hcmdpblJpZ2h0Oic1cHgnfSwgb25DbGljazogdGhpcy5wYWdpbmF0ZVByZXZpb3VzLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgcHJldmlvdXN9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWZhc3QtYmFja3dhcmRcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5wYWdpbmF0ZVByZXZpb3VzLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgcHJldmlvdXN9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNoZXZyb24tbGVmdFwifSkpLCBcbiAgICAgICAgICBcIsKgIMKgXCIsIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwiXCJ9LCBsb3dlckxpbWl0ICsgJyAtICcrdXBwZXJMaW1pdCsnIG9mICcrdGhpcy5zdGF0ZS5jb3VudCksIFxuICAgICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5wYWdpbmF0ZUZvcndhcmQsIGNsYXNzTmFtZTogXCJibHVlLWdyYWRpZW50IGJ0biBidG4tcHJpbWFyeSBidG4teHMgXCIgKyBmb3J3YXJkfSwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLXJpZ2h0XCJ9KSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIHN0eWxlOiB7bWFyZ2luTGVmdDonNXB4J30sIG9uQ2xpY2s6IHRoaXMucGFnaW5hdGVGb3J3YXJkLCBjbGFzc05hbWU6IFwiYmx1ZS1ncmFkaWVudCBidG4gYnRuLXByaW1hcnkgYnRuLXhzIFwiICsgZm9yd2FyZH0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZmFzdC1mb3J3YXJkXCJ9KSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzc3MgPSB0aGlzO1xuICAgIHBhcnNlX2hlYWRlcnMgPSB7J1gtUGFyc2UtQXBwbGljYXRpb24tSWQnOidOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JzonVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYid9XG4gICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ29tcGFueVByb3NwZWN0JyxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgYXN5bmM6IHRydWUsXG4gICAgICBkYXRhOiAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnfSZjb3VudD0xJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7Y291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cGFnZXM6IE1hdGguY2VpbChyZXMuY291bnQvMTAwKX0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZ2VuZXJhdGVfaWQgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbiAgfSxcbn0pO1xuXG52YXIgU2lkZU1lbnVDb21wYW55UHJvc3BlY3RzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lkZU1lbnVDb21wYW55UHJvc3BlY3RzJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMlwiLCBzdHlsZToge3BhZGRpbmc6JzAnLGhlaWdodDonNDAwcHgnLGJhY2tncm91bmRDb2xvcjonI2UwZTllZScsYm9yZGVyUmlnaHQ6JzFweCBzb2xpZCAjYjBiOGJmJyx0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwcm9zcGVjdC1saXN0LWhlYWRlclwifSwgXG4gICAgICAgICAgXCJMaXN0c1wiXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwLXZlcnRpY2FsXCIsIHN0eWxlOiB7d2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgXCJUZW1wbGF0ZXNcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgXCJTY2hlZHVsZXNcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgXCJSdWxlc1wiKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeVwiLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzLWNpcmNsZVwifSksIFwiwqBOZXcgQ2xhc3NcIlxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxuICBwYWdpbmF0ZVByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncHJldmlvdXMnKVxuICAgIGNvbnNvbGUubG9nKCh0aGlzLnN0YXRlLmN1cnJlbnRQYWdlIC0gMSkqMTAwKVxuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdD9za2lwPScrKHRoaXNzLnN0YXRlLmN1cnJlbnRQYWdlLTIpKjEwMCxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogdGhpc3Muc3RhdGUuY3VycmVudFBhZ2UgLSAxfSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHBhZ2luYXRlRm9yd2FyZDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2ZvcndhcmQnKVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0P3NraXA9Jyt0aGlzcy5zdGF0ZS5jdXJyZW50UGFnZSoxMDAsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGRhdGE6ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9JmNvdW50PTEnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogcmVzLnJlc3VsdHN9KVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7Y3VycmVudFBhZ2U6IHRoaXNzLnN0YXRlLmN1cnJlbnRQYWdlICsgMX0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbn0pO1xuXG52YXIgRW1wdHlDb21wYW55UHJvc3BlY3RzUGFuZWwgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdFbXB0eUNvbXBhbnlQcm9zcGVjdHNQYW5lbCcsXG4gIG9wZW5MaW5rZWRpbldpbmRvdzogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS92c2VhcmNoL2M/dHlwZT1jb21wYW5pZXMnKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtb2Zmc2V0LTMgY29sLW1kLTZcIiwgc3R5bGU6IHtoZWlnaHQ6NDAwfX0sIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHRcIiwgc3R5bGU6IHttYXJnaW5Ub3A6MTAwLGhlaWdodDoyMDB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDEoe2NsYXNzTmFtZTogXCJsZWFkXCIsIHN0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFwiU3RhcnQgUHJvc3BlY3RpbmcgT24gTGlua2VkaW5cIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMub3BlbkxpbmtlZGluV2luZG93LCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7YmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSAhaW1wb3J0YW50JyxkaXNwbGF5OidibG9jaycsbWFyZ2luUmlnaHQ6J2F1dG8nLG1hcmdpbkxlZnQ6J2F1dG8nLHdpZHRoOjIwMCwgbWFyZ2luVG9wOjUwfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1zZWFyY2hcIn0pLCBcIiDCoFwiICsgJyAnICtcbiAgICAgICAgICAgIFwiU2VhcmNoIGZvciBjb21wYW5pZXMhXCIpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBDb21wYW55UHJvc3BlY3RIZWFkZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdDb21wYW55UHJvc3BlY3RIZWFkZXInLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIk5hbWVcIiksIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJBZGRlZCBPblwiKSwgXG4gICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkluZHVzdHJ5XCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiIyBvZiBQcm9zcGVjdHNcIiksIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJTaWduYWxzXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiwqBcIiksIFxuICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCLCoFwiKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZUxpc3RNb2RhbFxuICBjcmVhdGVMaXN0OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygkKCcjbGlzdFRpdGxlJykudmFsKCkpXG5cbiAgICBkYXRhID0gIHtcbiAgICAgICduYW1lJyAgICAgICAgOiAkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpLCAgIC8vV2FpdGluZyAsIFJ1bm5pbmdcbiAgICAgICd1c2VyJyAgICAgICAgOiB7ICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonX1VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6J3hXRVNpdzVTbWQnIH0sXG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGF0YS5jb3VudCA9IDBcblxuICAgIHRoaXMucHJvcHMuY3JlYXRlTGlzdChkYXRhKVxuICAgIFxuICAgICQoJyNjcmVhdGVMaXN0TW9kYWwnKS5tb2RhbCgnaGlkZScpXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykucmVtb3ZlKCk7XG4gICAgLy8kKCdidXR0b24uY2xvc2UnKS5jbGljaygpXG4gIH0sXG5cbiAgcmVuYW1lTGlzdDogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vY29uc29sZS5sb2coJCgnI25ld0xpc3ROYW1lJykudmFsKCkpXG4gICAgbmV3TGlzdE5hbWUgPSAkKCcjbmV3TGlzdE5hbWUnKS52YWwoKVxuICAgIGlmKG5ld0xpc3ROYW1lLnRyaW0oKSAhPSBcIlwiKVxuICAgICAgdGhpcy5wcm9wcy5yZW5hbWVMaXN0KG5ld0xpc3ROYW1lKVxuICAgIC8vIERpc2FibGUgTW9kYWxcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgYnMtY3JlYXRlQ2FtcGFpZ24tbW9kYWwtc21cIiwgdGFiSW5kZXg6IFwiLTFcIiwgcm9sZTogXCJkaWFsb2dcIiwgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcImNyZWF0ZUxpc3RNb2RhbFwiLCBzdHlsZToge3RvcDonMjAwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjbG9zZVwiLCAnZGF0YS1kaXNtaXNzJzogXCJtb2RhbFwifSwgUmVhY3QuRE9NLnNwYW4oeydhcmlhLWhpZGRlbic6IFwidHJ1ZVwifSwgXCLDl1wiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwic3Itb25seVwifSwgXCJDbG9zZVwiKSksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1lbnZlbG9wZVwifSksIFwiIMKgQ3JlYXRlIENhbXBhaWduXCIpXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMucmVuYW1lTGlzdH0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe2lkOiBcIm5ld0NhbXBhaWduTmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIkVudGVyIENhbXBhaWduIE5hbWUuLi5cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sXCJ9KSwgXG5cbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNlbGVjdCh7Y2xhc3NOYW1lOiBcImZvcm0tY29udHJvbFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge21hcmdpblRvcDoyMCxtYXJnaW5Cb3R0b206MjB9fSwgXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLm9wdGlvbihudWxsLCBcIjFcIiksIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5vcHRpb24obnVsbCwgXCIyXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ub3B0aW9uKG51bGwsIFwiM1wiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLm9wdGlvbihudWxsLCBcIjRcIiksIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5vcHRpb24obnVsbCwgXCI1XCIpXG4gICAgICAgICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucmVuYW1lTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2Vzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ3JlYXRlIENhbXBhaWduXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZUxpc3RNb2RhbFxuICBjcmVhdGVMaXN0OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygkKCcjbGlzdFRpdGxlJykudmFsKCkpXG5cbiAgICBkYXRhID0gIHtcbiAgICAgICduYW1lJyAgICAgICAgOiAkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpLCAgIC8vV2FpdGluZyAsIFJ1bm5pbmdcbiAgICAgICd1c2VyJyAgICAgICAgOiB7ICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonX1VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6J3hXRVNpdzVTbWQnIH0sXG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGF0YS5jb3VudCA9IDBcblxuICAgIHRoaXMucHJvcHMuY3JlYXRlTGlzdChkYXRhKVxuICAgIFxuICAgICQoJyNjcmVhdGVMaXN0TW9kYWwnKS5tb2RhbCgnaGlkZScpXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykucmVtb3ZlKCk7XG4gICAgLy8kKCdidXR0b24uY2xvc2UnKS5jbGljaygpXG4gIH0sXG5cbiAgY3JlYXRlTGlzdEJ1dHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICBpZigkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLmNyZWF0ZUxpc3QoKVxuICB9LFxuXG4gIGNyZWF0ZU1pbmluZ0pvYjogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKCdsbWFvJylcbiAgICBpZigkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLmNyZWF0ZUxpc3QoKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwgZmFkZSBicy1leGFtcGxlLW1vZGFsLXNtXCIsIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsICdhcmlhLWxhYmVsbGVkYnknOiBcIm15U21hbGxNb2RhbExhYmVsXCIsICdhcmlhLWhpZGRlbic6IFwidHJ1ZVwiLCBpZDogXCJjcmVhdGVMaXN0TW9kYWxcIiwgc3R5bGU6IHt0b3A6JzIwMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2xvc2VcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFJlYWN0LkRPTS5zcGFuKHsnYXJpYS1oaWRkZW4nOiBcInRydWVcIn0sIFwiw5dcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInNyLW9ubHlcIn0sIFwiQ2xvc2VcIikpLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbGlzdFwifSksIFwiIMKgQ3JlYXRlIExpc3RcIilcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMuY3JlYXRlTWluaW5nSm9ifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7aWQ6IFwibGlzdFRpdGxlXCIsIHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJFbnRlciBsaXN0IHRpdGxlLi4uXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5jcmVhdGVMaXN0QnV0dG9uQ2xpY2ssIHBsYWNlaG9sZGVyOiBcIkVudGVyIENpdHkgQXJlYS4uLlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLCB3aWR0aDonMTAwJSd9fSwgXCJDcmVhdGUgTGlzdFwiKVxuICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gY3JlYXRlTGlzdE1vZGFsXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCQoJyNsaXN0VGl0bGUnKS52YWwoKSlcblxuICAgIGRhdGEgPSAge1xuICAgICAgJ25hbWUnICAgICAgICA6ICQoJyNsaXN0VGl0bGUnKS52YWwoKS50cmltKCksICAgLy9XYWl0aW5nICwgUnVubmluZ1xuICAgICAgJ3VzZXInICAgICAgICA6IHsgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOidfVXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzoneFdFU2l3NVNtZCcgfSxcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdCcsXG4gICAgICB0eXBlOidQT1NUJyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5wYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkYXRhLmNvdW50ID0gMFxuXG4gICAgdGhpcy5wcm9wcy5jcmVhdGVMaXN0KGRhdGEpXG4gICAgXG4gICAgJCgnI2NyZWF0ZUxpc3RNb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmFja2Ryb3AnKS5yZW1vdmUoKTtcbiAgICAvLyQoJ2J1dHRvbi5jbG9zZScpLmNsaWNrKClcbiAgfSxcblxuICBjcmVhdGVMaXN0QnV0dG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgIGlmKCQoJyNsaXN0VGl0bGUnKS52YWwoKS50cmltKCkgIT0gXCJcIilcbiAgICAgIHRoaXMuY3JlYXRlTGlzdCgpXG4gIH0sXG5cbiAgY3JlYXRlTWluaW5nSm9iOiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coJ2xtYW8nKVxuICAgIGlmKCQoJyNsaXN0VGl0bGUnKS52YWwoKS50cmltKCkgIT0gXCJcIilcbiAgICAgIHRoaXMuY3JlYXRlTGlzdCgpXG4gIH0sXG5cbiAgZGVsZXRlTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVMaXN0KClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsIGZhZGUgYnMtY3JlYXRlU2lnbmFsLW1vZGFsLW1kXCIsIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsICdhcmlhLWxhYmVsbGVkYnknOiBcIm15U21hbGxNb2RhbExhYmVsXCIsICdhcmlhLWhpZGRlbic6IFwidHJ1ZVwiLCBpZDogXCJjcmVhdGVMaXN0TW9kYWxcIiwgc3R5bGU6IHt0b3A6JzEwMHB4JyxvdmVyZmxvdzonaGlkZGVuJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe2NsYXNzTmFtZTogXCJtb2RhbC10aXRsZVwiLCBpZDogXCJteU1vZGFsTGFiZWxcIn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXdpZmlcIn0pLCBcIiDCoENyZWF0ZSBTaWduYWxcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5mb3JtKHtjbGFzc05hbWU6IFwiY3JlYXRlU2lnbmFsXCIsIG9uU3VibWl0OiB0aGlzLmNyZWF0ZVNpZ25hbH0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1zdWl0Y2FzZVwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonOTAlJ30sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiRmluZCBDb21wYW5pZXMgSGlyaW5nIEZvciAuLi5cIn0pXG4gICAgICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2Vyc1wifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonOTAlJ30sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiTnVtYmVyIG9mIEVtcGxveWVlcyAuLi5cIn0pXG4gICAgICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1pbnN0aXR1dGlvblwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonOTAlJ30sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiQW1vdW50IG9mIEZ1bmRpbmcgLi4uXCJ9KVxuICAgICAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcIiBcIiwgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbW9uZXlcIn0pLCBcIiDCoFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwidGV4dFwiLCBzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzkwJSd9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sXCIsIHBsYWNlaG9sZGVyOiBcIlJldmVudWUgQW1vdW50IC4uLlwifSlcbiAgICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXCIgXCIsIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXdyZW5jaFwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJ0ZXh0XCIsIHN0eWxlOiB7ZGlzcGxheTonaW5saW5lLWJsb2NrJyx3aWR0aDonOTAlJ30sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgcGxhY2Vob2xkZXI6IFwiVXNpbmcgVGVjaG5vbG9naWVzIFN1Y2ggQXMuLi5cIn0pXG4gICAgICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFwiIFwiLCBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNyZWF0ZVNpZ25hbCwgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tZGVmYXVsdCBidG4tc3VjY2Vzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ3JlYXRlIFNpZ25hbFwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIGNyZWF0ZUxpc3RNb2RhbFxuICBjcmVhdGVMaXN0OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygkKCcjbGlzdFRpdGxlJykudmFsKCkpXG5cbiAgICBkYXRhID0gIHtcbiAgICAgICduYW1lJyAgICAgICAgOiAkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpLCAgIC8vV2FpdGluZyAsIFJ1bm5pbmdcbiAgICAgICd1c2VyJyAgICAgICAgOiB7ICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonX1VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6J3hXRVNpdzVTbWQnIH0sXG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOiBhcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGF0YS5jb3VudCA9IDBcblxuICAgIHRoaXMucHJvcHMuY3JlYXRlTGlzdChkYXRhKVxuICAgIFxuICAgICQoJyNjcmVhdGVMaXN0TW9kYWwnKS5tb2RhbCgnaGlkZScpXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykucmVtb3ZlKCk7XG4gICAgLy8kKCdidXR0b24uY2xvc2UnKS5jbGljaygpXG4gIH0sXG5cbiAgY3JlYXRlTGlzdEJ1dHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICBpZigkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLmNyZWF0ZUxpc3QoKVxuICB9LFxuXG4gIGNyZWF0ZU1pbmluZ0pvYjogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKCdsbWFvJylcbiAgICBpZigkKCcjbGlzdFRpdGxlJykudmFsKCkudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLmNyZWF0ZUxpc3QoKVxuICB9LFxuXG4gIGRlbGV0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGVsZXRlTGlzdCgpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLWRlbGV0ZUxpc3QtbW9kYWwtc21cIiwgdGFiSW5kZXg6IFwiLTFcIiwgcm9sZTogXCJkaWFsb2dcIiwgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcImNyZWF0ZUxpc3RNb2RhbFwiLCBzdHlsZToge3RvcDonMjAwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1jb250ZW50XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtaGVhZGVyXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogXCJjbG9zZVwiLCAnZGF0YS1kaXNtaXNzJzogXCJtb2RhbFwifSwgUmVhY3QuRE9NLnNwYW4oeydhcmlhLWhpZGRlbic6IFwidHJ1ZVwifSwgXCLDl1wiKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwic3Itb25seVwifSwgXCJDbG9zZVwiKSksIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtjbGFzc05hbWU6IFwibW9kYWwtdGl0bGVcIiwgaWQ6IFwibXlNb2RhbExhYmVsXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS10cmFzaC1vXCJ9KSwgXCIgwqBEZWxldGUgTGlzdD9cIilcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7Y2xhc3NOYW1lOiBcImRlbGV0ZUZvcm1cIiwgb25TdWJtaXQ6IHRoaXMuZGVsZXRlTGlzdH0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmRlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLWRhbmdlclwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgICAgICAgICAgIFwiRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuZGVsZXRlTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tZGVmYXVsdFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2FuY2VsXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcylcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGVCb2R5OiB0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5ib2R5LFxuICAgICAgdGVtcGxhdGVTdWJqZWN0OiB0aGlzLnByb3BzLmluaXRpYWxUZW1wbGF0ZVZhbHVlcy5zdWJqZWN0LFxuICAgICAgZWRpdE1vZGU6ZmFsc2VcbiAgICB9XG4gIH0sXG4gIC8vRWRpdFRlbXBsYXRlVmlld1xuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCgnLnRlbXBsYXRlLWJvZHknKS5odG1sKHRoaXMuc3RhdGUudGVtcGxhdGVCb2R5KVxuICB9LFxuXG4gIGNsaWNrZWRPdmVybGF5OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnY2xpY2tlZCBvdmVybGF5JylcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUoKVxuICB9LFxuXG4gIGNoYW5nZU1vZGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB0ZW1wbGF0ZSBodG1sIG9uIHRvZ2dsZVxuICAgIHBhcnNlX2hlYWRlcnMgPSBhcHBDb25maWcucGFyc2VIZWFkZXJzXG4gICAgaWYodGhpcy5zdGF0ZS5lZGl0TW9kZSl7XG4gICAgICAkKCcuc3VtbWVyJykuZGVzdHJveSgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRlbXBsYXRlQm9keTogJCgnLnN1bW1lcicpLmNvZGUoKSxcbiAgICAgICAgdGVtcGxhdGVTdWJqZWN0OiAkKCcuc3ViamVjdCcpLnZhbCgpLFxuICAgICAgICBlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUsXG4gICAgICB9KVxuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvVGVtcGxhdGVzLycrdGhpcy5wcm9wcy5pbml0aWFsVGVtcGxhdGVWYWx1ZXMub2JqZWN0SWQsXG4gICAgICAgIHR5cGU6J1BVVCcsXG4gICAgICAgIGhlYWRlcnM6cGFyc2VfaGVhZGVycyxcbiAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7Ym9keTogJCgnLnN1bW1lcicpLmNvZGUoKSxzdWJqZWN0OiAkKCcuc3ViamVjdCcpLnZhbCgpfSksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUgfSlcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAvKlxuICAgIHRoaXNzID0gdGhpcztcbiAgICAqL1xuXG4gICAgaWYodGhpcy5zdGF0ZS5lZGl0TW9kZSl7XG4gICAgICAvLyBSZXBsYWNlIFN1YmplY3QgXG4gICAgICAkKCcuc3ViamVjdCcpLnZhbCh0aGlzLnN0YXRlLnRlbXBsYXRlU3ViamVjdClcblxuICAgICAgJCgnLnN1bW1lcicpLnN1bW1lcm5vdGUoe1xuICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgdG9vbGJhcjogW1xuICAgICAgICAgIFsnc3R5bGUnLCBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdjbGVhciddXSxcbiAgICAgICAgICBbJ2ZvbnQnLCBbJ3N0cmlrZXRocm91Z2gnXV0sXG4gICAgICAgICAgWydmb250c2l6ZScsIFsnZm9udHNpemUnXV0sXG4gICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXG4gICAgICAgICAgWydwYXJhJywgWyd1bCcsICdvbCcsICdwYXJhZ3JhcGgnXV0sXG4gICAgICAgICAgWydoZWlnaHQnLCBbJ2hlaWdodCddXSxcbiAgICAgICAgXVxuICAgICAgfSlcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBFZGl0b3Igd2l0aCBodG1sXG4gICAgICAkKCcuc3VtbWVyJykuY29kZSh0aGlzLnN0YXRlLnRlbXBsYXRlQm9keSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzdWJqZWN0UGxhY2UgPSAodGhpcy5zdGF0ZS5lZGl0TW9kZSkgPyBSZWFjdC5ET00uaW5wdXQoe3N0eWxlOiB7ZGlzcGxheTonaW5saW5lJyx3aWR0aDo0ODB9LCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIHN1YmplY3RcIn0pIDogdGhpcy5zdGF0ZS50ZW1wbGF0ZVN1YmplY3RcblxuICAgIGlmKHRoaXMuc3RhdGUuZWRpdE1vZGUpe1xuICAgICAgIHRvZ2dsZUJ1dHRvbiA9IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTW9kZSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6NX19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc2F2ZVwifSksIFwiIMKgIFNhdmUgVGVtcGxhdGVcIilcbiAgICB9IGVsc2Uge1xuICAgICAgIHRvZ2dsZUJ1dHRvbiA9IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTW9kZSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tcHJpbWFyeSBidG4teHNcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6NX19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsLXNxdWFyZVwifSksIFwiIMKgIEVkaXQgVGVtcGxhdGVcIilcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe29uQ2xpY2s6IHRoaXMuY2xpY2tlZE92ZXJsYXksIGlkOiBcImVkaXRUZW1wbGF0ZU92ZXJsYXlcIn0pLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcImVkaXRUZW1wbGF0ZVZpZXdcIiwgXG4gICAgICAgICAgIGNsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1pbmZvXCIsIFxuICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJ319LCBcbiAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWhlYWRpbmdcIiwgc3R5bGU6IHtoZWlnaHQ6NTB9fSwgXG4gICAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Zsb2F0OidsZWZ0J319LCBcbiAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZmlsZS10ZXh0LW9cIn0pLCBcbiAgICAgICAgICAgICAgIFwiICBcIiArIHRoaXMucHJvcHMuaW5pdGlhbFRlbXBsYXRlVmFsdWVzLm5hbWVcbiAgICAgICAgICAgICApLCBcbiAgICAgICAgICB0b2dnbGVCdXR0b25cbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZWRpdFRlbXBsYXRlVGl0bGVcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgXCJTdWJqZWN0OiBcIiksIFxuICAgICAgICAgICAgc3ViamVjdFBsYWNlXG4gICAgICAgICAgKSwgXG4gICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInRlbXBsYXRlRGV0YWlsc1wifSwgXG4gICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW5Cb3R0b206JzAnfSwgY2xhc3NOYW1lOiBcInRleHQtbXV0ZWRcIn0sIFxuICAgICAgICAgICAgIFwiQ3JlYXRlZCBieSBNYXJrIG9uIEp1bC4gMjEsIDIwMTRcIlxuICAgICAgICAgICApLCBcbiAgICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMCd9LCBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXG4gICAgICAgICAgICAgXCJsYXN0IHVwZGF0ZWQgNyBkYXlzIGFnb1wiXG4gICAgICAgICAgIClcbiAgICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHkgc3VtbWVyIHRlbXBsYXRlLWJvZHlcIn1cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICApXG4pXG4pXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudmFyIFRlbXBsYXRlcyA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzLmpzLm1pbi5qcycpO1xudmFyIFNjaGVkdWxlcyA9IHJlcXVpcmUoJy4vc2NoZWR1bGUuanMubWluLmpzJyk7XG52YXIgQ2FtcGFpZ25zID0gcmVxdWlyZSgnLi9jYW1wYWlnbnMuanMubWluLmpzJyk7XG52YXIgU2VudE1haWwgPSByZXF1aXJlKCcuL3NlbnRfbWFpbC5qcy5taW4uanMnKTtcbnZhciBGb2xsb3d1cEZlZWQgPSByZXF1aXJlKCcuL2ZvbGxvd3VwX2ZlZWQuanMubWluLmpzJyk7XG52YXIgQ2FtcGFpZ25EZXRhaWwgPSByZXF1aXJlKCcuL2NhbXBhaWduX2RldGFpbC5qcy5taW4uanMnKTtcbnZhciBDcmVhdGVDYW1wYWlnbk1vZGFsID0gcmVxdWlyZSgnLi9jcmVhdGVfY2FtcGFpZ24uanMubWluLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkU2NyZWVuOiAnQ2FtcGFpZ25zJyxcbiAgICAgIHNlbGVjdGVkQ2FtcGFpZ246JycsXG4gICAgfVxuICB9LFxuICBcbiAgdG9nZ2xlU2NyZWVuOiBmdW5jdGlvbihzY3JlZW4pIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFNjcmVlbiA6IHNjcmVlbn0pXG4gIH0sXG5cbiAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogZnVuY3Rpb24oc2NyZWVuLCBzZWxlY3RlZENhbXBhaWduKSB7XG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRDYW1wYWlnbilcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGVkQ2FtcGFpZ24gOiBzZWxlY3RlZENhbXBhaWduLFxuICAgICAgc2VsZWN0ZWRTY3JlZW46IHNjcmVlbixcbiAgICB9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpc3MgPSB0aGlzXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5zZWxlY3RlZENhbXBhaWduKVxuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5zZWxlY3RlZFNjcmVlbil7XG4gICAgICBjYXNlICdDYW1wYWlnbnMnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gQ2FtcGFpZ25zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTZWxlY3RlZENhbXBhaWduOiB0aGlzcy5jaGFuZ2VTZWxlY3RlZENhbXBhaWduLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTY3JlZW46IHRoaXNzLnRvZ2dsZVNjcmVlbn0pXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQ2FtcGFpZ25EZXRhaWwnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gQ2FtcGFpZ25EZXRhaWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDYW1wYWlnbjogdGhpc3Muc3RhdGUuc2VsZWN0ZWRDYW1wYWlnbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENhbXBhaWduT2JqZWN0SWQ6IHRoaXNzLnN0YXRlLnNlbGVjdGVkQ2FtcGFnaW5PYmplY3RJZCwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTY3JlZW46IHRoaXNzLnRvZ2dsZVNjcmVlbn0pXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVGVtcGxhdGVzJzpcbiAgICAgICAgQ3VycmVudFNjcmVlbiA9IFRlbXBsYXRlcyhudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ092ZXJ2aWV3JzpcbiAgICAgICAgQ3VycmVudFNjcmVlbiA9IENhbXBhaWducyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbjogdGhpc3MuY2hhbmdlU2VsZWN0ZWRDYW1wYWlnbiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2NyZWVuOiB0aGlzcy50b2dnbGVTY3JlZW59KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1NlbnQgTWFpbCc6XG4gICAgICAgIEN1cnJlbnRTY3JlZW4gPSBTZW50TWFpbChudWxsKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0ZvbGxvd3VwIEZlZWQnOlxuICAgICAgICBDdXJyZW50U2NyZWVuID0gRm9sbG93dXBGZWVkKG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU2NoZWR1bGVzJzpcbiAgICAgICAgQ3VycmVudFNjcmVlbiA9IFNjaGVkdWxlcyhudWxsKVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge2hlaWdodDonNDUwcHgnfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7cGFkZGluZzonMCcsd2lkdGg6JzEwMCUnLGhlaWdodDonMTAwJSd9fSwgXG4gICAgICAgICAgICBTaWRlTWVudSh7dG9nZ2xlU2NyZWVuOiB0aGlzLnRvZ2dsZVNjcmVlbn0pLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTEwXCIsIHN0eWxlOiB7cGFkZGluZzonMCcsaGVpZ2h0OicxMDAlJ319LCBcbiAgICAgICAgICAgIEN1cnJlbnRTY3JlZW5cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIFNpZGVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lkZU1lbnUnLFxuICB0b2dnbGVTY3JlZW46IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZVNjcmVlbigkKGUudGFyZ2V0KS50ZXh0KCkudHJpbSgpKVxuICB9LFxuXG4gIC8qXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwic2hhcnAgYnRuIGJ0bi1kZWZhdWx0XCIgb25DbGljaz17dGhpcy50b2dnbGVTY3JlZW59PlxuICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtZmlsZS10ZXh0XCIgLz4gJm5ic3A7IFRlbXBsYXRlc1xuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cInNoYXJwIGJ0biBidG4tZGVmYXVsdFwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2NyZWVufT5cbiAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNsb2NrLW9cIiAvPiAmbmJzcDsgU2NoZWR1bGVzXG4gICAgPC9idXR0b24+XG4gICovXG4gIGNyZWF0ZUNhbXBhaWduTW9kYWw6IGZ1bmN0aW9uKCkge1xuXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0yXCIsIFxuICAgICAgICBzdHlsZToge3BhZGRpbmc6JzAnLGhlaWdodDonMTAwJScsIGJhY2tncm91bmRDb2xvcjoncmdiKDkwLCAxMDcsIDExOSknLGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6JzNweCd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJidG4tZ3JvdXAtdmVydGljYWxcIiwgc3R5bGU6IHt3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic2hhcnAgYnRuIGJ0bi1kZWZhdWx0XCIsIFxuICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzI3cHgnfX0sIFwiT3ZlcnZpZXdcIilcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1uZXdzcGFwZXItb1wifSksIFwiIMKgXCIsICBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzRweCd9fSwgXCJGb2xsb3d1cCBGZWVkXCIpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ30sIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNoYXJwIGJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNvZGUtZm9ya1wifSksIFwiIMKgXCIsICBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6JzRweCd9fSwgXCJSdWxlc1wiKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIHN0eWxlOiB7ZGlzcGxheTonbm9uZSd9LCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGllLWNoYXJ0XCJ9KSwgXCIgwqAgQW5hbHl0aWNzXCJcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzaGFycCBidG4gYnRuLWRlZmF1bHRcIiwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZVNjcmVlbn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wYXBlci1wbGFuZVwifSksIFwiIMKgIFNlbnQgTWFpbFwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiXCIsIHN0eWxlOiB7d2lkdGg6JzEwMCUnLHRleHRBbGlnbjonY2VudGVyJyxtYXJnaW5Ub3A6MTAwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgbmV3LWxpc3QtYnRuXCIsIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtY3JlYXRlQ2FtcGFpZ24tbW9kYWwtc21cIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXMtY2lyY2xlXCJ9KSwgXCLCoMKgTmV3IENhbXBhaWduXCJcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBDcmVhdGVDYW1wYWlnbk1vZGFsKHtjcmVhdGVDYW1wYWlnbk1vZGFsOiB0aGlzLmNyZWF0ZUNhbXBhaWduTW9kYWx9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIEZvbGxvd3VwRmVlZFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBcIkZvbGxvd3VwIEZlZWRcIlxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIEZvbGxvd3VwVGltZWxpbmVcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgJCgnLmRheScpLnRvb2x0aXAoKVxuICAgICQoJy5kYXktcG9wb3ZlcicpLnBvcG92ZXIoe1xuICAgICAgaHRtbDogdHJ1ZSxcbiAgICAgIGNvbnRlbnQ6ICc8aDYgc3R5bGU9XCJ3aWR0aDoxMzBweDtkaXNwbGF5OmlubGluZS1ibG9jaztcIj48aSBjbGFzcz1cImZhIGZhLWZpbGUtdGV4dC1vXCIgPjwvaT4mbmJzcDsmbmJzcDtFeGFtcGxlIFRlbXBsYXRlPC9oNj48YnV0dG9uIGNsYXNzPVwid2luLWJ0biBidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCI+PGkgY2xhc3M9XCJmYSBmYS1wYXBlci1wbGFuZVwiPjwvaT4mbmJzcDtTZW5kPC9idXR0b24+Jm5ic3A7PGJ1dHRvbiBjbGFzcz1cIndpbi1idG4gYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1wiPjxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCI+PC9pPjwvYnV0dG9uPiZuYnNwOzxidXR0b24gY2xhc3M9XCJ3aW4tYnRuIGJ0biBidG4tZGVmYXVsdCBidG4teHNcIj48aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIj48L2k+PC9idXR0b24+J1xuICAgIH0pXG5cbiAgICAkKCcuZGF5LXBvcG92ZXInKS5wb3BvdmVyKCdzaG93JylcbiAgICAkKCcud2luLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgLy9jb25zb2xlLmxvZygnY2xpY2tlZCB3aW4gYnRuJylcbiAgICB9KTtcblxuICAgIC8vIEZvbGxvd3VwcyB0aGF0IGJlbG9uZyB0byBjYW1wYWlnblxuICAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgIGN1cnJlbnRDYW1wYWlnbiA9IHtcbiAgICAgICAnX190eXBlJzogJ1BvaW50ZXInLFxuICAgICAgICdjbGFzc05hbWUnOidDYW1wYWlnbicsXG4gICAgICAgJ29iamVjdElkJzp0aGlzLnByb3BzLmN1cnJlbnRDYW1wYWlnbi5vYmplY3RJZFxuICAgICB9XG4gICAgIGN1cnJlbnRDYW1wYWlnbiA9IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRDYW1wYWlnbilcbiAgICAgLy9xcnkgPSAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwiY2FtcGFpZ25cIjonK2N1cnJlbnRDYW1wYWlnbisnfSZpbmNsdWRlPXRlbXBsYXRlJ1xuICAgICBxcnkgPSAnd2hlcmU9e1wiY2FtcGFpZ25cIjonK2N1cnJlbnRDYW1wYWlnbisnfSZpbmNsdWRlPXRlbXBsYXRlJ1xuICAgICAkLmFqYXgoe1xuICAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Gb2xsb3d1cCcsXG4gICAgICAgdHlwZTonR0VUJyxcbiAgICAgICBoZWFkZXJzOiBhcHBDb25maWcuaGVhZGVycyxcbiAgICAgICBkYXRhOiBxcnksXG4gICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICBjb25zb2xlLmxvZyhyZXMucmVzdWx0cylcbiAgICAgICB9LFxuICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgfVxuICAgICB9KVxuICB9LFxuICBcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuZm9sbG93dXBzKVxuICAgIHRpbWVsaW5lRWxlbWVudHMgPSBbXVxuICAgIGZvcihpPTA7aTwgMzE7aSsrKXtcbiAgICAgIGZvcihpaT0wO2lpPCB0aGlzLnByb3BzLmZvbGxvd3Vwcy5sZW5ndGg7IGlpKyspe1xuICAgICAgICBlbGVtZW50VHlwZSA9IGkgPT0gdGhpcy5wcm9wcy5mb2xsb3d1cHNbaWldLmRheVxuICAgICAgICBpZihlbGVtZW50VHlwZSlcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgdGltZWxpbmVFbGVtZW50cy5wdXNoKFRpbWVsaW5lRGF5RWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlDb3VudDogaSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZTogIWVsZW1lbnRUeXBlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVRlbXBsYXRlRWRpdE1lbnU6IHRoaXMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudX0pKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwidGltZWxpbmVcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge2hlaWdodDonOTAwcHgnLGJhY2tncm91bmRDb2xvcjoncmdiKDkwLCAxMDcsIDExOSknLHdpZHRoOjV9fSwgXG4gICAgICAgICAgICAgICB0aW1lbGluZUVsZW1lbnRzXG4gICAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgVGltZWxpbmVEYXlFbGVtZW50ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnVGltZWxpbmVEYXlFbGVtZW50JyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aW1lbGluZURheSA9IFwibG9sXCJcbiAgICBpZih0aGlzLnByb3BzLmVsZW1lbnRUeXBlKSB7XG4gICAgICB0aW1lbGluZURheSA9IFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkYXlcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcInRvb2x0aXBcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtcGxhY2VtZW50JzogXCJyaWdodFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCIrIEFkZCBhIGZvbGxvdy11cFwifSwgXCJEXCIrdGhpcy5wcm9wcy5kYXlDb3VudClcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZWxpbmVEYXkgPSBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZGF5IGRheS1wb3BvdmVyXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzogXCJwb3BvdmVyXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXRyaWdnZXInOiBcIm1hbnVhbFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS1wbGFjZW1lbnQnOiBcInJpZ2h0XCJ9LCBcIkRcIit0aGlzLnByb3BzLmRheUNvdW50LCBcIiBcIilcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICB0aW1lbGluZURheVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxuZGF0YSA9IHJlcXVpcmUoJy4uL2xpYi9kYXRhLm1pbi5qcycpIFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBmcmVlIHRyaWFsXG4gIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdvcGVuJylcbiAgICBoYW5kbGVyLm9wZW4oe1xuICAgICAgbmFtZTogJ0N1c3RvbWVybycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0dldCA5MDAgZnJlZSBlbWFpbCBjcmVkaXRzIScsXG4gICAgICBhbW91bnQ6IDAsXG4gICAgICBwYW5lbExhYmVsOiBcIlN0YXJ0IFlvdXIgRnJlZSBUcmlhbCFcIixcbiAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygkKCcuY2xvc2UnKSlcbiAgICAgICAgJCgnLmNsb3NlJykuaGlkZSgpXG4gICAgICB9LFxuICAgICAgY2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjbG9zZWRcIilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCgnYm9keScpLmNzcyh7b3ZlcmZsb3c6J2hpZGRlbid9KVxuXG5cbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZ2V0RE9NTm9kZSgpKVxuICAgIC8qXG4gICAgJCh0aGlzLmdldERPTU5vZGUoKSkuYXBwZW5kKCcgPGZvcm0gYWN0aW9uPVwiXCIgbWV0aG9kPVwiUE9TVFwiPiA8c2NyaXB0IHNyYz1cImh0dHBzOi8vY2hlY2tvdXQuc3RyaXBlLmNvbS9jaGVja291dC5qc1wiIGNsYXNzPVwic3RyaXBlLWJ1dHRvblwiIGRhdGEta2V5PVwicGtfdGVzdF80VDVQZnRsNGhvMEVnRlZvMUc3T0tSZGFcIiBkYXRhLWFtb3VudD1cIjIwMDBcIiBkYXRhLW5hbWU9XCJEZW1vIFNpdGVcIiBkYXRhLWRlc2NyaXB0aW9uPVwiMiB3aWRnZXRzICgkMjAuMDApXCIgZGF0YS1pbWFnZT1cIlwiPiA8L3NjcmlwdD4gPC9mb3JtPicpXG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygkKCcuc3RyaXBlLWJ1dHRvbi1lbCcpLmh0bWwoKSlcbiAgICAkKCcuc3RyaXBlLWJ1dHRvbi1lbCcpLmNsaWNrKClcblxuICB9LCA0MDApXG4qL1xuXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHsgXG4gIGRhdGEgPSBkYXRhKClcbiAgICBpbWdzXzEgPSBbXVxuICAgIGltZ3NfMiA9IFtdXG4gICAgZm9yKGk9MDtpIDwgMTIwOyBpKyspIHtcbiAgICAgIGltZ3NfMS5wdXNoKFJlYWN0LkRPTS5pbWcoe3NyYzogZGF0YVtpXSwgY2xhc3NOYW1lOiBcInByb3NwZWN0LWltZ1wifSkpXG4gICAgfVxuICAgIGZvcihpPTE1O2kgPCAzMDsgaSsrKSB7XG4gICAgICBpbWdzXzIucHVzaChSZWFjdC5ET00uaW1nKHtzcmM6IGRhdGFbaV0sIGNsYXNzTmFtZTogXCJwcm9zcGVjdC1pbWdcIn0pKVxuICAgIH1cblxuICBjb25zb2xlLmxvZyhkYXRhKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwic2lnbnVwXCJ9LCBcIiBcIiksIFxuXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uaDEoe2NsYXNzTmFtZTogXCJ0aXRsZVwifSwgXCJDdXN0b21lcm8uXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLmg1KHtjbGFzc05hbWU6IFwidGFnbGluZVwifSwgXCJHZXQgOTAwIGZyZWUgZW1haWwgY3JlZGl0cy4gMTAwJSByZWZ1bmQgZ3VhcmFudGVlLiAgV2Ugd2lsbCBvbmx5IHN0YXJ0IGNoYXJnaW5nIHlvdXIgY2FyZCBhZnRlciAxIG1vbnRoLlwiKVxuXG4gICAgICApLCBcblxuICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiXCIsIHN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJyx6SW5kZXg6Jy0yJyx0b3A6MCxsZWZ0OjB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJcIiwgc3R5bGU6IHttYXJnaW5MZWZ0OjM0fX0sIFxuICAgICAgICBpbWdzXzEsIFxuICAgICAgICBpbWdzXzJcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gTGFuZGluZyBQYWdlXG4gIGxvZ2luOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnbG9naW4nKVxuICAgIGVtYWlsID0gJCgnI2VtYWlsJykudmFsKClcbiAgICBwYXNzd29yZCA9ICQoJyNwYXNzd29yZCcpLnZhbCgpXG4gICAgcCA9IHtcIlgtUGFyc2UtQXBwbGljYXRpb24tSWRcIjogXCJOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKXCIsXG4gICAgICAgICBcIlgtUGFyc2UtUkVTVC1BUEktS2V5XCI6IFwiVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYlwifVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2xvZ2luJyxcbiAgICAgIGhlYWRlcnM6IHAsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgZGF0YToge1xuICAgICAgICAndXNlcm5hbWUnOmVtYWlsLFxuICAgICAgICAncGFzc3dvcmQnOnBhc3N3b3JkXG4gICAgICB9LFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VyJywgSlNPTi5zdHJpbmdpZnkocmVzKSlcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiI1wiXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykuY3NzKHtvdmVyZmxvdzonYXV0byd9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJcIn0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYmFja2dyb3VuZC1pbWFnZVwifSksIFxuICAgICAgICBSZWFjdC5ET00ubmF2KHtjbGFzc05hbWU6IFwidGhlbmF2YmFyIG5hdmJhciBuYXZiYXItZGVmYXVsdCBuYXZiYXItZml4ZWQtdG9wXCIsIHJvbGU6IFwibmF2aWdhdGlvblwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lci1mbHVpZFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcInRoZS10aXRsZSB0ay1mb2NvIGJyYW5kIG5hdmJhci1icmFuZFwiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCd9LCBcbiAgICAgICAgICAgICAgICBocmVmOiBcIiNcIn0sIFxuICAgICAgICAgICAgICBcIkN1c3RvbWVyb1wiLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7Zm9udFNpemU6JzIycHgnLG1hcmdpbkxlZnQ6JzMwcHgnfX0sIFwiU3VwZXJjaGFyZ2UgeW91ciBzYWxlcyEgXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI2xvZ2luXCIsIGNsYXNzTmFtZTogXCJidG4tbGcgYnRuIGxvZ2luLWJ0blwifSwgXCJMb2cgSW5cIilcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMTJcIiwgc3R5bGU6IHttYXJnaW5Ub3A6JzEwMHB4JyxwYWRkaW5nVG9wOicxMDBweCd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmgxKHtzdHlsZToge2NvbG9yOicjMWNhM2ZkJyxmb250V2VpZ2h0Oidib2xkJyx0ZXh0QWxpZ246J2NlbnRlcicsZm9udFNpemU6JzU2cHgnfX0sIFwiIEdlbmVyYXRlIEhpZ2ggUXVhbGl0eSBQcm9zcGVjdCBMaXN0cyBcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oMSh7c3R5bGU6IHtjb2xvcjonIzFjYTNmZCcsZm9udFdlaWdodDonMTAwJyx0ZXh0QWxpZ246J2NlbnRlcicsZm9udFNpemU6JzU2cHgnfX0sIFwiIEFjY2VsZXJhdGUgU2FsZXMgXCIpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCIjc2lnbnVwXCIsIGNsYXNzTmFtZTogXCJidG4tbGcgYnRuLXN1Y2Nlc3MgYnRuIHN0YXJ0LXRyaWFsXCJ9LCBcIlN0YXJ0IFlvdXIgRnJlZSBUcmlhbCBUb2RheVwiKSwgXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBzdHlsZToge2Rpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1oZWFkaW5nXCJ9LCBcIsKgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmxvZ2lufSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiRW1haWxcIiwgaWQ6IFwiZW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCBpZDogXCJwYXNzd29yZFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBvbkNsaWNrOiB0aGlzLmxvZ2luLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1sZ1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxiYWNrZ3JvdW5kQ29sb3I6JyMxY2EzZmQnfX0sIFwiTG9nIEluXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1mb290ZXJcIn0sIFwiwqBcIilcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZ3JhZGllbnRcIn0sIFwiIFwiKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIExhbmRpbmcgUGFnZVxuICBsb2dpbjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2xvZ2luJylcbiAgICBlbWFpbCA9ICQoJyNlbWFpbCcpLnZhbCgpXG4gICAgcGFzc3dvcmQgPSAkKCcjcGFzc3dvcmQnKS52YWwoKVxuICAgIHAgPSB7XCJYLVBhcnNlLUFwcGxpY2F0aW9uLUlkXCI6IFwiTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSlwiLFxuICAgICAgICAgXCJYLVBhcnNlLVJFU1QtQVBJLUtleVwiOiBcIlZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWJcIn1cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9sb2dpbicsXG4gICAgICBoZWFkZXJzOiBwLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ3VzZXJuYW1lJzplbWFpbCxcbiAgICAgICAgJ3Bhc3N3b3JkJzpwYXNzd29yZFxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50VXNlcicsIEpTT04uc3RyaW5naWZ5KHJlcykpXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIiNcIlxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgJCgnYm9keScpLmNzcyh7b3ZlcmZsb3c6J2F1dG8nfSlcblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJhY2tncm91bmQtaW1hZ2VcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLm5hdih7Y2xhc3NOYW1lOiBcInRoZW5hdmJhciBuYXZiYXIgbmF2YmFyLWRlZmF1bHQgbmF2YmFyLWZpeGVkLXRvcFwiLCByb2xlOiBcIm5hdmlnYXRpb25cIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXItZmx1aWRcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmltZyh7Y2xhc3NOYW1lOiBcIm5ldHdvcmstbG9nb1wiLCBzcmM6IFwiYnVpbGQvaW1nL25ldHdvcmsucG5nXCJ9KSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcInRoZS10aXRsZSB0ay1mb2NvIGJyYW5kIG5hdmJhci1icmFuZFwiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCd9LCBcbiAgICAgICAgICAgICAgICBocmVmOiBcIiNcIn0sIFxuICAgICAgICAgICAgICBcIkN1c3RvbWVyb1wiLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7Zm9udFNpemU6JzIwcHgnLG1hcmdpbkxlZnQ6JzMwcHgnLGZvbnRGYW1pbHk6J09wZW4gU2Fucyd9fSwgXCJTb2NpYWwgUHJvc3BlY3RpbmcgT24gU3Rlcm9pZHMgXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI2xvZ2luXCIsIGNsYXNzTmFtZTogXCJidG4tbGcgYnRuIGxvZ2luLWJ0blwiLCBzdHlsZToge2ZvbnRGYW1pbHk6J3Byb3hpbWEtbm92YSd9fSwgXCJMT0cgSU5cIilcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC03IGNvbC1zbS03XCIsIHN0eWxlOiB7bWFyZ2luVG9wOicxMDBweCcscGFkZGluZ1RvcDonODBweCd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmgxKHtzdHlsZToge2NvbG9yOicjMWNhM2ZkJyxmb250V2VpZ2h0OicxMDAnLGNvbG9yOid3aGl0ZScsdGV4dEFsaWduOidjZW50ZXInLGZvbnRTaXplOiczOHB4Jyxmb250RmFtaWx5OidPcGVuIFNhbnMnLGZvbnRTaXplOic0MHB4J319LCBcIiBHZW5lcmF0ZSBIaWdoIFF1YWxpdHkgUHJvc3BlY3QgTGlzdHMgXCIpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDEoe3N0eWxlOiB7Y29sb3I6JyMxY2EzZmQnLGZvbnRXZWlnaHQ6JzEwMCcsdGV4dEFsaWduOidjZW50ZXInLGNvbG9yOid3aGl0ZScsZm9udFNpemU6JzQ2cHgnLGZvbnRGYW1pbHk6J09wZW4gU2FucycsIGZvbnRTdHlsZTonaXRhbGljJ319LCBcIiBBY2NlbGVyYXRlIFNhbGVzIFwiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI3NpZ251cFwiLCBjbGFzc05hbWU6IFwiYnRuLWxnIGJ0bi1zdWNjZXNzIGJ0biBzdGFydC10cmlhbFwifSwgXCJTdGFydCBZb3VyIEZyZWUgVHJpYWwgVG9kYXlcIiksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHRcIiwgc3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wifSwgXCLCoFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtYm9keVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5mb3JtKHtvblN1Ym1pdDogdGhpcy5sb2dpbn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIkVtYWlsXCIsIGlkOiBcImVtYWlsXCIsIHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgaWQ6IFwicGFzc3dvcmRcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5sb2dpbiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tbGdcIiwgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsYmFja2dyb3VuZENvbG9yOicjMWNhM2ZkJ319LCBcIkxvZyBJblwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtZm9vdGVyXCJ9LCBcIsKgXCIpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImdyYWRpZW50XCJ9LCBcIiBcIiksIFxuXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtNSBjb2wtc20tNVwiLCBpZDogXCJuZXR3b3JrLXBpY3R1cmVcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHtoZWlnaHQ6NTAwLGJhY2tncm91bmRJbWFnZTpcInVybCgnYnVpbGQvaW1nL25ldHdvcmtfaWNvbl8xLnBuZycpXCJ9fVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gTG9hZGluZ1NwaW5uZXJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJzcGlubmVyXCIsIHN0eWxlOiB7bWFyZ2luVG9wOicxODBweCd9fSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwic3Bpbm5lci1jb250YWluZXIgY29udGFpbmVyMVwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlMVwifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTJcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUzXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlNFwifSlcbiAgICAgICksIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInNwaW5uZXItY29udGFpbmVyIGNvbnRhaW5lcjJcIn0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTFcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUyXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlM1wifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTRcIn0pXG4gICAgICApLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJzcGlubmVyLWNvbnRhaW5lciBjb250YWluZXIzXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGUxXCJ9KSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjaXJjbGUgY2lyY2xlMlwifSksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY2lyY2xlIGNpcmNsZTNcIn0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNpcmNsZSBjaXJjbGU0XCJ9KVxuICAgICAgKVxuICAgIClcbiAgICApXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnRoZURhdGEgPSByZXF1aXJlKCcuLi9saWIvZGF0YS5taW4uanMnKSBcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnblVwXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykuY3NzKHtvdmVyZmxvdzonaGlkZGVuJ30pXG4gIH0sXG5cbiAgbG9naW46IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdsb2dpbicpXG4gICAgZW1haWwgPSAkKCcjZW1haWwnKS52YWwoKVxuICAgIHBhc3N3b3JkID0gJCgnI3Bhc3N3b3JkJykudmFsKClcbiAgICBwID0ge1wiWC1QYXJzZS1BcHBsaWNhdGlvbi1JZFwiOiBcIk44NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkpcIixcbiAgICAgICAgIFwiWC1QYXJzZS1SRVNULUFQSS1LZXlcIjogXCJWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiXCJ9XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvbG9naW4nLFxuICAgICAgaGVhZGVyczogcCxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICd1c2VybmFtZSc6ZW1haWwsXG4gICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmRcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFVzZXInLCBKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIjXCJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkgeyBcbiAgICBkYXRhID0gdGhlRGF0YSgpXG4gICAgaW1nc18xID0gW11cbiAgICBpbWdzXzIgPSBbXVxuICAgIGZvcihpPTA7aSA8IDEyMDsgaSsrKSB7XG4gICAgICBpbWdzXzEucHVzaChSZWFjdC5ET00uaW1nKHtzcmM6IGRhdGFbaV0sIGNsYXNzTmFtZTogXCJwcm9zcGVjdC1pbWdcIn0pKVxuICAgIH1cbiAgICBmb3IoaT0xNTtpIDwgMzA7IGkrKykge1xuICAgICAgaW1nc18yLnB1c2goUmVhY3QuRE9NLmltZyh7c3JjOiBkYXRhW2ldLCBjbGFzc05hbWU6IFwicHJvc3BlY3QtaW1nXCJ9KSlcbiAgICB9XG5cbiAgY29uc29sZS5sb2coZGF0YSlcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcInNpZ251cFwifSwgXCIgXCIpLCBcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5oMSh7Y2xhc3NOYW1lOiBcInRpdGxlXCJ9LCBcIkN1c3RvbWVyby5cIiksIFxuICAgICAgICBSZWFjdC5ET00uaDUoe2NsYXNzTmFtZTogXCJ0YWdsaW5lXCJ9LCBcIkdlbmVyYXRlIGhpZ2ggcXVhbGl0eSBwcm9zcGVjdCBsaXN0cy4gQWNjZWxlcmF0ZSBTYWxlcy5cIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0IGxvZ2luLWluZm9cIiwgc3R5bGU6IHtkaXNwbGF5OidibG9jayd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtYm9keVwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5mb3JtKHtvblN1Ym1pdDogdGhpcy5sb2dpbn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIkVtYWlsXCIsIGlkOiBcImVtYWlsXCIsIHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgaWQ6IFwicGFzc3dvcmRcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5sb2dpbiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tbGdcIiwgc3R5bGU6IHtkaXNwbGF5OidibG9jaycsYmFja2dyb3VuZENvbG9yOicjMWNhM2ZkJ319LCBcIkxvZyBJblwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiXCIsIHN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJyx6SW5kZXg6Jy0yJyx0b3A6MCxsZWZ0OjB9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge21hcmdpbkxlZnQ6MzQsIGRpc3BsYXk6J25vbmUnfX0sIFxuICAgICAgICAgIGltZ3NfMSwgXG4gICAgICAgICAgaW1nc18yXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvL01lc3NlbmdlclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJhbGVydCBhbGVydC1zdWNjZXNzXCIsIFxuICAgICAgICAgICAgICdkYXRhLWFsZXJ0JzogXCJhbGVydFwiLCBcbiAgICAgICAgICAgICBzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICB0b3A6IDMxLCBcbiAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OjMwLCBcbiAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6J25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MjAwfX0sIFxuICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2NsYXNzTmFtZTogXCJjbG9zZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oaWRlQWxlcnR9LCBcIsOXXCIpLCBcbiAgICAgICAgICAgIFwiVGVzdFwiXG4gICAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG52YXIgTG9hZGluZ1NwaW5uZXIgPSByZXF1aXJlKCcuL2xvYWRpbmdfc3Bpbm5lci5qcy5taW4uanMnKVxuXG52YXIgSm9iID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnSm9iJyxcbiAgc3RhcnRKb2I6IGZ1bmN0aW9uKCkge1xuICAgIC8vIEFkZCBMaW5rZWRpbiBMb2NhdGlvbnNcbiAgICAvLyBFbWFpbCBXaGVuIENvbXBsZXRlZFxuICAgIC8vIEhhdmUgUmVwb3J0IEZvciBOdW1iZXIgb2YgUHJvZmlsZXMgRm91bmQgLyBudW1iZXIgb2YgZW1haWxzIGZvdW5kIHBlciBtaW5pbmcgam9iXG4gICAgXG4gICAgbWluaW5nSm9iID0gdGhpcy5wcm9wcy5taW5pbmdKb2JcbiAgICBtaW5pbmdKb2Iuc3RhdHVzID0gXCJSdW5uaW5nXCJcbiAgICBtaW5pbmdKb2IubGFzdF9yYW4gPSBNYXRoLnJvdW5kKCtuZXcgRGF0ZSgpLzEwMDApXG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9NaW5pbmdKb2IvJyttaW5pbmdKb2Iub2JqZWN0SWQsXG4gICAgICB0eXBlOidQVVQnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIC8vIHN0YXR1cyBzaG91bGQgYmUgd2FpdGluZ1xuICAgICAgZGF0YSA6IEpTT04uc3RyaW5naWZ5KHsnc3RhdHVzJzonUnVubmluZycsICdsYXN0X3Jhbic6TWF0aC5yb3VuZCgrbmV3IERhdGUoKS8xMDAwKStcIlwiIH0pLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgLy8gbWFrZSByZXF1ZXN0IHRvIGhlcm9rdSBhcGlcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAvL3VybDogJ2h0dHBzOi8vMC4wLjAuMDo1MDAwL21pbmluZ19qb2InICxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vYWdpbGUtcGxhaW5zLTI0MzAuaGVyb2t1YXBwLmNvbS9taW5pbmdfam9iJyAsXG4gICAgICAgICAgLy90eXBlOidQT1NUJyxcbiAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgICAgICBkYXRhOnsnbG9jYWxlJzptaW5pbmdKb2IubG9jYWxlLCBcbiAgICAgICAgICAgICAgICAnY3VycmVudF90aXRsZSc6bWluaW5nSm9iLnByb3NwZWN0X3RpdGxlLFxuICAgICAgICAgICAgICAgICdjdXJyZW50X3VzZXJfaWQnOkpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5vYmplY3RJZCxcbiAgICAgICAgICAgICAgICAnY29tcGFueV9pZCc6SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkub2JqZWN0SWQsXG4gICAgICAgICAgICAgICAgJ21pbmluZ19qb2JfaWQnOm1pbmluZ0pvYi5vYmplY3RJZH0sXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7bWluaW5nSm9iOiBtaW5pbmdKb2J9KVxuICB9LFxuXG4gIGRlbGV0ZUpvYjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnN0YXRlLm1pbmluZ0pvYilcbiAgICB0aGlzLnByb3BzLmRlbGV0ZUpvYih0aGlzLnN0YXRlLm1pbmluZ0pvYilcbiAgICAgIC8qXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvTWluaW5nSm9iLycrdGhpcy5zdGF0ZS5taW5pbmdKb2Iub2JqZWN0SWQsXG4gICAgICB0eXBlOidERUxFVEUnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gICAgICAqL1xuICB9LFxuXG4gIGNhbmNlbEpvYjogZnVuY3Rpb24oKSB7XG4gICAgbWluaW5nSm9iID0gdGhpcy5zdGF0ZS5taW5pbmdKb2JcbiAgICBtaW5pbmdKb2Iuc3RhdHVzID0gXCJcIlxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvTWluaW5nSm9iLycrbWluaW5nSm9iLm9iamVjdElkLFxuICAgICAgdHlwZTonUFVUJyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5wYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhIDogSlNPTi5zdHJpbmdpZnkoeydzdGF0dXMnOicnfSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoe21pbmluZ0pvYjogbWluaW5nSm9ifSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgbWluaW5nSm9iID0gdGhpcy5wcm9wcy5taW5pbmdKb2JcbiAgICBidXR0b24gPSAobWluaW5nSm9iLnN0YXR1cyA9PSBcIlwiKSA/IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIsIG9uQ2xpY2s6IHRoaXMuc3RhcnRKb2J9LCBcIiBcIiwgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jaGVja1wifSksIFwiwqBSdW4gXCIpIDogUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4teHMgYnRuLWRhbmdlclwiLCBvbkNsaWNrOiB0aGlzLmNhbmNlbEpvYn0sIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRpbWVzXCJ9KSwgXCLCoENhbmNlbCBcIilcblxuICAgIGRpc2FibGVkID0gXCJcIlxuICAgIGRpc2FibGVkX3RyYXNoID0gXCJcIlxuICAgIC8qXG4gICAgZGlzYWJsZWQgPSAobWluaW5nSm9iLnN0YXR1cyA9PSBcIlwiKSA/IFwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIDogXCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzIGRpc2FibGVkXCJcbiAgICBkaXNhYmxlZF90cmFzaCA9IChtaW5pbmdKb2Iuc3RhdHVzID09IFwiXCIpID8gXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCIgOiAgXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0IGRpc2FibGVkXCJcbiAgICBidXR0b24gPSA8YSBocmVmPVwiamF2YXNjcmlwdDpcIiBjbGFzc05hbWU9e2Rpc2FibGVkfSBvbkNsaWNrPXt0aGlzLnN0YXJ0Sm9ifT4gPGkgY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2tcIiAvPiZuYnNwO1J1biA8L2E+IFxuICAgICovXG5cbiAgICAvL2NvbnNvbGUubG9nKG1pbmluZ0pvYilcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKG51bGwsIFxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgUmVhY3QuRE9NLmg2KG51bGwsIG1pbmluZ0pvYi5wcm9zcGVjdF90aXRsZSkpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFJlYWN0LkRPTS5oNihudWxsLCBtaW5pbmdKb2IubG9jYWxlKSksIFxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgUmVhY3QuRE9NLmg2KG51bGwsIChtaW5pbmdKb2IubGFzdF9yYW4gPT0gXCJcIiApID8gXCItLS0tXCIgOiBtb21lbnQudW5peChtaW5pbmdKb2IubGFzdF9yYW4pLmZyb21Ob3coKSkpLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwiYmFkZ2VcIn0sIFxuICAgICAgICAgICAgKG1pbmluZ0pvYi5yZXN1bHRzID09IFwiXCIpID8gMCA6IG1pbmluZ0pvYi5yZXN1bHRzXG4gICAgICAgICAgKSwgXCLCoFwiLCAgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXCJwcm9maWxlcyBmb3VuZFwiKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3BhZGRpbmdUb3A6JzEycHgnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IChtaW5pbmdKb2Iuc3RhdHVzID09IFwiXCIgKSA/IFwibGFiZWwgbGFiZWwtcHJpbWFyeVwiIDogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCJ9LCBcbiAgICAgICAgICAgIChtaW5pbmdKb2Iuc3RhdHVzID09IFwiXCIpID8gXCJSZWFkeVwiIDogbWluaW5nSm9iLnN0YXR1c1xuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHtwYWRkaW5nVG9wOicxM3B4Jyx3aWR0aDonMTA1cHgnfX0sIFxuICAgICAgICAgIGJ1dHRvbiwgXG4gICAgICAgICAgXCLCoFwiLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IGRpc2FibGVkX3RyYXNoLCBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuZGVsZXRlSm9ifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRyYXNoLW9cIn0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gTWluaW5nIEpvYnNcbiAgLy97KHByb3NwZWN0cy5sZW5ndGggPT0gMCAmJiB0aGlzLnN0YXRlLmxvYWRpbmcgPT0gZmFsc2UpID8gPEVtcHR5Q29tcGFueVByb3NwZWN0c1BhbmVsIC8+IDogXCJcIn1cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyBcbiAgICAgIG1pbmluZ0pvYnMgOiBbXSxcbiAgICAgIGxvYWRpbmcgICAgOiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIGRlbGV0ZUpvYjogZnVuY3Rpb24oam9iKSB7XG4gICAgLy9jb25zb2xlLmxvZyhqb2Iub2JqZWN0SWQpXG4gICAgdmFyIGZpbHRlcmVkID0gXy5maWx0ZXIodGhpcy5zdGF0ZS5taW5pbmdKb2JzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgY29uc29sZS5sb2coaXRlbS5vYmplY3RJZCAhPSBqb2Iub2JqZWN0SWQpXG4gICAgICAgcmV0dXJuIGl0ZW0ub2JqZWN0SWQgIT0gam9iLm9iamVjdElkXG4gICAgfSk7XG4gICAgLy9jb25zb2xlLmxvZyhmaWx0ZXJlZClcbiAgICB0aGlzLnNldFN0YXRlKHttaW5pbmdKb2JzOiBmaWx0ZXJlZH0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZygncmVuZGVyJylcbiAgICBtaW5pbmdKb2JzID0gW11cbiAgICBmb3IoaT0wO2k8dGhpcy5zdGF0ZS5taW5pbmdKb2JzLmxlbmd0aDtpKyspe1xuICAgICAgbWluaW5nSm9iID0gdGhpcy5zdGF0ZS5taW5pbmdKb2JzW2ldXG4gICAgICBtaW5pbmdKb2JzLnB1c2goXG4gICAgICAgIEpvYih7ZGVsZXRlSm9iOiB0aGlzLmRlbGV0ZUpvYiwgbWluaW5nSm9iOiBtaW5pbmdKb2J9KVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1pbmluZy1qb2ItdG9vbGJhciBjb250YWluZXJcIiwgc3R5bGU6IHt3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtZXhhbXBsZS1tb2RhbC1zbVwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXCIgwqAgRmluZCBQcm9zcGVjdHMgQnkgVGl0bGUgYW5kIEFyZWFcIlxuICAgICAgICApLCBcbiAgICAgICAgXCLCoCDCoFwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIiwgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIiDCoCBGaW5kIENvbXBhbmllcyBIaXJpbmcgRm9yIFJvbGVzXCJcbiAgICAgICAgKSwgXG4gICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzIGRpc2FibGVkXCIsICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtZXhhbXBsZS1tb2RhbC1zbVwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXCIgwqAgRmluZCBDb21wYW5pZXMgV2hvIEp1c3QgUmFpc2VkIEZ1bmRpbmdcIlxuICAgICAgICApLCBcbiAgICAgICAgXCLCoCDCoFwiLCBcbiAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIiwgJ2RhdGEtdG9nZ2xlJzogXCJtb2RhbFwiLCAnZGF0YS10YXJnZXQnOiBcIi5icy1leGFtcGxlLW1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIiDCoCBGaW5kIENvbXBhbmllcyBCeSBJbmR1c3R5IEFuZCBBcmVhXCJcbiAgICAgICAgKSwgXG4gICAgICAgIFwiwqAgwqBcIiwgXG4gICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzIGRpc2FibGVkXCIsICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtZXhhbXBsZS1tb2RhbC1zbVwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXCIgwqAgUHJlc3MgQ292ZXJhZ2VcIlxuICAgICAgICApXG4gICAgKSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJhdXRvc2Nyb2xsXCIsIHN0eWxlOiB7aGVpZ2h0Oic0MDBweCcsb3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00udGhlYWQobnVsbCwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJKb2IgVGl0bGVcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiQ2l0eVwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJMYXN0IFJhblwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJSZXN1bHRzXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIlN0YXR1c1wiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCLCoFwiKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS50Ym9keShudWxsLCBcbiAgICAgICAgICAgIG1pbmluZ0pvYnNcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICAgICh0aGlzLnN0YXRlLmxvYWRpbmcpID8gTG9hZGluZ1NwaW5uZXIobnVsbCkgOiBcIlwiLCBcbiAgICAgICAgY3JlYXRlSm9iTW9kYWwoe2NyZWF0ZUpvYjogdGhpcy5jcmVhdGVKb2J9KVxuICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG4gIFxuICBydW5NaW5pbmdKb2I6IGZ1bmN0aW9uKCkge1xuXG4gIH0sXG5cbiAgY3JlYXRlSm9iOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbWluaW5nSm9icyA9IHRoaXMuc3RhdGUubWluaW5nSm9ic1xuICAgIG1pbmluZ0pvYnMucHVzaChkYXRhKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBtaW5pbmdKb2JzOiBtaW5pbmdKb2JzIH0pXG5cbiAgICAkKCcjbWluaW5nSm9iTW9kYWwnKS5tb2RhbCgnaGlkZScpXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgJCgnLm1vZGFsLWJhY2tkcm9wJykucmVtb3ZlKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCd0aGlzIGRpZCBtb3VudCcpXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL01pbmluZ0pvYicsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7bWluaW5nSm9icyA6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xvYWRpbmcgICAgOiBmYWxzZX0pXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59KTtcblxudmFyIGNyZWF0ZUpvYk1vZGFsID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnY3JlYXRlSm9iTW9kYWwnLFxuICBjcmVhdGVNaW5pbmdKb2I6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdtaW5pbmcgam9iJylcbiAgICBjb25zb2xlLmxvZygkKCcjcHJvc3BlY3RUaXRsZScpLnZhbCgpKVxuICAgIGNvbnNvbGUubG9nKCQoJyNsb2NhbGUnKS52YWwoKSlcblxuICAgIGRhdGEgPSAge1xuICAgICAgJ3Byb3NwZWN0X3RpdGxlJzogJCgnI3Byb3NwZWN0VGl0bGUnKS52YWwoKSxcbiAgICAgICdsb2NhbGUnICAgICAgICA6ICQoJyNsb2NhbGUnKS52YWwoKSxcbiAgICAgICdsYXN0X3JhbicgICAgICA6ICcnLFxuICAgICAgJ3Jlc3VsdHMnICAgICAgIDogJycsXG4gICAgICAnc3RhdHVzJyAgICAgICAgOiAnJywgICAvL1dhaXRpbmcgLCBSdW5uaW5nXG4gICAgfVxuICAgIC8vICB1cGRhdGUgbG9jYWwgam9icyBzdGF0ZVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvTWluaW5nSm9iJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuY3JlYXRlSm9iKGRhdGEpXG4gICAgXG4gICAgLy8kKCdidXR0b24uY2xvc2UnKS5jbGljaygpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbCBmYWRlIGJzLWV4YW1wbGUtbW9kYWwtc21cIiwgdGFiSW5kZXg6IFwiLTFcIiwgcm9sZTogXCJkaWFsb2dcIiwgJ2FyaWEtbGFiZWxsZWRieSc6IFwibXlTbWFsbE1vZGFsTGFiZWxcIiwgJ2FyaWEtaGlkZGVuJzogXCJ0cnVlXCIsIGlkOiBcIm1pbmluZ0pvYk1vZGFsXCIsIHN0eWxlOiB7dG9wOicyMDBweCd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWNvbnRlbnRcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1oZWFkZXJcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcImNsb3NlXCIsICdkYXRhLWRpc21pc3MnOiBcIm1vZGFsXCJ9LCBSZWFjdC5ET00uc3Bhbih7J2FyaWEtaGlkZGVuJzogXCJ0cnVlXCJ9LCBcIsOXXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJzci1vbmx5XCJ9LCBcIkNsb3NlXCIpKSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaDQoe2NsYXNzTmFtZTogXCJtb2RhbC10aXRsZVwiLCBpZDogXCJteU1vZGFsTGFiZWxcIn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJvbHRcIn0pLCBcIiDCoENyZWF0ZSBNaW5pbmcgSm9iXCIpXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWJvZHlcIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmNyZWF0ZU1pbmluZ0pvYn0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe2lkOiBcInByb3NwZWN0VGl0bGVcIiwgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIkVudGVyIHByb3NwZWN0IHRpdGxlLi4uXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtpZDogXCJsb2NhbGVcIiwgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIkVudGVyIENpdHkgQXJlYS4uLlwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sXCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMuY3JlYXRlTWluaW5nSm9iLCBwbGFjZWhvbGRlcjogXCJFbnRlciBDaXR5IEFyZWEuLi5cIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2Vzc1wiLCBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJywgd2lkdGg6JzEwMCUnfX0sIFwiU3RhcnQgTWluaW5nIVwiKVxuICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgRW1wdHlNaW5pbmdKb2IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdFbXB0eU1pbmluZ0pvYicsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtb2Zmc2V0LTMgY29sLW1kLTZcIiwgc3R5bGU6IHtoZWlnaHQ6NDAwfX0sIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHRcIiwgc3R5bGU6IHttYXJnaW5Ub3A6MTAwLGhlaWdodDoyMDB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDEoe2NsYXNzTmFtZTogXCJsZWFkXCIsIHN0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFwiU3RhcnQgUHJvc3BlY3RpbmcgT24gTGlua2VkaW5cIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIG9uQ2xpY2s6IHRoaXMub3BlbkxpbmtlZGluV2luZG93LCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIHN0eWxlOiB7YmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzAwOTZmZiAwJSwgIzAwNWRmZiAxMDAlKSAhaW1wb3J0YW50JyxkaXNwbGF5OidibG9jaycsbWFyZ2luUmlnaHQ6J2F1dG8nLG1hcmdpbkxlZnQ6J2F1dG8nLHdpZHRoOjIwMCwgbWFyZ2luVG9wOjUwfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1zZWFyY2hcIn0pLCBcIiDCoFwiICsgJyAnICtcbiAgICAgICAgICAgIFwiU2VhcmNoIGZvciBjb21wYW5pZXMhXCIpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gUGFuZWwgRm9vdGluZ1xuICBwYWdpbmF0ZVByZXZpb3VzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzcyA9IHRoaXM7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdHM/c2tpcD0nKyh0aGlzcy5wcm9wcy5jdXJyZW50UGFnZS0yKSp0aGlzcy5wcm9wcy5wcm9zcGVjdHNQZXJQYWdlLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICBkYXRhOiAnd2hlcmU9e1wiY29tcGFueVwiOicrY29tcGFueSsnLFwiYXJjaGl2ZWRcIjp0cnVlfSZjb3VudD0xJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogcmVzLnJlc3VsdHN9KVxuICAgICAgICAvL3RoaXNzLnNldFN0YXRlKHtjdXJyZW50UGFnZTogdGhpcy5wcm9wcy5jdXJyZW50UGFnZSAtIDF9KVxuICAgICAgICB0aGlzcy5wcm9wcy5wYWdpbmF0ZShyZXMucmVzdWx0cywgdGhpc3MucHJvcHMuY3VycmVudFBhZ2UgLSAxKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cblxuICBwYWdpbmF0ZTogZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgcHJvc3BlY3RzUGVyUGFnZSA9IHRoaXMucHJvcHMucHJvc3BlY3RzUGVyUGFnZVxuICAgIGlmKGRpcmVjdGlvbj09J3ByZXZpb3VzJylcbiAgICAgIHNraXAgPSAodGhpcy5wcm9wcy5jdXJyZW50UGFnZSAtIDIpKnByb3NwZWN0c1BlclBhZ2VcbiAgICBlbHNlIGlmKGRpcmVjdGlvbj09XCJmb3J3YXJkXCIpXG4gICAgICBza2lwID0gdGhpcy5wcm9wcy5jdXJyZW50UGFnZSpwcm9zcGVjdHNQZXJQYWdlXG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdD9za2lwPScrc2tpcCxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOiBwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJ30mY291bnQ9MScsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xuICAgICAgICAvL3RoaXNzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgLy90aGlzcy5zZXRTdGF0ZSh7Y3VycmVudFBhZ2U6IHRoaXMucHJvcHMuY3VycmVudFBhZ2UgKyAxfSlcbiAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmF0ZShyZXMucmVzdWx0cywgdGhpcy5wcm9wcy5jdXJyZW50UGFnZSArIDEpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBwYWdpbmF0ZUZvcndhcmQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdHM/c2tpcD0nK3RoaXNzLnByb3BzLmN1cnJlbnRQYWdlKnRoaXNzLnByb3BzLnByb3NwZWN0c1BlclBhZ2UsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGRhdGE6ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJhcmNoaXZlZFwiOnRydWV9JmNvdW50PTEnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgLy90aGlzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiByZXMucmVzdWx0c30pXG4gICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe2N1cnJlbnRQYWdlOiB0aGlzcy5wcm9wcy5jdXJyZW50UGFnZSArIDF9KVxuICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIilcbiAgICAgICAgdGhpc3MucHJvcHMucGFnaW5hdGUocmVzLnJlc3VsdHMsIHRoaXNzLnByb3BzLmN1cnJlbnRQYWdlICsgMSlcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgcGFnaW5hdGVGb3J3YXJkID0gdGhpcy5wYWdpbmF0ZUZvcndhcmRcbiAgICBwYWdpbmF0ZVByZXZpb3VzID0gdGhpcy5wYWdpbmF0ZVByZXZpb3VzXG5cbiAgICBNb3VzZXRyYXAuYmluZCgnbCcsIGZ1bmN0aW9uKCkgeyBcbiAgICAgIGNvbnNvbGUubG9nKCduZXcgZm9yd2FyZCcpXG4gICAgICBwYWdpbmF0ZUZvcndhcmQoKVxuICAgIH0pO1xuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2gnLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnbmV3IGJhY2snKVxuICAgICAgcGFnaW5hdGVQcmV2aW91cygpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvLyBTaG91bGQgYmUgaGFuZGxlZCBieSBQYW5sZSBGb290aW5nXG5cblxuICAgIHByZXZpb3VzID0gKHRoaXMucHJvcHMuY3VycmVudFBhZ2UgLSAxKSA/ICcnIDogJ2Rpc2FibGVkJ1xuICAgIGZvcndhcmQgPSAodGhpcy5wcm9wcy5jdXJyZW50UGFnZSA9PSB0aGlzLnByb3BzLnBhZ2VzKSA/ICdkaXNhYmxlZCcgOiAnJ1xuXG4gICAgbG93ZXJMaW1pdCA9ICh0aGlzLnByb3BzLmN1cnJlbnRQYWdlLTEpKnRoaXMucHJvcHMucHJvc3BlY3RzUGVyUGFnZVxuICAgIHVwcGVyTGltaXQgPSB0aGlzLnByb3BzLmN1cnJlbnRQYWdlKnRoaXMucHJvcHMucHJvc3BlY3RzUGVyUGFnZVxuXG4gICAgbG93ZXJMaW1pdCA9IChsb3dlckxpbWl0KSA/IGxvd2VyTGltaXQgOiAxXG4gICAgdXBwZXJMaW1pdCA9ICh1cHBlckxpbWl0ID4gdGhpcy5wcm9wcy5jb3VudCkgPyB0aGlzLnByb3BzLmNvdW50IDogdXBwZXJMaW1pdFxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1mb290aW5nXCIsIFxuICAgICAgICAgICBpZDogXCJuYXZiYXJcIiwgXG4gICAgICAgICAgIHN0eWxlOiB7aGVpZ2h0OiczNXB4JyxwYWRkaW5nOicwcHgnLCBwYWRkaW5nVG9wOic3cHgnfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2Zsb2F0OidyaWdodCcsbWFyZ2luUmlnaHQ6JzIwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge21hcmdpblJpZ2h0Oic1cHgnfSwgXG4gICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnBhZ2luYXRlUHJldmlvdXMsIFxuICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJsdWUtZ3JhZGllbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBcIitwcmV2aW91c30sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1mYXN0LWJhY2t3YXJkXCJ9KVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucGFnaW5hdGVQcmV2aW91cywgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcInBhZ2luYXRlLWJhY2stYnRuIGJsdWUtZ3JhZGllbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBcIitwcmV2aW91c30sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jaGV2cm9uLWxlZnRcIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7bWFyZ2luTGVmdDo1LCBtYXJnaW5SaWdodDo1LGRpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6MTE1LCB0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgICBsb3dlckxpbWl0KycgLSAnK3VwcGVyTGltaXQrJyBvZiAnK3RoaXMucHJvcHMuY291bnRcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnBhZ2luYXRlRm9yd2FyZCwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcInBhZ2luYXRlLWZvcndhcmQtYnRuIGJsdWUtZ3JhZGllbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBcIitmb3J3YXJkfSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNoZXZyb24tcmlnaHRcIn0pXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5MZWZ0Oic1cHgnfSwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5wYWdpbmF0ZUZvcndhcmQsIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibHVlLWdyYWRpZW50IGJ0biBidG4tcHJpbWFyeSBidG4teHMgXCIrZm9yd2FyZH0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1mYXN0LWZvcndhcmRcIn0pKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgJCgnYm9keScpLmNzcyh7b3ZlcmZsb3c6J2hpZGRlbid9KVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYmFja2dyb3VuZC1pbWFnZVwifSksIFxuICAgICAgICBSZWFjdC5ET00ubmF2KHtjbGFzc05hbWU6IFwidGhlbmF2YmFyIG5hdmJhciBuYXZiYXItZGVmYXVsdCBuYXZiYXItZml4ZWQtdG9wXCIsIHJvbGU6IFwibmF2aWdhdGlvblwifSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lci1mbHVpZFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcInRoZS10aXRsZSB0ay1mb2NvIGJyYW5kIG5hdmJhci1icmFuZFwiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCd9LCBcbiAgICAgICAgICAgICAgICBocmVmOiBcIiNcIn0sIFxuICAgICAgICAgICAgICBcIkN1c3RvbWVyb1wiLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7Zm9udFNpemU6JzIycHgnLG1hcmdpbkxlZnQ6JzMwcHgnfX0sIFwiU3VwZXJjaGFyZ2UgeW91ciBzYWxlcyEgXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgICBQcmljaW5nVGFibGVzKG51bGwpLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImdyYWRpZW50XCJ9LCBcIiBcIilcbiAgICAgIClcbiAgICApXG4gICAgLypcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNzaWdudXBcIiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIgc3R5bGU9e3tkaXNwbGF5OidibG9jaycsYmFja2dyb3VuZENvbG9yOicjMWNhM2ZkJyxmbG9hdDoncmlnaHQnLG1hcmdpblRvcDonMTNweCcgfX0+TG9nIEluPC9hPlxuICAgICovXG4gIH1cbn0pO1xuXG52YXIgUHJpY2luZ1RhYmxlcyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1ByaWNpbmdUYWJsZXMnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIiwgc3R5bGU6IHttYXJnaW5Ub3A6MTUwfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicm93IGZsYXRcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1sZy0zIGNvbC1tZC0zIGNvbC14cy02XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJwbGFuIHBsYW4xXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1uYW1lXCJ9LCBcIiBCYXNpYyBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLXByaWNlXCJ9LCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIiQyOVwiKSwgXCIgLyBtb250aCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCI1R0JcIiksIFwiIFN0b3JhZ2UgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiMUdCXCIpLCBcIiBSQU0gXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiNDAwR0JcIiksIFwiIEJhbmR3aWR0aCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCIxMFwiKSwgXCIgRW1haWwgQWRkcmVzcyBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJGb3J1bVwiKSwgXCIgU3VwcG9ydCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJcIn0sIFwiIFwiLCBSZWFjdC5ET00uYSh7aHJlZjogXCIjXCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLWRhbmdlciBidG4tbGdcIn0sIFwiU2lnbnVwXCIpLCBcIiBcIilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcblxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1sZy0zIGNvbC1tZC0zIGNvbC14cy02XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJwbGFuIHBsYW4yIGZlYXR1cmVkXCJ9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1uYW1lXCJ9LCBcIiBTdGFuZGFyZCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLXByaWNlXCJ9LCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIiQzOVwiKSwgXCIgLyBtb250aCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCI1R0JcIiksIFwiIFN0b3JhZ2UgXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiMUdCXCIpLCBcIiBSQU0gXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiNDAwR0JcIiksIFwiIEJhbmR3aWR0aCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCIxMFwiKSwgXCIgRW1haWwgQWRkcmVzcyBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJGb3J1bVwiKSwgXCIgU3VwcG9ydCBcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJcIn1cbiAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgIClcbiAgICAgICAgICksIFxuXG4gICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLWxnLTMgY29sLW1kLTMgY29sLXhzLTZcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwicGxhbiBwbGFuM1wifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1uYW1lXCJ9LCBcIiBBZHZhbmNlZCBcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcInBsYW4tcHJpY2VcIn0sIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiJDE5OVwiKSwgXCIgLyBtb250aCBcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIjUwR0JcIiksIFwiIFN0b3JhZ2UgXCIpLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCI4R0JcIiksIFwiIFJBTSBcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIjEwMjRHQlwiKSwgXCIgQmFuZHdpZHRoIFwiKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVW5saW1pdGVkXCIpLCBcIiBFbWFpbCBBZGRyZXNzIFwiKSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiRm9ydW1cIiksIFwiIFN1cHBvcnQgXCIpLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLWFjdGlvblwifSwgXCIgIFwiKVxuICAgICAgICAgKVxuICAgICApLCBcblxuICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLWxnLTMgY29sLW1kLTMgY29sLXhzLTZcIn0sIFxuICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJwbGFuIHBsYW40XCJ9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcInBsYW4tbmFtZVwifSwgXCIgTWlnaHR5IFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkoe2NsYXNzTmFtZTogXCJwbGFuLXByaWNlXCJ9LCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIiQ5OTlcIiksIFwiIC8gbW9udGggXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIjUwR0JcIiksIFwiIFN0b3JhZ2UgXCIpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBcIiBcIiwgUmVhY3QuRE9NLnN0cm9uZyhudWxsLCBcIjhHQlwiKSwgXCIgUkFNIFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCIxMDI0R0JcIiksIFwiIEJhbmR3aWR0aCBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFwiIFwiLCBSZWFjdC5ET00uc3Ryb25nKG51bGwsIFwiVW5saW1pdGVkXCIpLCBcIiBFbWFpbCBBZGRyZXNzIFwiKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5zdHJvbmcobnVsbCwgXCJGb3J1bVwiKSwgXCIgU3VwcG9ydCBcIiksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmxpKHtjbGFzc05hbWU6IFwicGxhbi1hY3Rpb25cIn0sIFwiIFwiLCBSZWFjdC5ET00uYSh7aHJlZjogXCIjXCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLWRhbmdlciBidG4tbGdcIn0sIFwiU2lnbnVwXCIpLCBcIiBcIilcbiAgICAgKVxuIClcbilcblxuKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG52YXIgVXNlclByb3NwZWN0ID0gcmVxdWlyZSgnLi91c2VyX3Byb3NwZWN0LmpzLm1pbi5qcycpO1xudmFyIFVzZXJQcm9zcGVjdEhlYWRlciA9IHJlcXVpcmUoJy4vdXNlcl9wcm9zcGVjdF9oZWFkZXIuanMubWluLmpzJyk7XG52YXIgU2lkZU1lbnVQcm9zcGVjdHMgPSByZXF1aXJlKCcuL3NpZGVfbWVudV91c2VyX3Byb3NwZWN0cy5qcy5taW4uanMnKTtcbnZhciBTaWRlTWVudUxpc3RPcHRpb24gPSByZXF1aXJlKCcuL3VzZXJfc2lkZV9tZW51X2xpc3QuanMubWluLmpzJyk7XG52YXIgTG9hZGluZ1NwaW5uZXIgPSByZXF1aXJlKCcuL2xvYWRpbmdfc3Bpbm5lci5qcy5taW4uanMnKVxudmFyIFBhbmVsRm9vdGluZyA9IHJlcXVpcmUoJy4vcGFuZWxfZm9vdGluZy5qcy5taW4uanMnKVxudmFyIE1lc3NlbmdlciA9IHJlcXVpcmUoJy4vbWVzc2VuZ2VyLmpzLm1pbi5qcycpXG52YXIgRGVsZXRlTGlzdE1vZGFsID0gcmVxdWlyZSgnLi9kZWxldGVfbGlzdF9tb2RhbC5qcy5taW4uanMnKVxudmFyIFJlbmFtZUxpc3RNb2RhbCA9IHJlcXVpcmUoJy4vcmVuYW1lX2xpc3RfbW9kYWwuanMubWluLmpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyAgcHJvc3BlY3RzICAgOiBbXSxcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgOiAxLFxuICAgICAgICAgICAgICBwYWdlcyAgICAgICA6IDEsXG4gICAgICAgICAgICAgIGN1cnJlbnRMaXN0IDogJ0FsbCcsXG4gICAgICAgICAgICAgIGN1cnJlbnRMaXN0T2JqZWN0SWQgOiAnJyxcbiAgICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgcHJvc3BlY3RzUGVyUGFnZTogNTAsXG4gICAgICAgICAgICAgIGxpc3RzIDogW10sXG4gICAgICAgICAgICAgIG1hc3RlckNoZWNrYm94Q2hlY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGtleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IDAsIC8vZmlyc3RcbiAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9zcGVjdHM6IFtdLFxuICAgICAgICAgICAgICB0b3RhbENvdW50ICA6IFwiflwiLCBcbiAgICAgICAgICAgICAgY291bnQgICAgICAgOiBcIn5cIiwgfVxuICB9LFxuXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBsaXN0cyA9IHRoaXMuc3RhdGUubGlzdHNcbiAgICBsaXN0cy5wdXNoKGRhdGEpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxpc3RzOiBsaXN0cyB9KVxuICB9LFxuXG4gIHJlbmFtZUxpc3Q6IGZ1bmN0aW9uKG5ld0xpc3ROYW1lKSB7XG4gICAgcGFyc2VIZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWQpXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jdXJyZW50TGlzdClcbiAgICBjb25zb2xlLmxvZyhuZXdMaXN0TmFtZSlcblxuICAgIC8vIFVwZGF0ZSBMb2NhbCBTdGF0ZVxuICAgIHRoaXNzID0gdGhpcztcbiAgICB2YXIgZmlsdGVyZWQgPSBfLmZpbHRlcih0aGlzLnN0YXRlLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZihpdGVtLm5hbWUgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3Qpe1xuICAgICAgICBpdGVtLm5hbWUgPSBuZXdMaXN0TmFtZVxuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1cbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe2xpc3RzIDogZmlsdGVyZWR9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRMaXN0OiBuZXdMaXN0TmFtZX0pXG5cbiAgICAkKCcubW9kYWwnKS5jbGljaygpXG4gICAgJCgnI25ld0xpc3ROYW1lJykudmFsKCcnKVxuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLmNsaWNrKClcblxuICAgIC8vIFBlcnNpc3QgLyBBamF4XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QvJyt0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWQsXG4gICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMsXG4gICAgICB0eXBlOidQVVQnLFxuICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeSh7J25hbWUnOm5ld0xpc3ROYW1lfSksXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGRlbGV0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRPRE8gXG4gICAgLy8gR2V0IEFsbCBNZW1iZXJzIE9mIFRoaXMgTGlzdFxuICAgIC8vIFJlbW92ZSBGcm9tIExpc3QgQXJyYXlcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfVxuICAgIFxuICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXMuc3RhdGUubGlzdHMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmKGl0ZW0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7bGlzdHM6IGZpbHRlcmVkfSlcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50TGlzdDogJ0FsbCd9KVxuICAgIHRoaXMuY2hhbmdlTGlzdCgnQWxsJywgJycpXG5cbiAgICAvLyBSZW1vdmVcbiAgICAkKCcubW9kYWwnKS5jbGljaygpXG4gICAgJCgnI25ld0xpc3ROYW1lJykudmFsKCcnKVxuICAgICQoJy5tb2RhbC1iYWNrZHJvcCcpLmNsaWNrKClcblxuICAgIC8vIFBlcnNpc3QgLyBBamF4XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdExpc3QvJyt0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWQsXG4gICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMsXG4gICAgICB0eXBlOidERUxFVEUnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjaGFuZ2VMaXN0OiBmdW5jdGlvbihuZXdMaXN0TmFtZSxvYmplY3RJZCkge1xuICAgIC8vIGFkZCBvdmVybGF5IGxvYWRpbmdcbiAgICAvL2NvbnNvbGUubG9nKG5ld0xpc3ROYW1lKVxuICAgIC8vY29uc29sZS5sb2cob2JqZWN0SWQpXG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShbXSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRMaXN0IDogbmV3TGlzdE5hbWV9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRMaXN0T2JqZWN0SWQgOiBvYmplY3RJZH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7cHJvc3BlY3RzICA6IFtdICAgIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y291bnQgICAgICA6ICd+JyAgIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7cGFnZXMgICAgICA6IDEgICAgIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZyAgICA6IHRydWUgIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudFBhZ2U6IDF9KVxuICAgIHRoaXMuc2V0U3RhdGUoe2tleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IDB9KVxuXG4gICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImFyY2hpdmVkXCI6dHJ1ZX0mY291bnQ9MSZvcmRlcj0tY3JlYXRlZEF0J1xuICAgIGNvbnNvbGUubG9nKG5ld0xpc3ROYW1lKVxuXG4gICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCAhPSAnQWxsJyB8fCB0eXBlb2Yob2JqZWN0SWQpICE9IFwidW5kZWZpbmVkXCIgJiYgbmV3TGlzdE5hbWUgIT0gJ0FyY2hpdmVkJyl7XG4gICAgICBjdXJyZW50TGlzdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgJ29iamVjdElkJyAgOiBvYmplY3RJZCwgXG4gICAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLCBcbiAgICAgICAgJ2NsYXNzTmFtZScgOiAnUHJvc3BlY3RMaXN0JyBcbiAgICAgIH0pXG5cbiAgICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikuY29tcGFueSlcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9JmNvdW50PTEnXG4gICAgICBxcnkgPSAnd2hlcmU9e1wibGlzdHNcIjonK2N1cnJlbnRMaXN0Kyd9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCdcbiAgICB9IGVsc2UgaWYgKG5ld0xpc3ROYW1lID09ICdBcmNoaXZlZCcpIHtcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJhcmNoaXZlZFwiOmZhbHNlfSZjb3VudD0xJm9yZGVyPS1jcmVhdGVkQXQnXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHFyeSlcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0cycsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgYWpheFN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0ZWQgbGlzdCcpXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtwcm9zcGVjdHM6IHJlcy5yZXN1bHRzfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtjb3VudDogcmVzLmNvdW50fSlcbiAgICAgICAgLy90aGlzc3Muc2V0U3RhdGUoe3RvdGFsQ291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cGFnZXM6IE1hdGguY2VpbChyZXMuY291bnQvdGhpc3NzLnByb3BzLnByb3NwZWN0c1BlclBhZ2UpfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBjaGVja2JveEFjdGlvbjogZnVuY3Rpb24oY2hlY2tlZFN0YXRlLCBvYmpJZCkge1xuICAgIC8qIFN0b3JpbmcgQ2hlY2tlZCBQcm9zcGVjdHMgSW4gTG9jYWxTdG9yYWdlIFRvIE1ha2UgaXQgRWFzaWVyIFRvXG4gICAgICogQ29weSBhbmQgTW92ZSBQcm9zcGVjdHMgXG4gICAgICpcbiAgICAgKiBNb3ZlIFRvIFVzZXJfUHJvc3BlY3RzP1xuICAgICAqL1xuICAgIFxuICAgIHNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMpXG4gICAgLy9jb25zb2xlLmxvZyhjaGVja2VkU3RhdGUpXG4gICAgaWYoY2hlY2tlZFN0YXRlKVxuICAgICAgc2VsZWN0ZWRQcm9zcGVjdHMucHVzaChvYmpJZClcbiAgICBlbHNlXG4gICAgICBzZWxlY3RlZFByb3NwZWN0cyA9IF8ucmVqZWN0KHNlbGVjdGVkUHJvc3BlY3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oaWQpe3JldHVybiBpZCA9PSBvYmpJZH0pXG5cbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFByb3NwZWN0cylcbiAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnN0cmluZ2lmeShzZWxlY3RlZFByb3NwZWN0cylcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFByb3NwZWN0czogc2VsZWN0ZWRQcm9zcGVjdHN9KVxuICB9LFxuXG4gIG1hc3RlckNoZWNrYm94Q2hhbmdlZDogZnVuY3Rpb24obWFzdGVyQ2hlY2tib3hWYWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe21hc3RlckNoZWNrYm94Q2hlY2tlZDogbWFzdGVyQ2hlY2tib3hWYWx1ZX0pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXJ0S2V5Ym9hcmRTaG9ydGN1dHMoKVxuICAgICQoJ2JvZHknKS5jc3Moe292ZXJmbG93OidhdXRvJ30pXG5cbiAgICBwcm9zcGVjdHMgPSBbXVxuICAgIGZvcihpPTA7aTx0aGlzLnN0YXRlLnByb3NwZWN0cy5sZW5ndGg7aSsrKSB7XG4gICAgICB1cmwgPSB0aGlzLnN0YXRlLnByb3NwZWN0c1tpXS51cmxcbiAgICAgIHByb3NwZWN0ID0gdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV1cblxuICAgICAgaWYodXJsICE9IFwibm8gbGlua2VkaW4gd2Vic2l0ZVwiICYmIHR5cGVvZih1cmwpICE9IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9IFwiXCIpe1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgnaHR0cDovLycsJycpXG4gICAgICAgIHRoZV9saW5rID0gUmVhY3QuRE9NLmEoe2hyZWY6ICdodHRwOi8vJyt1cmx9LCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoZV9saW5rID0gXCJcIlxuICAgICAgfVxuXG4gICAgICBwcm9maWxlID0gdGhpcy5zdGF0ZS5wcm9zcGVjdHNbaV0ubGlua2VkaW5fdXJsLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKVxuICAgICAgcHJvZmlsZSA9IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLmxpbmtlZGluX3VybC5yZXBsYWNlKCdodHRwczovLycsJycpXG4gICAgICBsaSA9IFJlYWN0LkRPTS5hKHtocmVmOiAnaHR0cDovLycrcHJvZmlsZSwgY2xhc3NOYW1lOiBcImxpbmtlZGluX2xpbmtcIn0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbGlua2VkaW4tc3F1YXJlXCJ9KSlcblxuICAgICAga2V5Ym9hcmRTZWxlY3RlZCA9IChpID09IHRoaXMuc3RhdGUua2V5Ym9hcmRBY3RpdmVQcm9zcGVjdClcblxuICAgICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cylcbiAgICAgIGFscmVhZHlDaGVja2VkPWZhbHNlXG4gICAgICBmb3IoaWk9MDtpaTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2lpKyspXG4gICAgICAgIGlmKHByb3NwZWN0Lm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2lpXSlcbiAgICAgICAgICBhbHJlYWR5Q2hlY2tlZCA9IHRydWVcblxuICAgICAgICAvL2NvbnNvbGUubG9nKGFscmVhZHlDaGVja2VkKVxuXG4gICAgICBwcm9zcGVjdHMucHVzaChcbiAgICAgICAgVXNlclByb3NwZWN0KHtkZWxldGVQcm9zcGVjdDogdGhpcy5kZWxldGVQcm9zcGVjdCwgXG4gICAgICAgICAgICAgICAgICAgICAgcHJvc3BlY3Q6IHRoaXMuc3RhdGUucHJvc3BlY3RzW2ldLCBcbiAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJDaGVja2JveENoZWNrZWQ6IHRoaXMuc3RhdGUubWFzdGVyQ2hlY2tib3hDaGVja2VkLCBcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZ2VuZXJhdGVfaWQoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgbGluazogdGhlX2xpbmssIFxuICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkU2VsZWN0ZWQ6IGtleWJvYXJkU2VsZWN0ZWQsIFxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94QWN0aW9uOiB0aGlzLmNoZWNrYm94QWN0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgICBhbHJlYWR5Q2hlY2tlZDogYWxyZWFkeUNoZWNrZWQsIFxuICAgICAgICAgICAgICAgICAgICAgIGxpOiBsaX0pKVxuICAgIH1cblxuICAgIGxpc3RUeXBlID0gKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIikgPyB7ZGlzcGxheTonbm9uZSd9IDoge2Zsb2F0OidsZWZ0J31cbiAgICBsaXN0QnRuID0gKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIikgPyB7ZGlzcGxheTonbm9uZSd9IDoge2Zsb2F0OidsZWZ0JyxtYXJnaW5MZWZ0OjV9XG4gICAgbGlzdE9wdGlvbnMgPSAodGhpcy5zdGF0ZS5jdXJyZW50TGlzdCA9PSBcIkFsbFwiKSA/IHtkaXNwbGF5Oidub25lJ30gOiB7ZmxvYXQ6J3JpZ2h0J31cbiAgICBjb3B5RHJvcGRvd25TdHlsZSA9ICh0aGlzLnN0YXRlLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpID8ge3dpZHRoOjExNCwgcmlnaHQ6NH0gOiB7d2lkdGg6MTE0LCByaWdodDozNn1cbiAgICBjdXJyZW50TGlzdCA9IHRoaXMuc3RhdGUuY3VycmVudExpc3RcbiAgICByZXR1cm4gKFxuICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBzdHlsZToge3dpZHRoOicxMDAlJyxwYWRkaW5nOicwJywgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgjZGFlOGZmLCNkYWU4ZmYpJywgYmFja2dyb3VuZEltYWdlOiAncmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCBjZW50ZXIgY2VudGVyLCNmZmYsI2RmZjFmZCA5MDBweCknfX0sIFxuICAgICAgICBTaWRlTWVudVByb3NwZWN0cyh7Y3VycmVudExpc3Q6IHRoaXMuc3RhdGUuY3VycmVudExpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHRoaXMuc3RhdGUuY291bnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb3VudDogdGhpcy5zdGF0ZS50b3RhbENvdW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUxpc3Q6IHRoaXMuY2hhbmdlTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMaXN0OiB0aGlzLmNyZWF0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHM6IHRoaXMuc3RhdGUubGlzdHN9KSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0xMFwiLCBzdHlsZToge3BhZGRpbmc6JzAnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtpZDogXCJwcm9zcGVjdERldGFpbEJ1dHRvbnNcIn0sIFxuICAgICAgICAgICAgICAgIExpc3REZXRhaWxCdXR0b25zKHtcbiAgICAgICAgICAgICAgICAgIHJlbmFtZUxpc3Q6IHRoaXMucmVuYW1lTGlzdCwgXG4gICAgICAgICAgICAgICAgICBkZWxldGVMaXN0OiB0aGlzLmRlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgICAgICAgY3VycmVudExpc3ROYW1lOiB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0LCBcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaXN0OiB0aGlzLnN0YXRlLmN1cnJlbnRMaXN0T2JqZWN0SWR9KSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZHJvcGRvd25cIn0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBsaXN0LW9wdGlvbnNcIiwgXG4gICAgICAgICAgICAgICAgICAgICBpZDogXCJcIiwgXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZTogbGlzdE9wdGlvbnN9LCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1iYXJzXCJ9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImRyb3Bkb3duXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHsnZGF0YS10b2dnbGUnOiBcImRyb3Bkb3duXCIsIFxuICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiY29weVRvTGlzdFwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZHJvcC10YXJnZXQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBsaXN0LW9wdGlvbnNcIn0sIFxuICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jb3B5XCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgICAgIFwiwqAgQ29weSBUbyBMaXN0IMKgXCIsICBcbiAgICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FyZXQtZG93blwifSlcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBDdXJyZW50TGlzdHNUd28oe2xpc3RzOiB0aGlzLnN0YXRlLmxpc3RzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlEcm9wZG93blN0eWxlOiBjb3B5RHJvcGRvd25TdHlsZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QWN0aW9uOiB0aGlzLmNvcHlTZWxlY3RlZFByb3NwZWN0c30pXG4gICAgICAgICAgICAgICAgKSwgXG4gIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkcm9wZG93blwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7J2RhdGEtdG9nZ2xlJzogXCJkcm9wZG93blwiLCBcbiAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICBpZDogXCJtb3ZlVG9MaXN0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGxpc3RPcHRpb25zLCBcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzIGxpc3Qtb3B0aW9uc1wifSwgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXNoYXJlXCJ9KSwgXG4gICAgICAgICAgICAgICAgICAgICBcIsKgIE1vdmUgVG8gTGlzdCDCoFwiLCAgXG4gICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNhcmV0LWRvd25cIn0pXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgQ3VycmVudExpc3RzKHtsaXN0czogdGhpcy5zdGF0ZS5saXN0cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0QWN0aW9uOiB0aGlzLm1vdmVTZWxlY3RlZFByb3NwZWN0c30pXG4gICAgICAgICAgICAgICAgKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uYSh7b25DbGljazogdGhpcy5kb3dubG9hZEZpbGUsIFxuICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgaWQ6IFwiZG93bmxvYWRQcm9zcGVjdHNcIiwgXG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImRyb3AtdGFyZ2V0IGJ0biBidG4tcHJpbWFyeSBidG4teHMgbGlzdC1vcHRpb25zXCJ9LCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZG93bmxvYWRcIn0pLCBcIiDCoCBEb3dubG9hZCBDU1YgwqBcIiBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksIFxuICAgICAgICBcblxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcImF1dG9zY3JvbGxcIiwgc3R5bGU6IHtoZWlnaHQ6JzQwMHB4JyxvdmVyZmxvdzonYXV0byd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00udGFibGUoe2NsYXNzTmFtZTogXCJwcm9zcGVjdHMtdGFibGUgdGFibGUgdGFibGUtc3RyaXBlZFwiLCBzdHlsZToge21hcmdpbkJvdHRvbTonMHB4J319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoZWFkKHtzdHlsZToge2JhY2tncm91bmRDb2xvcjond2hpdGUnfX0sIFxuICAgICAgICAgICAgICAgIFVzZXJQcm9zcGVjdEhlYWRlcih7bWFzdGVyQ2hlY2tib3hDaGFuZ2VkOiB0aGlzLm1hc3RlckNoZWNrYm94Q2hhbmdlZH0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkobnVsbCwgXG4gICAgICAgICAgICAgICAgcHJvc3BlY3RzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgKHRoaXMuc3RhdGUubG9hZGluZykgPyBMb2FkaW5nU3Bpbm5lcihudWxsKSA6IFwiXCJcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICksIFxuXG4gICAgICBQYW5lbEZvb3Rpbmcoe2N1cnJlbnRQYWdlOiB0aGlzLnN0YXRlLmN1cnJlbnRQYWdlLCBcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IHRoaXMuc3RhdGUuY291bnQsIFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0ZTogdGhpcy5wYWdpbmF0ZSwgXG4gICAgICAgICAgICAgICAgICAgIHByb3NwZWN0c1BlclBhZ2U6IHRoaXMuc3RhdGUucHJvc3BlY3RzUGVyUGFnZSwgXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VzOiB0aGlzLnN0YXRlLnBhZ2VzfSksIFxuICAgICAgTWVzc2VuZ2VyKG51bGwpXG4gICAgKVxuICAgICk7XG4gIH0sXG5cbiAgcGFnaW5hdGU6IGZ1bmN0aW9uKG5ld1Byb3NwZWN0cywgbmV3UGFnZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvc3BlY3RzOiBuZXdQcm9zcGVjdHMsXG4gICAgICBjdXJyZW50UGFnZTogbmV3UGFnZSxcbiAgICAgIGtleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IDBcbiAgICB9KVxuICAgIHRoaXMuc3RhcnRLZXlib2FyZFNob3J0Y3V0cygpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3AgPSAwXG4gIH0sXG5cbiAgZG93bmxvYWRGaWxlOiBmdW5jdGlvbigpIHtcbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgIH1cblxuICAgIC8vIEdldCBMaXN0IENvdW50XG4gICAgbGlzdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICdfX3R5cGUnICAgOiAgJ1BvaW50ZXInLFxuICAgICAgJ2NsYXNzTmFtZSc6ICAnUHJvc3BlY3RMaXN0JyxcbiAgICAgICdvYmplY3RJZCcgOiAgdGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhsaXN0KVxuICAgIC8vIEFkZCBTdXBwb3J0IEZvciBNb3JlIHRoYW4gMTAwMFxuICAgIC8vIG51bV9vZl9yZXF1ZXN0c1xuICAgIGxvY2FsU3RvcmFnZS5kb3dubG9hZF90b3RhbCA9IE1hdGguY2VpbCh0aGlzLnN0YXRlLmNvdW50LzEwMDApXG4gICAgICAgIHRoaXMucHJvcHMucGFnaW5hdGUocmVzLnJlc3VsdHMsIHRoaXMucHJvcHMuY3VycmVudFBhZ2UgKyAxKVxuICAgIGxvY2FsU3RvcmFnZS5kb3dubG9hZHMgICAgICA9IDBcblxuICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudExpc3QgPT0gXCJBbGxcIilcbiAgICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55Kyd9JmNvdW50PTEnXG4gICAgZWxzZVxuICAgICAgcXJ5ID0gJ3doZXJlPXtcImxpc3RzXCI6JytsaXN0Kyd9JmNvdW50PTEnXG5cbiAgICBmb3IoaT0wO2k8IE1hdGguY2VpbCh0aGlzLnN0YXRlLmNvdW50LzEwMDApOyBpKyspe1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdHM/bGltaXQ9MTAwMCZza2lwPScraSxcbiAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgICAgZG93bmxvYWRGaWxlOiAnZG93bmxvYWRfJytpLFxuICAgICAgICBkYXRhOiBxcnksXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgLy8gQ2xlYW4gUmVzdWx0c1xuICAgICAgICAgIC8vIFJlbW92ZSBDZXJ0YWluIFBhcnNlIENvbHVtbnMgLSBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0LCBvYmplY3RJZFxuICAgICAgICAgIC8vIFJlbmFtZSBjcmVhdGVkQXQgYXMgZGF0ZSBwcm9zcGVjdGVkXG4gICAgICAgICAgZm9yKGk9MDtpPCByZXMucmVzdWx0cy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVzLnJlc3VsdHNbaV0uY29tcGFueVxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnBvc1xuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnVzZXJcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0c1tpXS5vYmplY3RJZFxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLmNyZWF0ZWRBdFxuICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHRzW2ldLnVwZGF0ZWRBdFxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFkZCBSZXN1bHRzIFRvIExvY2FsU3RvcmFnZVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5kb3dubG9hZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5kb3dubG9hZHMpICsgMSBcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmRvd25sb2FkRmlsZSwgSlNPTi5zdHJpbmdpZnkocmVzLnJlc3VsdHMpKVxuXG4gICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGFsbCBhamF4IHJlcXMgaW4gZm9yIGxvb3AgYXJlIGNvbXBsZXRlXG4gICAgICAgICAgaWYobG9jYWxTdG9yYWdlLmRvd25sb2FkcyA9PSBsb2NhbFN0b3JhZ2UuZG93bmxvYWRfdG90YWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtYXRjaGVkJylcbiAgICAgICAgICAgIC8vIE1lcmdlIGFsbCBsb2NhbFN0b3JhZ2UgcmVzdWx0c1xuICAgICAgICAgICAgcHJvc3BlY3RzID0gW11cbiAgICAgICAgICAgIGZvcihpaT0wO2lpIDwgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZG93bmxvYWRfdG90YWwpOyBpaSsrKXtcbiAgICAgICAgICAgICAgcHJvc3BlY3RzID0gcHJvc3BlY3RzLmNvbmNhdChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkb3dubG9hZF8nK2lpKSkpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3NwZWN0cylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvc3BlY3RzKVxuICAgICAgICAgICAgLy8gT3V0cHV0IGFzIENTVlxuICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbUGFwYS51bnBhcnNlKHByb3NwZWN0cyldLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYmxvYilcbiAgICAgICAgICAgIHNhdmVBcyhibG9iLCBcInByb3NwZWN0cy5jc3ZcIik7XG4gICAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBjb21wYW55ID0gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLmNvbXBhbnkpXG4gICAgXG5cbiAgfSxcblxuICByZW1vdmVTZWxlY3RlZFByb3NwZWN0czogZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgTGlzdCBUeXBlIGlzIEFsbCBBcmNoaXZlIHRoZSBwcm9zcGVjdFxuICAgIC8vXG4gICAgcGFyc2VIZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQcm9zcGVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cylcbiAgICBiYXRjaERhdGEgPSBbXVxuXG4gICAgZm9yKGk9MDtpPCBzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGg7aSsrKXtcbiAgICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudExpc3QgIT0gJ0FsbCcpe1xuICAgICAgICB0bXAgPSB7XG4gICAgICAgICAgbWV0aG9kOidQVVQnLFxuICAgICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvUHJvc3BlY3RzLycrc2VsZWN0ZWRQcm9zcGVjdHNbaV0sXG4gICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgbGlzdHM6IHtcbiAgICAgICAgICAgICAgJ19fb3AnICAgIDogJ1JlbW92ZScsXG4gICAgICAgICAgICAgIFwib2JqZWN0c1wiIDogW3sgXG4gICAgICAgICAgICAgICAgICAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonUHJvc3BlY3RMaXN0JyxcbiAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6dGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdG1wID0ge1xuICAgICAgICAgIG1ldGhvZDonUFVUJyxcbiAgICAgICAgICBwYXRoOicvMS9jbGFzc2VzL1Byb3NwZWN0cy8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGFyY2hpdmVkOmZhbHNlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmF0Y2hEYXRhLnB1c2godG1wKVxuICAgIH1cblxuICAgIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9iYXRjaCcsXG4gICAgICB0eXBlOidQT1NUJyxcbiAgICAgIGhlYWRlcnM6cGFyc2VIZWFkZXJzLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe3JlcXVlc3RzOiBiYXRjaERhdGF9KSxcbiAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgbGlzdHMgPSB0aGlzcy5zdGF0ZS5saXN0c1xuXG4gICAgICAgIGZvcihpPTA7aTwgbGlzdHMubGVuZ3RoOyBpKyspIHsgXG4gICAgICAgICAgLy8gU3VidHJhY3QgRnJvbSBPbGQgTGlzdCAtIE5vdCBXb3JraW5nIEZvciBBcmNoaXZlXG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gdGhpc3Muc3RhdGUuY3VycmVudExpc3RPYmplY3RJZClcbiAgICAgICAgICAgIGxpc3RzW2ldLmNvdW50ID0gcGFyc2VJbnQobGlzdHNbaV0uY291bnQpIC0gcGFyc2VJbnQoc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBsaXN0IGNvdW50XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgbGlzdCB1aVxuICAgICAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlIHNlbGVjdGVkIHByb3NwZWN0cycpXG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkUHJvc3BlY3RzKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzcy5zdGF0ZS5wcm9zcGVjdHMpXG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IF8uZmlsdGVyKHRoaXNzLnN0YXRlLnByb3NwZWN0cywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIGZvcihpPTA7aTwgc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoO2krKykgXG4gICAgICAgICAgICBpZihpdGVtLm9iamVjdElkID09IHNlbGVjdGVkUHJvc3BlY3RzW2ldKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZmlsdGVyZWQpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtwcm9zcGVjdHM6IGZpbHRlcmVkfSlcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzID0gSlNPTi5zdHJpbmdpZnkoW10pXG5cbiAgICAgICAgLy8gYWRkIGFsZXJ0IHRvIGluZm9ybSB1c2VyXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgbW92ZVNlbGVjdGVkUHJvc3BlY3RzOiBmdW5jdGlvbihsaXN0T2JqZWN0SWQpIHtcbiAgICBwYXJzZUhlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIHNlbGVjdGVkIG9iamVjdElkIGZyb20gc2VsZWN0ZWRQcm9zcGVjdHMgc3RhdGVcbiAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgIGJhdGNoRGF0YSA9IFtdXG5cblxuICAgIC8vIEJhdGNoIFVwZGF0ZSBQYXJzZVxuICAgIC8vIC0gUmVtb3ZlIEFsbCBTZWxlY3RlZCBQcm9zcGVjdHMgRnJvbSBDdXJyZW50IExpc3RcbiAgICBmb3IoaT0wO2k8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpKyspe1xuICAgICAgdG1wID0ge1xuICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvUHJvc3BlY3RzLycrc2VsZWN0ZWRQcm9zcGVjdHNbaV0sXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBsaXN0czoge1xuICAgICAgICAgICAgJ19fb3AnICAgIDogJ1JlbW92ZScsXG4gICAgICAgICAgICBcIm9iamVjdHNcIiA6IFt7IFxuICAgICAgICAgICAgICAgICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonUHJvc3BlY3RMaXN0JyxcbiAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOnRoaXMuc3RhdGUuY3VycmVudExpc3RPYmplY3RJZFxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhdGNoRGF0YS5wdXNoKHRtcClcbiAgICB9XG4gICAgXG4gICAgLy8gLSBBZGQgT3RoZXIgTGlzdCBcbiAgICBmb3IoaT0wO2k8IHNlbGVjdGVkUHJvc3BlY3RzLmxlbmd0aDtpKyspe1xuICAgICAgdG1wID0ge1xuICAgICAgICBtZXRob2Q6J1BVVCcsXG4gICAgICAgIHBhdGg6Jy8xL2NsYXNzZXMvUHJvc3BlY3RzLycrc2VsZWN0ZWRQcm9zcGVjdHNbaV0sXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBsaXN0czoge1xuICAgICAgICAgICAgJ19fb3AnICAgIDogJ0FkZFVuaXF1ZScsXG4gICAgICAgICAgICBcIm9iamVjdHNcIiA6IFt7IFxuICAgICAgICAgICAgICAgICdfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonUHJvc3BlY3RMaXN0JyxcbiAgICAgICAgICAgICAgICAnb2JqZWN0SWQnOmxpc3RPYmplY3RJZFxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhdGNoRGF0YS5wdXNoKHRtcClcbiAgICB9XG5cbiAgICB0aGlzcyA9IHRoaXM7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDonaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvYmF0Y2gnLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOnBhcnNlSGVhZGVycyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtyZXF1ZXN0czogYmF0Y2hEYXRhfSksXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgIGxpc3RzID0gdGhpc3Muc3RhdGUubGlzdHNcblxuICAgICAgICBmb3IoaT0wO2k8IGxpc3RzLmxlbmd0aDsgaSsrKSB7IFxuICAgICAgICAgIC8vIEFkZCBUbyBOZXcgTGlzdFxuICAgICAgICAgIGlmKGxpc3RzW2ldLm9iamVjdElkID09IGxpc3RPYmplY3RJZClcbiAgICAgICAgICAgIGxpc3RzW2ldLmNvdW50ID0gcGFyc2VJbnQobGlzdHNbaV0uY291bnQpICsgcGFyc2VJbnQoc2VsZWN0ZWRQcm9zcGVjdHMubGVuZ3RoKVxuICAgICAgICAgIC8vIFN1YnRyYWN0IEZyb20gT2xkIExpc3RcbiAgICAgICAgICBpZihsaXN0c1tpXS5vYmplY3RJZCA9PSB0aGlzcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkKVxuICAgICAgICAgICAgbGlzdHNbaV0uY291bnQgPSBwYXJzZUludChsaXN0c1tpXS5jb3VudCkgLSBwYXJzZUludChzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGgpXG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIGxpc3QgY291bnRcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xpc3RzOiBsaXN0c30pXG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gY3VycmVudCBsaXN0IHVpXG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZFByb3NwZWN0cycpXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXNzLnN0YXRlLnByb3NwZWN0cylcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gXy5maWx0ZXIodGhpc3Muc3RhdGUucHJvc3BlY3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgaXNfc2VsZWN0ZWQgPSB0cnVlXG4gICAgICAgICAgZm9yKGk9MDtpPCBzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGg7aSsrKSBcbiAgICAgICAgICAgIGlmKGl0ZW0ub2JqZWN0SWQgPT0gc2VsZWN0ZWRQcm9zcGVjdHNbaV0pXG4gICAgICAgICAgICAgIGlzX3NlbGVjdGVkID0gZmFsc2VcbiAgICAgICAgICByZXR1cm4gaXNfc2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGZpbHRlcmVkKVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7cHJvc3BlY3RzOiBmaWx0ZXJlZH0pXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IEpTT04uc3RyaW5naWZ5KFtdKVxuXG4gICAgICAgIC8vIGFkZCBhbGVydCB0byBpbmZvcm0gdXNlclxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGNvcHlTZWxlY3RlZFByb3NwZWN0czogZnVuY3Rpb24obGlzdE9iamVjdElkKSB7XG4gICAgY29uc29sZS5sb2cobGlzdE9iamVjdElkKVxuICAgIFxuICAgIC8vIG1ha2UgYmF0Y2ggYWpheCByZXF1ZXN0IHRvIHBhcnNlXG4gICAgcGFyc2VIZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInLFxuICAgICAgXCJDb250ZW50LVR5cGVcIiA6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfVxuXG4gICAgLy8gQWRkIExvYWRpbmcgU2lnbiBUbyBMaXN0XG5cbiAgICBzZWxlY3RlZFByb3NwZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnNlbGVjdGVkUHJvc3BlY3RzKVxuICAgIGJhdGNoRGF0YSA9IFtdXG4gICAgZm9yKGk9MDtpPCBzZWxlY3RlZFByb3NwZWN0cy5sZW5ndGg7aSsrKXtcbiAgICAgIHRtcCA9IHtcbiAgICAgICAgbWV0aG9kOidQVVQnLFxuICAgICAgICBwYXRoOicvMS9jbGFzc2VzL1Byb3NwZWN0cy8nK3NlbGVjdGVkUHJvc3BlY3RzW2ldLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgbGlzdHM6IHtcbiAgICAgICAgICAgICdfX29wJyAgICA6ICdBZGRVbmlxdWUnLFxuICAgICAgICAgICAgXCJvYmplY3RzXCIgOiBbeyBcbiAgICAgICAgICAgICAgICAnX190eXBlJzonUG9pbnRlcicsXG4gICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J1Byb3NwZWN0TGlzdCcsXG4gICAgICAgICAgICAgICAgJ29iamVjdElkJzpsaXN0T2JqZWN0SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXRjaERhdGEucHVzaCh0bXApXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2JhdGNoJyxcbiAgICAgIHR5cGU6J1BPU1QnLFxuICAgICAgaGVhZGVyczpwYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7cmVxdWVzdHM6IGJhdGNoRGF0YX0pLFxuICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAvLyBVcGRhdGUgV2l0aCB0aGUgbnVtYmVyIG9mIHN1Y2Nlc3Nlc1xuICAgICAgICAvLyBVcGRhdGUgbG9jYWwgbGlzdCBjb3VudFxuICAgICAgICBsaXN0cyA9IHRoaXNzLnN0YXRlLmxpc3RzXG4gICAgICAgIGZvcihpPTA7aTwgbGlzdHMubGVuZ3RoOyBpKyspIHsgXG4gICAgICAgICAgaWYobGlzdHNbaV0ub2JqZWN0SWQgPT0gbGlzdE9iamVjdElkKVxuICAgICAgICAgICAgbGlzdHNbaV0uY291bnQgPSBwYXJzZUludChsaXN0c1tpXS5jb3VudCkgKyBwYXJzZUludChyZXMubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogbGlzdHN9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRQcm9zcGVjdHMgPSBcIltdXCJcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe3NlbGVjdGVkUHJvc3BlY3RzIDogW10gfSlcbiAgICAgICAgXG4gICAgICAgIC8vIGFkZCBhbGVydCB0byBpbmZvcm0gdXNlclxuICAgICAgICAvLyBVbnNlbGVjdCBhbGwgc2VsZWN0ZWRcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcblxuICB9LFxuXG4gIGhpZGVBbGVydDogZnVuY3Rpb24oKSB7XG4gICAgJCgnLmFsZXJ0JykuaGlkZSgpXG4gIH0sXG5cbiAgYWRqdXN0SGVpZ2h0OiBmdW5jdGlvbih3aGljaE9uZSkge1xuICAgIHByb3NwZWN0V2luZG93VG9wID0gJCgnI3Byb3NwZWN0RGV0YWlsQnV0dG9ucycpLnBvc2l0aW9uKCkudG9wXG4gICAgcHJvc3BlY3RXaW5kb3dUb3AgPSBwcm9zcGVjdFdpbmRvd1RvcCArICQoJyNwcm9zcGVjdERldGFpbEJ1dHRvbnMnKS5oZWlnaHQoKVxuICAgIHByb3NwZWN0V2luZG93Qm90dG9tID0gJCgnI2F1dG9zY3JvbGwnKS5wb3NpdGlvbigpLnRvcCArICQoJyNhdXRvc2Nyb2xsJykuaGVpZ2h0KClcblxuICAgIGlmKHdoaWNoT25lID09ICdqJylcbiAgICAgIGFjdGl2ZVByb3NwZWN0ID0gdGhpcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0ICsxIFxuICAgIGVsc2VcbiAgICAgIGFjdGl2ZVByb3NwZWN0ID0gdGhpcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0IC0xIFxuXG4gICAgYWN0aXZlVG9wID0gJCgkKCcucHJvc3BlY3RzLXRyJylbYWN0aXZlUHJvc3BlY3RdKS5wb3NpdGlvbigpLnRvcFxuICAgIHNlbGVjdGVkSGVpZ2h0ID0gJCgkKCcucHJvc3BlY3RzLXRyJylbYWN0aXZlUHJvc3BlY3RdKS5oZWlnaHQoKVxuICAgIGFjdGl2ZUJvdHRvbSA9ICQoJCgnLnByb3NwZWN0cy10cicpW2FjdGl2ZVByb3NwZWN0XSkucG9zaXRpb24oKS50b3Arc2VsZWN0ZWRIZWlnaHRcblxuICAgIGNvbnNvbGUubG9nKHByb3NwZWN0V2luZG93VG9wLCBwcm9zcGVjdFdpbmRvd0JvdHRvbSlcbiAgICBjb25zb2xlLmxvZyhhY3RpdmVUb3AsIGFjdGl2ZUJvdHRvbSlcblxuICAgIHNjcm9sbFRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvc2Nyb2xsJykuc2Nyb2xsVG9wXG4gICAgaWYoYWN0aXZlQm90dG9tID4gcHJvc3BlY3RXaW5kb3dCb3R0b20pXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b3Njcm9sbCcpLnNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIGFjdGl2ZUJvdHRvbSAtIHByb3NwZWN0V2luZG93Qm90dG9tXG5cbiAgICBpZihhY3RpdmVUb3AgPCAwKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9zY3JvbGwnKS5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgKyBhY3RpdmVUb3AgLSAzN1xuICAgIGVsc2UgaWYoYWN0aXZlVG9wID09ICQoJCgnLnByb3NwZWN0cy10cicpWzBdKS5wb3NpdGlvbigpLnRvcClcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvc2Nyb2xsJykuc2Nyb2xsVG9wID0gMFxuICAgICAgXG4gICAgLy8gR2V0IFBvc3Rpb24gb2YgVG9wXG4gICAgLy8gR2V0IFBvc2l0aW9uIG9mIEJvdHRvbSBcbiAgICAvLyBHZXQgUG9zaXRpb24gb2YgQ3VycmVudCBTZWxlY3RlZFxuICAgIC8vIEFkanVzdCBieSBzY3JvbGxpbmcgZG93biBvciB1cFxuICB9LFxuXG4gIHN0YXJ0S2V5Ym9hcmRTaG9ydGN1dHM6IGZ1bmN0aW9uKCkge1xuICAgIC8qIEtleWJvYXJkIFNob3J0Y3V0cyAqL1xuICAgIE1vdXNldHJhcC5yZXNldCgpXG4gICAgLy9Nb3VzZXRyYXAudW5iaW5kKFsnaicsJ2snLCdvJ10pXG4gICAgdGhpc3MgPSB0aGlzO1xuXG4gICAgLyogUHJvc3BlY3QgVGFibGUgU2hvcnRjdXRzICovXG4gICAgTW91c2V0cmFwLmJpbmQoJ2onLCBmdW5jdGlvbigpIHsgXG4gICAgICBrZXlib2FyZCA9IHRoaXNzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3RcbiAgICAgIGlmKGtleWJvYXJkICE9IHRoaXNzLnN0YXRlLnByb3NwZWN0c1BlclBhZ2UrMSlcbiAgICAgICAgdGhpc3MuYWRqdXN0SGVpZ2h0KCdqJylcbiAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2tleWJvYXJkQWN0aXZlUHJvc3BlY3Q6IGtleWJvYXJkKzF9KVxuICAgIH0pO1xuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2snLCBmdW5jdGlvbigpIHsgXG4gICAgICBrZXlib2FyZCA9IHRoaXNzLnN0YXRlLmtleWJvYXJkQWN0aXZlUHJvc3BlY3RcbiAgICAgIGlmKGtleWJvYXJkICE9IDEpXG4gICAgICAgIHRoaXNzLmFkanVzdEhlaWdodCgnaycpXG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtrZXlib2FyZEFjdGl2ZVByb3NwZWN0OiBrZXlib2FyZC0xfSlcbiAgICB9KTtcblxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ28nLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnb3BlbiBjdXJyZW50IHByb3NwZWN0JylcbiAgICAgIGNvbnNvbGUubG9nKCQoJCgnLmtleVNlbGVjdCcpLmZpbmQoJ2EubGlua2VkaW5fbGluaycpWzBdKS5hdHRyKCdocmVmJykpXG4gICAgICBsaW5rID0gJCgkKCcua2V5U2VsZWN0JykuZmluZCgnYS5saW5rZWRpbl9saW5rJylbMF0pLmF0dHIoJ2hyZWYnKVxuICAgICAgLypcbiAgICAgIHdpbmRvdy5vcGVuKGxpbmssICdfYmxhbmsnKVxuICAgICAgY29uc29sZS5sb2coJ25ldycpXG4gICAgICAqL1xuICAgICAgLy9wb3B1cFdpbmRvdy5ibHVyKCk7XG4gICAgICAvL3dpbmRvdy5mb2N1cygpO1xuICAgICAgLy8ga2V5Ym9hcmQgPSB0aGlzcy5zdGF0ZS5rZXlib2FyZEFjdGl2ZVByb3NwZWN0XG4gICAgICBcbiAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICBhLmhyZWYgPSBsaW5rXG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgIC8vdGhlIHRlbnRoIHBhcmFtZXRlciBvZiBpbml0TW91c2VFdmVudCBzZXRzIGN0cmwga2V5XG4gICAgICAvLyBGb3IgTWFjIFRoaXMgV29ya3MgQ2hlY2sgRm9yIC0gV2luZG93c1xuICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUsIDAsIG51bGwpO1xuICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfSk7XG5cblxuXG4gICAgLyogTGlzdCBNb2RpZmljYXRpb24gU2hvcnRjdXRzICovXG4gICAgTW91c2V0cmFwLmJpbmQoJ3RhYityJywgZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAkKCcjcmVuYW1lTGlzdEJ0bicpLmNsaWNrKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ3RhYitkJywgZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAkKCcjZGVsZXRlTGlzdE1vZGFsJykuY2xpY2soKVxuICAgIH0pXG5cbiAgICBNb3VzZXRyYXAuYmluZCgndGFiK3MnLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgIC8vJCgnI2Rvd25sb2FkUHJvc3BlY3RzJykuY2xpY2soKVxuICAgICAgdGhpc3MuZG93bmxvYWRGaWxlKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ3NoaWZ0K2wnLCBmdW5jdGlvbigpe1xuICAgICAgLy9jb25zb2xlLmxvZygncmVsb2FkJylcbiAgICAgIC8vJCgnI2Rvd25sb2FkUHJvc3BlY3RzJykuY2xpY2soKVxuICAgICAgLy90aGlzcy5kb3dubG9hZEZpbGUoKVxuICAgICAgJCgnLm5ldy1saXN0LWJ0bicpLmNsaWNrKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2UnLCBmdW5jdGlvbigpe1xuICAgICAgY29uc29sZS5sb2coJ3JlbG9hZCcpXG4gICAgICAvLyQoJyNkb3dubG9hZFByb3NwZWN0cycpLmNsaWNrKClcbiAgICAgIHRoaXNzLnJlbW92ZVNlbGVjdGVkUHJvc3BlY3RzKClcbiAgICB9KVxuXG4gICAgTW91c2V0cmFwLmJpbmQoJ2MnLCBmdW5jdGlvbigpIHsgXG4gICAgICBjb25zb2xlLmxvZygnY29weScpXG4gICAgICAkKCcjY29weVRvTGlzdCcpLmNsaWNrKClcbiAgICB9KTtcblxuICAgIE1vdXNldHJhcC5iaW5kKCdtJywgZnVuY3Rpb24oKSB7IFxuICAgICAgY29uc29sZS5sb2coJ2NvcHknKVxuICAgICAgJCgnI21vdmVUb0xpc3QnKS5jbGljaygpXG4gICAgfSk7XG5cbiAgICAvL01vdXNldHJhcC5iaW5kKCdlJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdlJyk7IH0pO1xuICAgIE1vdXNldHJhcC5iaW5kKCdyaWdodCcsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygncmlnaHQnKTsgfSk7XG4gICAgTW91c2V0cmFwLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2xlZnQnKTsgfSk7XG5cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgLyogT25Mb2FkIEZvciBUaGUgRmlyc3QgVGltZSBGdW5jdGlvbiAqL1xuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZFByb3NwZWN0cyA9IEpTT04uc3RyaW5naWZ5KFtdKVxuICAgIHRoaXNzcyA9IHRoaXM7XG5cbiAgICAvL3RoaXMuc3RhcnRLZXlib2FyZFNob3J0Y3V0cygpXG5cbiAgICBwYXJzZV9oZWFkZXJzID0ge1xuICAgICAgJ1gtUGFyc2UtQXBwbGljYXRpb24tSWQnICA6ICdOODVRT2t0ZUVFUWt1WlZKS0F2dDhNVmVzMHNqRzZxTnBFR3FRRlZKJywgXG4gICAgICAnWC1QYXJzZS1SRVNULUFQSS1LZXknICAgIDogJ1ZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWInXG4gICAgfVxuXG4gICAgY29tcGFueSA9IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyKS5jb21wYW55KVxuICAgIGN1aWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcikub2JqZWN0SWRcbiAgICB1c2VyID0gSlNPTi5zdHJpbmdpZnkoeydfX3R5cGUnOidQb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RJZCc6Y3VpZCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzogJ1VzZXInfSlcbiAgICBhcmNoaXZlTGlzdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIC8vaGFyZENvZGVcbiAgICAgICdvYmplY3RJZCc6J1NlclBRamNrdmUnLFxuICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLCBcbiAgICAgICdjbGFzc05hbWUnIDogJ1Byb3NwZWN0TGlzdCcgXG4gICAgfSlcblxuICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJhcmNoaXZlZFwiOnRydWV9JmNvdW50PTEmb3JkZXI9LWNyZWF0ZWRBdCdcblxuICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudExpc3QgIT0gJ0FsbCcpe1xuICAgICAgY3VycmVudExpc3QgPSB7XG4gICAgICAgICdvYmplY3RJZCc6dGhpcy5zdGF0ZS5jdXJyZW50TGlzdE9iamVjdElkLCBcbiAgICAgICAgJ19fdHlwZSc6J1BvaW50ZXInLCBcbiAgICAgICAgJ2NsYXNzTmFtZScgOiAnUHJvc3BlY3RMaXN0JyBcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRMaXN0ID0gSlNPTi5zdHJpbmdpZnkoY3VycmVudExpc3QpXG4gICAgICB1c2VyID0gSlNPTi5zdHJpbmdpZnkoeydfX3R5cGUnOidQb2ludGVyJywnb2JqZWN0SWQnOid4VGhBWGMwTFpUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzTmFtZSc6J1VzZXInfSlcblxuICAgICAgLy8gYWRkIGNvbXBhbnkgdG8gcHJvc3BlY3RzIGFkZGVkIHRocm91Z2ggbWluaW5nIGpvYlxuICAgICAgcXJ5ID0gJ3doZXJlPXtcImNvbXBhbnlcIjonK2NvbXBhbnkrJyxcImxpc3RzXCI6JytjdXJyZW50TGlzdCsnfSZjb3VudD0xJ1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICAvL3VybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RzP2xpbWl0PTUwJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RzP2xpbWl0PScrdGhpc3NzLnN0YXRlLnByb3NwZWN0c1BlclBhZ2UsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczogcGFyc2VfaGVhZGVycyxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe3Byb3NwZWN0czogcmVzLnJlc3VsdHN9KVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe2NvdW50OiByZXMuY291bnR9KVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe3RvdGFsQ291bnQ6IHJlcy5jb3VudH0pXG4gICAgICAgIHRoaXNzcy5zZXRTdGF0ZSh7cGFnZXM6IE1hdGguY2VpbChyZXMuY291bnQvdGhpc3NzLnByb3BzLnByb3NwZWN0c1BlclBhZ2UpfSlcbiAgICAgICAgdGhpc3NzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZX0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcGFyc2VfaGVhZGVycyA9IHtcbiAgICAgICdYLVBhcnNlLUFwcGxpY2F0aW9uLUlkJyAgOiAnTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSicsIFxuICAgICAgJ1gtUGFyc2UtUkVTVC1BUEktS2V5JyAgICA6ICdWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiJyxcbiAgICB9XG5cbiAgICBjdXJyZW50VXNlciA9IHsgXG4gICAgICAnX190eXBlJyAgIDogJ1BvaW50ZXInLFxuICAgICAgJ2NsYXNzTmFtZSc6ICdfVXNlcicsXG4gICAgICAnb2JqZWN0SWQnIDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpLm9iamVjdElkXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdCcsXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHBhcnNlX2hlYWRlcnMsXG4gICAgICBkYXRhOiAnd2hlcmU9e1widXNlclwiOicrSlNPTi5zdHJpbmdpZnkoY3VycmVudFVzZXIpK1wifSZjb3VudD0xXCIsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICByZXN1bHRzID0gcmVzLnJlc3VsdHNcbiAgICAgICAgZm9yKGk9MDtpPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0cy5jb3VudCA9ICd+J1xuICAgICAgICB9XG4gICAgICAgIHRoaXNzLnNldFN0YXRlKHtsaXN0czogcmVzdWx0c30pXG4gICAgICAgIC8vIE1ha2UgYmF0Y2ggcmVxdWVzdCB0byBnZXQgbGlzdCBjb3VudHMgYWZ0ZXIgdGhleSBhcmUgbG9hZGVkXG4gICAgICAgIGZvcihpPTA7aSA8IHJlcy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocmVzLnJlc3VsdHNbaV0ub2JqZWN0SWQsIFwiXCIpXG4gICAgICAgIH1cblxuICAgICAgICBmb3IoaT0wO2k8IHJlcy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdCA9IHtcbiAgICAgICAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLFxuICAgICAgICAgICAgJ29iamVjdElkJyAgOiByZXMucmVzdWx0c1tpXS5vYmplY3RJZCxcbiAgICAgICAgICAgICdjbGFzc05hbWUnIDogJ1Byb3NwZWN0TGlzdCcsIFxuICAgICAgICAgIH1cblxuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUHJvc3BlY3RzJyxcbiAgICAgICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOnBhcnNlX2hlYWRlcnMsXG4gICAgICAgICAgICBsaXN0T2JqZWN0SWQ6IHJlcy5yZXN1bHRzW2ldLm9iamVjdElkLFxuICAgICAgICAgICAgZGF0YTogJ3doZXJlPXtcImxpc3RzXCI6JytKU09OLnN0cmluZ2lmeShsaXN0KSsnfSZjb3VudD0xJyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMubGlzdE9iamVjdElkKVxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmxpc3RPYmplY3RJZCwgcmVzLmNvdW50KVxuICAgICAgICAgICAgICBhbW91bnQgPSAwXG4gICAgICAgICAgICAgIGZvcihpaT0wO2lpPCByZXN1bHRzLmxlbmd0aDtpaSsrKXtcbiAgICAgICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShyZXN1bHRzW2lpXS5vYmplY3RJZCkgPT0gXCJcIilcbiAgICAgICAgICAgICAgICAgIGFtb3VudCA9IGFtb3VudCArIDFcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmKGFtb3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yKGlpPTA7aWk8IHJlc3VsdHMubGVuZ3RoO2lpKyspXG4gICAgICAgICAgICAgICAgICByZXN1bHRzW2lpXS5jb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHJlc3VsdHNbaWldLm9iamVjdElkKVxuXG4gICAgICAgICAgICAgICAgdGhpc3Muc2V0U3RhdGUoe2xpc3RzOiByZXN1bHRzfSlcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdHb3QgQ291bnRzJylcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIHVwZGF0ZWQgcmVzLmNvdW50XG4gICAgICAgICAgICAgIC8vdGhpc3Muc2V0U3RhdGUoe2NvdW50OiByZXMuY291bnR9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBnZW5lcmF0ZV9pZCA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xuICB9LFxufSk7XG5cbi8qICBEcm9wZG93biBNZW51cyAqL1xuXG52YXIgQ3VycmVudExpc3RzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ3VycmVudExpc3RzJyxcbiAgbGlzdEFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgIGxpc3ROYW1lID0gJChlLnRhcmdldCkudGV4dCgpXG4gICAgXG4gICAgdmFyIGxpc3RTZWxlY3QgPSBfLmZpbHRlcih0aGlzLnByb3BzLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBsaXN0TmFtZVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5saXN0QWN0aW9uKGxpc3RTZWxlY3RbMF0ub2JqZWN0SWQpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBsaXN0cyA9IFtdIFxuICAgIGZvcihpPTA7aTwgdGhpcy5wcm9wcy5saXN0cy5sZW5ndGg7aSsrKSB7XG4gICAgICBsaXN0cy5wdXNoKFxuICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgUmVhY3QuRE9NLmEoe3N0eWxlOiB7Zm9udFdlaWdodDonYm9sZCcsZm9udFNpemU6JzEwcHgnfSwgaHJlZjogXCJqYXZhc2NyaXB0OlwiLCBvbkNsaWNrOiB0aGlzLmxpc3RBY3Rpb259LCB0aGlzLnByb3BzLmxpc3RzW2ldLm5hbWUpKVxuICAgICAgKVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuY29weURyb3Bkb3duU3R5bGUpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcImRyb3Bkb3duLW1lbnUgZHJvcC10ZXN0XCIsIGlkOiBcImRyb3Bkb3duXCIsIFxuICAgICAgICAgIHN0eWxlOiB7cmlnaHQ6MTU4fX0sIFxuICAgICAgICBsaXN0c1xuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgTGlzdHNNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnTGlzdHNNZW51JyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwiZHJvcGRvd24tbWVudSBkcm9wLXRlc3RcIiwgaWQ6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIG1pbldpZHRoOidpbmhlcml0JyxcbiAgICAgICAgICAgIHRvcDogJzIwcHgnLFxuICAgICAgICAgICAgd2lkdGg6ICcxMjVweCcsXG4gICAgICAgICAgICByaWdodDogJzE1NHB4JyxcbiAgICAgICAgICAgIGxlZnQ6J2F1dG8nXG4gICAgICAgICAgfX0sIFxuICAgICAgICBSZWFjdC5ET00ubGkobnVsbCwgUmVhY3QuRE9NLmEoe2hyZWY6IFwiI2Jvb2tzXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRpbWVzXCJ9KSwgXCIgwqBcIiArICcgJyArXG4gICAgICAgICAgXCJEZWxldGUgTGlzdFwiXG4gICAgICAgICkpLCBcbiAgICAgICAgUmVhY3QuRE9NLmxpKG51bGwsIFJlYWN0LkRPTS5hKHtocmVmOiBcIiNwb2RjYXN0c1wifSwgXG4gICAgICAgICAgXCJSZW5hbWUgTGlzdHNcIlxuICAgICAgICApKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgQ3VycmVudExpc3RzVHdvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnQ3VycmVudExpc3RzVHdvJyxcbiAgbGlzdEFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgIGxpc3ROYW1lID0gJChlLnRhcmdldCkudGV4dCgpXG4gICAgXG4gICAgdmFyIGxpc3RTZWxlY3QgPSBfLmZpbHRlcih0aGlzLnByb3BzLmxpc3RzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PSBsaXN0TmFtZVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5saXN0QWN0aW9uKGxpc3RTZWxlY3RbMF0ub2JqZWN0SWQpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBsaXN0cyA9IFtdIFxuICAgIGZvcihpPTA7aTx0aGlzLnByb3BzLmxpc3RzLmxlbmd0aDtpKyspIHtcbiAgICAgIGxpc3RzLnB1c2goXG4gICAgICAgIFJlYWN0LkRPTS5saShudWxsLCBSZWFjdC5ET00uYSh7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxmb250U2l6ZTonMTBweCd9LCBcbiAgICAgICAgICAgICAgIGhyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmxpc3RBY3Rpb259LCBcbiAgICAgICAgICB0aGlzLnByb3BzLmxpc3RzW2ldLm5hbWUpKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwiZHJvcGRvd24tbWVudSBkcm9wLXRlc3RcIiwgaWQ6IFwiZHJvcGRvd25cIiwgXG4gICAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuY29weURyb3Bkb3duU3R5bGV9LCBcbiAgICAgICAgbGlzdHNcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIExpc3REZXRhaWxCdXR0b25zID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnTGlzdERldGFpbEJ1dHRvbnMnLFxuICAvLyBSZW5hbWUgTGlzdFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0TW9kZTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmN1cnJlbnRMaXN0T2JqZWN0SWQpXG4gICAgaWYoIXRoaXMuc3RhdGUuZWRpdE1vZGUpIHtcbiAgICAgIHN0dWZmID0gUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1kZWZhdWx0XCIsIHN0eWxlOiBsaXN0VHlwZX0sIFxuICAgICAgICAgICAgKHRoaXMucHJvcHMuY3VycmVudExpc3ROYW1lID09IFwiQWxsXCIpID8gJycgOiBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWFsaWduLWp1c3RpZnlcIiwgc3R5bGU6IHttYXJnaW5SaWdodDonNXB4J319KSwgXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5jdXJyZW50TGlzdE5hbWUgPT0gXCJBbGxcIikgPyAnJyA6IFwiICAgXCIgK3RoaXMucHJvcHMuY3VycmVudExpc3ROYW1lXG4gICAgICAgICAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgc3R1ZmYgPSBSZWFjdC5ET00uaW5wdXQoe2NsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIiwgc3R5bGU6IHt3aWR0aDogMTAwLCBmbG9hdDogJ2xlZnQnLCBoZWlnaHQ6IDI0LCBtYXJnaW5Ub3A6IC0xfX0pXG4gICAgfVxuICAgIHJldHVybiAoXG5cbiAgICAgICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge21hcmdpbjowfX0sIFxuICAgICAgICAgICAgICBzdHVmZiwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiBsaXN0QnRuLCBcbiAgICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsIFxuICAgICAgICAgICAgICAgIGlkOiBcInJlbmFtZUxpc3RCdG5cIiwgXG4gICAgICAgICAgICAgICAgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtcmVuYW1lTGlzdC1tb2RhbC1zbVwiLCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuLWdyYWRpZW50IGJ0biBidG4teHMgYnRuLXByaW1hcnlcIn0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGVuY2lsXCJ9KVxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IGxpc3RCdG4sIFxuICAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwibW9kYWxcIiwgXG4gICAgICAgICAgICAgICAgaWQ6IFwiZGVsZXRlTGlzdE1vZGFsXCIsIFxuICAgICAgICAgICAgICAgICdkYXRhLXRhcmdldCc6IFwiLmJzLWRlbGV0ZUxpc3QtbW9kYWwtc21cIiwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1ncmFkaWVudCBidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCJ9LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXRyYXNoLW9cIn0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVuYW1lTGlzdE1vZGFsKHtyZW5hbWVMaXN0OiB0aGlzLnByb3BzLnJlbmFtZUxpc3R9KSwgXG4gICAgICAgICAgICBEZWxldGVMaXN0TW9kYWwoe2RlbGV0ZUxpc3Q6IHRoaXMucHJvcHMuZGVsZXRlTGlzdH0pXG4gICAgICAgICAgKVxuICAgICAgKTtcbiAgfSxcblxuICByZW5hbWVMaXN0OiBmdW5jdGlvbihuZXdMaXN0TmFtZSkge1xuICAgIHRoaXMucHJvcHMucmVuYW1lTGlzdChuZXdMaXN0TmFtZSlcbiAgfSxcblxuICBkZWxldGVMaXN0OiBmdW5jdGlvbigpe1xuICAgIHRoaXMucHJvcHMuZGVsZXRlTGlzdCgpXG4gIH0sXG5cbiAgdG9nZ2xlRWRpdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdE1vZGU6ICF0aGlzLnN0YXRlLmVkaXRNb2RlIH0pXG4gIH1cbn0pO1xuXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gY3JlYXRlTGlzdE1vZGFsXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCQoJyNsaXN0VGl0bGUnKS52YWwoKSlcblxuICAgIGRhdGEgPSAge1xuICAgICAgJ25hbWUnICAgICAgICA6ICQoJyNsaXN0VGl0bGUnKS52YWwoKS50cmltKCksICAgLy9XYWl0aW5nICwgUnVubmluZ1xuICAgICAgJ3VzZXInICAgICAgICA6IHsgJ19fdHlwZSc6J1BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOidfVXNlcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ29iamVjdElkJzoneFdFU2l3NVNtZCcgfSxcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0TGlzdCcsXG4gICAgICB0eXBlOidQT1NUJyxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5wYXJzZUhlYWRlcnMsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkYXRhLmNvdW50ID0gMFxuXG4gICAgdGhpcy5wcm9wcy5jcmVhdGVMaXN0KGRhdGEpXG4gICAgXG4gICAgJCgnI2NyZWF0ZUxpc3RNb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICAkKCcubW9kYWwtYmFja2Ryb3AnKS5yZW1vdmUoKTtcbiAgICAvLyQoJ2J1dHRvbi5jbG9zZScpLmNsaWNrKClcbiAgfSxcblxuICByZW5hbWVMaXN0OiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy9jb25zb2xlLmxvZygkKCcjbmV3TGlzdE5hbWUnKS52YWwoKSlcbiAgICBuZXdMaXN0TmFtZSA9ICQoJyNuZXdMaXN0TmFtZScpLnZhbCgpXG4gICAgaWYobmV3TGlzdE5hbWUudHJpbSgpICE9IFwiXCIpXG4gICAgICB0aGlzLnByb3BzLnJlbmFtZUxpc3QobmV3TGlzdE5hbWUpXG4gICAgLy8gRGlzYWJsZSBNb2RhbFxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwgZmFkZSBicy1yZW5hbWVMaXN0LW1vZGFsLXNtXCIsIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsICdhcmlhLWxhYmVsbGVkYnknOiBcIm15U21hbGxNb2RhbExhYmVsXCIsICdhcmlhLWhpZGRlbic6IFwidHJ1ZVwiLCBpZDogXCJjcmVhdGVMaXN0TW9kYWxcIiwgc3R5bGU6IHt0b3A6JzIwMHB4J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIn0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtY29udGVudFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uYnV0dG9uKHt0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwiY2xvc2VcIiwgJ2RhdGEtZGlzbWlzcyc6IFwibW9kYWxcIn0sIFJlYWN0LkRPTS5zcGFuKHsnYXJpYS1oaWRkZW4nOiBcInRydWVcIn0sIFwiw5dcIiksIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInNyLW9ubHlcIn0sIFwiQ2xvc2VcIikpLCBcbiAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbGlzdFwifSksIFwiIMKgUmVuYW1lIExpc3RcIilcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwtYm9keVwifSwgXG4gICAgICAgICAgICAgICAgICBSZWFjdC5ET00uZm9ybSh7b25TdWJtaXQ6IHRoaXMucmVuYW1lTGlzdH0sIFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe2lkOiBcIm5ld0xpc3ROYW1lXCIsIHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJFbnRlciBsaXN0IHRpdGxlLi4uXCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2xcIn0pLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5yZW5hbWVMaXN0LCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLCB3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgICAgICAgICAgICAgICAgXCJDcmVhdGUgTGlzdFwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBcIlNjaGVkdWxzXCJcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBTZW50IE1haWxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdihudWxsLCBcbiAgICAgICAgXCJTZW50IE1haWxcIlxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbnZhciBTaWRlTWVudUxpc3RPcHRpb24gPSByZXF1aXJlKCcuL3VzZXJfc2lkZV9tZW51X2xpc3QuanMubWluLmpzJyk7XG52YXIgY3JlYXRlTGlzdE1vZGFsID0gcmVxdWlyZSgnLi9jcmVhdGVfbGlzdF9tb2RhbC5qcy5taW4uanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvL1NpZGVNZW51UHJvc3BlY3RzXG4gIGNyZWF0ZUxpc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdGhpcy5wcm9wcy5jcmVhdGVMaXN0KGRhdGEpXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuXG4gIGNoYW5nZUxpc3Q6IGZ1bmN0aW9uKGUpIHtcbiAgICAvKlxuICAgIGN1cnJlbnRMaXN0ID0gJChlLnRhcmdldCkucGFyZW50KCkvLy5kYXRhKCdsaXN0JylcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50TGlzdClcbiAgICB0aGlzLnByb3BzLmNoYW5nZUxpc3QoY3VycmVudExpc3QubmFtZSwgY3VycmVudExpc3Qub2JqZWN0SWQpXG4gICAgKi9cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHN0eWxlcyA9ICh0aGlzLnByb3BzLmN1cnJlbnRMaXN0ID09IFwiQWxsXCIpID8geydiYWNrZ3JvdW5kQ29sb3InOidyZ2IoMCwgMTIyLCAyNTUpJywgJ2NvbG9yJzond2hpdGUnfSA6IHt9XG5cbiAgICBsaXN0cyAgPSBbIFJlYWN0LkRPTS5idXR0b24oe3R5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMucHJvcHMuY2hhbmdlTGlzdCwgc3R5bGU6IHN0eWxlcywgY2xhc3NOYW1lOiBcImxpc3QtbmFtZXMgYnRuIGJ0bi1kZWZhdWx0IGFsbFwifSwgJ0FsbCcsIFxuICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6JzFweCcsIGJhY2tncm91bmRDb2xvcjonIzk5OSd9LCBjbGFzc05hbWU6IFwiYmFkZ2UgYmFkZ2UtZGVmYXVsdFwifSwgdGhpcy5wcm9wcy5jb3VudCkpLFxuICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgb25DbGljazogdGhpcy5wcm9wcy5jaGFuZ2VMaXN0LCBzdHlsZTogc3R5bGVzLCBjbGFzc05hbWU6IFwibGlzdC1uYW1lcyBidG4gYnRuLWRlZmF1bHQgYWxsXCJ9LCBcbiAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1hcmNoaXZlXCJ9KSwgXCLCoMKgXCIsIFxuICAgICAgICAnQXJjaGl2ZWQnLCBcIiBcIiwgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6JzFweCcsIGJhY2tncm91bmRDb2xvcjonIzk5OSd9LCBjbGFzc05hbWU6IFwiYmFkZ2UgYmFkZ2UtZGVmYXVsdFwifSwgdGhpcy5wcm9wcy5jb3VudCkpIF1cbiAgXG4gICAgZm9yKGk9MDtpPHRoaXMucHJvcHMubGlzdHMubGVuZ3RoO2krKyl7XG4gICAgICBsaXN0ID0gdGhpcy5wcm9wcy5saXN0c1tpXVxuICAgICAgbGlzdHMucHVzaChcbiAgICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgb25DbGljazogdGhpcy5wcm9wcy5jaGFuZ2VMaXN0LCAnZGF0YS1saXN0JzogSlNPTi5zdHJpbmdpZnkobGlzdCksIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgbGlzdC5uYW1lLCBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtiYWNrZ3JvdW5kQ29sb3I6JyM5OTknLGZsb2F0OidyaWdodCcsbWFyZ2luVG9wOicxcHgnfSwgY2xhc3NOYW1lOiBcImJhZGdlIGJhZGdlLWRlZmF1bHRcIn0sIGxpc3QuY291bnQpLCBcIiAgICAgIFwiKVxuICAgICAgKVxuICAgIH1cbiAgICBsaXN0cyA9IFtTaWRlTWVudUxpc3RPcHRpb24oe2xpc3Q6IHtuYW1lOiAnQWxsJyxjb3VudDogdGhpcy5wcm9wcy50b3RhbENvdW50fSwgXG4gICAgICAgICAgICAgICAgaWNvblR5cGU6ICd1c2VycycsIFxuICAgICAgICAgICAgICAgIGNoYW5nZUxpc3Q6IHRoaXMucHJvcHMuY2hhbmdlTGlzdH0pLCBTaWRlTWVudUxpc3RPcHRpb24oe2xpc3Q6IHtuYW1lOiAnQXJjaGl2ZWQnLCBjb3VudDogJ34nfSwgaWNvblR5cGU6ICdhcmNoaXZlJywgY2hhbmdlTGlzdDogdGhpcy5wcm9wcy5jaGFuZ2VMaXN0LCBoaWRlQ291bnQ6IHRydWV9KV1cbiAgICBmb3IoaT0wO2k8dGhpcy5wcm9wcy5saXN0cy5sZW5ndGg7aSsrKXtcbiAgICAgIGxpc3QgPSB0aGlzLnByb3BzLmxpc3RzW2ldXG4gICAgICBsaXN0cy5wdXNoKFxuICAgICAgICBTaWRlTWVudUxpc3RPcHRpb24oe2xpc3Q6IGxpc3QsIGNoYW5nZUxpc3Q6IHRoaXMucHJvcHMuY2hhbmdlTGlzdH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMlwiLCBzdHlsZToge3BhZGRpbmc6JzAnLGhlaWdodDonNDM4cHgnLGJhY2tncm91bmRDb2xvcjonI2UwZTllZScsYm9yZGVyUmlnaHQ6JzFweCBzb2xpZCAjYjBiOGJmJyx0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwcm9zcGVjdC1saXN0LWhlYWRlclwifSwgXG4gICAgICAgICAgXCJMaXN0c1wiXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwLXZlcnRpY2FsXCIsIHN0eWxlOiB7d2lkdGg6JzEwMCUnLCBoZWlnaHQ6ICczMjBweCcsIG92ZXJmbG93OiAnYXV0byd9fSwgXG4gICAgICAgICAgbGlzdHNcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgbmV3LWxpc3QtYnRuXCIsIFxuICAgICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsICdkYXRhLXRhcmdldCc6IFwiLmJzLWV4YW1wbGUtbW9kYWwtc21cIiwgXG4gICAgICAgICAgICAgIHN0eWxlOiB7IGJhY2tncm91bmRJbWFnZTogJ2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSknfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtcGx1cy1jaXJjbGVcIn0pLCBcIsKgwqBOZXcgTGlzdFwiXG4gICAgICAgICksIFxuICAgICAgICBjcmVhdGVMaXN0TW9kYWwoe2NyZWF0ZUxpc3Q6IHRoaXMuY3JlYXRlTGlzdH0pLCBcbiAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpXG4gICAgICApXG4gICAgKTtcbiAgfSxcblxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGNvbXBhbnkgPSB0aGlzLnByb3BzLmNvbXBhbnlcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHQgc2lnbmFsLWNhcmRcIn0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtYm9keVwiLCBzdHlsZToge3BhZGRpbmdMZWZ0OjI1LCBwYWRkaW5nUmlnaHQ6MjV9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge2Rpc3BsYXk6J2lubGluZS1ibG9jaycsd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7IGZsb2F0OidsZWZ0JyxtYXhXaWR0aDogJzYwJScsIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnfX0sIFxuICAgICAgICAgICAgICBjb21wYW55Lm5hbWUpLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtc3VjY2Vzc1wiLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5MZWZ0OjcsIGZsb2F0OidyaWdodCcsZm9udFNpemU6MTIsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc0MCUnLCB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1zdWl0Y2FzZVwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICBjb21wYW55LnNpZ25hbHNbMF0uam9iX3RpdGxlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2Vzc1wiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6MTUsIGZvbnRXZWlnaHQ6J2JvbGQnfX0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdCBUaGlzIENvbXBhbnlcIiksIFxuICAgICAgICAgIFJlYWN0LkRPTS5wKHtzdHlsZToge2ZvbnRTaXplOjEyLHdpZHRoOic3NSUnfX0sIFxuICAgICAgICAgICAgY29tcGFueS5zaWduYWxzWzBdLnN1bW1hcnlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgXCIgXCIsIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbWFwLW1hcmtlclwifSksIFxuICAgICAgICAgICAgXCLCoCBcIiwgY29tcGFueS5zaWduYWxzWzBdLmxvY2F0aW9uKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBzaWduYWxEZXRhaWxzID0gW11cbiAgICBmb3IoaT0wO2k8IHRoaXMucHJvcHMucHJvZmlsZS5wcm9maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc2lnbmFsRGV0YWlscy5wdXNoKFByb2ZpbGVUeXBlKHtwcm9maWxlOiB0aGlzLnByb3BzLnByb2ZpbGUucHJvZmlsZXNbaV19KSlcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJsaXN0LWdyb3VwLWl0ZW0gaWRlYWwtY29tcGFueS1wcm9maWxlXCIsIFxuICAgICAgICBzdHlsZToge3BhZGRpbmdUb3A6NX19LCBcbiAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJwcm9maWxlLXRpdGxlXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1kZWZhdWx0XCJ9LCBcIiBcIiwgdGhpcy5wcm9wcy5wcm9maWxlLm5hbWUpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1wiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0J319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2gtb1wifSkpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14c1wiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5SaWdodDo1fX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jb2dcIn0pKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicHJvZmlsZS1ib2R5XCIsIHN0eWxlOiB7bWFyZ2luVG9wOjV9fSwgXG4gICAgICAgICAgc2lnbmFsRGV0YWlsc1xuICAgICAgICApXG4gICAgICAgIFxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgUHJvZmlsZVR5cGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdQcm9maWxlVHlwZScsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5wcm9maWxlKVxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUpXG4gICAgaWYodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSA9PSBcIkhpcmluZ1Byb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtc3VpdGNhc2VcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJIaXJpbmdcIlxuICAgICAgc2lnbmFsVmFsdWUgPSB0aGlzLnByb3BzLnByb2ZpbGUuam9iX3RpdGxlXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIkNvbXBhbnlTaXplUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2Vyc1wifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkNvbXBhbnkgU2l6ZVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIkZ1bmRpbmdQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWluc3RpdHV0aW9uc1wifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkZ1bmRpbmdcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJSZXZlbnVlUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1tb25leVwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIlJldmVudWVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJUZWNobm9sb2d5UHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13cmVuY2hcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJUZWNobm9sb2d5XCJcbiAgICB9ZWxzZXtcbiAgICAgIHNpZ25hbEljb24gPSBcIm5vdCBmb3VuZFwiXG4gICAgICBzaWduYWxOYW1lID0gXCJOb3QgZm91bmRcIlxuICAgICAgc2lnbmFsVmFsdWU9IFwiTm90IGZvdW5kXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJpZGVhbC1wcm9maWxlXCJ9LCBcbiAgICAgICAgc2lnbmFsSWNvbiwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtc2lnbmFsLW5hbWVcIn0sIHNpZ25hbE5hbWUsIFwiIC0gXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJwcm9maWxlLXNpZ25hbC12YWx1ZVwifSwgc2lnbmFsVmFsdWUpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudmFyIENyZWF0ZVNpZ25hbE1vZGFsID0gcmVxdWlyZSgnLi9jcmVhdGVfc2lnbmFsX21vZGFsLmpzLm1pbi5qcycpXG52YXIgU2lnbmFsUHJvZmlsZSA9IHJlcXVpcmUoJy4vc2lnbmFsX3Byb2ZpbGUuanMubWluLmpzJylcbnZhciBTaWduYWxDYXJkID0gcmVxdWlyZSgnLi9zaWduYWxfY2FyZC5qcy5taW4uanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNpZ25hbHNcbiAgICAvKlxuICAgICAgLSBGZWVkXG4gICAgICAtIFJlc2VhcmNoXG4gICAgICAtIENyZWF0ZSBJZGVhbCBQZW9wbGUgUHJvZmlsZVxuICAgICAgICAtIG1vZGFsXG4gICAgICAtIENyZWF0ZSBJZGVhbCBDb21wYW55IFByb2ZpbGVcbiAgICAgICAgLSBtb2RhbFxuICAgICovXG4gICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7c3R5bGU6IHtoZWlnaHQ6NDAwfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7cGFkZGluZzowLCB3aWR0aDonMTAwJScsIGhlaWdodDonMTAwJSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0zXCIsIHN0eWxlOiB7Ym9yZGVyUmlnaHQ6JzFweCBzb2xpZCAjZGRkJyxoZWlnaHQ6JzEwMCUnLHBhZGRpbmc6MH19LCBcbiAgICAgICAgICAgIFNpZ25hbHNPcHRpb25zKG51bGwpXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC05XCIsIHN0eWxlOiB7aGVpZ2h0OicxMDAlJyxwYWRkaW5nOjB9fSwgXG4gICAgICAgICAgICBTaWduYWxEZXRhaWxCdXR0b25zKG51bGwpLCBcbiAgICAgICAgICAgIFNpZ25hbHNGZWVkKG51bGwpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgQ3JlYXRlU2lnbmFsTW9kYWwoe2NyZWF0ZVNpZ25hbDogdGhpcy5jcmVhdGVTaWduYWx9KVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG5cbnZhciBTaWduYWxEZXRhaWxCdXR0b25zID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lnbmFsRGV0YWlsQnV0dG9ucycsXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2lkOiBcInByb3NwZWN0RGV0YWlsQnV0dG9uc1wiLCBzdHlsZToge2hlaWdodDo1MH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiYnRuLWdyb3VwIGNvbC1tZC1vZmZzZXQtNFwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uYSh7Y2xhc3NOYW1lOiBcImNob29zZSBidG4gYnRuLXByaW1hcnlcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J2Jsb2NrJyxwYWRkaW5nOjV9LCBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVufSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2VyXCJ9KSwgXCLCoFBlb3BsZVwiXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5hKHtjbGFzc05hbWU6IFwiY2hvb3NlIGJ0biBidG4tcHJpbWFyeSBhY3RpdmVcIiwgXG4gICAgICAgICAgICAgICBzdHlsZToge3BhZGRpbmc6NX0sIFxuICAgICAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVTY3JlZW59LCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KSwgXCLCoENvbXBhbmllc1wiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBTaWduYWxzT3B0aW9ucyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1NpZ25hbHNPcHRpb25zJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZmlsZXM6IFtdXG4gICAgfVxuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcilcbiAgICB1c2VyID0ge1xuICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsXG4gICAgICAnY2xhc3NOYW1lJyA6ICdfVXNlcicsXG4gICAgICAnb2JqZWN0SWQnICA6IGN1cnJlbnRVc2VyLm9iamVjdElkXG4gICAgfVxuICAgIHVzZXIgPSBKU09OLnN0cmluZ2lmeSh1c2VyKVxuICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShjdXJyZW50VXNlci5jb21wYW55KVxuICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJ1c2VyXCI6Jyt1c2VyKyd9JmluY2x1ZGU9cHJvZmlsZXMnXG4gIFxuICAgIHRoaXNzcyA9IHRoaXNcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkucGFyc2UuY29tLzEvY2xhc3Nlcy9Qcm9zcGVjdFByb2ZpbGUnLFxuICAgICAgdHlwZTonR0VUJyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGhlYWRlcnM6YXBwQ29uZmlnLnBhcnNlSGVhZGVycyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZygnUHJvc3BlY3QgUHJvZmlsZScpXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICB0aGlzc3Muc2V0U3RhdGUoe3Byb2ZpbGVzOiByZXMucmVzdWx0c30pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGNyZWF0ZVNpZ25hbDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2NyZWF0ZSBzaWduYWwnKVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHByb2ZzID0gW11cbiAgICBmb3IoaT0wOyBpPCB0aGlzLnN0YXRlLnByb2ZpbGVzLmxlbmd0aDtpKyspe1xuICAgICAgcHJvZnMucHVzaChTaWduYWxQcm9maWxlKHtwcm9maWxlOiB0aGlzLnN0YXRlLnByb2ZpbGVzW2ldfSkpXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHByb2ZzKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibGlzdC1ncm91cFwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5saSh7Y2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbVwiLCBzdHlsZToge2JvcmRlckxlZnQ6MCxoZWlnaHQ6NDQscGFkZGluZ1JpZ2h0OjV9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtzdHlsZToge21hcmdpbjowLHRleHRBbGlnbjonY2VudGVyJyxmbG9hdDonbGVmdCd9fSwgXCJQcm9maWxlc1wiKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAnZGF0YS10b2dnbGUnOiBcIm1vZGFsXCIsIFxuICAgICAgICAgICAgJ2RhdGEtdGFyZ2V0JzogXCIuYnMtY3JlYXRlU2lnbmFsLW1vZGFsLW1kXCIsIFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgICBzdHlsZToge2Zsb2F0OidyaWdodCd9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pLCBcIsKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCJDcmVhdGUgUHJvZmlsZVwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgcHJvZnNcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxudmFyIFNpZ25hbHNGZWVkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2lnbmFsc0ZlZWQnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaWduYWxzOiBbXVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcilcbiAgICB1c2VyID0ge1xuICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsXG4gICAgICAnY2xhc3NOYW1lJyA6ICdfVXNlcicsXG4gICAgICAnb2JqZWN0SWQnICA6IGN1cnJlbnRVc2VyLm9iamVjdElkXG4gICAgfVxuICAgIHVzZXIgPSBKU09OLnN0cmluZ2lmeSh1c2VyKVxuICAgIGNvbXBhbnkgPSBKU09OLnN0cmluZ2lmeShjdXJyZW50VXNlci5jb21wYW55KVxuICAgIHFyeSA9ICd3aGVyZT17XCJjb21wYW55XCI6Jytjb21wYW55KycsXCJ1c2VyXCI6Jyt1c2VyKyd9JmluY2x1ZGU9c2lnbmFscydcbiAgXG4gICAgdGhpc3MgPSB0aGlzXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvQ29tcGFueVNpZ25hbCcsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgaGVhZGVyczphcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7c2lnbmFsczogcmVzLnJlc3VsdHN9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgc2lnbmFsQ2FyZHMgPSBbXVxuICAgIGZvcihpPTA7aTwgdGhpcy5zdGF0ZS5zaWduYWxzLmxlbmd0aDtpKyspIHtcbiAgICAgIHNpZ25hbENhcmRzLnB1c2goU2lnbmFsQ2FyZCh7Y29tcGFueTogdGhpcy5zdGF0ZS5zaWduYWxzW2ldfSkpXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29udGFpbmVyIHNpZ25hbC1jYXJkLWJhY2tncm91bmRcIiwgc3R5bGU6IHtoZWlnaHQ6MzUwLCBvdmVyZmxvdzonYXV0byd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtOCBjb2wtbWQtb2Zmc2V0LTJcIn0sIFxuICAgICAgICAgIHNpZ25hbENhcmRzXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG50aGVEYXRhID0gcmVxdWlyZSgnLi4vbGliL2RhdGEubWluLmpzJykgXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIFNpZ25VcFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgJCgnYm9keScpLmNzcyh7b3ZlcmZsb3c6J2hpZGRlbid9KVxuICB9LFxuXG4gIHJldHJpZXZlVXNlcjogZnVuY3Rpb24ob2JqZWN0SWQpIHtcbiAgICBoZWFkZXJzID0ge1xuICAgICAgXCJYLVBhcnNlLUFwcGxpY2F0aW9uLUlkXCI6IFwiTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSlwiLFxuICAgICAgXCJYLVBhcnNlLVJFU1QtQVBJLUtleVwiOiBcIlZONkV3VnlCWndPMXVwaHNCUHNhdTh0N0pRUnAwMFVNM0tZc2lpUWJcIlxuICAgIH1cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS91c2Vycy8nK29iamVjdElkLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcykge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFVzZXInLCBKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIjXCJcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBzaWdudXA6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdzaWdudXAnKVxuICAgIGVtYWlsID0gJCgnI2VtYWlsJykudmFsKClcbiAgICBwYXNzd29yZCA9ICQoJyNwYXNzd29yZCcpLnZhbCgpXG4gICAgcCA9IHtcbiAgICAgIFwiWC1QYXJzZS1BcHBsaWNhdGlvbi1JZFwiICA6IFwiTjg1UU9rdGVFRVFrdVpWSktBdnQ4TVZlczBzakc2cU5wRUdxUUZWSlwiLFxuICAgICAgXCJYLVBhcnNlLVJFU1QtQVBJLUtleVwiICAgIDogXCJWTjZFd1Z5Qlp3TzF1cGhzQlBzYXU4dDdKUVJwMDBVTTNLWXNpaVFiXCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiICAgICAgICAgICAgOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH1cbiAgICB0aGlzcyA9IHRoaXM7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0NvbXBhbnknLFxuICAgICAgdHlwZTonUE9TVCcsXG4gICAgICBoZWFkZXJzOiBwLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAnbmFtZSc6ICQoJyNjb21wYW55JykudmFsKCksXG4gICAgICB9KSxcbiAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS91c2VycycsXG4gICAgICAgICAgdHlwZTonUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogcCxcbiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAndXNlcm5hbWUnOmVtYWlsLFxuICAgICAgICAgICAgJ3Bhc3N3b3JkJzpwYXNzd29yZCxcbiAgICAgICAgICAgICdjb21wYW55Jzp7XG4gICAgICAgICAgICAgICdfX3R5cGUnICAgIDogJ1BvaW50ZXInLFxuICAgICAgICAgICAgICAnY2xhc3NOYW1lJyA6ICdDb21wYW55JyxcbiAgICAgICAgICAgICAgJ29iamVjdElkJyAgOiByZXMub2JqZWN0SWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgIC8vIERvIGFub3RoZXIgcmVxdWVzdCB0byBnZXQgY3VycmVudCB1c2VyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFVzZXInLCBKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICAgICAgdGhpc3MucmV0cmlldmVVc2VyKHJlcy5vYmplY3RJZClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7IFxuICAgIGRhdGEgPSB0aGVEYXRhKClcbiAgICBpbWdzXzEgPSBbXVxuICAgIGltZ3NfMiA9IFtdXG4gICAgZm9yKGk9MDtpIDwgMTIwOyBpKyspIHtcbiAgICAgIGltZ3NfMS5wdXNoKFJlYWN0LkRPTS5pbWcoe3NyYzogZGF0YVtpXSwgY2xhc3NOYW1lOiBcInByb3NwZWN0LWltZ1wifSkpXG4gICAgfVxuICAgIGZvcihpPTE1O2kgPCAzMDsgaSsrKSB7XG4gICAgICBpbWdzXzIucHVzaChSZWFjdC5ET00uaW1nKHtzcmM6IGRhdGFbaV0sIGNsYXNzTmFtZTogXCJwcm9zcGVjdC1pbWdcIn0pKVxuICAgIH1cblxuICBjb25zb2xlLmxvZyhkYXRhKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwic2lnbnVwXCJ9LCBcIiBcIiksIFxuXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uaDEoe2NsYXNzTmFtZTogXCJ0aXRsZVwifSwgXCJDdXN0b21lcm8uXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLmg1KHtjbGFzc05hbWU6IFwidGFnbGluZVwifSwgXCJHZW5lcmF0ZSBoaWdoIHF1YWxpdHkgcHJvc3BlY3QgbGlzdHMuIEFjY2VsZXJhdGUgU2FsZXMuXCIpLCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdCBsb2dpbi1pbmZvXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLG1hcmdpblRvcDo1MH19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbC1ib2R5XCJ9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmZvcm0oe29uU3VibWl0OiB0aGlzLmxvZ2lufSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiRW1haWxcIiwgaWQ6IFwiZW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIsIGNsYXNzTmFtZTogXCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIiwgc3R5bGU6IHtmb250V2VpZ2h0OicxMDAnLGZvbnRTaXplOicyMnB4J319KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7cGxhY2Vob2xkZXI6IFwiQ29tcGFueVwiLCB0eXBlOiBcInRleHRcIiwgaWQ6IFwiY29tcGFueVwiLCBjbGFzc05hbWU6IFwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIsIHN0eWxlOiB7Zm9udFdlaWdodDonMTAwJyxmb250U2l6ZTonMjJweCd9fSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uYnIobnVsbCksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaW5wdXQoe3BsYWNlaG9sZGVyOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiwgaWQ6IFwicGFzc3dvcmRcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHtwbGFjZWhvbGRlcjogXCJSZXBlYXQgUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCBpZDogXCJyZXBlYXRfcGFzc3dvcmRcIiwgY2xhc3NOYW1lOiBcImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiLCBzdHlsZToge2ZvbnRXZWlnaHQ6JzEwMCcsZm9udFNpemU6JzIycHgnfX0pLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmJyKG51bGwpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5zaWdudXAsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWxnXCIsIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLGJhY2tncm91bmRDb2xvcjonIzFjYTNmZCd9fSwgXCJTaWduIFVwXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICApLCBcblxuICAgICAgUmVhY3QuRE9NLmRpdih7aWQ6IFwiXCIsIHN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJyx6SW5kZXg6Jy0yJyx0b3A6MCxsZWZ0OjB9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJcIiwgc3R5bGU6IHttYXJnaW5MZWZ0OjM0fX0sIFxuICAgICAgICBpbWdzXzEsIFxuICAgICAgICBpbWdzXzJcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxudmFyIEVkaXRUZW1wbGF0ZVZpZXcgPSByZXF1aXJlKCcuL2VkaXRfdGVtcGxhdGUuanMubWluLmpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy9UZW1wbGF0ZXNcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRUZW1wbGF0ZTogMCxcbiAgICAgIGVkaXRNb2RlOiBmYWxzZVxuICAgIH1cbiAgfSxcblxuICBjaGFuZ2VNb2RlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdGVNb2RlfSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRlbXBsYXRlVmlldyA9ICghdGhpcy5zdGF0ZS5lZGl0TW9kZSkgPyBUZW1wbGF0ZVZpZXcoe2NoYW5nZU1vZGU6IHRoaXMuY2hhbmdlTW9kZX0pIDogRWRpdFRlbXBsYXRlVmlldyhudWxsKVxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge2hlaWdodDonMTAwJSd9fSwgXG4gICAgICAgICAgVGVtcGxhdGVTaWRlTWVudShudWxsKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC05XCIsIHN0eWxlOiB7cGFkZGluZzowLGhlaWdodDonMTAwJSd9fSwgXG4gICAgICAgICAgICAgIHRlbXBsYXRlVmlld1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5cbnZhciBUZW1wbGF0ZVZpZXcgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdUZW1wbGF0ZVZpZXcnLFxuICBjaGFuZ2VNb2RlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmNoYW5nZU1vZGUoKVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtaW5mb1wiLCBzdHlsZToge3dpZHRoOicxMDAlJyxoZWlnaHQ6JzEwMCUnLGJvcmRlcjowfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wifSwgXG4gICAgICAgICAgXCJUZW1wbGF0ZSBOYW1lXCIsICBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNoYW5nZU1vZGUsIFxuICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXByaW1hcnkgYnRuLXhzXCIsIFxuICAgICAgICAgICAgIHN0eWxlOiB7ZGlzcGxheTonYmxvY2snLGZsb2F0OidyaWdodCcsbWFyZ2luVG9wOicwcHgnfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wZW5jaWwtc3F1YXJlXCJ9KSwgXCIgwqAgRWRpdCBUZW1wbGF0ZVwiKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICBSZWFjdC5ET00uaDQobnVsbCwgXCJGb2xsb3d1cCAtIFByb3NwZWN0aW5nIFNBQVMgT3V0cmVhY2hcIiksIFxuICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7bWFyZ2luQm90dG9tOicwJ30sIGNsYXNzTmFtZTogXCJ0ZXh0LW11dGVkXCJ9LCBcIkNyZWF0ZWQgYnkgTWFyayBvbiBKdWwuIDIxLCAyMDE0XCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLmg2KHtzdHlsZToge21hcmdpblRvcDonMCd9LCBjbGFzc05hbWU6IFwidGV4dC1tdXRlZFwifSwgXCJsYXN0IHVwZGF0ZWQgNyBkYXlzIGFnb1wiKSwgXG4gICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG4gICAgICAgIFJlYWN0LkRPTS5icihudWxsKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsIHBhbmVsLWRlZmF1bHRcIn0sIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWJvZHlcIn0sIFxuICAgICAgICAgIFwiMTUgbWludXRlcyB0byBnZXQgY29tcGFueV9uYW1lIG1vcmUgY3VzdG9tZXJzXCIgKyAnICcgK1xuICAgICAgICAgIFwiSGV5IGZpcnN0X25hbWUsXCIgKyAnICcgK1xuXG4gICAgICAgICAgXCJXb3VsZCB5b3UgbGlrZSB0byBoZWFyIGFuIGlkZWEgZm9yIGEgMTUgbWludXRlIGhhY2sgdGhhdCBjb3VsZCBzaWduaWZpY2FudGx5IGluY3JlYXNlIHRoZSBudW1iZXIgb2YgcHJvc3BlY3RzIHlvdXIgc2FsZXMgcGVvcGxlIGhhdmUgYWNjZXNzIHRvID9cIiArICcgJyArXG4gICAgICAgICAgIFxuICAgICAgICAgIFwiUmVjZW50bHkgb25lIG9mIG91ciBCMkIgY2xpZW50cyBzYXcgYSBodWdlIGluY3JlYXNlIGluIHRyaWFsIHNpZ24gdXBzIGFmdGVyIHdvcmtpbmcgd2l0aCB1cy4gZmlyc3RfbmFtZSwgbGV0cyBzY2hlZHVsZSBhIDE1IG1pbnV0ZSBjYWxsIHRoaXMgd2VlayB0byBzZWUgaWYgdGhpcyB3b3VsZCBiZSBhIGdvb2QgZml0IGZvciBib3RoIG9mIHVzLlwiICsgJyAnICtcbiAgICAgICAgICAgXG4gICAgICAgICAgXCJXaGF0IHRoZSBiZXN0IHRpbWUgZm9yIHlvdSB0aGlzIHdlZWsgP1wiICsgJyAnICtcbiAgICAgICAgICAgXG4gICAgICAgICAgXCItLVwiICsgJyAnICtcbiAgICAgICAgICBcIk1hcmtcIiArICcgJyArIFxuICAgICAgICAgIFwiQ3VzdG9tZXJvXCIgKyAnICcgK1xuICAgICAgICAgIFwibWFya0BjdXN0b21lcm9ocS5jb21cIlxuICAgICAgICAgIFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgICApO1xuICB9LFxufSk7XG5cbnZhciBUZW1wbGF0ZVNpZGVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnVGVtcGxhdGVTaWRlTWVudScsXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlczogW10sXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAvL0FqYXggUmVxdWVzdCBGb3IgVGVtcGxhdGVzXG4gICAgLypcbiAgICAgJC5hamF4KHtcbiAgICAgIHVybDonJyxcbiAgICAgIGhlYWRlcnM6IFwiXCIsXG4gICAgICBkYXRhOiBcIlwiLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgfVxuICAgICB9KTtcbiAgICAqL1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdGVtcGxhdGVzID0gW11cbiAgICBmb3IoaT0wO2k8IHRoaXMuc3RhdGUudGVtcGxhdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgdGVtcGxhdGVzLnB1c2goUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbVwifSwgXCJ0ZW1wbGF0ZXNbaV0ubmFtZVwiKSlcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbC1tZC0zXCIsIHN0eWxlOiB7cGFkZGluZzonMCcsIGJvcmRlclJpZ2h0OicxcHggc29saWQgI2RkZCcsaGVpZ2h0OicxMDAlJyx0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwYW5lbCBwYW5lbC1kZWZhdWx0XCIsIHN0eWxlOiB7Ym9yZGVyOjB9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInBhbmVsLWhlYWRpbmdcIiwgc3R5bGU6IHtoZWlnaHQ6NjB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmbG9hdDonbGVmdCcsZm9udFNpemU6MjAsZm9udFdlaWdodDonYm9sZCd9fSwgXG4gICAgICAgICAgICAgIFwiVGVtcGxhdGVzXCJcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBcIiwgXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXBsdXNcIn0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnVsKHtjbGFzc05hbWU6IFwibGlzdC1ncm91cFwiLCBzdHlsZToge3RleHRBbGlnbjonbGVmdCd9fSwgXG4gICAgICAgICAgICB0ZW1wbGF0ZXNcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vVGVtcGxhdGVzTWVudVxuXG4gIHRvZ2dsZVRlbXBsYXRlRWRpdE1lbnU6IGZ1bmN0aW9uKGN1cnJlbnRUZW1wbGF0ZSkge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudShjdXJyZW50VGVtcGxhdGUpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMudGVtcGxhdGVzKVxuICAgIHRlbXBsYXRlcyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnRlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcGxhdGVzLnB1c2goXG4gICAgICAgIFRlbXBsYXRlTGlzdEl0ZW0oe1xuICAgICAgICAgIHRvZ2dsZVRlbXBsYXRlRWRpdE1lbnU6IHRoaXMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudSwgXG4gICAgICAgICAgdGVtcGxhdGU6IHRoaXMucHJvcHMudGVtcGxhdGVzW2ldfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIlwiLCBzdHlsZToge3BhZGRpbmc6JzAnLCBib3JkZXJSaWdodDonMnB4IHNvbGlkIHJnYmEoMCwwLDAsMCknLGhlaWdodDonMTAwJScsdGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwiLCBcbiAgICAgICAgICAgICBzdHlsZToge2JvcmRlclJpZ2h0OjAsYm9yZGVyUmFkaXVzOjAsaGVpZ2h0OicxMDAlJ319LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtaGVhZGluZ1wiLCBzdHlsZToge2hlaWdodDo0MH19LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2Zsb2F0OidsZWZ0Jyxmb250U2l6ZToxNCxmb250V2VpZ2h0Oidib2xkJ319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1maWxlLXRleHQtb1wifSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHttYXJnaW5MZWZ0OjV9fSwgXCJUZW1wbGF0ZXNcIilcbiAgICAgICAgICAgICksIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLnRvZ2dsZVRlbXBsYXRlRWRpdE1lbnUsIFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0J319LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1wbHVzXCJ9KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge21hcmdpbkxlZnQ6NX19LCBcIkNyZWF0ZSBUZW1wbGF0ZVwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS51bCh7Y2xhc3NOYW1lOiBcImxpc3QtZ3JvdXBcIiwgXG4gICAgICAgICAgICAgIHN0eWxlOiB7dGV4dEFsaWduOidsZWZ0JywgYm9yZGVyQm90dG9tOicxcHggc29saWQgI2RkZCd9fSwgXG4gICAgICAgICAgICB0ZW1wbGF0ZXNcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIH1cbn0pO1xuXG52YXIgVGVtcGxhdGVMaXN0SXRlbSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1RlbXBsYXRlTGlzdEl0ZW0nLFxuICB0b2dnbGVUZW1wbGF0ZUVkaXRNZW51OiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnRlbXBsYXRlKVxuICAgIHRoaXMucHJvcHMudG9nZ2xlVGVtcGxhdGVFZGl0TWVudSh0aGlzLnByb3BzLnRlbXBsYXRlKVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KG51bGwsIFxuICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgb25DbGljazogdGhpcy50b2dnbGVUZW1wbGF0ZUVkaXRNZW51LCBcbiAgICAgICAgICAgY2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbVwifSwgXG4gICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgdGhpcy5wcm9wcy50ZW1wbGF0ZS5uYW1lXG4gICAgICAgICAgICksIFxuICAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgXCJTdWJqZWN0OlwiLCBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInRleHQgdGV4dC1tdXRlZFwifSwgXG4gICAgICAgICAgICAgXCIgXCIgKyB0aGlzLnByb3BzLnRlbXBsYXRlLnN1YmplY3RcbiAgICAgICAgICAgKSlcbiAgICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICAvLyBVc2VyUHJvc3BlY3RcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyB9XG4gIH0sXG5cbiAgY2xpY2tDaGVjazogZnVuY3Rpb24oKSB7XG4gICAgZG9tTm9kZSA9IHRoaXMuZ2V0RE9NTm9kZSgpXG4gICAgaXNDaGVja2VkID0gJCgkKGRvbU5vZGUpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpWzBdKS5wcm9wKCdjaGVja2VkJylcbiAgICAvL2NvbnNvbGUubG9nKGlzQ2hlY2tlZClcbiAgICB0aGlzLnNldFN0YXRlKHtjaGVja2VkOiBpc0NoZWNrZWR9KVxuICAgIHRoaXMucHJvcHMuY2hlY2tib3hBY3Rpb24oaXNDaGVja2VkLCB0aGlzLnByb3BzLnByb3NwZWN0Lm9iamVjdElkKVxuICB9LFxuXG4gIHJvd0NsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAkKCQodGhpcy5nZXRET01Ob2RlKCkpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpWzBdKS5jbGljaygpXG4gIH0sXG5cbiAga2V5Ym9hcmRDbGljazogZnVuY3Rpb24oKSB7XG4gICAgJCgkKCcua2V5U2VsZWN0JykuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylbMF0pLmNsaWNrKClcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7IH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBrZXlib2FyZFNlbGVjdGVkID0ge2JvcmRlckxlZnQ6JzdweCBzb2xpZCByZ2JhKDAsMCwwLDApJ31cbiAgICB0aGlzc3NzID0gdGhpc1xuICAgIGlmKHRoaXMucHJvcHMua2V5Ym9hcmRTZWxlY3RlZCkge1xuICAgICAgLy8gQWRqdXN0IFNjcm9sbCBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHByb3NwZWN0IGlzXG4gICAgICBrZXlib2FyZFNlbGVjdGVkID0ge2JvcmRlckxlZnQ6JzdweCBzb2xpZCAjMDA5NmZmICFpbXBvcnRhbnQnfVxuICAgICAgTW91c2V0cmFwLnVuYmluZCgneCcpXG4gICAgICBNb3VzZXRyYXAuYmluZCgneCcsIGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgdGhpc3Nzcy5rZXlib2FyZENsaWNrKClcbiAgICAgICAgaWYodGhpc3Nzcy5zdGF0ZS5jaGVja2VkKVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwibG1hb1wiKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvc3BlY3QgPSB0aGlzLnByb3BzLnByb3NwZWN0XG5cbiAgICBpZih0aGlzLnByb3BzLm1hc3RlckNoZWNrYm94Q2hlY2tlZCAmJiB0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgICBjaGVja2VkID0gdHJ1ZVxuICAgIGVsc2UgaWYodGhpcy5wcm9wcy5hbHJlYWR5Q2hlY2tlZClcbiAgICAgIGNoZWNrZWQgPSB0cnVlXG4gICAgZWxzZSBpZih0aGlzLnN0YXRlLmNoZWNrZWQpXG4gICAgICBjaGVja2VkID0gdHJ1ZVxuICAgIGVsc2UgaWYodGhpcy5wcm9wcy5tYXN0ZXJDaGVja2JveENoZWNrZWQgfHwgdGhpcy5zdGF0ZS5jaGVja2VkKVxuICAgICAgY2hlY2tlZCA9IHRydWVcbiAgICBlbHNlXG4gICAgICBjaGVja2VkID0gZmFsc2VcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5zdGF0ZS5jaGVja2VkKVxuICAgIC8vY29uc29sZS5sb2coY2hlY2tlZClcbiAgICAvL3twcm9zcGVjdC5lbXBsb3llZUNvdW50UmFuZ2UubmFtZSArIFwiIGVtcGxveWVlc1wiIH1cbiAgICBcbiAgICBjb2xvciA9IHt9XG4gICAgaWYodGhpcy5zdGF0ZS5jaGVja2VkIHx8IHRoaXMucHJvcHMuYWxyZWFkeUNoZWNrZWQpXG4gICAgICBjb2xvciA9IHtiYWNrZ3JvdW5kQ29sb3I6ICcjZWVmOGZmJ31cbiAgICAgIFxuICAgIHJvd0NsID0gKHRoaXMucHJvcHMua2V5Ym9hcmRTZWxlY3RlZCkgPyBcInByb3NwZWN0cy10ciBrZXlTZWxlY3RcIiA6IFwicHJvc3BlY3RzLXRyXCJcbiAgICB3ZWJzaXRlQnRuID0gKHByb3NwZWN0LndlYnNpdGVVcmwpID8gIFJlYWN0LkRPTS5hKHtocmVmOiBcImh0dHA6Ly9cIitwcm9zcGVjdC53ZWJzaXRlVXJsLnJlcGxhY2UoJ2h0dHA6Ly8nLCcnKX0sIFwiIFwiLCBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWdsb2JlXCJ9KSwgXCIgXCIpIDogXCJcIlxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00udHIoe2NsYXNzTmFtZTogcm93Q2wsIFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucm93Q2xpY2ssIFxuICAgICAgICAgIHN0eWxlOiBrZXlib2FyZFNlbGVjdGVkfSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCIsIFxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuY2xpY2tDaGVjaywgXG4gICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkfSlcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvciwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmaXhlZC1kYXRhLWNvbHVtblwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJ319LCBwcm9zcGVjdC5uYW1lKSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7Zm9udFdlaWdodDonNDAwJyxtYXJnaW46JzBweCd9fSwgXG4gICAgICAgICAgICAgIChwcm9zcGVjdC5wb3MpID8gcHJvc3BlY3QucG9zLnRyaW0oKSA6IFwiXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvciwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmaXhlZC1kYXRhLWNvbHVtblwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7c3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJ319LCBcbiAgICAgICAgICAgICAgcHJvc3BlY3QuY29tcGFueV9uYW1lXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtmb250V2VpZ2h0Oic0MDAnLG1hcmdpbjonMHB4J319LCBcbiAgICAgICAgICAgICAgKHByb3NwZWN0LmVtcGxveWVlQ291bnRSYW5nZSkgPyBwcm9zcGVjdC5lbXBsb3llZUNvdW50UmFuZ2UubmFtZSArIFwiIGVtcGxveWVlc1wiIDogXCJcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogY29sb3J9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46JzBweCd9fSwgcHJvc3BlY3QuY2l0eSkpLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvcn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwibWFpbHRvOlwiK3Byb3NwZWN0LmVtYWlsLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7bWFyZ2luOicwcHgnfX0sIFxuICAgICAgICAgICAgKHByb3NwZWN0LmVtYWlsKSA/IHByb3NwZWN0LmVtYWlsLnRvTG93ZXJDYXNlKCkgOiBcIlwiXG4gICAgICAgICAgKSksIFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IGNvbG9yfSwgdGhpcy5wcm9wcy5saSwgXCLCoFwiLCB0aGlzLnByb3BzLmxpbmspLCBcbiAgICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiBjb2xvcn0sIFxuICAgICAgICAgICAgd2Vic2l0ZUJ0blxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG4gIH0sXG5cbiAgZGVsZXRlUHJvc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGVsZXRlUHJvc3BlY3QodGhpcy5wcm9wcy5wcm9zcGVjdC5vYmplY3RJZCwgJ1Byb3NwZWN0JylcbiAgfVxufSk7XG5cbiIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICBjaGVja2JveEFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgIGNoZWNrYm94VmFsID0gJChlLnRhcmdldCkuaXMoJzpjaGVja2VkJylcbiAgICB0aGlzLnByb3BzLm1hc3RlckNoZWNrYm94Q2hhbmdlZChjaGVja2JveFZhbClcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICAgICBSZWFjdC5ET00udHIobnVsbCwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBSZWFjdC5ET00uaW5wdXQoe3R5cGU6IFwiY2hlY2tib3hcIiwgb25DaGFuZ2U6IHRoaXMuY2hlY2tib3hBY3Rpb259KSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJOYW1lXCIpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiQ29tcGFueVwiKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDonMTcwcHgnfX0sIFwiQ2l0eVwiKSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aChudWxsLCBcIkVtYWlsXCIpLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiwqBcIiksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCLCoFwiKVxuICAgICAgICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbi8vU2lkZU1lbnVMaXN0T3B0aW9uXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ2V4cG9ydHMnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7Y291bnQ6ICd+J31cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgLy8gbWFrZSBhamF4IHJlcXVlc3QgdG8gZ2V0IGVhY2ggcmVxdWVzdHMgXG4gICAgLypcbiAgICBsaXN0ID0ge1xuICAgICAgJ19fdHlwZScgICAgOiAnUG9pbnRlcicsXG4gICAgICAnb2JqZWN0SWQnICA6IHRoaXMucHJvcHMubGlzdC5vYmplY3RJZCxcbiAgICAgICdjbGFzc05hbWUnIDogJ1Byb3NwZWN0TGlzdCcsIFxuICAgIH1cblxuICAgIHBhcnNlX2hlYWRlcnMgPSB7XG4gICAgICAnWC1QYXJzZS1BcHBsaWNhdGlvbi1JZCcgIDogJ044NVFPa3RlRUVRa3VaVkpLQXZ0OE1WZXMwc2pHNnFOcEVHcVFGVkonLCBcbiAgICAgICdYLVBhcnNlLVJFU1QtQVBJLUtleScgICAgOiAnVk42RXdWeUJad08xdXBoc0JQc2F1OHQ3SlFScDAwVU0zS1lzaWlRYicsXG4gICAgfVxuXG4gICAgdGhpc3MgPSB0aGlzO1xuXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmxpc3QubmFtZSlcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1Byb3NwZWN0cycsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgaGVhZGVyczpwYXJzZV9oZWFkZXJzLFxuICAgICAgZGF0YTogJ3doZXJlPXtcImxpc3RzXCI6JytKU09OLnN0cmluZ2lmeShsaXN0KSsnfSZjb3VudD0xJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB0aGlzcy5zZXRTdGF0ZSh7Y291bnQ6IHJlcy5jb3VudH0pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSlcbiAgICAqL1xuICB9LFxuXG4gIGNoYW5nZUxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuY2hhbmdlTGlzdCh0aGlzLnByb3BzLmxpc3QubmFtZSwgdGhpcy5wcm9wcy5saXN0Lm9iamVjdElkKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgbGlzdE5hbWUgPSB0aGlzLnByb3BzLmxpc3QubmFtZVxuICAgIHByb3BzQ291bnQgPSB0aGlzLnByb3BzLmNvdW50XG4gICAgY291bnQgPSAodHlwZW9mKHByb3BzQ291bnQpPT0gXCJ1bmRlZmluZWRcIikgPyB0aGlzLnN0YXRlLmNvdW50IDogcHJvcHNDb3VudFxuXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmljb25UeXBlKVxuICAgIGljb24gPSBcIlwiXG4gICAgaWYodGhpcy5wcm9wcy5pY29uVHlwZSA9PSBcImFyY2hpdmVcIil7XG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1hcmNoaXZlXCJ9KVxuICAgIH0gZWxzZSBpZih0aGlzLnByb3BzLmljb25UeXBlID09IFwidXNlcnNcIil7XG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS11c2VyXCJ9KVxuICAgIH1cblxuXG4gICAgY291bnRTdHlsZSA9ICh0aGlzLnByb3BzLmhpZGVDb3VudCkgPyB7J2Rpc3BsYXknOidub25lJ30gOiB7YmFja2dyb3VuZENvbG9yOicjOTk5JyxmbG9hdDoncmlnaHQnLG1hcmdpblRvcDonMXB4J31cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmJ1dHRvbih7dHlwZTogXCJidXR0b25cIiwgXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2hhbmdlTGlzdCwgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LW5hbWVzIGJ0biBidG4tZGVmYXVsdFwifSwgXG4gICAgICAgICAgICAgIGljb24sIFxuICAgICAgICAgICAgICBcIsKgXCIsIFxuICAgICAgICAgICAgICBsaXN0TmFtZSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtzdHlsZTogY291bnRTdHlsZSwgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJhZGdlIGJhZGdlLWRlZmF1bHRcIn0sIHRoaXMucHJvcHMubGlzdC5jb3VudClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XCIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzgzNTNhM2ZjMDU3MjRjYmU0NWU4YzIzYjM0N2EzOWU3XzA5OTRkNDU4ZmFmZjFkMGI3MWYwZjhlNTM0Mjk5MzM1YTU3NjViYTRhNjcyZWQ4MTc2Njk3MjlmNmEwYTFlOWRcIixcIjFcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvMTA3ZmMyNjkxYmI4YjMzMzNiYTc4YTE4NjAwZmE1NjFfOWE4MzJiMmUyN2MyYWE4Y2U2ZWQxMmM2MmZiNjY1OTM5ZTRkZTM4ZjMwZWM5YmViZDkyZjgxM2VhNjc3ZjhjM1wiLFwiMlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC80NDMyYTVkZjk4YzVlYWQzMmNhM2VjODk4ZTE3NWM5MF9mOTNlZjBhN2RkYmE5YWM5NjBjNmExNTk0MWE2OWExMjRhNWQ1OTYxZmRlMzQ0NTVjYjdjZWU2Yzk3ZjcxMmJhXCIsXCIzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyOTU4MGI3MTY2MDZhNGViMjE0MmIxZWFhY2ExMGU3XzIzOThkNTA1MGUxOTFkMTVmZjVjZjllYjY4Y2M2ODM2OTBjMDZkMzk0OTM0NWRiZjc5MDM5NDQzN2E0NjVjMDhcIixcIjRcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvNDk5ZDhhODYzZDc4NzJkNmUyMzk1MTIxMjRhZjlkZGNfNzcxMTgyZGM3YjZjMDgwMWRlNmU1NzFkZWVkODliNDM3YWIxMjIzNzJiNTQ3ZTFmN2Q4ZGFjYWU5Y2IxNzI3NVwiLFwiNVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9hOWU5N2E2NDQ1YThhYzE4NzU2MTMxMGIxNmI0YmJkOF85NmNlOTI4OWZkOGU2ZjJhNmJmMjYyYjRiYWY1NDgzNjdhZDdmNTNhYWM5YTllYzExNTcwMjA0NjVkZTA3ZTY3XCIsXCI2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzM1YWY1MDhkYWE0YTU4MDgwNjk2MTIzNmJmYjc0M2ExXzFhNGFmZTI2NTZmOGQ5NWUzNzE3NzUxZjk2YTBjNmNlNmM1YjFkMjU5MjBmNGQ0NWU1Y2ZlOWJiYTA1ZGUwYzhcIixcIjdcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYTEwMDM1MDNlZjVlMjI1NGU2Njk0ZWViYmQyYjQ0OTlfYThjZDJjYWVmZTY5MTQ3NmUzZjAyMzUxMzY5ZGMyYzA3YzFhM2Q2Y2UwZjg3YjE4N2Y1OGZkZjRiMjAyOTJjNVwiLFwiOFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC8wMWRjYjUyNzhmNTUyMjViN2U5YzBjZmY2YWEzZDZlNl9iNDBmOTJiOWM1ZWYzYjhjODFkNDc4YmI3MGI3YTA5NGYwNzZlZDU5YjdkMzZkN2E2NDAxZjBmZDlkOTVlYWNmXCIsXCI5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzYxZDc5ZTNjMjUxMDUwOTlmNzM2NjhjNjI1ZWEzNjFjXzFkN2MxMjU1OTY4MjU4YzAzZDA1NjRlMTQxMjg0YjRiZGRiZDJkYjUyMDkxY2Y4ZDc1Y2IzODRiMjM5NDkzOTBcIixcIjEwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NhODA4NDUwYTYyMjJjOWIwOWQ1Yjg2OTI0YTA4ZmJiX2Y5MGUwMmMxZTk4MWU1ZjZjYWY4YWY3NmZlZmVmNzY1M2QwYTQ1MWRhNTFiYTVhMjJhYzBmMjY1ODc0YmM2Y2JcIixcIjExXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk3ZGU5M2E5OWI4YTkxNTlkZWRlMmI5ZmYxN2M3ODg3XzNlOTBkZjhlNzg5NGMwYzEyOTYzYWJmMmZhZGIyMDVlNDQzNjVmNThiNTM3ZjE1YjY3N2E0YTdlOWM1NTdiY2RcIixcIjEyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzliZjg0MDRkNjczYzlkNjE3OGYyMzU0OGNhYTRjOWE0XzQ2NjA2ZGJhOWRmNGQxMGNmMjgyZmE3YWRkMjNlOGE4N2I3Zjk3NmQwZTNhMTUzZmFkMGZmMTgxZTFiZTRlMTdcIixcIjEzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzdmM2E0NzU0YTYzNGZjMWUzOTA5MGM1ZGQ2YzQ2ODA4XzQyZDMyOTRiMzRjNGFjOWM2Zjk5ZjY2YmMzYWQ5YTE5NWQyMGU5OGIwOWM3NTc5ZmUzNDFkMGNmNDJmOWM5M2ZcIixcIjE0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I0YmViYmZiZmJlNDdlNTBmNDM1YjRjMmVmZTBkYjBmXzE4MWEzMTE5ZjEyZmQwM2I2YmI1MTczNTJjNjM2NTA4NDk3YmVjNjFmOTA3OGIwZTI4MTUxNWVmZDE5MmIzNDVcIixcIjE1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VjMWY2MTkwZTJiOWE4MGEzZjdjZjEwMTY0OWNjYzYzXzAwMjYwMTdmNDM4MDU4NWEyZTU0MGYwNTkzNmE2ZjU4ZmU3MjVmZTdlOGUwMzc4YWFlOTgwMzk2MjhjNGJkZjJcIixcIjE2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzlkZDkyMWY0MWZhOGQ0YWIyOWJjYzFjNDUzNDhiNWEyXzE1OGRmOGEyMmMxZjE1NzBlOGEyYzE3YWI1ZTMwMTY5MjQ4MDMwNTkzNjY1ZmJkODc5MmY1ZjJmMDE1MTYyOTBcIixcIjE3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I5Nzg2YzliNTZjOTRjYWExM2U3NGQ1OWI5YTlkYTQ4XzFmMTk1ZmJjZGY5NWMwZDI2MThkNTcxZTAxOTJmZjFiZTJlNDkyMWQ4OGFlZDhiN2I5ZmQ5ZTE0NDQ3NDkyNzFcIixcIjE4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FhODU3N2Y4Nzg4NThmMzE4ODU4YWNlZDVhYmQwMzdmX2NiOTI2YTA3ZDBlNDY4NjYwZTM1NjkyNzljYzEzNTRhYTcyNDNjZGM5NTFmOTcwMzI1MjczOTkzYzg5ZTllZTdcIixcIjE5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2MxMWIzMjJkOGE4MDA3MDM3ZWUzZTMyNDJiMjYwOTMwXzJhNjNjMTNiMzE1YTM4YjA2OWYzOGRhNjU3YjE4OWFhZDZjN2FmNTk0MWExOTg1OTExMWRmYjNjNzBjOTRiNDFcIixcIjIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE5YjZjMzk4OWE4MDhiZTg0NTcxOGQ4YWYyNDM1MmZmX2E4ZTcyYWJiMmI1NzcyNzA2YWMxYzc5ZTVjYmFmNTliM2MyZjIwZWZiMGFjYTliOTNkMDRhZThhMjQ5MjA5NjdcIixcIjIxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Y0MTIwOTcwYTY4NmE1NmI0NzU5NTg1ODA4MTc3Y2M3XzhlMTc1ZTQ5NWIxZGU5MjJjY2Q5YTkyYTVkZTk3Yjk1NDMzNDQ0YWNhNDIyYjNlNjMyYzJlYTRlZDQ4ZDNiYzlcIixcIjIyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FlZTdlNDBiMmRkNGM0Yzk5NjEzMjNkOTgyNDljODI2X2MxYzM4N2M3MTRlODlkNWRmY2NmMDZkM2ZlMGZlZDMzMjk5MmVmZjg3N2NkYmQ2MGJjNGU5NGU3YTJlZDM4ZmZcIixcIjIzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY2ZDE4YmFmZmY0ZjliOGQwNzdjMTA3YmI3M2IyOTEyX2Y4MDU1Mjg5ZWFlNThmYWQwMGNjMGY2NzI3YjJiNWNmMGY3MmI4Mzc5NjMzNTFiN2NhNjI1MGJhNGUyNjMyYTFcIixcIjI0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzJkYTg1NDZjM2I2YTk5YjE5MTI0OWFlNjkyMDdlMzFhX2RiODY2ODEzMzFkMGQyYjk4NTBlNTU5NmNlNzcxMWFjMzg2ZjRlMTQ2OWM1MjY5MzQyNjc5NzhhZjM0OTgzMzhcIixcIjI1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU2MTdmNzc4N2NkZjAxNzZlNTRjNGYxM2U5Y2NjNTRlX2RhN2NjMTY5ZjQ2NTg1ZGU3MmFjZjVmNzA1Y2QzNGE1MmM2ODhhNDBkYzhhYTcyZWE3MjBkNTU2YTcwMjJmNzJcIixcIjI2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Y3ZTI3MTJhYThjZmFiODhjNTVkMWY2Yzc4ZWYyZTQ1XzVjODk1Y2EwNmY0MGUzMDM2OWUwN2IxOWM2NGI3YmYxZmU1YmUwOTc3ZTViYmZjMGMyMjEyYjczZWE2ZTY1MTJcIixcIjI3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI5YWI3MmMyYjk3YjI1YzRlM2UxYzI4MGUzMjY0ZjgwXzA2OWI5NGNhYWQzYjE0ZTJiYjNiMjAxMmE1MWQ5NGVkOGU0NzZmMGEzZDlhMzY4YWFjMzZkYjlkNzE2YTEyYWZcIixcIjI4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VlMTdhN2Q5MGM4MDY1YTNhYmNkMGE2NzIwYjUyZTY2XzNiOTkzOGMyNjkzZTE0MmJhMzcwNjVkZTI0ZGFiZWM1NTZhMTkyYWRkNGI4NGI0ZjI5Nzg1Y2VhM2I3NDg1M2ZcIixcIjI5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE2ZjYxZWJmMTgxMGFjMzMzZjdjOTM2Y2U3MTFiMjhhXzM1ZDQzZjNkMWM3NjJiMjFkNjI5NjM0YjQ1ODRkMGNkOTVhZWNkZmQ5YTMwODdmMjRhOWViNzI5ZDEzNGI3NjlcIixcIjMwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2UzMThjY2M1MTIxY2ZlYjNiOTljMjFkMDU1ZTZlY2U5X2VkYzYwNmQ0YmNkM2Q3NmY4ZTQ1ZGE5NmQ5ZGJkNjUxYmYwYzA2N2E3Y2ExNTllMTA3M2UzYjQ0YjAzNTMwYzlcIixcIjMxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RmOWM5MGYyYjkzYTllNDg4ZDk0ZmU1MjcyNWJkNzk4XzNiMGUzMzk2ZDlkZWE4NjY5NjBkOGNlNmY2N2FmMTBjODgwOWYxNTRiNjgzMWZjMjc4YjhlZDM0MzkwYTlmMjdcIixcIjMyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlZWUzNTdkMTIxYzgxNGE5N2I2MzYyYzRlNTU1MjZhX2NiZmY0YWM0MzljMjA1NDgxM2RlYThkYThiOGYxZWMzYjVlMGM2NDRhY2YwZGMyYWU2MjU3NDFlOTdmMGJlYTBcIixcIjMzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU2MGFlZDFiZWU4ZTIyMGYwOTgwMTkwZGVkYjdhZGQ2XzlhZDJkZTdjNmViZmRkNzI0ZjJhMTdjODVlZmQ1MTkyZjgzOTNhNDc3ZGRkZjBhMGM4YzkyNjBlMTdkNWE1MTVcIixcIjM0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzg1MGYxMjQyZGRkNjUzOWFkOGIyN2Y2OTkwOGM3ZjllXzA4ZmZlY2QyYjZkMTg0ZTdkNzBhYjcwYWJiYmJhYmU3MTMyMjY5MjUwYzkzZGJiZGNiYTdmMjJlODZmMDY5MmVcIixcIjM1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA3NWMwNmM0ODFlZWE0MjlmNmNjODE2Njk3ZmNiYmY4X2M1NWI5OWJlMDUwYmRjYjFmMzJjOTU3OGNiOGUxN2Y2ZjRkNmYyMDBjMWYzN2Y1MjhjMjRmZWU2NWEyNjE4MmFcIixcIjM2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzAyOGIzMTEwYWE2MDU1NGU3NDM0ZjFhMjQ3MzIyOWNmX2QxNWUxYzdmMDBjODI3NTVlMTQ0NzczZDQ2YmI0ZTBlOTY0ZmNmYTQyNWEyNTRjYTA1YWMxMzEzZmNlYTNiYWVcIixcIjM3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2MzNzE5Zjg1ZDI0YmFmZWY2NGVhZGE2NGU3MzVjYTczXzAyNTg4MGM1MWZmNDJiZDNmZjc5YmEzNWQ0NTZkOGNiMTRiNmZiYzdlZTE3YmEzYjk4NjEyZTcxYWExZDc0YjlcIixcIjM4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyMzU2YWI2YWU0NDY3YzQ0YTA3NGE0MTM0YmFkOTM3X2E5OTA5YzM3ZTZlMjNiNDM0M2NlMTk1ODJjOTExOGNmYjM3NDhiODk3N2YxZGI4MjMwYWE5OTJkNjQwZjEyMTdcIixcIjM5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIxMzJlNWEyZmNkODlhNTRlN2M0MmM1ZmEwYjhlZjc3X2ZmMGRjNDY1MTFiMTUwYTRiMGFmOWNkZjg2NmFmMmUwNmNlODk4ZDcxMTliN2FiMjEzNTBlMGIzMzA0ZDgwNjVcIixcIjQwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQ1YWFhNzNiNjkzYWVlYzQxNGIzNGZkNDQyNjJlZjhmXzUxYzIyNTMyYWJlMGI2MTVmMGU2ZTNjMGU5MWNiMWE5YmNhNDFhNmY2YzBlYzZmMzNjMzY5M2QxMjhmZDE3NTVcIixcIjQxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU3YmMyZDFhMmFiNjkyZTM4Mjg0ZjM1NTBmNThiMzgxXzAzYmQ0NDExNzIwMDFlM2MyZTUwODRmMzM5MGVlMGNhMDMyN2I1MDJiMGMxZGM3OTRjOGM4YWMyYjNkMjEzMGVcIixcIjQyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQ3NDVhZDA3ODA3Y2NhZDk3ZTA3MjZmYzdiYTE4MTcwXzQ4OTExYTcyNzQ3NGMwMzk4YzNmYzcwMTg4MGQ2MjNmYWVkYzU5MmYxNjY3NzMxMGY4ZTgxMTFhMjVlMmJlMzdcIixcIjQzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NkMTU5NGM2MmEzMWM4MzFkMTI0ZTI4NmI2OTA5NzAwXzBjZDlkMDYwMzkyYzVmNWQ1NzVmMjlhODkzMGM1NWM2OWE1NDUwMWMxZDc2MzY5Mjk2ODJjMzhlNGUwNjlkNWVcIixcIjQ0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmM2RiNzcxMjMxM2EzYmNmZTVmZjRhOTliNjdmY2RmX2E2NmJlYzBhNDMxNzk1MzFiY2U4MDIwYWFhZGUzZDg1OTY3YjdjOWRmNTRhYjJiZGY0MWYxMmY2Y2Q2MGQzZWZcIixcIjQ1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI2NDNlMDA4NzUyZGJmZmQxN2NkN2U0Y2VhMzBiYjA4Xzg2N2ZkOWI3NmM1MzQyYjkxNGJkOWIyODU3NTZhYzEwY2YwNGUxYjNhZDhjYjY1MjRhMmM5NmQ3YWI3NWMwN2FcIixcIjQ2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Q4OWZkMjk1OWY5ZWZkY2Y3MDc3ODgwMTI1M2E0OTIwXzk3YTkwNjY4NGY4NDNlOGVhM2YzMjM3Nzk3YWRjNjAxYzRkMjBkZmNjNzllN2I2ZTc1NjYzMDIwNjMxMmZlODlcIixcIjQ3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2QwYjc5MjI4MjFjNzNiYjM0MzU3YjlhN2JiZjIyNjdjX2Q2M2E0ZTQ2NTU2NjUyNjhlYTkyZGEwODA2M2M5NWYzMDk2NDZmOTY5ODEyNWIzMThiMDYyMTQ4N2I5MDZjYTRcIixcIjQ4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2I3NmY4ZGE5NTM4ZWVhOWViNGQ4OTc2NTZmNGFlZDhiX2Y0OWZmYjk3NTEzNDkzZDA1NmY0MmZlMzE2NjUwZjFmYjUwN2ZjMWViZTdhMDRhZDg0NTRmZDJiNThjNTBlYTdcIixcIjQ5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE5MDI4NWM2NTNmZTFkMThkYjMyNTdlZWFmNGJlNDNiXzYwYWFjNTYxNWI4YzA5ZmYzY2ZjODQwZWFmYmIwMjA4YThkYzQ4MjRkOTQyZGYxMDYzN2VkMWRjNDMxOTg4OTZcIixcIjUwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2JkZWUxMTQ0OTA5NzY4NTQ0ZmIyMTY1ZDVlMDUzZTY1XzAxZWViMGI2OGZiZTAzOGIzM2JkMGQ5NTJjZTYwNTkwYjJmZjUyYzMyZGEzMmJjZWVlNTE4NjUyYTg5ZTgxNDBcIixcIjUxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY3ZjM4MTZmZmFlM2Y3MmJlNDJhNzg1MzYwN2ZmNTQ1XzliNzdmN2VlOWVkMzk5ZmU3NzY2NGEwYzZjZGVkMzA5YTE0MTg3ZWQzMjViN2RhY2U5Yjc0ZjU4ZDM4NGZhNzBcIixcIjUyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQzMTRiNjU5MWNjZWNhYTNlYjI2NWU0ZTg5MDAyMWY1XzEzNWY0MmFjNTI1YzcxNjBjNjY4MGQ5OWQwODQ2M2NjYTRmNGY4NmI0YTBhMTEyNTJiMjZjNTdmN2Y2NTUyZTJcIixcIjUzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RjMjQ5OGEyMjEwZjVjOGRmYzkzODkwOTY3MGJhNjhmX2JiNGVkYjMyNGFlYjc2ZjQ4MDlkMmYyZmZlZjAzNjgxNTQ5NzQwMGZkMjc2ZjgzNmQ5MjNlN2UwOTk5YzM1NTJcIixcIjU0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzhlYTJmOGFlY2I2NWJjYzNjZWM2OTFiZTA2MTgyMmE2X2M5ZThjYzRmZjY3MGRlZjI2YTIwMTRiNDY1OGY1NjFiYjM5YWY3NTU3MjdhYjMxYTA0YjY2YzcwM2ZhYTZiZmNcIixcIjU1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2NjNjIyMDUwOGQ2YjUwOTkzZThjYjQ5ZTZjMDcyYTNhXzI2NmQ1N2Q0MDgyODU5NWRjZjk5NjQwNzY5NTUyNDJjYmM2ZDljZGM3OGJiYzMyM2JhMzlmMDg4M2MwNWZkYThcIixcIjU2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZkMjAwZWUzOWY0MDk2ZjQ5YjUyM2Q5OGQ4NTM2YjAzXzBlMGQxOTI3ZjY1OGIxNGZmMzVhMjRjOWQ4ZmM2OTMxOTBjOWY3MzlhNmQxNGIzNjM4YTY5ZTkwMWIxYTQ5NGNcIixcIjU3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RlYWYwZDRkNDQzMWQ2YmIyZGNjNmJkYTEyNTc1ZGM4Xzc4NmJlN2U4ZTM1NzMxNzBlMTQyZDFjMzk3NGYxOGQ2ZDY5ZDRjNGRkM2NhMDY1OTM0NjdmMmY1M2Y4MzE4OTVcIixcIjU4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ViZjMzOWIyOTYzOTM1NWMwMWE3ZTFkMGM5MDU1YmEzXzBjMmM2MzU0YWY1OGM3MWVlZTE3OWY3NzJiOGY5Yzk1NTYxMTFjMDQyZWRkZWM0ODg2NDIyMDVmY2U5MDFmNmFcIixcIjU5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FkZjc1OGE4ZGMwMzIyMzlkMDVjMmJmMzBhNGEwZWRmXzFkZTY5NTI3NWFhZjg0YzVkOTYyNDg3MmVmYWNjMjFmMmJiMzVkNzY5MDdjMDMyNzg5ZjBhOGE5MTAwN2E3NTFcIixcIjYwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ZjZmQ3M2I2ZTNlYjVhOWUyNDliMzc5YTZmNTU5ZmM3XzdmMTJmZWVlZmI3NzdjNTJkYTJjMTc1YmZjMzNkZDE5ZGI0MDc0OWIzODhhZjQzNWY0YTY4YzBmMDZiNGY5YWRcIixcIjYxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzNjODJkMDhiY2E3NzAwOTliYjFmY2RiZGEyMTQ4NGVhXzRiMWIxYTMxNTcxNzExNDQwNDQ2MzI3YTM3MzI3Y2Y4NjY4NTMwN2Y3ZGQ1OGFkMjZhNWI1NjRiMzg0ZDU0YzlcIixcIjYyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RhMDg1ZGRmNjFmYWJmYzUyM2E2ZDViYzIyZWEzMDViX2YxOThkYzQ3NjQxM2FlNTI0ZTIzMGViY2Q0MjhmNDY0OTUwOWE2NDc5NGJiMTJkZmRlMGQ4ZmMyZDljZjg3ODJcIixcIjYzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzUxMGM1N2FjODE4ZDA1MzcwMTMyMWQxNmNmZWQ4YjNlXzc0MjEwZDk5YWE2NTk3YjIyN2ZlNTIxYjBjN2UxMjhiNjY1MTBkYTZiMmNmYmQ2N2Y0ZDBkMGY4YmU3YTFjMTJcIixcIjY0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQwMTIyMzM0OTYwYTU5NTQyNTVjY2E4N2QwMWJhNWFlXzFkNmZhN2FiMDdhMTVkZjc5ZTRjNjFjZWM1YTM2OWU2ZTdkY2M3ZTU3ZWJmZDUyZmQ5Mzc2MzBlMDU2ZGJmMzJcIixcIjY1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI4MWJjMDEwZGE2NDYwNDU0NTUzMWNhNDA3NGVkYTJlXzkxYzQ3NzgyZTFlN2UxOWU1OGQzZDVkYTllNDNjMWM1MzUwNWExNDVkZTRhZGNkMjI5MzE3MjFmOTUxZWRjZWRcIixcIjY2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmMDMwNmFjMTVmMmExMTcwN2ZiNjYzN2I2NGFiNWJjX2JiZjc1ZDdhMzFhZmY2Mzg5MTZiMTU0ZDI2M2IyZmExYWY5ZjNmNTNlZjMxMjRlNWQ0NzAyODliMWI0ZGM1YzRcIixcIjY3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk5MTQ3YjQyNmYwMmVhNjNmNTJkN2I5MDk2YmZiYTk1XzJhZjkxODU0ZTg5YTgyMTQ2NjcyMjJlYTg3MWQ5OGViOGMxY2NhZjQ5NjllYzEyOTM1NmJlMGZjZTJlZWNhNTFcIixcIjY4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2VjZWJiMTdlNWNhMjNkYTdmNDIwZmEzNTc0NzJiZjNlXzlkY2M5MmU2OTY2ZDY4OGM5NTZlMWU2YTBhYmY0MjQ5OTY4N2Y5ZTgyYjgyYTI0OTlkNTZiYjkzYTU5YjJiZDhcIixcIjY5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2FhOTY4ZDUxMjgxNTMyMWI1Yzc0YWY0OGYzZDUzYzNkXzc0ZjdiOTJhNjZmNDVmOGUwNTBhNDZmOTRjYjY3NWRiN2ZjMjU3YWNlZmVkN2NlZDZmZTg1YTgyY2FhOTMxMzlcIixcIjcwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI0NTFlZmEzOWNiNmVlNzU3NmI0MWUxNGI5MDc5MjVhX2Y0OGVjOTAzYWIyMjgxMmEzODU3NDM2MjVlOTcyZTc2NzczYmRiZDNlMzIzYzczNjg5ZjI3ZWNjYWE5ZDkwYmNcIixcIjcxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlY2E1YzQ2MDc0ODAxOGZlOTFmOTE5ZDM1ZjFkZTAyXzIxMTZkN2U5YzgzMzAyMWM3ZmI1ODIzN2RiMWU4YWJkM2UzN2EzMmY2NTJlNTQ0OWZlYjk0Y2QyODdjYTYzY2RcIixcIjcyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2QyMzNkNjVkZjJhMjdiNGU2YzE3N2FiMzdmNzI2YzMzX2NlYTdkYmNiNzc3MGE5Nzk4YTQ5ZmNlM2E4ZDU1Njg5YzZiNzlhZDcxMGU4ZjNhYTAxMjFiY2FiZDliMDE3NmJcIixcIjczXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA2MzIxNTk0MzVlNjdiZGQyYTVmZmQ2ODQ3MTM2MWYwX2I3NzExYjk2ZDQ5YmZlMDdiYTRjNmE5NzAwNjE4YzY5NDI1YzY2Nzk5OTIwOWNjYmQ3NTc1OTI1ODA1YjBiNWJcIixcIjc0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFmNmVkZWJkNTU5N2JhZTdkYTYzZTdhZDg2MjE0Y2NkXzBiY2M1ZWUxOGE5NTM5MDQzNTI0ZmRhZDVkOWNiZGI1Mjc1MTQxNDNlNzU1YTFhMDUxNjllMDVlMDZjMzc5NDFcIixcIjc1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzMxODc0YzEyZDlkZjJkZmQ4OWNiNmE0NDZiZGM0MDQyXzYxMTY0NGUwZTZiZDY2ZjI5MjcwYmU5OTlhZjVkNGFlZTM3YTU4OThkOTNkZDQxYzQ2ZGVlMTExZjRlNjNmYTNcIixcIjc2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk1YmFkMzFjODEyN2RlZWY4YWVmN2E4YzBkOTYyODVmXzA1YjU1OGI4NmRiOWVkNjFiZGIxMzRlN2UzMmU1NmRkZWE5NjBkMTgwNjdjNGQ0NGNiN2IyMDdjZWI1OTJlNWJcIixcIjc3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2UxYTIxYjZhNDY1YmE4YzA1YWVjOTdmYTc1NjhlZmI1Xzg4OGFiOGFiNDI0YTMyYTU4YjAwODA4Y2EyZjcxNmI5MDM5OTNhN2QwNzZiNDkyNWM1MjExN2EyNDY3ZmYwNGJcIixcIjc4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2Q4YzI1YjNlZDkxYThmYzkxZjkzYWM1NjM3N2M5ZGNjXzcyYWZkOTZjYjM5ZjVkMDdlYTI4NjM2MWVkYjI2NDYyN2QxZjIzNGU4NzFjZTQ4MzcxZGNhNTdiYzQ0YzdhODJcIixcIjc5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzk1YjE5M2UwZGIwZjg5NjVkZTVjNzBhNWI5NmJiMDcxXzRiNTg3YTM4YTViM2I1ZjJlYjZhZDM3ZDc0NTUzMWU3MjNlZGMwN2UzOGViNmQ0Y2ZlYzNhOTM4NmY2NWIxZThcIixcIjgwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzkwYjNkYTdlNjJiYmQ5OTZiNzIyOTc1YTMyMzBmMGYzX2IzZTg5ZWJlM2EwZjlkMWE2NTA4NzcxZTExMDg2Mjc4ODViNWRmNzkzNzdiMjkxNDEzYTM1Mjg0Y2M1MDZmNWVcIixcIjgxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzMyNDIxNTYzNTNjOTA2NTc3ZTllYTQwZjkyMTM5NzE5Xzc2Y2I2N2JjYjgyMWVmNGE4M2I0Nzk2ODMyYjE1ZDNhYjQ0MDI2Mjc1MzRkZTM2YzNmZjU5MmJhMGUwY2FjYjBcIixcIjgyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2E0YmViNjM0ZmI5NzJlZjljYWVmZWNmNDc1MjdlMzQ1X2ExOGQ2ODUxODgyZDAzZDQzNzBmYTEyYzg2NmZjZDkxY2FhOTA3YjBjZDIyNjNhNzIyMzc4YzM5OWZiNTkyYjVcIixcIjgzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA0NDdjZDI1ZTQ1MTU1NjljM2I2MTNiYzRiZDg4YTA1X2MzNjU2ZGRiYmY1ZGZjODRlNDRjMzYxNmNmYWQ0MTI2N2M4ZDczMGUwMGRiNTkxOGNjYzc3NTczZmFjMDdkNDlcIixcIjg0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFlMDFhNGVjYmViOWNhNDZhNjNiNzQ1YzZhMmU0NjJkXzNlYmJiYWIxNGRmMGUyZGI0M2EyOTQ4YzAyOThhZDY3ZGVkNTMwMjllZmU5YWJhNmJkNDBiM2ZkOTlkNWFhMThcIixcIjg1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzU1OWM1MDJhZWE3YWFiNGExMWUxMjE3NDNjOWQ3YzQzXzY5Y2FjY2ZlZTQ5Zjc0N2U3MmE0NzY4YWQ0Mjc0YzhiNjg3NTg0OGU5YWI3YjJjODUxN2UyMDlkMzZiZGZiMzJcIixcIjg2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2IyN2EzYWZhOTVkODQ5YjczNzVhMzA0NzY5YmQzYmYzX2FjYWRhN2JiY2EyMDgzY2U1NWFiMTE5ZTg4NjY2Y2EwYWUxMGE0YWFjNDQ4YWQ1ZDdmNDVlZGYwMDc3ODk3YTFcIixcIjg3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RlMjRhZTZlNmI1MzFiYWQ1N2MzN2JmZmNhYzE5NTRkXzJjMTVmM2RhMzU5M2M5NTI2MDc4YmI4MGJjN2ZhYTY2ZWMwODFiMWNjYWVhMjMxYjVjMjU5YmRiODI3ZjZmZDhcIixcIjg4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzczNzVhMzA4Yzc2NGU0MDVmOTJhYjlkOTQzOTQyOTQ5XzZiN2IzOTJmNTY5NGFiY2ZiYjcwZGFmNDU4YzIyMzY5ZGIyZjliODkwNTgzZTNlMmQ3MTNiMDQ2Y2Q4NGVjODlcIixcIjg5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2ExZmM4YjRjYjVlODlmMWRjM2VkNzRlYzhiYWZjM2E1XzRkMGVmYzcxNmYzZjJjYjdiZGE2ODllNWRhYTdiYTVkOTU0ZWU1NGE4Zjk0Zjc3NTViMzAzMDQzOTcwYjFkOTlcIixcIjkwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2M0ZjdkMmI2MjhjNjYxZDFiYWFkNmZmMWY0NzIyZGE4XzE0OWUyYjZmM2FkNDg4ZDEwZmNlNjcxNDRjY2VlNmI2NjUxOWQ5ZDdmODQ4MmExZmYwYzlhZTYyN2YxZGRiY2FcIixcIjkxXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzA5NDU5NjQ3ZjM5MjhlNzc3NTI0NDlmNDE4YTg1YzI3XzdhNzA0ZjhjZmFlYTYyYTE5NTNkZmQxZTM0NWViNmUzYWVlMDIxMTQxODlmMTg2ZjAxODFiZmYzYTdlNzdmZTZcIixcIjkyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzY1NWE3ZGI4NjJjY2RmYTE2MmI2ZWEwZGZmYTNlZjFlXzZlYjEzM2U3MDU4NzhlNjQwYTQyN2I2NjQ2NTYxODlmMWVhOTMzMDI4NTEzM2U0YTczYTk0M2EwOTc2MDZkYTZcIixcIjkzXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzQzNGQ4MmI0MzAyNzlkMjZiY2RkOWJkMTNkZGVjNzZmXzVjYmFkN2Q3ZWI2NzQwZGViYzllMmUzYzFiNzE5N2Y4NjFiNzA1ZTZlNzQzNzkzMDdhNWJjOTAwZDc1MjUwZjVcIixcIjk0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzE0MmU2NGIwNTM1YTJiMGMzYmI1MjUzYzBkMjI2NmE5XzZjNzQwM2NkYTZmOGRjNjFlYjlkMmIzMmQzN2Y2MDhjMzRjNjQxMTAxZDZhMmYzNWMwNzM5MDc4OThhN2U0YWVcIixcIjk1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzNmODc5MGYxMTM0ZjA1MTRhZjNkMmJiYzA1MjA5MDYwXzYzNzdlNWRjZGYwZDIzMmYxYWE4MTM5MDIyYjhjOTI4MGY4YjQyOTdmNzBlZmZmM2UwZjdkNTI0MTdjMWViMjNcIixcIjk2XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzIyMGE3MDUyOTBlYjdhZGJjZGYwNTJkZGIyZDExYzk5XzA2Mzc0ZDg1NDZkNWM3NDU2NzFkOTg2ODZmMWI0YjBkZDMxZDc3N2IxYzdiY2RkMGU2ZGZlNjNkMGEyM2U3MTlcIixcIjk3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzUxMjQ5YmI2ZjUwNmU0MmUxN2JmOTI0MWVmODhiNmIyX2MxMjIxMjA1Zjg1NDM5MGRmMWQyMWFhMDVlNWQwZGUyNjRiMWI5NTNjNjU5YTEwYzE4NDc4Y2ZkN2Y3NTVlZmRcIixcIjk4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzI4NGMwMGI1ZmYxMTg5ZDJiZGRmNjdkZjQwOGVkYzRlXzAxYzE5MTdhMjQ0ZmNhZGYwYmZkMzkzM2FmMjFjNjg0ZGQ5MGNhMjc0MTExMjQ4MjEyMDI1MzYxZDg1NWFiMzlcIixcIjk5XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzM3NDgzZmZlMzY3MjVlMDVhZjA5NTRhNWQ5YTU1YTI2X2RhZjBhMmYwZTEwYzk4YzJiNzJiZTljMGRhMjRiMzgzMjJmMGY5NTY3MzNhNDI1NjUzNjVlZTYxNTU2OGJhMDdcIixcIjEwMFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jNmIwMzUzMWZlZDQ0Zjk2YWNlY2FiMjY4MjhmYmUzN18zMDM5M2I2ZmEzMDk2YTc0YmZhNTFjYWQxY2I1OGY3NjYwODQ4MjYzZjAxZjJmN2QyZTEyZGFlM2E1YjFjM2VkXCIsXCIxMDFcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvNWRjOTM0NWVlNjA5MmNhMDA2Zjc3N2I0MmIzNGU4NTNfZGYxM2FkN2M2MTQwN2QxYTAwZTI2MWZjZDVmY2Q5M2MxNmUxYTBjMWJlMTNkMDkwM2Q3NmEyMWE4OWNkMzQ1OVwiLFwiMTAyXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzFkYmVmOTg0MDkzOGQ1ZTMwNTYzYzNmODQ0YjllYmFjXzEyZmUxMGRmNjZhNmVlNDhiZmZlNzI1NzhhNmY0MmQzNDBmZjBiNGY3NWQ0ZmU2NWY2YmVkMmI3NTg0MWU5NzhcIixcIjEwM1wiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jM2FmMjkyYTkxNjMzOWU2YzU3YmEwZDAzNzEyYTQ0NV8yNzNjMzhiZTQyMjI2OWE0NjQ2NmQ0ODQ5NGM1MTNkYWY1M2IzYTY2NDQwYjY0MDFjOTRjMzdmMWU1NTA3MGMyXCIsXCIxMDRcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYjQ0ZGVkMGIwOTAwOTc1MjhhZjJjNGFkNjk0YzJhNDBfM2Y1ZWQ1NmM2NjJkYTg5ZTFlMGYzYWU2MmE2N2Y5ZTE0ZWEyMzg0ZjI5ODUyNzdiMWNkZmE2ZWJmZTFkMThjOVwiLFwiMTA1XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RmOGVhODY5MDZkZTMwN2M1MmNiOWNmM2IyMjI4MDQzXzMxMmJkYmQ5NTM2ZWMzNmU0MmQ4MzI4ZGVmOGFmMWFmY2FhZjNmNzA1OTE3YTYyOGVhNGFkZDAwYmE3N2I4YjVcIixcIjEwNlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC82ODQ2ZjYxZDZiZmNmNzdhZWNkNzIwNmM2YWRiNWJlOV82NGUxNDkyNDdlNTJlODZiNjcxZmRkMmI3MWFjMjc4NTJkNTRhZTZlYjZmNDA1OTQ1OGJkYjExNjFmMzAwZGFjXCIsXCIxMDdcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvZWY0YTE3NjU5MTE0NTNkY2FlOGU0YmRkNWQzMjAzYTFfMzIxY2YzYmM4NzEwYTZhMTk1NzZkZmU5MzY3N2RlZjQ2NjZkYTBiNDc0NDQ4OWMyNmFhNDRmNzVhNzUzMzMzZVwiLFwiMTA4XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2RjMzgxZjllMGI2MTkzZThiZTVkOTQ1OTVlZDFjNGI3X2Q2MTJhZmRlN2JhZjQzYWM1ZGFlYWU5ZTBlZmU0Mjc4MTg2N2JjMzQ1MWUzZTg4MTQyNTNjYmZjNDQxMGJiNGFcIixcIjEwOVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC85NTc5ZDVkZDg1MjNjNDkzZTA1OTBlMzg4MWUyNTA0MV8xMDZjMzliN2U5N2ZkZDU3YWJiOTkyZWM3ZmY3YzBmMGIxNWYwZjgzYTM0OGUzYTM2OThlM2ZjYmRjZGYyODM2XCIsXCIxMTBcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvOTVjZmRhMGNiN2JmYWFjMGZjNzg5Y2YwNWM3ZTUxM2VfYTUwOTA0OWFlYTAyODg2ZWI0MDljNTNhMTVlMDNhNmNmNWViNjU4MzEyMDI2N2JiY2E3NWMyMjA2MDI3YzBiMVwiLFwiMTExXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzZlMDVkYWFhYjlhODFhMmVhNTM0OGI3MDgzM2JkZmI2XzAyM2ViMWU5NDc2ODZhZWY3NzY0YTNjZTRjOTY4M2I0N2QyMjM1YzUxYTAzMWUzNmI5NDdlNDM5OGVmNjkwNmRcIixcIjExMlwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9kMjlkNGZjYjFiMjVhOWQ0MjRhMTI4MDA4NjlhM2I2NV85OTFkNTYzODgwYTMzNDUwNzNlYmI0Y2MzY2Q1Nzc3OGVmNWNmYmMzYWU2MjVjZWZlYzJmZmMzYjY5MGE1YWE1XCIsXCIxMTNcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvOTgzNzY0Y2I1MDc1ZWVkYmQ5NmVjMDM0ZGYxMzc0YTFfYTk0ZjVhMWYwYzliNDViOTA4MjA0NGViZTcyNzc0YjAzMTNhNThlNWEyZjU4ZDAwYTYzODI3YWQ3ZDQ4YmI2MlwiLFwiMTE0XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzlhYmFmZWQ3YTkxOWZlNTQwNDZhYmU0NThhNmIzMTQwXzQwMDNjNTIyNjA4M2I3YmViN2I1OTAxYzc5MDI3ZTM4MzNiZTBhZWM3OGRhOWFhM2ZjMDVmMDI5M2Y1YmI0M2VcIixcIjExNVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC80MjY4YTIzMWUzNGM3OGE4MDdiZDUxYzdkNWUxMDY0ZV9hOTA0OWNmZDljYmJiMjUwNDc0YzEzNjQ3MTBkY2QyNzZlMTg5NjI5N2IyZGVlMzdiNmZmYWQ5NmE4ODJiZGE5XCIsXCIxMTZcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvYjgwYmU1NGJmMGZiYjQzZWJkOGEyMGRjYTRkOGY2ZjBfNTQ0ZDVhMzRlMWQ5NTllNGU3Nzk0YzU4NTAzYjM0NzhkZTMzZWI0ZWYyMWU4Yjc0ODM5Yjk1MGFkZGE3ZGVkZFwiLFwiMTE3XCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcLzRjZTI4MzcxZGU2NWEyMmEyNDFkZWUyODEyOGRkYTRkXzBkYWVjNmRmZmU2YmQ3MjZmMzAzMWQ1MWEzOTcyOGM0Zjg4ZjQ4NDgyZWJiYWU2YzA1Zjc1OGNhMjRkZDA4OTBcIixcIjExOFwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jNTUyODRiODA5OGNiYWE5YTFkYjA4Y2JkZjQ2YmFlOF82YmFhN2FjZWZiMDM4YWNiYjJmZWRiZmRjZTU1Njc2NmM0ODM0OWM1ZDEzMzc0MzQ3YTI2YmQ4M2UyYWNmMjgzXCIsXCIxMTlcIjpcImh0dHBzOlxcL1xcL2Qyb2pweHh0dTYzd3psLmNsb3VkZnJvbnQubmV0XFwvc3RhdGljXFwvZGQ3N2NmNDJmNjkwZTgwOGJiOWQ4MTMxYjdjZWM0OGJfMGIzNzEzNzE2ZDExMjdiMzZlYjMzNTczNzc3OGNjYTNkNGI3YjQ3NmE5OWE1NzFhMTFkYzExOGU3MTQ2M2QyYlwiLFwiMTIwXCI6XCJodHRwczpcXC9cXC9kMm9qcHh4dHU2M3d6bC5jbG91ZGZyb250Lm5ldFxcL3N0YXRpY1xcL2M2NTdlM2YyNWFiOWFlODVhOTllNDIxMjMxYTZjNmE4XzA2ZGViODFjZmVjNzBkYmQxNGRhNmJiNjQ3MWI4ZWU0YmNjMTQyZWUwOGI2MDcxNGFmOWY5MTY4M2I0NjFlNmFcIixcIjEyMVwiOlwiaHR0cHM6XFwvXFwvZDJvanB4eHR1NjN3emwuY2xvdWRmcm9udC5uZXRcXC9zdGF0aWNcXC9jZDRmYzQyNjcwN2Q2M2U0ZDliOGJjOTIwNWRlYTNmY19jYjY0OGZmZTcwZWMwOTQyYmU4MGYyOTRhMWEwN2M1ZTY0OTU4NTcwMjY1YjcwY2ZkODRkYTc4MDcyODc3ZmU3XCJ9XG59XG4iLCIvKiBtb3VzZXRyYXAgdjEuNC42IGNyYWlnLmlzL2tpbGxpbmcvbWljZSAqL1xuKGZ1bmN0aW9uKEoscixmKXtmdW5jdGlvbiBzKGEsYixkKXthLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsZCwhMSk6YS5hdHRhY2hFdmVudChcIm9uXCIrYixkKX1mdW5jdGlvbiBBKGEpe2lmKFwia2V5cHJlc3NcIj09YS50eXBlKXt2YXIgYj1TdHJpbmcuZnJvbUNoYXJDb2RlKGEud2hpY2gpO2Euc2hpZnRLZXl8fChiPWIudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGJ9cmV0dXJuIGhbYS53aGljaF0/aFthLndoaWNoXTpCW2Eud2hpY2hdP0JbYS53aGljaF06U3RyaW5nLmZyb21DaGFyQ29kZShhLndoaWNoKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHQoYSl7YT1hfHx7fTt2YXIgYj0hMSxkO2ZvcihkIGluIG4pYVtkXT9iPSEwOm5bZF09MDtifHwodT0hMSl9ZnVuY3Rpb24gQyhhLGIsZCxjLGUsdil7dmFyIGcsayxmPVtdLGg9ZC50eXBlO2lmKCFsW2FdKXJldHVybltdO1wia2V5dXBcIj09aCYmdyhhKSYmKGI9W2FdKTtmb3IoZz0wO2c8bFthXS5sZW5ndGg7KytnKWlmKGs9XG5sW2FdW2ddLCEoIWMmJmsuc2VxJiZuW2suc2VxXSE9ay5sZXZlbHx8aCE9ay5hY3Rpb258fChcImtleXByZXNzXCIhPWh8fGQubWV0YUtleXx8ZC5jdHJsS2V5KSYmYi5zb3J0KCkuam9pbihcIixcIikhPT1rLm1vZGlmaWVycy5zb3J0KCkuam9pbihcIixcIikpKXt2YXIgbT1jJiZrLnNlcT09YyYmay5sZXZlbD09djsoIWMmJmsuY29tYm89PWV8fG0pJiZsW2FdLnNwbGljZShnLDEpO2YucHVzaChrKX1yZXR1cm4gZn1mdW5jdGlvbiBLKGEpe3ZhciBiPVtdO2Euc2hpZnRLZXkmJmIucHVzaChcInNoaWZ0XCIpO2EuYWx0S2V5JiZiLnB1c2goXCJhbHRcIik7YS5jdHJsS2V5JiZiLnB1c2goXCJjdHJsXCIpO2EubWV0YUtleSYmYi5wdXNoKFwibWV0YVwiKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYixkLGMpe20uc3RvcENhbGxiYWNrKGIsYi50YXJnZXR8fGIuc3JjRWxlbWVudCxkLGMpfHwhMSE9PWEoYixkKXx8KGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEsYi5zdG9wUHJvcGFnYXRpb24/XG5iLnN0b3BQcm9wYWdhdGlvbigpOmIuY2FuY2VsQnViYmxlPSEwKX1mdW5jdGlvbiB5KGEpe1wibnVtYmVyXCIhPT10eXBlb2YgYS53aGljaCYmKGEud2hpY2g9YS5rZXlDb2RlKTt2YXIgYj1BKGEpO2ImJihcImtleXVwXCI9PWEudHlwZSYmej09PWI/ej0hMTptLmhhbmRsZUtleShiLEsoYSksYSkpfWZ1bmN0aW9uIHcoYSl7cmV0dXJuXCJzaGlmdFwiPT1hfHxcImN0cmxcIj09YXx8XCJhbHRcIj09YXx8XCJtZXRhXCI9PWF9ZnVuY3Rpb24gTChhLGIsZCxjKXtmdW5jdGlvbiBlKGIpe3JldHVybiBmdW5jdGlvbigpe3U9YjsrK25bYV07Y2xlYXJUaW1lb3V0KEQpO0Q9c2V0VGltZW91dCh0LDFFMyl9fWZ1bmN0aW9uIHYoYil7eChkLGIsYSk7XCJrZXl1cFwiIT09YyYmKHo9QShiKSk7c2V0VGltZW91dCh0LDEwKX1mb3IodmFyIGc9blthXT0wO2c8Yi5sZW5ndGg7KytnKXt2YXIgZj1nKzE9PT1iLmxlbmd0aD92OmUoY3x8RShiW2crMV0pLmFjdGlvbik7RihiW2ddLGYsYyxhLGcpfX1mdW5jdGlvbiBFKGEsYil7dmFyIGQsXG5jLGUsZj1bXTtkPVwiK1wiPT09YT9bXCIrXCJdOmEuc3BsaXQoXCIrXCIpO2ZvcihlPTA7ZTxkLmxlbmd0aDsrK2UpYz1kW2VdLEdbY10mJihjPUdbY10pLGImJlwia2V5cHJlc3NcIiE9YiYmSFtjXSYmKGM9SFtjXSxmLnB1c2goXCJzaGlmdFwiKSksdyhjKSYmZi5wdXNoKGMpO2Q9YztlPWI7aWYoIWUpe2lmKCFwKXtwPXt9O2Zvcih2YXIgZyBpbiBoKTk1PGcmJjExMj5nfHxoLmhhc093blByb3BlcnR5KGcpJiYocFtoW2ddXT1nKX1lPXBbZF0/XCJrZXlkb3duXCI6XCJrZXlwcmVzc1wifVwia2V5cHJlc3NcIj09ZSYmZi5sZW5ndGgmJihlPVwia2V5ZG93blwiKTtyZXR1cm57a2V5OmMsbW9kaWZpZXJzOmYsYWN0aW9uOmV9fWZ1bmN0aW9uIEYoYSxiLGQsYyxlKXtxW2ErXCI6XCIrZF09YjthPWEucmVwbGFjZSgvXFxzKy9nLFwiIFwiKTt2YXIgZj1hLnNwbGl0KFwiIFwiKTsxPGYubGVuZ3RoP0woYSxmLGIsZCk6KGQ9RShhLGQpLGxbZC5rZXldPWxbZC5rZXldfHxbXSxDKGQua2V5LGQubW9kaWZpZXJzLHt0eXBlOmQuYWN0aW9ufSxcbmMsYSxlKSxsW2Qua2V5XVtjP1widW5zaGlmdFwiOlwicHVzaFwiXSh7Y2FsbGJhY2s6Yixtb2RpZmllcnM6ZC5tb2RpZmllcnMsYWN0aW9uOmQuYWN0aW9uLHNlcTpjLGxldmVsOmUsY29tYm86YX0pKX12YXIgaD17ODpcImJhY2tzcGFjZVwiLDk6XCJ0YWJcIiwxMzpcImVudGVyXCIsMTY6XCJzaGlmdFwiLDE3OlwiY3RybFwiLDE4OlwiYWx0XCIsMjA6XCJjYXBzbG9ja1wiLDI3OlwiZXNjXCIsMzI6XCJzcGFjZVwiLDMzOlwicGFnZXVwXCIsMzQ6XCJwYWdlZG93blwiLDM1OlwiZW5kXCIsMzY6XCJob21lXCIsMzc6XCJsZWZ0XCIsMzg6XCJ1cFwiLDM5OlwicmlnaHRcIiw0MDpcImRvd25cIiw0NTpcImluc1wiLDQ2OlwiZGVsXCIsOTE6XCJtZXRhXCIsOTM6XCJtZXRhXCIsMjI0OlwibWV0YVwifSxCPXsxMDY6XCIqXCIsMTA3OlwiK1wiLDEwOTpcIi1cIiwxMTA6XCIuXCIsMTExOlwiL1wiLDE4NjpcIjtcIiwxODc6XCI9XCIsMTg4OlwiLFwiLDE4OTpcIi1cIiwxOTA6XCIuXCIsMTkxOlwiL1wiLDE5MjpcImBcIiwyMTk6XCJbXCIsMjIwOlwiXFxcXFwiLDIyMTpcIl1cIiwyMjI6XCInXCJ9LEg9e1wiflwiOlwiYFwiLFwiIVwiOlwiMVwiLFxuXCJAXCI6XCIyXCIsXCIjXCI6XCIzXCIsJDpcIjRcIixcIiVcIjpcIjVcIixcIl5cIjpcIjZcIixcIiZcIjpcIjdcIixcIipcIjpcIjhcIixcIihcIjpcIjlcIixcIilcIjpcIjBcIixfOlwiLVwiLFwiK1wiOlwiPVwiLFwiOlwiOlwiO1wiLCdcIic6XCInXCIsXCI8XCI6XCIsXCIsXCI+XCI6XCIuXCIsXCI/XCI6XCIvXCIsXCJ8XCI6XCJcXFxcXCJ9LEc9e29wdGlvbjpcImFsdFwiLGNvbW1hbmQ6XCJtZXRhXCIsXCJyZXR1cm5cIjpcImVudGVyXCIsZXNjYXBlOlwiZXNjXCIsbW9kOi9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pP1wibWV0YVwiOlwiY3RybFwifSxwLGw9e30scT17fSxuPXt9LEQsej0hMSxJPSExLHU9ITE7Zm9yKGY9MTsyMD5mOysrZiloWzExMStmXT1cImZcIitmO2ZvcihmPTA7OT49ZjsrK2YpaFtmKzk2XT1mO3MocixcImtleXByZXNzXCIseSk7cyhyLFwia2V5ZG93blwiLHkpO3MocixcImtleXVwXCIseSk7dmFyIG09e2JpbmQ6ZnVuY3Rpb24oYSxiLGQpe2E9YSBpbnN0YW5jZW9mIEFycmF5P2E6W2FdO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKUYoYVtjXSxiLGQpO3JldHVybiB0aGlzfSxcbnVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBtLmJpbmQoYSxmdW5jdGlvbigpe30sYil9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtpZihxW2ErXCI6XCIrYl0pcVthK1wiOlwiK2JdKHt9LGEpO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2w9e307cT17fTtyZXR1cm4gdGhpc30sc3RvcENhbGxiYWNrOmZ1bmN0aW9uKGEsYil7cmV0dXJuLTE8KFwiIFwiK2IuY2xhc3NOYW1lK1wiIFwiKS5pbmRleE9mKFwiIG1vdXNldHJhcCBcIik/ITE6XCJJTlBVVFwiPT1iLnRhZ05hbWV8fFwiU0VMRUNUXCI9PWIudGFnTmFtZXx8XCJURVhUQVJFQVwiPT1iLnRhZ05hbWV8fGIuaXNDb250ZW50RWRpdGFibGV9LGhhbmRsZUtleTpmdW5jdGlvbihhLGIsZCl7dmFyIGM9QyhhLGIsZCksZTtiPXt9O3ZhciBmPTAsZz0hMTtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKWNbZV0uc2VxJiYoZj1NYXRoLm1heChmLGNbZV0ubGV2ZWwpKTtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKWNbZV0uc2VxP2NbZV0ubGV2ZWw9PWYmJihnPSEwLFxuYltjW2VdLnNlcV09MSx4KGNbZV0uY2FsbGJhY2ssZCxjW2VdLmNvbWJvLGNbZV0uc2VxKSk6Z3x8eChjW2VdLmNhbGxiYWNrLGQsY1tlXS5jb21ibyk7Yz1cImtleXByZXNzXCI9PWQudHlwZSYmSTtkLnR5cGUhPXV8fHcoYSl8fGN8fHQoYik7ST1nJiZcImtleWRvd25cIj09ZC50eXBlfX07Si5Nb3VzZXRyYXA9bTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUobSl9KSh3aW5kb3csZG9jdW1lbnQpO1xuIl19
