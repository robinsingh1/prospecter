(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalDetail
  getInitialState: function() {
    return {
      currentSignal: 'CompanySignal',
      signals: [],
      //allProspected: this.props.currentProfileReport.prospected,
      companyCount: '~',
      peopleCount: '~'
    }
  },

  getSignals: function(currentSignal) {
    var thissss = this;
    currentReport = this.props.currentProfileReport.objectId
    currentProfileReport = appConfig.pointer('SignalReport', currentReport)

    qry = {
      where:JSON.stringify({ report: currentProfileReport }),
      include:'company_signal,company_signal.signals,signals',
      order:'-createdAt',
      limit:100
    }

    $.ajax({
      url: 'https://api.parse.com/1/classes/'+currentSignal,
      data: qry,
      type:'GET',
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log('SIGNAL DETAIL')
        console.log(res.results)
        console.log('PROFILE REPORT')
        console.log(thissss.props.currentProfileReport.objectId)
        thissss.setState({signals: res.results})
      },
      error: function(err) { console.log(err.responseText) }
    });
  },

  setCompanyState: function() { this.setState({currentSignal: 'CompanySignal'}) }, 
  setPersonState: function() { this.setState({currentSignal: 'PeopleSignal'}) }, 

  componentDidMount: function() {
    console.log(this.props.currentProfileReport.objectId)
    this.getSignals(this.state.currentSignal)
    qry = {
      where:JSON.stringify({ report: currentProfileReport }),
      count: 1
    }
    var thiss = this;
    $.ajax({
      url:'https://api.parse.com/1/classes/PeopleSignal',
      data: qry,
      headers: appConfig.headers,
      success: function(res) { thiss.setState({peopleCount: res.count})},
      error: function(err) { console.log(err.responseText) },
    })

    $.ajax({
      url:'https://api.parse.com/1/classes/CompanySignal',
      data: qry,
      headers: appConfig.headers,
      success: function(res) { thiss.setState({companyCount: res.count})},
      error: function(err) { console.log(err.responseText) },
    })
  },

  componentWillUpdate: function(nextProps, nextState) {
    if(this.state.currentSignal != nextState.currentSignal)
      this.getSignals(nextState.currentSignal)
  },

  returnToCalendarView: function() {
    console.log('return to calendar view')
  },

  render: function() {
    console.log('ALL PROSPECTED')
    console.log(this.state.allProspected)
    console.log('CURRENT SIGNAL')
    console.log(this.state.currentSignal)
    console.log('SIGNAL')
    console.log(this.state.signals)
    signals = []
    for(i=0;i< this.state.signals.length; i++) {
      if(this.state.currentSignal == 'CompanySignal')
        signals.push(CompanyHiringSignalRow({signal: this.state.signals[i], 
                                       allProspected: this.state.allProspected}))
      else
        signals.push(PeopleSignalRow({signal: this.state.signals[i], 
                                       allProspected: this.state.allProspected}))
    }

    currentProfileReport = this.props.currentProfileReport
    companyBtn = (this.state.currentSignal == "CompanySignal") ? "btn btn-xs btn-default active" : "btn btn-xs btn-default"
    peopleBtn = (this.state.currentSignal == "PeopleSignal") ? "btn btn-xs btn-default active" : "btn btn-xs btn-default"
    return (
      React.DOM.div({className: "container", style: {height:356,paddingLeft:0,
                                         paddingRight:0,width:'100%'}}, 
        React.DOM.div({style: {height:44,borderBottom:'solid 1px rgb(221, 221, 221)'}}, 
          React.DOM.h4({onClick: this.returnToCalendarView, 
              style: {float:'left',cursor:'pointer',marginTop:7,fontWeight:200,
                      paddingLeft:20,paddingTop:5,display:'inline-block'}}, 
              
                React.DOM.i({className: "fa fa-calendar", style: {marginRight:5}}), 
                this.props.currentProfile.name
          ), 
          React.DOM.h6({style: {fontSize:13,paddingLeft:5,paddingTop:5,display:'inline-block'}}, 
            React.DOM.i({className: "fa fa-chevron-right", style: {fontSize:9}}), "  ", 
            React.DOM.i({className: "fa fa-clock-o"}), "  ", 
            moment(currentProfileReport.createdAt).fromNow(), "  "
          ), 

          (this.state.allProspected) ?
          React.DOM.a({href: "javascript:", style: {fontWeight:'bold',float:'right',
                                        marginRight:10,marginTop:10}, 
             className: "btn btn-success btn-xs disabled"}, 
            "Prospected"
          ) :
          React.DOM.a({href: "javascript:", style: {fontWeight:'bold',float:'right',
                                        marginRight:10,marginTop:10}, 
             onClick: this.prospectAll, 
             className: "btn btn-success btn-xs"}, 
            "Prospect All"
          ), 
          

          React.DOM.div({className: "btn-group", 
               style: {float:'right',marginTop:10,marginRight:10}, 
               'data-toggle': "buttons"}, 
            React.DOM.label({className: peopleBtn, style: {width:50}, 
                 onClick: this.setPersonState}, 
              React.DOM.input({type: "checkbox"}), 
              React.DOM.i({className: "fa fa-user"}), "  ", 
              this.state.peopleCount
            ), 
            React.DOM.label({className: companyBtn, style: {width:50}, 
              onClick: this.setCompanyState}, 
              React.DOM.input({type: "checkbox"}), 
              React.DOM.i({className: "fa fa-building"}), "  ", 
              this.state.companyCount
            )
          )
        ), 

        React.DOM.div({className: "col-md-12", style: {paddingLeft:0,paddingRight:0}}, 
          React.DOM.div({style: {overflow:'auto',height:356}}, 
            React.DOM.table({className: "table table-striped"}, 
              React.DOM.thead(null, 
                React.DOM.th({style: {textAlign:'center',width:90}}, 
                  React.DOM.i({className: "fa fa-clock-o"})
                ), 

                React.DOM.th({style: {width:200}}, 
                  (this.state.currentSignal == 'CompanySignal') ?  
                    "Companies" : "People"
                ), 


                React.DOM.th(null, "Source "), 

                React.DOM.th({style: {width:90,textAlign:'center'}}, " ")

              ), 
              React.DOM.tbody({className: "reports"}, 
                signals
              )
            )
          )
        )
      )
    );
  },
  prospectAll: function() {
    console.log(this.state.currentSignal)
    console.log(this.props.currentProfileReport.objectId)
    report_id = this.props.currentProfileReport.objectId
    var thiss = this;
    $.ajax({
      //url: 'http://127.0.0.1:5000/signal_to_prospect',
      url: 'https://nameless-retreat-3525.herokuapp.com/signal_to_prospect',
      data: {all_signals:true, report_id: report_id, 
             signal_type: thiss.state.currentSignal},
      success: function(res) { console.log(res)},
      error: function(err) { console.log(err.responseText)},
    })
  }
});

var CompanyHiringSignalRow = React.createClass({displayName: 'CompanyHiringSignalRow',
  render: function() {
    //console.log(company)
    company = (this.props.signal) ? this.props.signal : {}
    return (
      React.DOM.tr({style: {}}, 
        React.DOM.td({style: {textAlign:'center',width:120}}, 
          React.DOM.h6(null, 
            moment(this.props.signal.createdAt).fromNow()
          )
        ), 

        React.DOM.td(null, 
          React.DOM.h6(null, company.name), 
          React.DOM.h6(null, company.revenue), 
          React.DOM.h6(null, React.DOM.a({href: "javascript:"}, company.websiteUrl)), 
          React.DOM.h6(null, company.city)
        ), 

        React.DOM.td(null, 
          moment(company.timestamp).format('ll')
        ), 

        React.DOM.td(null, 
          (this.props.allProspected) ? 
          React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 
            style: {fontWeight:'bold'}}, 
            "Prospected"
          ) : React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
                  onClick: this.turnCompanySignalToProspect, 
            style: {fontWeight:'bold'}}, 
            "Prospect"
          )
        )
      )
    )
  },
  turnCompanySignalToProspect: function() {
    var thiss = this;
    $.ajax({
      //url: 'https://nameless-retreat-',
      //url: 'http://127.0.0.1:5000/signal_to_prospect',
      url: 'https://nameless-retreat-3525.herokuapp.com/signal_to_prospect',
      data: {all_signals:false, signal_id: company.objectId,
             signal_type: 'CompanySignal'},
      success: function(res) { console.log(res)},
      error: function(err) { console.log(err.responseText)},
    })
  }
})

var PeopleSignalRow = React.createClass({displayName: 'PeopleSignalRow',
  turnSignalIntoProspect: function() {
    var thiss = this;
    console.log(this.props.signal)
    $.ajax({
      //url:'http://127.0.0.1:5000/signal_to_prospect',
      url:'http://nameless-retreat-3525.herokuapp.com/signal_to_prospect',
      data: {signal_id: thiss.props.signal.objectId, signal_type:'PeopleSignal',
             all_signals:false},
      success: function(res) { console.log(res) },
      error: function(err) { console.log(err.responseText) } 
    })
  },

  render: function() {
    //console.log(company)
    people = (this.props.signal) ? this.props.signal : {}
    company = people.company_signal
    title = (people.title) ? people.title.split('-')[1] : ""
    title = title.split(' at')[0]
    //city = people.split('-')[0]
    city = ""
    console.log(people)
    return (
      React.DOM.tr({style: {}}, 
        React.DOM.td({style: {textAlign:'center',width:120}}, 
          React.DOM.h6(null, 
            moment(this.props.signal.createdAt).fromNow()
          )
        ), 

        React.DOM.td(null, 
          React.DOM.h6(null, people.link_text + " - ", " ", React.DOM.span({style: {fontStyle:'italic'}}, 
              title)), 
          React.DOM.h6(null, React.DOM.a({href: "javascript:"}, company.websiteUrl)), 
          React.DOM.h6(null, company.name), 
          React.DOM.h6(null, company.city)
        ), 

        React.DOM.td(null, 
          React.DOM.h6(null, company.signals[0].className), 
          React.DOM.h6(null, company.signals[0].job_title), 
          React.DOM.h6(null, company.signals[0].summary)
        ), 
        React.DOM.td(null, 
          company.timestamp, 
          moment(company.timestamp).format('ll')
        ), 

        React.DOM.td(null, 
          (this.props.allProspected) ? 
          React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs disabled", 
            style: {fontWeight:'bold'}}, 
            "Prospected"
            ) : React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
                      onClick: this.turnSignalIntoProspect, 
            style: {fontWeight:'bold'}}, 
            "Prospect"
          )
          
        )
      )
    )
  }
})

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdGVycml0b3J5X2RldGFpbC5qcy5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnZXhwb3J0cycsXG4gIC8vIFNpZ25hbERldGFpbFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50U2lnbmFsOiAnQ29tcGFueVNpZ25hbCcsXG4gICAgICBzaWduYWxzOiBbXSxcbiAgICAgIC8vYWxsUHJvc3BlY3RlZDogdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZVJlcG9ydC5wcm9zcGVjdGVkLFxuICAgICAgY29tcGFueUNvdW50OiAnficsXG4gICAgICBwZW9wbGVDb3VudDogJ34nXG4gICAgfVxuICB9LFxuXG4gIGdldFNpZ25hbHM6IGZ1bmN0aW9uKGN1cnJlbnRTaWduYWwpIHtcbiAgICB2YXIgdGhpc3NzcyA9IHRoaXM7XG4gICAgY3VycmVudFJlcG9ydCA9IHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGVSZXBvcnQub2JqZWN0SWRcbiAgICBjdXJyZW50UHJvZmlsZVJlcG9ydCA9IGFwcENvbmZpZy5wb2ludGVyKCdTaWduYWxSZXBvcnQnLCBjdXJyZW50UmVwb3J0KVxuXG4gICAgcXJ5ID0ge1xuICAgICAgd2hlcmU6SlNPTi5zdHJpbmdpZnkoeyByZXBvcnQ6IGN1cnJlbnRQcm9maWxlUmVwb3J0IH0pLFxuICAgICAgaW5jbHVkZTonY29tcGFueV9zaWduYWwsY29tcGFueV9zaWduYWwuc2lnbmFscyxzaWduYWxzJyxcbiAgICAgIG9yZGVyOictY3JlYXRlZEF0JyxcbiAgICAgIGxpbWl0OjEwMFxuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzLycrY3VycmVudFNpZ25hbCxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIHR5cGU6J0dFVCcsXG4gICAgICBoZWFkZXJzOmFwcENvbmZpZy5wYXJzZUhlYWRlcnMsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NJR05BTCBERVRBSUwnKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMucmVzdWx0cylcbiAgICAgICAgY29uc29sZS5sb2coJ1BST0ZJTEUgUkVQT1JUJylcbiAgICAgICAgY29uc29sZS5sb2codGhpc3Nzcy5wcm9wcy5jdXJyZW50UHJvZmlsZVJlcG9ydC5vYmplY3RJZClcbiAgICAgICAgdGhpc3Nzcy5zZXRTdGF0ZSh7c2lnbmFsczogcmVzLnJlc3VsdHN9KVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlVGV4dCkgfVxuICAgIH0pO1xuICB9LFxuXG4gIHNldENvbXBhbnlTdGF0ZTogZnVuY3Rpb24oKSB7IHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRTaWduYWw6ICdDb21wYW55U2lnbmFsJ30pIH0sIFxuICBzZXRQZXJzb25TdGF0ZTogZnVuY3Rpb24oKSB7IHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRTaWduYWw6ICdQZW9wbGVTaWduYWwnfSkgfSwgXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGVSZXBvcnQub2JqZWN0SWQpXG4gICAgdGhpcy5nZXRTaWduYWxzKHRoaXMuc3RhdGUuY3VycmVudFNpZ25hbClcbiAgICBxcnkgPSB7XG4gICAgICB3aGVyZTpKU09OLnN0cmluZ2lmeSh7IHJlcG9ydDogY3VycmVudFByb2ZpbGVSZXBvcnQgfSksXG4gICAgICBjb3VudDogMVxuICAgIH1cbiAgICB2YXIgdGhpc3MgPSB0aGlzO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6J2h0dHBzOi8vYXBpLnBhcnNlLmNvbS8xL2NsYXNzZXMvUGVvcGxlU2lnbmFsJyxcbiAgICAgIGRhdGE6IHFyeSxcbiAgICAgIGhlYWRlcnM6IGFwcENvbmZpZy5oZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7IHRoaXNzLnNldFN0YXRlKHtwZW9wbGVDb3VudDogcmVzLmNvdW50fSl9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2VUZXh0KSB9LFxuICAgIH0pXG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOidodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL0NvbXBhbnlTaWduYWwnLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgaGVhZGVyczogYXBwQ29uZmlnLmhlYWRlcnMsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHsgdGhpc3Muc2V0U3RhdGUoe2NvbXBhbnlDb3VudDogcmVzLmNvdW50fSl9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2VUZXh0KSB9LFxuICAgIH0pXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24obmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRTaWduYWwgIT0gbmV4dFN0YXRlLmN1cnJlbnRTaWduYWwpXG4gICAgICB0aGlzLmdldFNpZ25hbHMobmV4dFN0YXRlLmN1cnJlbnRTaWduYWwpXG4gIH0sXG5cbiAgcmV0dXJuVG9DYWxlbmRhclZpZXc6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdyZXR1cm4gdG8gY2FsZW5kYXIgdmlldycpXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnQUxMIFBST1NQRUNURUQnKVxuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuYWxsUHJvc3BlY3RlZClcbiAgICBjb25zb2xlLmxvZygnQ1VSUkVOVCBTSUdOQUwnKVxuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY3VycmVudFNpZ25hbClcbiAgICBjb25zb2xlLmxvZygnU0lHTkFMJylcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnNpZ25hbHMpXG4gICAgc2lnbmFscyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLnNpZ25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudFNpZ25hbCA9PSAnQ29tcGFueVNpZ25hbCcpXG4gICAgICAgIHNpZ25hbHMucHVzaChDb21wYW55SGlyaW5nU2lnbmFsUm93KHtzaWduYWw6IHRoaXMuc3RhdGUuc2lnbmFsc1tpXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxQcm9zcGVjdGVkOiB0aGlzLnN0YXRlLmFsbFByb3NwZWN0ZWR9KSlcbiAgICAgIGVsc2VcbiAgICAgICAgc2lnbmFscy5wdXNoKFBlb3BsZVNpZ25hbFJvdyh7c2lnbmFsOiB0aGlzLnN0YXRlLnNpZ25hbHNbaV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsUHJvc3BlY3RlZDogdGhpcy5zdGF0ZS5hbGxQcm9zcGVjdGVkfSkpXG4gICAgfVxuXG4gICAgY3VycmVudFByb2ZpbGVSZXBvcnQgPSB0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlUmVwb3J0XG4gICAgY29tcGFueUJ0biA9ICh0aGlzLnN0YXRlLmN1cnJlbnRTaWduYWwgPT0gXCJDb21wYW55U2lnbmFsXCIpID8gXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0IGFjdGl2ZVwiIDogXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCJcbiAgICBwZW9wbGVCdG4gPSAodGhpcy5zdGF0ZS5jdXJyZW50U2lnbmFsID09IFwiUGVvcGxlU2lnbmFsXCIpID8gXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0IGFjdGl2ZVwiIDogXCJidG4gYnRuLXhzIGJ0bi1kZWZhdWx0XCJcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBzdHlsZToge2hlaWdodDozNTYscGFkZGluZ0xlZnQ6MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OjAsd2lkdGg6JzEwMCUnfX0sIFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge2hlaWdodDo0NCxib3JkZXJCb3R0b206J3NvbGlkIDFweCByZ2IoMjIxLCAyMjEsIDIyMSknfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNCh7b25DbGljazogdGhpcy5yZXR1cm5Ub0NhbGVuZGFyVmlldywgXG4gICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J2xlZnQnLGN1cnNvcjoncG9pbnRlcicsbWFyZ2luVG9wOjcsZm9udFdlaWdodDoyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6MjAscGFkZGluZ1RvcDo1LGRpc3BsYXk6J2lubGluZS1ibG9jayd9fSwgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FsZW5kYXJcIiwgc3R5bGU6IHttYXJnaW5SaWdodDo1fX0pLCBcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlLm5hbWVcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYoe3N0eWxlOiB7Zm9udFNpemU6MTMscGFkZGluZ0xlZnQ6NSxwYWRkaW5nVG9wOjUsZGlzcGxheTonaW5saW5lLWJsb2NrJ319LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hldnJvbi1yaWdodFwiLCBzdHlsZToge2ZvbnRTaXplOjl9fSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG9jay1vXCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICBtb21lbnQoY3VycmVudFByb2ZpbGVSZXBvcnQuY3JlYXRlZEF0KS5mcm9tTm93KCksIFwiIMKgXCJcbiAgICAgICAgICApLCBcblxuICAgICAgICAgICh0aGlzLnN0YXRlLmFsbFByb3NwZWN0ZWQpID9cbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLGZsb2F0OidyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6MTAsbWFyZ2luVG9wOjEwfSwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIn0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdGVkXCJcbiAgICAgICAgICApIDpcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnLGZsb2F0OidyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6MTAsbWFyZ2luVG9wOjEwfSwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5wcm9zcGVjdEFsbCwgXG4gICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIn0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdCBBbGxcIlxuICAgICAgICAgICksIFxuICAgICAgICAgIFxuXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcImJ0bi1ncm91cFwiLCBcbiAgICAgICAgICAgICAgIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxtYXJnaW5Ub3A6MTAsbWFyZ2luUmlnaHQ6MTB9LCBcbiAgICAgICAgICAgICAgICdkYXRhLXRvZ2dsZSc6IFwiYnV0dG9uc1wifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00ubGFiZWwoe2NsYXNzTmFtZTogcGVvcGxlQnRuLCBzdHlsZToge3dpZHRoOjUwfSwgXG4gICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0UGVyc29uU3RhdGV9LCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmlucHV0KHt0eXBlOiBcImNoZWNrYm94XCJ9KSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdXNlclwifSksIFwiIMKgXCIsIFxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBlb3BsZUNvdW50XG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5sYWJlbCh7Y2xhc3NOYW1lOiBjb21wYW55QnRuLCBzdHlsZToge3dpZHRoOjUwfSwgXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2V0Q29tcGFueVN0YXRlfSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5pbnB1dCh7dHlwZTogXCJjaGVja2JveFwifSksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KSwgXCIgwqBcIiwgXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuY29tcGFueUNvdW50XG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiY29sLW1kLTEyXCIsIHN0eWxlOiB7cGFkZGluZ0xlZnQ6MCxwYWRkaW5nUmlnaHQ6MH19LCBcbiAgICAgICAgICBSZWFjdC5ET00uZGl2KHtzdHlsZToge292ZXJmbG93OidhdXRvJyxoZWlnaHQ6MzU2fX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRhYmxlKHtjbGFzc05hbWU6IFwidGFibGUgdGFibGUtc3RyaXBlZFwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS50aGVhZChudWxsLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInLHdpZHRoOjkwfX0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG9jay1vXCJ9KVxuICAgICAgICAgICAgICAgICksIFxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKHtzdHlsZToge3dpZHRoOjIwMH19LCBcbiAgICAgICAgICAgICAgICAgICh0aGlzLnN0YXRlLmN1cnJlbnRTaWduYWwgPT0gJ0NvbXBhbnlTaWduYWwnKSA/ICBcbiAgICAgICAgICAgICAgICAgICAgXCJDb21wYW5pZXNcIiA6IFwiUGVvcGxlXCJcbiAgICAgICAgICAgICAgICApLCBcblxuXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwsIFwiU291cmNlIFwiKSwgXG5cbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7d2lkdGg6OTAsdGV4dEFsaWduOidjZW50ZXInfX0sIFwiIFwiKVxuXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkoe2NsYXNzTmFtZTogXCJyZXBvcnRzXCJ9LCBcbiAgICAgICAgICAgICAgICBzaWduYWxzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9LFxuICBwcm9zcGVjdEFsbDogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jdXJyZW50U2lnbmFsKVxuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMuY3VycmVudFByb2ZpbGVSZXBvcnQub2JqZWN0SWQpXG4gICAgcmVwb3J0X2lkID0gdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZVJlcG9ydC5vYmplY3RJZFxuICAgIHZhciB0aGlzcyA9IHRoaXM7XG4gICAgJC5hamF4KHtcbiAgICAgIC8vdXJsOiAnaHR0cDovLzEyNy4wLjAuMTo1MDAwL3NpZ25hbF90b19wcm9zcGVjdCcsXG4gICAgICB1cmw6ICdodHRwczovL25hbWVsZXNzLXJldHJlYXQtMzUyNS5oZXJva3VhcHAuY29tL3NpZ25hbF90b19wcm9zcGVjdCcsXG4gICAgICBkYXRhOiB7YWxsX3NpZ25hbHM6dHJ1ZSwgcmVwb3J0X2lkOiByZXBvcnRfaWQsIFxuICAgICAgICAgICAgIHNpZ25hbF90eXBlOiB0aGlzcy5zdGF0ZS5jdXJyZW50U2lnbmFsfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykgeyBjb25zb2xlLmxvZyhyZXMpfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlVGV4dCl9LFxuICAgIH0pXG4gIH1cbn0pO1xuXG52YXIgQ29tcGFueUhpcmluZ1NpZ25hbFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ0NvbXBhbnlIaXJpbmdTaWduYWxSb3cnLFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIC8vY29uc29sZS5sb2coY29tcGFueSlcbiAgICBjb21wYW55ID0gKHRoaXMucHJvcHMuc2lnbmFsKSA/IHRoaXMucHJvcHMuc2lnbmFsIDoge31cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnRyKHtzdHlsZToge319LCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZToge3RleHRBbGlnbjonY2VudGVyJyx3aWR0aDoxMjB9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgbW9tZW50KHRoaXMucHJvcHMuc2lnbmFsLmNyZWF0ZWRBdCkuZnJvbU5vdygpXG4gICAgICAgICAgKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIGNvbXBhbnkubmFtZSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBjb21wYW55LnJldmVudWUpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIn0sIGNvbXBhbnkud2Vic2l0ZVVybCkpLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgY29tcGFueS5jaXR5KVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgXG4gICAgICAgICAgbW9tZW50KGNvbXBhbnkudGltZXN0YW1wKS5mb3JtYXQoJ2xsJylcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgICh0aGlzLnByb3BzLmFsbFByb3NwZWN0ZWQpID8gXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHMgZGlzYWJsZWRcIiwgXG4gICAgICAgICAgICBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnfX0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdGVkXCJcbiAgICAgICAgICApIDogUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIiwgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnR1cm5Db21wYW55U2lnbmFsVG9Qcm9zcGVjdCwgXG4gICAgICAgICAgICBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnfX0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdFwiXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9LFxuICB0dXJuQ29tcGFueVNpZ25hbFRvUHJvc3BlY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0aGlzcyA9IHRoaXM7XG4gICAgJC5hamF4KHtcbiAgICAgIC8vdXJsOiAnaHR0cHM6Ly9uYW1lbGVzcy1yZXRyZWF0LScsXG4gICAgICAvL3VybDogJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9zaWduYWxfdG9fcHJvc3BlY3QnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9uYW1lbGVzcy1yZXRyZWF0LTM1MjUuaGVyb2t1YXBwLmNvbS9zaWduYWxfdG9fcHJvc3BlY3QnLFxuICAgICAgZGF0YToge2FsbF9zaWduYWxzOmZhbHNlLCBzaWduYWxfaWQ6IGNvbXBhbnkub2JqZWN0SWQsXG4gICAgICAgICAgICAgc2lnbmFsX3R5cGU6ICdDb21wYW55U2lnbmFsJ30sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHsgY29uc29sZS5sb2cocmVzKX0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUubG9nKGVyci5yZXNwb25zZVRleHQpfSxcbiAgICB9KVxuICB9XG59KVxuXG52YXIgUGVvcGxlU2lnbmFsUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnUGVvcGxlU2lnbmFsUm93JyxcbiAgdHVyblNpZ25hbEludG9Qcm9zcGVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRoaXNzID0gdGhpcztcbiAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnNpZ25hbClcbiAgICAkLmFqYXgoe1xuICAgICAgLy91cmw6J2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9zaWduYWxfdG9fcHJvc3BlY3QnLFxuICAgICAgdXJsOidodHRwOi8vbmFtZWxlc3MtcmV0cmVhdC0zNTI1Lmhlcm9rdWFwcC5jb20vc2lnbmFsX3RvX3Byb3NwZWN0JyxcbiAgICAgIGRhdGE6IHtzaWduYWxfaWQ6IHRoaXNzLnByb3BzLnNpZ25hbC5vYmplY3RJZCwgc2lnbmFsX3R5cGU6J1Blb3BsZVNpZ25hbCcsXG4gICAgICAgICAgICAgYWxsX3NpZ25hbHM6ZmFsc2V9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7IGNvbnNvbGUubG9nKHJlcykgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlVGV4dCkgfSBcbiAgICB9KVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyhjb21wYW55KVxuICAgIHBlb3BsZSA9ICh0aGlzLnByb3BzLnNpZ25hbCkgPyB0aGlzLnByb3BzLnNpZ25hbCA6IHt9XG4gICAgY29tcGFueSA9IHBlb3BsZS5jb21wYW55X3NpZ25hbFxuICAgIHRpdGxlID0gKHBlb3BsZS50aXRsZSkgPyBwZW9wbGUudGl0bGUuc3BsaXQoJy0nKVsxXSA6IFwiXCJcbiAgICB0aXRsZSA9IHRpdGxlLnNwbGl0KCcgYXQnKVswXVxuICAgIC8vY2l0eSA9IHBlb3BsZS5zcGxpdCgnLScpWzBdXG4gICAgY2l0eSA9IFwiXCJcbiAgICBjb25zb2xlLmxvZyhwZW9wbGUpXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cih7c3R5bGU6IHt9fSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246J2NlbnRlcicsd2lkdGg6MTIwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBcbiAgICAgICAgICAgIG1vbWVudCh0aGlzLnByb3BzLnNpZ25hbC5jcmVhdGVkQXQpLmZyb21Ob3coKVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBwZW9wbGUubGlua190ZXh0ICsgXCIgLSBcIiwgXCIgXCIsIFJlYWN0LkRPTS5zcGFuKHtzdHlsZToge2ZvbnRTdHlsZTonaXRhbGljJ319LCBcbiAgICAgICAgICAgICAgdGl0bGUpKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCJ9LCBjb21wYW55LndlYnNpdGVVcmwpKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIGNvbXBhbnkubmFtZSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBjb21wYW55LmNpdHkpXG4gICAgICAgICksIFxuXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uaDYobnVsbCwgY29tcGFueS5zaWduYWxzWzBdLmNsYXNzTmFtZSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBjb21wYW55LnNpZ25hbHNbMF0uam9iX3RpdGxlKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIGNvbXBhbnkuc2lnbmFsc1swXS5zdW1tYXJ5KVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKG51bGwsIFxuICAgICAgICAgIGNvbXBhbnkudGltZXN0YW1wLCBcbiAgICAgICAgICBtb21lbnQoY29tcGFueS50aW1lc3RhbXApLmZvcm1hdCgnbGwnKVxuICAgICAgICApLCBcblxuICAgICAgICBSZWFjdC5ET00udGQobnVsbCwgXG4gICAgICAgICAgKHRoaXMucHJvcHMuYWxsUHJvc3BlY3RlZCkgPyBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi14cyBkaXNhYmxlZFwiLCBcbiAgICAgICAgICAgIHN0eWxlOiB7Zm9udFdlaWdodDonYm9sZCd9fSwgXG4gICAgICAgICAgICBcIlByb3NwZWN0ZWRcIlxuICAgICAgICAgICAgKSA6IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMudHVyblNpZ25hbEludG9Qcm9zcGVjdCwgXG4gICAgICAgICAgICBzdHlsZToge2ZvbnRXZWlnaHQ6J2JvbGQnfX0sIFxuICAgICAgICAgICAgXCJQcm9zcGVjdFwiXG4gICAgICAgICAgKVxuICAgICAgICAgIFxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuICB9XG59KVxuIl19
