(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalCalendar
  getInitialState: function() {
    return {
      reports : [],
      currentTerritory:'all',
    }
  },

  getSignalReport: function(currentTerritory) {
    thissss = this;
    if(currentTerritory == "all"){
      qry = {'where' : JSON.stringify({profile:{
        __type:'Pointer',
        className:'ProspectProfile',
        objectId:this.props.currentProfile.objectId
      }, is_parent: true }), order:'-createdAt'}
    } else {
      qry = {'where' : JSON.stringify({parent:
            appConfig.pointer('SignalReport', currentTerritory.objectId), 
            }), order:'-createdAt'}
    }
    console.log(qry)

    // Get Signal Reports Of Current Profile
    $.ajax({
      url: 'https://api.parse.com/1/classes/SignalReport',
      type:'GET',
      data: qry,
      headers:appConfig.parseHeaders,
      success: function(res) {
        console.log(res.results)
        thissss.setState({reports: res.results})
      },
      error: function(err) {
        console.log(err)
      }
    });
  },

  componentDidMount: function() {
    this.getSignalReport(this.state.currentTerritory)
  },

  componentWillUpdate: function(nextProps, nextState) {
    console.log('UPDATED')
    console.log(this.state.currentTerritory)
    console.log(nextState.currentTerritory)
    //if(this.state.currentTerritory != nextState.currentTerritory)
    if(!_.isEqual(this.state.currentTerritory, nextState.currentTerritory))
      this.getSignalReport(nextState.currentTerritory)
  },

  allTerritories: function() {
    this.setState({currentTerritory: 'all'})
  },

  render: function() {
    reports = (this.props.reports) ? this.props.reports : []

    for(i=0;i< this.state.reports.length; i++) {
      reports.push(SignalReportRow({setCurrentReport: this.setCurrentReport, 
                                    prospectSignalReport: this.prospectSignalReport, 
                                    setCurrentView: this.setCurrentView, 
                                    rowClick: this.rowClick, 
                                    report: this.state.reports[i]}))
    }

    territory = (this.state.currentTerritory == 'all') ? '' : ' - '+this.state.currentTerritory.territory
    return (
      React.DOM.div({className: "container", style: {paddingLeft:0,
                                         paddingRight:0,width:'100%'}}, 
        React.DOM.div({style: {height:44,borderBottom:'solid 1px rgb(221, 221, 221)'}}, 
          React.DOM.h4({onClick: this.allTerritories, 
              style: {fontWeight:200, float:'left',cursor:'pointer',marginTop:7,
                      paddingLeft:20,paddingTop:5, display:'inline-block'}}, 
                React.DOM.i({className: "fa fa-globe", style: {marginRight:5}}), 
                this.props.currentProfile.name, 
                territory
          )
        ), 
        React.DOM.div({className: "col-md-12", style: {paddingLeft:0,paddingRight:0,
                                           height:356,overflow:'auto'}}, 
          React.DOM.div({style: {overflow:'auto'}}, 
            React.DOM.table({className: "table table-striped", style: {marginBottom:0}}, 
              React.DOM.thead(null, 
                React.DOM.th(null), 
                React.DOM.th({style: {textAlign:'center'}}, 
                  React.DOM.i({className: "fa fa-clock-o"}), " Last Ran"
                ), 
                React.DOM.th({style: {textAlign:'',paddingLeft:50}}, 
                  "Territory Name"
                ), 
                React.DOM.th(null, "Company Signals"), 
                React.DOM.th({style: {display:'block'}}, "Prospect Companies"), 
                React.DOM.th({style: {width:150,textAlign:'center',display:'none'}})
              ), 
              React.DOM.tbody({className: "reports"}, 
                reports
              )
            )
          )
        )
      )
    );
  },

  setCurrentReport: function(newReport) {
    this.props.setCurrentReport(newReport)
  },

  prospectSignalReport: function(signalReport) {
    this.props.prospectSignalReport(this.props.currentProfile, signalReport)
  },

  setTerritory: function(territory) {
    //
    this.setState({currentTerritory: territory})
  },

  rowClick: function(report) {
    console.log(report)
    if(report.prospected)
      this.props.setReport('TerritoryDetail', report)
    else
      this.setTerritory(report)
    /*
    if(this.state.selectedTerritory != 'all')
      this.setCurrentReport(report) // 
    else
      this.setTerritory(report)
    */
  }
});

var SignalReportRow = React.createClass({displayName: 'SignalReportRow',
  getInitialState: function() {
    return {
      companyCount: '~',
      peopleCount: '~',
      loading: this.props.report.done,
    }
  },

  setTerritory: function() {
    this.props.setTerritory('')
  },

  rowClick: function() {
    this.props.rowClick(this.props.report)
  },

  prospectSignalReport: function(e) {
    this.props.prospectSignalReport(this.props.report)
    e.stopPropagation()
  },

  componentDidMount: function() { 
  },

  render: function() {
    prospected = this.props.report.prospected
    icon = React.DOM.i({className: "fa fa-globe"})
    icon = ""
    //
    loading = (this.state.loading) ? React.DOM.div({className: "profile-loading", style: {marginLeft:30}}, 
          React.DOM.div({className: "double-bounce1", style: {backgroundColor:'#5cb85c'}}), 
          React.DOM.div({className: "double-bounce2", style: {backgroundColor:'#5cb85c'}})
          ) : React.DOM.a({href: "javascript:", onClick: this.prospectSignalReport, 
             style: {fontWeight:'bold',marginTop:5}, 
     className: (prospected) ? "btn btn-xs btn-primary disabled" : "btn btn-xs btn-primary"}, 
             (prospected) ? 'Prospected' : 'Prospect All'
          )
    // if done  - loading
    loading = (this.props.report.prospected) ? React.DOM.span({className: "label label-success"}, " Prospected")  : loading
    loading  = React.DOM.span({className: "label label-success"}, " Prospected")

    return (
      React.DOM.tr({onClick: this.rowClick, style: {cursor:'pointer'}}, 
        React.DOM.td({style: {textAlign:'right',paddingTop:15}}, 
          icon
        ), 
        React.DOM.td({style: {textAlign:'center'}}, 
          React.DOM.h6(null, 
            moment(this.props.report.createdAt).fromNow()
          )
        ), 
        React.DOM.td({style: {textAlign:'',paddingLeft:50}}, 
          React.DOM.h6(null, 
            React.DOM.i({className: "fa fa-globe"}), " ", 
            React.DOM.span(null, 
            this.props.report.territory
            )
          )
        ), 
        React.DOM.td(null, 
          React.DOM.span({className: "label label-success"}, 
            this.props.report.company_count
          ), 
          React.DOM.h6({style: {display:'inline-block'}}, 
            "  Companies found."
          )
        ), 
        React.DOM.td({style: {display:'block'}}, 
          React.DOM.span({className: "label label-success"}, 
            this.props.report.people_count
          ), 

          (this.props.report.prospected) ? React.DOM.div({style: {marginTop:6,padding:6, display:'block',width:146}, className: "label label-primary"}, React.DOM.i({className: "fa fa-check-circle"}), "   Prospected") : React.DOM.a({href: "javascript:", className: "btn btn-success btn-xs", 
            style: {backgroundImage: 'linear-gradient(#8add6d, #60b044)',marginTop:4}, 
            style: {backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)',marginTop:4}}, 
            React.DOM.i({className: "fa fa-cloud-download"}), "  " + ' ' +
            "Download Prospects"
          ), 
          React.DOM.h6({style: {display:'none'}}, 
            "  People found."
          )
        ), 
        React.DOM.td({style: (this.props.report.done) ? {display:'none'} : {display:'none',paddingTop:17}}, 
          loading
        )
      )
    )
  }
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvdGVycml0b3J5X292ZXJ2aWV3LmpzLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnbmFsQ2FsZW5kYXJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVwb3J0cyA6IFtdLFxuICAgICAgY3VycmVudFRlcnJpdG9yeTonYWxsJyxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0U2lnbmFsUmVwb3J0OiBmdW5jdGlvbihjdXJyZW50VGVycml0b3J5KSB7XG4gICAgdGhpc3NzcyA9IHRoaXM7XG4gICAgaWYoY3VycmVudFRlcnJpdG9yeSA9PSBcImFsbFwiKXtcbiAgICAgIHFyeSA9IHsnd2hlcmUnIDogSlNPTi5zdHJpbmdpZnkoe3Byb2ZpbGU6e1xuICAgICAgICBfX3R5cGU6J1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6J1Byb3NwZWN0UHJvZmlsZScsXG4gICAgICAgIG9iamVjdElkOnRoaXMucHJvcHMuY3VycmVudFByb2ZpbGUub2JqZWN0SWRcbiAgICAgIH0sIGlzX3BhcmVudDogdHJ1ZSB9KSwgb3JkZXI6Jy1jcmVhdGVkQXQnfVxuICAgIH0gZWxzZSB7XG4gICAgICBxcnkgPSB7J3doZXJlJyA6IEpTT04uc3RyaW5naWZ5KHtwYXJlbnQ6XG4gICAgICAgICAgICBhcHBDb25maWcucG9pbnRlcignU2lnbmFsUmVwb3J0JywgY3VycmVudFRlcnJpdG9yeS5vYmplY3RJZCksIFxuICAgICAgICAgICAgfSksIG9yZGVyOictY3JlYXRlZEF0J31cbiAgICB9XG4gICAgY29uc29sZS5sb2cocXJ5KVxuXG4gICAgLy8gR2V0IFNpZ25hbCBSZXBvcnRzIE9mIEN1cnJlbnQgUHJvZmlsZVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwczovL2FwaS5wYXJzZS5jb20vMS9jbGFzc2VzL1NpZ25hbFJlcG9ydCcsXG4gICAgICB0eXBlOidHRVQnLFxuICAgICAgZGF0YTogcXJ5LFxuICAgICAgaGVhZGVyczphcHBDb25maWcucGFyc2VIZWFkZXJzLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHRzKVxuICAgICAgICB0aGlzc3NzLnNldFN0YXRlKHtyZXBvcnRzOiByZXMucmVzdWx0c30pXG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KHRoaXMuc3RhdGUuY3VycmVudFRlcnJpdG9yeSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIGNvbnNvbGUubG9nKCdVUERBVEVEJylcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmN1cnJlbnRUZXJyaXRvcnkpXG4gICAgY29uc29sZS5sb2cobmV4dFN0YXRlLmN1cnJlbnRUZXJyaXRvcnkpXG4gICAgLy9pZih0aGlzLnN0YXRlLmN1cnJlbnRUZXJyaXRvcnkgIT0gbmV4dFN0YXRlLmN1cnJlbnRUZXJyaXRvcnkpXG4gICAgaWYoIV8uaXNFcXVhbCh0aGlzLnN0YXRlLmN1cnJlbnRUZXJyaXRvcnksIG5leHRTdGF0ZS5jdXJyZW50VGVycml0b3J5KSlcbiAgICAgIHRoaXMuZ2V0U2lnbmFsUmVwb3J0KG5leHRTdGF0ZS5jdXJyZW50VGVycml0b3J5KVxuICB9LFxuXG4gIGFsbFRlcnJpdG9yaWVzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50VGVycml0b3J5OiAnYWxsJ30pXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXBvcnRzID0gKHRoaXMucHJvcHMucmVwb3J0cykgPyB0aGlzLnByb3BzLnJlcG9ydHMgOiBbXVxuXG4gICAgZm9yKGk9MDtpPCB0aGlzLnN0YXRlLnJlcG9ydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcG9ydHMucHVzaChTaWduYWxSZXBvcnRSb3coe3NldEN1cnJlbnRSZXBvcnQ6IHRoaXMuc2V0Q3VycmVudFJlcG9ydCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9zcGVjdFNpZ25hbFJlcG9ydDogdGhpcy5wcm9zcGVjdFNpZ25hbFJlcG9ydCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VmlldzogdGhpcy5zZXRDdXJyZW50VmlldywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dDbGljazogdGhpcy5yb3dDbGljaywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBvcnQ6IHRoaXMuc3RhdGUucmVwb3J0c1tpXX0pKVxuICAgIH1cblxuICAgIHRlcnJpdG9yeSA9ICh0aGlzLnN0YXRlLmN1cnJlbnRUZXJyaXRvcnkgPT0gJ2FsbCcpID8gJycgOiAnIC0gJyt0aGlzLnN0YXRlLmN1cnJlbnRUZXJyaXRvcnkudGVycml0b3J5XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb250YWluZXJcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6MCx3aWR0aDonMTAwJSd9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7aGVpZ2h0OjQ0LGJvcmRlckJvdHRvbTonc29saWQgMXB4IHJnYigyMjEsIDIyMSwgMjIxKSd9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg0KHtvbkNsaWNrOiB0aGlzLmFsbFRlcnJpdG9yaWVzLCBcbiAgICAgICAgICAgICAgc3R5bGU6IHtmb250V2VpZ2h0OjIwMCwgZmxvYXQ6J2xlZnQnLGN1cnNvcjoncG9pbnRlcicsbWFyZ2luVG9wOjcsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6MjAscGFkZGluZ1RvcDo1LCBkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIiwgc3R5bGU6IHttYXJnaW5SaWdodDo1fX0pLCBcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlLm5hbWUsIFxuICAgICAgICAgICAgICAgIHRlcnJpdG9yeVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJjb2wtbWQtMTJcIiwgc3R5bGU6IHtwYWRkaW5nTGVmdDowLHBhZGRpbmdSaWdodDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDozNTYsb3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7b3ZlcmZsb3c6J2F1dG8nfX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLnRhYmxlKHtjbGFzc05hbWU6IFwidGFibGUgdGFibGUtc3RyaXBlZFwiLCBzdHlsZToge21hcmdpbkJvdHRvbTowfX0sIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGhlYWQobnVsbCwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLnRoKG51bGwpLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG9jay1vXCJ9KSwgXCIgTGFzdCBSYW5cIlxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt0ZXh0QWxpZ246JycscGFkZGluZ0xlZnQ6NTB9fSwgXG4gICAgICAgICAgICAgICAgICBcIlRlcnJpdG9yeSBOYW1lXCJcbiAgICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgICBSZWFjdC5ET00udGgobnVsbCwgXCJDb21wYW55IFNpZ25hbHNcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHtkaXNwbGF5OidibG9jayd9fSwgXCJQcm9zcGVjdCBDb21wYW5pZXNcIiksIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS50aCh7c3R5bGU6IHt3aWR0aDoxNTAsdGV4dEFsaWduOidjZW50ZXInLGRpc3BsYXk6J25vbmUnfX0pXG4gICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICBSZWFjdC5ET00udGJvZHkoe2NsYXNzTmFtZTogXCJyZXBvcnRzXCJ9LCBcbiAgICAgICAgICAgICAgICByZXBvcnRzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIHNldEN1cnJlbnRSZXBvcnQ6IGZ1bmN0aW9uKG5ld1JlcG9ydCkge1xuICAgIHRoaXMucHJvcHMuc2V0Q3VycmVudFJlcG9ydChuZXdSZXBvcnQpXG4gIH0sXG5cbiAgcHJvc3BlY3RTaWduYWxSZXBvcnQ6IGZ1bmN0aW9uKHNpZ25hbFJlcG9ydCkge1xuICAgIHRoaXMucHJvcHMucHJvc3BlY3RTaWduYWxSZXBvcnQodGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZSwgc2lnbmFsUmVwb3J0KVxuICB9LFxuXG4gIHNldFRlcnJpdG9yeTogZnVuY3Rpb24odGVycml0b3J5KSB7XG4gICAgLy9cbiAgICB0aGlzLnNldFN0YXRlKHtjdXJyZW50VGVycml0b3J5OiB0ZXJyaXRvcnl9KVxuICB9LFxuXG4gIHJvd0NsaWNrOiBmdW5jdGlvbihyZXBvcnQpIHtcbiAgICBjb25zb2xlLmxvZyhyZXBvcnQpXG4gICAgaWYocmVwb3J0LnByb3NwZWN0ZWQpXG4gICAgICB0aGlzLnByb3BzLnNldFJlcG9ydCgnVGVycml0b3J5RGV0YWlsJywgcmVwb3J0KVxuICAgIGVsc2VcbiAgICAgIHRoaXMuc2V0VGVycml0b3J5KHJlcG9ydClcbiAgICAvKlxuICAgIGlmKHRoaXMuc3RhdGUuc2VsZWN0ZWRUZXJyaXRvcnkgIT0gJ2FsbCcpXG4gICAgICB0aGlzLnNldEN1cnJlbnRSZXBvcnQocmVwb3J0KSAvLyBcbiAgICBlbHNlXG4gICAgICB0aGlzLnNldFRlcnJpdG9yeShyZXBvcnQpXG4gICAgKi9cbiAgfVxufSk7XG5cbnZhciBTaWduYWxSZXBvcnRSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdTaWduYWxSZXBvcnRSb3cnLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb21wYW55Q291bnQ6ICd+JyxcbiAgICAgIHBlb3BsZUNvdW50OiAnficsXG4gICAgICBsb2FkaW5nOiB0aGlzLnByb3BzLnJlcG9ydC5kb25lLFxuICAgIH1cbiAgfSxcblxuICBzZXRUZXJyaXRvcnk6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuc2V0VGVycml0b3J5KCcnKVxuICB9LFxuXG4gIHJvd0NsaWNrOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnJvd0NsaWNrKHRoaXMucHJvcHMucmVwb3J0KVxuICB9LFxuXG4gIHByb3NwZWN0U2lnbmFsUmVwb3J0OiBmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5wcm9wcy5wcm9zcGVjdFNpZ25hbFJlcG9ydCh0aGlzLnByb3BzLnJlcG9ydClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkgeyBcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHByb3NwZWN0ZWQgPSB0aGlzLnByb3BzLnJlcG9ydC5wcm9zcGVjdGVkXG4gICAgaWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtZ2xvYmVcIn0pXG4gICAgaWNvbiA9IFwiXCJcbiAgICAvL1xuICAgIGxvYWRpbmcgPSAodGhpcy5zdGF0ZS5sb2FkaW5nKSA/IFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJwcm9maWxlLWxvYWRpbmdcIiwgc3R5bGU6IHttYXJnaW5MZWZ0OjMwfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkb3VibGUtYm91bmNlMVwiLCBzdHlsZToge2JhY2tncm91bmRDb2xvcjonIzVjYjg1Yyd9fSksIFxuICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkb3VibGUtYm91bmNlMlwiLCBzdHlsZToge2JhY2tncm91bmRDb2xvcjonIzVjYjg1Yyd9fSlcbiAgICAgICAgICApIDogUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgb25DbGljazogdGhpcy5wcm9zcGVjdFNpZ25hbFJlcG9ydCwgXG4gICAgICAgICAgICAgc3R5bGU6IHtmb250V2VpZ2h0Oidib2xkJyxtYXJnaW5Ub3A6NX0sIFxuICAgICBjbGFzc05hbWU6IChwcm9zcGVjdGVkKSA/IFwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeSBkaXNhYmxlZFwiIDogXCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCJ9LCBcbiAgICAgICAgICAgICAocHJvc3BlY3RlZCkgPyAnUHJvc3BlY3RlZCcgOiAnUHJvc3BlY3QgQWxsJ1xuICAgICAgICAgIClcbiAgICAvLyBpZiBkb25lICAtIGxvYWRpbmdcbiAgICBsb2FkaW5nID0gKHRoaXMucHJvcHMucmVwb3J0LnByb3NwZWN0ZWQpID8gUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCJ9LCBcIiBQcm9zcGVjdGVkXCIpICA6IGxvYWRpbmdcbiAgICBsb2FkaW5nICA9IFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtc3VjY2Vzc1wifSwgXCIgUHJvc3BlY3RlZFwiKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS50cih7b25DbGljazogdGhpcy5yb3dDbGljaywgc3R5bGU6IHtjdXJzb3I6J3BvaW50ZXInfX0sIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidyaWdodCcscGFkZGluZ1RvcDoxNX19LCBcbiAgICAgICAgICBpY29uXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNihudWxsLCBcbiAgICAgICAgICAgIG1vbWVudCh0aGlzLnByb3BzLnJlcG9ydC5jcmVhdGVkQXQpLmZyb21Ob3coKVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZCh7c3R5bGU6IHt0ZXh0QWxpZ246JycscGFkZGluZ0xlZnQ6NTB9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmg2KG51bGwsIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1nbG9iZVwifSksIFwiwqBcIiwgXG4gICAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCBcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVwb3J0LnRlcnJpdG9yeVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSwgXG4gICAgICAgIFJlYWN0LkRPTS50ZChudWxsLCBcbiAgICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXN1Y2Nlc3NcIn0sIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXBvcnQuY29tcGFueV9jb3VudFxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtkaXNwbGF5OidpbmxpbmUtYmxvY2snfX0sIFxuICAgICAgICAgICAgXCLCoCBDb21wYW5pZXMgZm91bmQuXCJcbiAgICAgICAgICApXG4gICAgICAgICksIFxuICAgICAgICBSZWFjdC5ET00udGQoe3N0eWxlOiB7ZGlzcGxheTonYmxvY2snfX0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKHtjbGFzc05hbWU6IFwibGFiZWwgbGFiZWwtc3VjY2Vzc1wifSwgXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlcG9ydC5wZW9wbGVfY291bnRcbiAgICAgICAgICApLCBcblxuICAgICAgICAgICh0aGlzLnByb3BzLnJlcG9ydC5wcm9zcGVjdGVkKSA/IFJlYWN0LkRPTS5kaXYoe3N0eWxlOiB7bWFyZ2luVG9wOjYscGFkZGluZzo2LCBkaXNwbGF5OidibG9jaycsd2lkdGg6MTQ2fSwgY2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLXByaW1hcnlcIn0sIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2hlY2stY2lyY2xlXCJ9KSwgXCIgwqAgUHJvc3BlY3RlZFwiKSA6IFJlYWN0LkRPTS5hKHtocmVmOiBcImphdmFzY3JpcHQ6XCIsIGNsYXNzTmFtZTogXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCIsIFxuICAgICAgICAgICAgc3R5bGU6IHtiYWNrZ3JvdW5kSW1hZ2U6ICdsaW5lYXItZ3JhZGllbnQoIzhhZGQ2ZCwgIzYwYjA0NCknLG1hcmdpblRvcDo0fSwgXG4gICAgICAgICAgICBzdHlsZToge2JhY2tncm91bmRJbWFnZTogJ2xpbmVhci1ncmFkaWVudCgxODBkZWcsICMwMDk2ZmYgMCUsICMwMDVkZmYgMTAwJSknLG1hcmdpblRvcDo0fX0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG91ZC1kb3dubG9hZFwifSksIFwiIMKgXCIgKyAnICcgK1xuICAgICAgICAgICAgXCJEb3dubG9hZCBQcm9zcGVjdHNcIlxuICAgICAgICAgICksIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHtkaXNwbGF5Oidub25lJ319LCBcbiAgICAgICAgICAgIFwiwqAgUGVvcGxlIGZvdW5kLlwiXG4gICAgICAgICAgKVxuICAgICAgICApLCBcbiAgICAgICAgUmVhY3QuRE9NLnRkKHtzdHlsZTogKHRoaXMucHJvcHMucmVwb3J0LmRvbmUpID8ge2Rpc3BsYXk6J25vbmUnfSA6IHtkaXNwbGF5Oidub25lJyxwYWRkaW5nVG9wOjE3fX0sIFxuICAgICAgICAgIGxvYWRpbmdcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfVxufSk7XG4iXX0=
