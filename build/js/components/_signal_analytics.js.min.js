(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */
var paths = require('../lib/paths.min.js')

module.exports = React.createClass({displayName: 'exports',
  // SignalAnalytics
  getInitialState: function() {
    return {
      reports : []
    }
  },

  componentDidMount: function() {

  },
  
  render: function() {
    return (
      React.DOM.div(null, 
        "Analytics", 
        Sankey(null), 
        Dial(null)
      )
    )
  }
})

var Sankey = React.createClass({displayName: 'Sankey',
  componentDidMount: function() {
  },

  render: function() {
    return (
      React.DOM.div(null
      )
    )
  }
})

var Dial = React.createClass({displayName: 'Dial',
  getInitialState: function() {
    return {
      x: 0,
      y: 0,
      speeds: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    }
  },

  componentWillMount: function() {
    //setInterval(this.update, 16);
  },

  diff: function(x, y) {
    var deltaX = x - this.state.x;
    var deltaY = y - this.state.y;
    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);
  },

  avgSpeed: function() {
    var tot = 0, len = this.state.speeds.length;
    for (var i = 0; i < len; i++) {
      tot += this.state.speeds[i];
    }

    return tot / len;
  },

  update: function() {
    mousex = 0
    mousey = 0
    var speed = this.diff(mousex || 0, mousey || 0);
    this.state.speeds.shift();
    this.state.speeds.push(speed);

    this.setState({
      x: mousex || 0,
      y: mousey || 0
    });
  },

  render: function() {
    var speed = Math.max(Math.min(this.avgSpeed(), 39.9), 0.1);
    var pie = window.paths.Pie({
      r: 50,
      R: 80,
      center: [0, 0],
      data: [speed, 40 - speed],
      accessor: function(x) { return x }
    });

    var sankey = window.paths.Sankey({
      data: {
        nodes:[
          [{id:"pippo"},{id:"pluto"},{id:"paperino"}],
          [{id:"qui"},{id:"quo"},{id:"qua"}],
          [{id:"nonna papera"},{id:"ciccio"}]
        ],
        links:[
          {start:"pippo", end:"quo", weight:10},
          {start:"pippo", end:"qua", weight:30},
          {start:"pluto", end:"nonna papera", weight:10},
          {start:"pluto", end:"qui", weight:10},
          {start:"pluto", end:"quo", weight:10},
          {start:"paperino", end:"ciccio", weight:100},
          {start:"qui", end:"ciccio", weight: 20},
          {start:"quo", end:"ciccio", weight: 10},
          {start:"qua", end:"nonna papera", weight: 30}
        ]
      },
      compute: {
        //color: function(i) { return somePalette[i]; }
        color: function(i) { return '#000'; }
      },
      node_accessor: function (x) { return x.id; },
      width: 500,
      height: 400,
      gutter: 10,
      rect_width: 10
    });
    console.log(sankey)

    /*
          {{# curvedRectangles:num }}
            <path on-mouseenter="highlight" on-mouseleave="exit" d="{{ curve.path.print() }}" fill="#acd1e9" style="opacity: {{ opacity(index, index_) }}"/>
            {{# num==index_ }}
              <text transform="{{ translate_rect(curve) }}" text-anchor="middle">{{ item.weight }} </text>
            {{/ end if }}
          {{/ curvedRectangles }}

          {{# rectangles }}
            <path d="{{ curve.path.print() }}" fill="{{ color(group) }}" style="opacity: {{ opacity_rect(item, start_, end_) }}" />
            {{# firsthalf(group) }}
              <text transform="translate(7,0) {{ translate_rect(curve) }}" style="opacity: {{ opacity_rect(item, start_, end_) }}" text-anchor="start">{{ item.id }} </text> {{/ end if }}
            {{^ firsthalf(group) }}
              <text transform="translate(-7,0) {{ translate_rect(curve) }}" style="opacity: {{ opacity_rect(item, start_, end_) }}" text-anchor="end">{{ item.id }} </text>
            {{/ end else }}
          {{/ rectangles }}
    */
    curvedRectangles = _.map(sankey.curvedRectangles, function(rect) {
      return (React.DOM.path({'on-mouseenter': "highlight", 'on-mouseleave': "exit", d: rect.curve.path.print(), 
                       fill: "#acd1e9", style: {opacity: 0.5}})  
            )
    })

    rectangles = _.map(sankey.rectangles, function(rect) {
      return (React.DOM.path({'on-mouseenter': "highlight", 'on-mouseleave': "exit", d: rect.curve.path.print(), 
                       fill: "#acd1e9", style: {opacity: 0.5}})
              )
    })

    texts = _.map(sankey.rectangles, function(rect) {
      return (React.DOM.text({transform: 'translate(-7,0) translate('+rect.curve.centroid[0]+','+rect.curve.centroid[1]+')', style: {opacity: 1}, 'text-anchor': "end"},  rect.item.id, " "))
    })

    rectangles = _.flatten(_.zip(rectangles, texts))

    return React.DOM.div({className: "panel panel-default"}, 
      React.DOM.div({className: "panel-body"}, 
        React.DOM.svg({width: "500", height: "400"}, 
          React.DOM.g(null, curvedRectangles), 
          React.DOM.g(null, rectangles)
        )
      )
    )
  }, 
});


},{"../lib/paths.min.js":2}],2:[function(require,module,exports){
(function(){var e=function(){var e,t,n,r,i,s,o,u,a,f,l;return a=function(e){return e.reduce(function(e,t){return e+t},0)},i=function(e){return e.reduce(function(e,t){return Math.min(e,t)})},r=function(e){return e.reduce(function(e,t){return Math.max(e,t)})},u=function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],[n+i,r+s]},s=function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],[n-i,r-s]},l=function(e,t){var n,r;return n=t[0],r=t[1],[e*n,e*r]},n=function(e){var t,n;return t=e[0],n=e[1],Math.sqrt(t*t+n*n)},f=function(e){return e.reduce(function(e,t){return u(e,t)},[0,0])},e=function(e){return l(1/e.length,e.reduce(u))},o=function(e,t){return l(e,[Math.sin(t),-Math.cos(t)])},t=function(e,t){var n,r,i;i=e||{};for(n in i)r=i[n],t[n]=r(t.index,t.item,t.group);return t},{sum:a,min:i,max:r,plus:u,minus:s,times:l,length:n,sum_vectors:f,average:e,on_circle:o,enhance:t}}(),t=function(){return function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],function(e){return i+(s-i)*(e-n)/(r-n)}}}(),n=function(){var e;return e=function(t){var n,r,i,s,o,u,a;return r=t||[],u=function(e,t){var n;return n=e.slice(0,e.length),n.push(t),n},n=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o=function(e){var t,n;return t=e.command,n=e.params,""+t+" "+n.join(" ")},s=function(e,t){var n,r,i,s;n=e.command,r=e.params,i=t[0],s=t[1];switch(n){case"M":return[r[0],r[1]];case"L":return[r[0],r[1]];case"H":return[r[0],s];case"V":return[i,r[0]];case"Z":return null;case"C":return[r[4],r[5]];case"S":return[r[2],r[3]];case"Q":return[r[2],r[3]];case"T":return[r[0],r[1]];case"A":return[r[5],r[6]]}},a=function(e,t){return function(n){var r;return r=typeof n=="object"?e.map(function(e){return n[e]}):arguments,t.apply(null,r)}},i=function(t){return e(u(r,t))},{moveto:a(["x","y"],function(e,t){return i({command:"M",params:[e,t]})}),lineto:a(["x","y"],function(e,t){return i({command:"L",params:[e,t]})}),hlineto:a(["x"],function(e){return i({command:"H",params:[e]})}),vlineto:a(["y"],function(e){return i({command:"V",params:[e]})}),closepath:function(){return i({command:"Z",params:[]})},curveto:a(["x1","y1","x2","y2","x","y"],function(e,t,n,r,s,o){return i({command:"C",params:[e,t,n,r,s,o]})}),smoothcurveto:a(["x2","y2","x","y"],function(e,t,n,r){return i({command:"S",params:[e,t,n,r]})}),qcurveto:a(["x1","y1","x","y"],function(e,t,n,r){return i({command:"Q",params:[e,t,n,r]})}),smoothqcurveto:a(["x","y"],function(e,t){return i({command:"T",params:[e,t]})}),arc:a(["rx","ry","xrot","large_arc_flag","sweep_flag","x","y"],function(e,t,n,r,s,o,u){return i({command:"A",params:[e,t,n,r,s,o,u]})}),print:function(){return r.map(o).join(" ")},points:function(){var e,t,n,i,o,u;n=[],t=[0,0],i=function(){var r;r=s(e,t),t=r;if(r)return n.push(r)};for(o=0,u=r.length;o<u;o++)e=r[o],i();return n},instructions:function(){return r.slice(0,r.length)},connect:function(t){var r,i,s;return i=this.points().slice(-1)[0],r=t.points()[0],s=t.instructions().slice(1),n(i,r)||s.unshift({command:"L",params:r}),e(this.instructions().concat(s))}}},function(){return e()}}(),r=function(e,t){return function(n){var r,i,s,o,u,a,f;return u=n.points,r=n.closed,s=u.length,i=u[0],a=u.slice(1,+s+1||9e9),o=a.reduce(function(e,t){return e.lineto.apply(e,t)},(f=e()).moveto.apply(f,i)),{path:r?o.closepath():o,centroid:t.average(u)}}}(n,e),i=function(e){return function(t){var n,r,i,s;return r=t.left,i=t.right,s=t.top,n=t.bottom,e({points:[[i,s],[i,n],[r,n],[r,s]],closed:!0})}}(r),s=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,M,_,D,P,H,B,j,F;f=r.data,i=r.accessor,A=r.width,v=r.height,d=r.gutter,o=r.compute,i==null&&(i=function(e){return e}),d==null&&(d=0),p=[],E=0,w=0;for(m=M=0,H=f.length;M<H;m=++M){a=f[m];for(g=_=0,B=a.length;_<B;g=++_)l=a[g],k=i(l),k<E&&(E=k),k>w&&(w=k),p[g]==null&&(p[g]=[]),p[g][m]=k}S=p.length,h=(A-d*(S-1))/S,u=[],T=t([E,w],[v,0]);for(m=D=0,j=p.length;D<j;m=++D){c=p[m],L=h/c.length,N=(h+d)*m;for(g=P=0,F=c.length;P<F;g=++P)l=c[g],y=N+L*g,x=y+L,s=T(0),C=T(l),b=n({left:y,right:x,bottom:s,top:C}),u.push(e.enhance(o,{item:f[g][m],line:b,index:g}))}return{curves:u,scale:T}}}(e,t,i),o=function(e,t){var n;return n=function(e,n){return t.minus(t.times(2,e),n)},function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;p=r.points,d=r.tension,d==null&&(d=.3),u=[],f=p.length;for(a=v=1,y=f-1;1<=y?v<=y:v>=y;a=1<=y?++v:--v)u.push(t.times(d,t.minus(p[a],p[a-1])));o=[t.plus(p[0],n(u[0],u[1]))];for(a=m=1,b=f-2;1<=b?m<=b:m>=b;a=1<=b?++m:--m)o.push(t.minus(p[a],t.average([u[a],u[a-1]])));return o.push(t.minus(p[f-1],n(u[f-2],u[f-3]))),i=o[0],s=o[1],l=p[0],c=p[1],h=(w=e()).moveto.apply(w,l).curveto(i[0],i[1],s[0],s[1],c[0],c[1]),{path:function(){S=[];for(var e=2,t=f-1;2<=t?e<=t:e>=t;2<=t?e++:e--)S.push(e);return S}.apply(this).reduce(function(e,t){var n,r;return n=o[t],r=p[t],e.smoothcurveto(n[0],n[1],r[0],r[1])},h),centroid:t.average(p)}}}(n,e),u=function(e,t){return function(n){var r,i,s,o,u,a,f,l,c,h,p,d,v;return c=n.start,u=n.end,h=n.tension,h==null&&(h=.05),r=c[0],i=c[1],s=u[0],o=u[1],a=(s-r)*h,f=[r+a,i],l=[s-a,o],{path:(p=(d=(v=e()).moveto.apply(v,c)).lineto.apply(d,f).curveto(r+5*a,i,s-5*a,o,s-a,o)).lineto.apply(p,u),centroid:t.average([c,u])}}}(n,e),a=function(e,t,n){return function(e){var r,i,s,o,u,a,f,l;return f=e.topleft,l=e.topright,i=e.bottomleft,s=e.bottomright,a=t({start:f,end:l}).path,r=t({start:s,end:i}).path,u=a.connect(r).closepath(),o=n.average([f,l,i,s]),{path:u,centroid:o}}}(n,u,e),f=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;return n=function(t,n){var r,i;return r=t.mass+n.mass,i=e.times(1/r,e.plus(e.times(t.mass,t.point),e.times(n.mass,n.point))),[i,r]},o=function(e,t){var n,r,i,s,o,u,a,f,l,c;u=e[0],a=e[1];for(f=0,l=t.length;f<l;f++){i=t[f],c=i.box,o=c.top,n=c.bottom,r=c.left,s=c.right;if(r<=u&&u<=s&&n<=a&&a<=o)return i}},a=function(e,t){var n,r,i,s,o,u,a,f;return f=e.top,i=e.bottom,u=e.left,a=e.right,n=t[0],r=t[1],o=(u+a)/2,s=(f+i)/2,{box:{top:r?s:f,bottom:r?i:s,left:n?o:u,right:n?a:o}}},h=function(e){var t;return t=e.box,[a(t,[0,0]),a(t,[1,0]),a(t,[0,1]),a(t,[1,1])]},t=function(e,r){var i,s,u;return e.body?(s=e.body,delete e.body,e.children=h(e),t(e,s),t(e,r)):e.children?(i=o(r.point,e.children),u=e.point?n(e,r):[r.point,r.mass],e.point=u[0],e.mass=u[1],t(i,r)):e.body=r},l=function(e,n){var r;return e.length===0?n:(r=e.shift(),t(n,r),l(e,n))},u=function(e){var t,n,r;t=[];for(n in e)r=e[n],t.push({id:n,point:r,mass:1});return t},f=function(e,t){return{box:{top:t,bottom:0,left:0,right:e}}},p=function(e,t){var n,r,i,s,o;if(e.body)return t(e);if(e.children){s=e.children,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(p(n,t));return o}},r=function(t,n,r){var i,s;return s=e.minus(t.point,n.point),i=e.length(s),e.times(r*t.mass*n.mass/(i*i*i),s)},i=function(t){var n,r,i,s;return s=t.top,n=t.bottom,r=t.left,i=t.right,e.length([s-n,i-r])},s=function(t,n,o,u){var a,f;return n===t?[0,0]:n.body?r(t.body,n.body,o):n.point?(f=i(n.box),a=e.length(e.minus(t.body.point,n.point)),f/a<u?r(t.body,n,o):e.sum_vectors(n.children.map(function(e){return s(t,e,o,u)}))):[0,0]},c=function(e,t,n){var r;return r={},p(e,function(i){return r[i.body.id]=s(i,e,t,n)}),r},{tree:l,bodies:u,root:f,forces:c}}(e),l=function(e,t,n){var r,i,s,o,u;return u=function(e,t){return[Math.random()*e,Math.random()*t]},i=function(e,t){return Math.min(Math.max(t,0),e)},s=function(e,t){return function(n){var r,s;return r=n[0],s=n[1],[i(e,r),i(t,s)]}},o=function(e,t){var n,r,i;r=[];for(n in e)i=e[n],r.push(t(n,i));return r},r=function(e,n,r){var i,s,o,u,a,f,l,c,h;o={};for(u in e)h=e[u],l=h.start,i=h.end,c=h.weight,a=n[l],f=n[i],s=t.times(r*c,t.minus(a,f)),o[l]==null&&(o[l]=[0,0]),o[i]==null&&(o[i]=[0,0]),o[l]=t.minus(o[l],s),o[i]=t.plus(o[i],s);return o},function(i){var a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,M,_,D,P,H,B,j,F,I;h=i.data,S=i.nodeaccessor,y=i.linkaccessor,P=i.width,v=i.height,a=i.attraction,k=i.repulsion,A=i.threshold,S==null&&(S=function(e){return e}),y==null&&(y=function(e){return e}),a==null&&(a=1),k==null&&(k=1),A==null&&(A=.5),f=s(P,v),x=h.nodes,b=h.links,c=h.constraints,c==null&&(c={}),N={},T={};for(H=0,j=x.length;H<j;H++)E=x[H],m=S(E),N[m]=c[m]||u(P,v),T[m]=E;w={};for(B=0,F=b.length;B<F;B++)g=b[B],I=y(g),L=I.start,p=I.end,D=I.weight,w[""+L+"|"+p]={weight:D,start:L,end:p,link:g};return M=function(){var e,i,s,o,u,l,h,p,d;i=n.bodies(N),p=n.root(P,v),d=n.tree(i,p),e=r(w,N,a/1e3),h=n.forces(d,k*1e3,A);for(m in N)l=N[m],c[m]?N[m]=c[m]:(o=e[m]||[0,0],u=h[m]||[0,0],s=t.plus(o,u),N[m]=f(t.plus(l,s)));return C()},l=function(e,t){return c[e]=t},_=function(e){return delete c[e]},d={tick:M,constrain:l,unconstrain:_},C=function(){var t;return t=-1,d.curves=o(w,function(n,r){var i,s,o,u,a;return a=r.start,i=r.end,s=r.link,t+=1,o=N[a],u=N[i],{link:e({points:[o,u],closed:!1}),item:s,index:t}}),d.nodes=o(T,function(e,t){return{point:N[e],item:t}}),d},C()}}(r,e,f),c=[].slice,h=function(e,t){return function(n){var r,i,s,o,u,a,f,l,h,p,d,v,m,g,y,b,w,E;return u=n.center,m=n.r,r=n.R,g=n.start,l=n.end,i=t.plus(u,t.on_circle(r,g)),s=t.plus(u,t.on_circle(r,l)),o=t.plus(u,t.on_circle(m,l)),f=t.plus(u,t.on_circle(m,g)),h=l-g>Math.PI?1:0,v=(y=(b=(w=(E=e()).moveto.apply(E,i)).arc.apply(w,[r,r,0,h,1].concat(c.call(s)))).lineto.apply(b,o)).arc.apply(y,[m,m,0,h,0].concat(c.call(f))).closepath(),p=(g+l)/2,d=(m+r)/2,a=t.plus(u,t.on_circle(d,p)),{path:v,centroid:a}}}(n,e),p=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;f=r.data,s=r.accessor,o=r.center,h=r.r,i=r.R,u=r.compute,g=function(){var e,t,n;n=[];for(e=0,t=f.length;e<t;e++)c=f[e],n.push(s(c));return n}(),p=t.sum(g),d=e([0,p],[0,2*Math.PI]),a=[],v=0;for(l=y=0,b=f.length;y<b;l=++y)c=f[l],m=g[l],a.push(t.enhance(u,{item:c,index:l,sector:n({center:o,r:h,R:i,start:d(v),end:d(v+m)})})),v+=m;return{curves:a}}}(t,e,h),d=function(e,t){return function(n){var r,i,s,o;return i=n.center,o=n.radii,r=2*Math.PI/o.length,s=o.map(function(e,n){return t.plus(i,t.on_circle(e,n*r))}),e({points:s,closed:!0})}}(r,e),v=function(e,t){var n,r,i;return n=function(e){var t,n,r,i,s,o,u,a,f,l;n=[],r=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)i=e[t],r.push(Object.keys(i));return r}();for(o=0,a=e.length;o<a;o++){s=e[o],l=Object.keys(s);for(u=0,f=l.length;u<f;u++)t=l[u],n.indexOf(t)===-1&&n.push(t)}return n},i=function(e){var t,n,r,i,s;t={},r=function(e){return t[e]=function(t){return t[e]}};for(i=0,s=e.length;i<s;i++)n=e[i],r(n);return t},r=function(e,n){var r,i;return r=Object.keys(n),i=e.map(function(e){var i;return i=r.map(function(t){return n[t](e)}),t.max(i)}),t.max(i)},function(s){var o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return l=s.data,o=s.accessor,a=s.center,v=s.r,p=s.max,g=s.rings,f=s.compute,g==null&&(g=3),o==null&&(o=i(n(l))),h=Object.keys(o),y=h.length,u=2*Math.PI/y,c=-1,p==null&&(p=r(l,o)),m=function(){w=[];for(var e=1;1<=g?e<=g:e>=g;1<=g?e++:e--)w.push(e);return w}.apply(this).map(function(t){var n,r,i,s;return n=v*t/g,e({center:a,radii:function(){s=[];for(var e=0,t=y-1;0<=t?e<=t:e>=t;0<=t?e++:e--)s.push(e);return s}.apply(this).map(function(e){return n})})}),d=l.map(function(n){return c+=1,t.enhance(f,{polygon:e({center:a,radii:h.map(function(e){return v*o[e](n)/p})}),item:n,index:c})}),{curves:d,rings:m}}}(d,e),m=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;o=r.data,d=r.node_accessor,l=r.link_accessor,N=r.width,a=r.height,u=r.gutter,g=r.rect_width,i=r.compute,d==null&&(d=function(e){return e}),l==null&&(l=function(e){return e}),u==null&&(u=10),g==null&&(g=10),c=o.links.map(l),m=o.nodes.map(function(e){return e.map(d)}),E=(N-g)/(o.nodes.length-1),p={},m.reduce(function(e,t){return e.concat(t)}).forEach(function(e){return p[e]={value:0,currently_used_in:0,currently_used_out:0}});for(h in p)x=c.filter(function(e){return e.end===h}).map(function(e){return e.weight}).reduce(function(e,t){return e+t},0),T=c.filter(function(e){return e.start===h}).map(function(e){return e.weight}).reduce(function(e,t){return e+t},0),p[h].value=Math.max(x,T);f=m.map(function(e){return e.map(function(e){return p[e].value}).reduce(function(e,t){return e+t})}),w=m.map(function(e){return a-(e.length-1)*u}),b=f.map(function(e,t){return w[t]/e}).reduce(function(e,t){return Math.min(e,t)});for(h in p)S=p[h],p[h].scaled_value=b*S.value;return y=[],v=-1,m.forEach(function(t,r){var s,f,l,c;return f=t.reduce(function(e,t){return e+p[t].scaled_value},0)+(t.length-1)*u,c=(a-f)/2,s=c,l=s-u,t.forEach(function(t,s){var a,f,c;return c=l+u,f=c+p[t].scaled_value,l=f,a=p[t].rectangle_coords={top:c,bottom:f,left:g/2+r*E-g/2,right:g/2+r*E+g/2},v+=1,y.push(n.enhance(i,{curve:e(a),item:o.nodes[r][s],index:v,group:r}))})}),s=c.map(function(e,r){var s,u,a,f,l,c,h,d;return h=e.start,d=e.end,f=p[h].rectangle_coords,l=p[d].rectangle_coords,c=e.weight*b,s=f.top+p[h].currently_used_out,u=l.top+p[d].currently_used_in,a={topleft:[f.right,s],topright:[l.left,u],bottomleft:[f.right,s+c],bottomright:[l.left,u+c]},p[h].currently_used_out=p[h].currently_used_out+c,p[d].currently_used_in=p[d].currently_used_in+c,n.enhance(i,{curve:t(a),item:o.links[r],index:r})}),{curvedRectangles:s,rectangles:y}}}(i,a,e),g=function(e,t){var n;return n=function(e,n){var r,i,s,o,u;return s=function(){var t,i,s;s=[];for(t=0,i=e.length;t<i;t++)r=e[t],s.push(n(r));return s}(),o=s.sort(function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],n-i}),u=o.map(function(e){return e[1]}),i=o.length,{points:o,xmin:o[0][0],xmax:o[i-1][0],ymin:t.min(u),ymax:t.max(u)}},function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return u=r.data,p=r.xaccessor,g=r.yaccessor,h=r.width,l=r.height,o=r.closed,p==null&&(p=function(e){var t,n;return t=e[0],n=e[1],t}),g==null&&(g=function(e){var t,n;return t=e[0],n=e[1],n}),f=function(e){return[p(e),g(e)]},i=function(){var e,t,r;r=[];for(e=0,t=u.length;e<t;e++)a=u[e],r.push(n(a,f));return r}(),v=t.min(i.map(function(e){return e.xmin})),d=t.max(i.map(function(e){return e.xmax})),b=t.min(i.map(function(e){return e.ymin})),y=t.max(i.map(function(e){return e.ymax})),o&&(b=Math.min(b,0),y=Math.max(y,0)),s=o?0:b,m=e([v,d],[0,h]),w=e([b,y],[l,0]),c=function(e){var t,n;return t=e[0],n=e[1],[m(t),w(n)]},{arranged:i,scale:c,xscale:m,yscale:w,base:s}}}(t,e),y=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c;return c=n(r),i=c.arranged,a=c.scale,f=c.xscale,l=c.yscale,s=c.base,o=-1,u=i.map(function(n){var i,u,f,l,c,h,p,d;return f=n.points,h=n.xmin,c=n.xmax,l=f.map(a),o+=1,u=e({points:l}),i={path:(p=(d=u.path).lineto.apply(d,a([c,s]))).lineto.apply(p,a([h,s])).closepath(),centroid:t.average([u.centroid,a([h,s]),a([c,s])])},t.enhance(r.compute,{item:r.data[o],line:u,area:i,index:o})}),{curves:u,xscale:f,yscale:l}}}(o,e,g),b=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c;return c=t(r),i=c.arranged,a=c.scale,f=c.xscale,l=c.yscale,s=c.base,o=-1,u=i.map(function(t){var i,u,f,l,c;return i=t.points,c=t.xmin,l=t.xmax,u=i.map(a),i.push([l,s]),i.push([c,s]),f=i.map(a),o+=1,n.enhance(r.compute,{item:r.data[o],line:e({points:u,closed:!1}),area:e({points:f,closed:!0}),index:o})}),{curves:u,xscale:f,yscale:l}}}(r,g,e),w=function(){var e,t,n,r,i;return n=function(e,t){return e==null&&(e=[]),e.reduce(function(e,n){return Math.max(e,t(n))},0)},i=function(e){return 1+n(e.children,i)},e=function(t,n,r){var i,s;return r==null&&(r=0),s={item:t,level:r},i=n(t),i&&i.length&&(s.children=i.map(function(t){return e(t,n,r+1)})),s},r=function(e,t,n){var i,s,o,u;n==null&&(n=[]),t==null&&(t=0),n[t]!=null?(e.height=n[t]+1,n[t]+=1):(n[t]=0,e.height=0),u=e.children||[];for(s=0,o=u.length;s<o;s++)i=u[s],r(i,t+1,n);return n},t=function(e,n){var r,i,s,o,u;i=[],u=e.children||[];for(s=0,o=u.length;s<o;s++)r=u[s],i.push(n(e,r)),i=i.concat(t(r,n));return i},{tree_height:i,build_tree:e,set_height:r,collect:t}}(),E=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;return u=r.data,b=r.width,a=r.height,s=r.children,m=r.tension,s==null&&(s=function(e){return e.children}),g=n.build_tree(u,s),h=n.tree_height(g),p=n.set_height(g),l=b/(h-1),f=t([0,h-1],[0,b]),y=function(){S=[];for(var e=0,t=h-1;0<=t?e<=t:e>=t;0<=t?e++:e--)S.push(e);return S}.apply(this).map(function(e){var n,r,i,s;return n=Math.sqrt(e/(h-1))*a,s=(a-n)/2,r=s+n,i=e>0?p[e]+p[e-1]:p[e],i===0?function(e){return a/2}:t([0,i],[s,r])}),d=function(e){var t,n;return t=e.level,n=y[t],[f(t),n(e.height_)]},c=-1,o=n.collect(g,function(t,n){return c+=1,n.height_=n.height+t.height,{connector:e({start:d(t),end:d(n),tension:m}),index:c,item:{start:t.item,end:n.item}}}),i=n.collect(g,function(e,t){return{point:d(t),item:t.item}}),v={point:d(g),item:g.item},{curves:o,nodes:[v].concat(i)}}}(u,t,w),S=function(e,t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,M,_,D,P,H,B,j;h=r.data,o=r.accessor,M=r.width,v=r.height,d=r.gutter,f=r.compute,T=r.min,x=r.max,o==null&&(o=function(e){return e}),d==null&&(d=0),T==null&&(T=0),x==null&&(x=0),y=0,p=[];for(_=0,P=h.length;_<P;_++)c=h[_],B=o(c),A=B.value,s=B.absolute,j=s?[0,A||y]:[y,y+A],E=j[0],m=j[1],S=Math.min(E,m),i=Math.max(E,m),T=Math.min(T,S),x=Math.max(x,i),y=m,p.push({item:c,low:E,high:m,value:A!=null?A:m});N=p.length,u=(M-d*(N-1))/N,l=[],k=t([T,x],[v,0]);for(g=D=0,H=p.length;D<H;g=++D)c=p[g],b=g*(u+d),C=b+u,a=k(c.low),L=k(c.high),w=n({left:b,right:C,bottom:a,top:L}),l.push(e.enhance(f,{item:c.item,line:w,value:c.value,index:g}));return{curves:l,scale:k}}}(e,t,i),x=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){return window.paths={Bar:e,Bezier:t,Connector:n,CurvedRectangle:r,Graph:i,Linear:s,Ops:o,Path:u,Pie:a,Polygon:f,Radar:l,Rectangle:c,Sankey:h,Sector:p,SemiRegularPolygon:d,SmoothLine:v,Stock:m,Tree:g,Waterfall:y}}(s,o,u,a,l,t,e,n,p,r,v,i,m,h,d,y,b,E,S)})();

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvX3NpZ25hbF9hbmFseXRpY3MuanMubWluLmpzIiwiL1VzZXJzL3JvYmluL1Byb2plY3RzL3Byb3NwZWN0ZXIvcHJvc3BlY3Rlci1wYXJzZS9kZXYvYnVpbGQvanMvbGliL3BhdGhzLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXG52YXIgcGF0aHMgPSByZXF1aXJlKCcuLi9saWIvcGF0aHMubWluLmpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnbmFsQW5hbHl0aWNzXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcG9ydHMgOiBbXVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG5cbiAgfSxcbiAgXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbCwgXG4gICAgICAgIFwiQW5hbHl0aWNzXCIsIFxuICAgICAgICBTYW5rZXkobnVsbCksIFxuICAgICAgICBEaWFsKG51bGwpXG4gICAgICApXG4gICAgKVxuICB9XG59KVxuXG52YXIgU2Fua2V5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnU2Fua2V5JyxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LkRPTS5kaXYobnVsbFxuICAgICAgKVxuICAgIClcbiAgfVxufSlcblxudmFyIERpYWwgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdEaWFsJyxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICBzcGVlZHM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vc2V0SW50ZXJ2YWwodGhpcy51cGRhdGUsIDE2KTtcbiAgfSxcblxuICBkaWZmOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgdmFyIGRlbHRhWCA9IHggLSB0aGlzLnN0YXRlLng7XG4gICAgdmFyIGRlbHRhWSA9IHkgLSB0aGlzLnN0YXRlLnk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpO1xuICB9LFxuXG4gIGF2Z1NwZWVkOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG90ID0gMCwgbGVuID0gdGhpcy5zdGF0ZS5zcGVlZHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvdCArPSB0aGlzLnN0YXRlLnNwZWVkc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG90IC8gbGVuO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgbW91c2V4ID0gMFxuICAgIG1vdXNleSA9IDBcbiAgICB2YXIgc3BlZWQgPSB0aGlzLmRpZmYobW91c2V4IHx8IDAsIG1vdXNleSB8fCAwKTtcbiAgICB0aGlzLnN0YXRlLnNwZWVkcy5zaGlmdCgpO1xuICAgIHRoaXMuc3RhdGUuc3BlZWRzLnB1c2goc3BlZWQpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB4OiBtb3VzZXggfHwgMCxcbiAgICAgIHk6IG1vdXNleSB8fCAwXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3BlZWQgPSBNYXRoLm1heChNYXRoLm1pbih0aGlzLmF2Z1NwZWVkKCksIDM5LjkpLCAwLjEpO1xuICAgIHZhciBwaWUgPSB3aW5kb3cucGF0aHMuUGllKHtcbiAgICAgIHI6IDUwLFxuICAgICAgUjogODAsXG4gICAgICBjZW50ZXI6IFswLCAwXSxcbiAgICAgIGRhdGE6IFtzcGVlZCwgNDAgLSBzcGVlZF0sXG4gICAgICBhY2Nlc3NvcjogZnVuY3Rpb24oeCkgeyByZXR1cm4geCB9XG4gICAgfSk7XG5cbiAgICB2YXIgc2Fua2V5ID0gd2luZG93LnBhdGhzLlNhbmtleSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5vZGVzOltcbiAgICAgICAgICBbe2lkOlwicGlwcG9cIn0se2lkOlwicGx1dG9cIn0se2lkOlwicGFwZXJpbm9cIn1dLFxuICAgICAgICAgIFt7aWQ6XCJxdWlcIn0se2lkOlwicXVvXCJ9LHtpZDpcInF1YVwifV0sXG4gICAgICAgICAgW3tpZDpcIm5vbm5hIHBhcGVyYVwifSx7aWQ6XCJjaWNjaW9cIn1dXG4gICAgICAgIF0sXG4gICAgICAgIGxpbmtzOltcbiAgICAgICAgICB7c3RhcnQ6XCJwaXBwb1wiLCBlbmQ6XCJxdW9cIiwgd2VpZ2h0OjEwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJwaXBwb1wiLCBlbmQ6XCJxdWFcIiwgd2VpZ2h0OjMwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJwbHV0b1wiLCBlbmQ6XCJub25uYSBwYXBlcmFcIiwgd2VpZ2h0OjEwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJwbHV0b1wiLCBlbmQ6XCJxdWlcIiwgd2VpZ2h0OjEwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJwbHV0b1wiLCBlbmQ6XCJxdW9cIiwgd2VpZ2h0OjEwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJwYXBlcmlub1wiLCBlbmQ6XCJjaWNjaW9cIiwgd2VpZ2h0OjEwMH0sXG4gICAgICAgICAge3N0YXJ0OlwicXVpXCIsIGVuZDpcImNpY2Npb1wiLCB3ZWlnaHQ6IDIwfSxcbiAgICAgICAgICB7c3RhcnQ6XCJxdW9cIiwgZW5kOlwiY2ljY2lvXCIsIHdlaWdodDogMTB9LFxuICAgICAgICAgIHtzdGFydDpcInF1YVwiLCBlbmQ6XCJub25uYSBwYXBlcmFcIiwgd2VpZ2h0OiAzMH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGNvbXB1dGU6IHtcbiAgICAgICAgLy9jb2xvcjogZnVuY3Rpb24oaSkgeyByZXR1cm4gc29tZVBhbGV0dGVbaV07IH1cbiAgICAgICAgY29sb3I6IGZ1bmN0aW9uKGkpIHsgcmV0dXJuICcjMDAwJzsgfVxuICAgICAgfSxcbiAgICAgIG5vZGVfYWNjZXNzb3I6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9LFxuICAgICAgd2lkdGg6IDUwMCxcbiAgICAgIGhlaWdodDogNDAwLFxuICAgICAgZ3V0dGVyOiAxMCxcbiAgICAgIHJlY3Rfd2lkdGg6IDEwXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coc2Fua2V5KVxuXG4gICAgLypcbiAgICAgICAgICB7eyMgY3VydmVkUmVjdGFuZ2xlczpudW0gfX1cbiAgICAgICAgICAgIDxwYXRoIG9uLW1vdXNlZW50ZXI9XCJoaWdobGlnaHRcIiBvbi1tb3VzZWxlYXZlPVwiZXhpdFwiIGQ9XCJ7eyBjdXJ2ZS5wYXRoLnByaW50KCkgfX1cIiBmaWxsPVwiI2FjZDFlOVwiIHN0eWxlPVwib3BhY2l0eToge3sgb3BhY2l0eShpbmRleCwgaW5kZXhfKSB9fVwiLz5cbiAgICAgICAgICAgIHt7IyBudW09PWluZGV4XyB9fVxuICAgICAgICAgICAgICA8dGV4dCB0cmFuc2Zvcm09XCJ7eyB0cmFuc2xhdGVfcmVjdChjdXJ2ZSkgfX1cIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiPnt7IGl0ZW0ud2VpZ2h0IH19IDwvdGV4dD5cbiAgICAgICAgICAgIHt7LyBlbmQgaWYgfX1cbiAgICAgICAgICB7ey8gY3VydmVkUmVjdGFuZ2xlcyB9fVxuXG4gICAgICAgICAge3sjIHJlY3RhbmdsZXMgfX1cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJ7eyBjdXJ2ZS5wYXRoLnByaW50KCkgfX1cIiBmaWxsPVwie3sgY29sb3IoZ3JvdXApIH19XCIgc3R5bGU9XCJvcGFjaXR5OiB7eyBvcGFjaXR5X3JlY3QoaXRlbSwgc3RhcnRfLCBlbmRfKSB9fVwiIC8+XG4gICAgICAgICAgICB7eyMgZmlyc3RoYWxmKGdyb3VwKSB9fVxuICAgICAgICAgICAgICA8dGV4dCB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNywwKSB7eyB0cmFuc2xhdGVfcmVjdChjdXJ2ZSkgfX1cIiBzdHlsZT1cIm9wYWNpdHk6IHt7IG9wYWNpdHlfcmVjdChpdGVtLCBzdGFydF8sIGVuZF8pIH19XCIgdGV4dC1hbmNob3I9XCJzdGFydFwiPnt7IGl0ZW0uaWQgfX0gPC90ZXh0PiB7ey8gZW5kIGlmIH19XG4gICAgICAgICAgICB7e14gZmlyc3RoYWxmKGdyb3VwKSB9fVxuICAgICAgICAgICAgICA8dGV4dCB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTcsMCkge3sgdHJhbnNsYXRlX3JlY3QoY3VydmUpIH19XCIgc3R5bGU9XCJvcGFjaXR5OiB7eyBvcGFjaXR5X3JlY3QoaXRlbSwgc3RhcnRfLCBlbmRfKSB9fVwiIHRleHQtYW5jaG9yPVwiZW5kXCI+e3sgaXRlbS5pZCB9fSA8L3RleHQ+XG4gICAgICAgICAgICB7ey8gZW5kIGVsc2UgfX1cbiAgICAgICAgICB7ey8gcmVjdGFuZ2xlcyB9fVxuICAgICovXG4gICAgY3VydmVkUmVjdGFuZ2xlcyA9IF8ubWFwKHNhbmtleS5jdXJ2ZWRSZWN0YW5nbGVzLCBmdW5jdGlvbihyZWN0KSB7XG4gICAgICByZXR1cm4gKFJlYWN0LkRPTS5wYXRoKHsnb24tbW91c2VlbnRlcic6IFwiaGlnaGxpZ2h0XCIsICdvbi1tb3VzZWxlYXZlJzogXCJleGl0XCIsIGQ6IHJlY3QuY3VydmUucGF0aC5wcmludCgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogXCIjYWNkMWU5XCIsIHN0eWxlOiB7b3BhY2l0eTogMC41fX0pICBcbiAgICAgICAgICAgIClcbiAgICB9KVxuXG4gICAgcmVjdGFuZ2xlcyA9IF8ubWFwKHNhbmtleS5yZWN0YW5nbGVzLCBmdW5jdGlvbihyZWN0KSB7XG4gICAgICByZXR1cm4gKFJlYWN0LkRPTS5wYXRoKHsnb24tbW91c2VlbnRlcic6IFwiaGlnaGxpZ2h0XCIsICdvbi1tb3VzZWxlYXZlJzogXCJleGl0XCIsIGQ6IHJlY3QuY3VydmUucGF0aC5wcmludCgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogXCIjYWNkMWU5XCIsIHN0eWxlOiB7b3BhY2l0eTogMC41fX0pXG4gICAgICAgICAgICAgIClcbiAgICB9KVxuXG4gICAgdGV4dHMgPSBfLm1hcChzYW5rZXkucmVjdGFuZ2xlcywgZnVuY3Rpb24ocmVjdCkge1xuICAgICAgcmV0dXJuIChSZWFjdC5ET00udGV4dCh7dHJhbnNmb3JtOiAndHJhbnNsYXRlKC03LDApIHRyYW5zbGF0ZSgnK3JlY3QuY3VydmUuY2VudHJvaWRbMF0rJywnK3JlY3QuY3VydmUuY2VudHJvaWRbMV0rJyknLCBzdHlsZToge29wYWNpdHk6IDF9LCAndGV4dC1hbmNob3InOiBcImVuZFwifSwgIHJlY3QuaXRlbS5pZCwgXCIgXCIpKVxuICAgIH0pXG5cbiAgICByZWN0YW5nbGVzID0gXy5mbGF0dGVuKF8uemlwKHJlY3RhbmdsZXMsIHRleHRzKSlcblxuICAgIHJldHVybiBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwgcGFuZWwtZGVmYXVsdFwifSwgXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicGFuZWwtYm9keVwifSwgXG4gICAgICAgIFJlYWN0LkRPTS5zdmcoe3dpZHRoOiBcIjUwMFwiLCBoZWlnaHQ6IFwiNDAwXCJ9LCBcbiAgICAgICAgICBSZWFjdC5ET00uZyhudWxsLCBjdXJ2ZWRSZWN0YW5nbGVzKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmcobnVsbCwgcmVjdGFuZ2xlcylcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgfSwgXG59KTtcblxuIiwiKGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHMsbyx1LGEsZixsO3JldHVybiBhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LDApfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1pbihlLHQpfSl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsdCl9KX0sdT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzO3JldHVybiBuPWVbMF0scj1lWzFdLGk9dFswXSxzPXRbMV0sW24raSxyK3NdfSxzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHM7cmV0dXJuIG49ZVswXSxyPWVbMV0saT10WzBdLHM9dFsxXSxbbi1pLHItc119LGw9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiBuPXRbMF0scj10WzFdLFtlKm4sZSpyXX0sbj1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiB0PWVbMF0sbj1lWzFdLE1hdGguc3FydCh0KnQrbipuKX0sZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdShlLHQpfSxbMCwwXSl9LGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoMS9lLmxlbmd0aCxlLnJlZHVjZSh1KSl9LG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbChlLFtNYXRoLnNpbih0KSwtTWF0aC5jb3ModCldKX0sdD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpPWV8fHt9O2ZvcihuIGluIGkpcj1pW25dLHRbbl09cih0LmluZGV4LHQuaXRlbSx0Lmdyb3VwKTtyZXR1cm4gdH0se3N1bTphLG1pbjppLG1heDpyLHBsdXM6dSxtaW51czpzLHRpbWVzOmwsbGVuZ3RoOm4sc3VtX3ZlY3RvcnM6ZixhdmVyYWdlOmUsb25fY2lyY2xlOm8sZW5oYW5jZTp0fX0oKSx0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHM7cmV0dXJuIG49ZVswXSxyPWVbMV0saT10WzBdLHM9dFsxXSxmdW5jdGlvbihlKXtyZXR1cm4gaSsocy1pKSooZS1uKS8oci1uKX19fSgpLG49ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT1mdW5jdGlvbih0KXt2YXIgbixyLGkscyxvLHUsYTtyZXR1cm4gcj10fHxbXSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG49ZS5zbGljZSgwLGUubGVuZ3RoKSxuLnB1c2godCksbn0sbj1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV19LG89ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdD1lLmNvbW1hbmQsbj1lLnBhcmFtcyxcIlwiK3QrXCIgXCIrbi5qb2luKFwiIFwiKX0scz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzO249ZS5jb21tYW5kLHI9ZS5wYXJhbXMsaT10WzBdLHM9dFsxXTtzd2l0Y2gobil7Y2FzZVwiTVwiOnJldHVybltyWzBdLHJbMV1dO2Nhc2VcIkxcIjpyZXR1cm5bclswXSxyWzFdXTtjYXNlXCJIXCI6cmV0dXJuW3JbMF0sc107Y2FzZVwiVlwiOnJldHVybltpLHJbMF1dO2Nhc2VcIlpcIjpyZXR1cm4gbnVsbDtjYXNlXCJDXCI6cmV0dXJuW3JbNF0scls1XV07Y2FzZVwiU1wiOnJldHVybltyWzJdLHJbM11dO2Nhc2VcIlFcIjpyZXR1cm5bclsyXSxyWzNdXTtjYXNlXCJUXCI6cmV0dXJuW3JbMF0sclsxXV07Y2FzZVwiQVwiOnJldHVybltyWzVdLHJbNl1dfX0sYT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcjtyZXR1cm4gcj10eXBlb2Ygbj09XCJvYmplY3RcIj9lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pOmFyZ3VtZW50cyx0LmFwcGx5KG51bGwscil9fSxpPWZ1bmN0aW9uKHQpe3JldHVybiBlKHUocix0KSl9LHttb3ZldG86YShbXCJ4XCIsXCJ5XCJdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoe2NvbW1hbmQ6XCJNXCIscGFyYW1zOltlLHRdfSl9KSxsaW5ldG86YShbXCJ4XCIsXCJ5XCJdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoe2NvbW1hbmQ6XCJMXCIscGFyYW1zOltlLHRdfSl9KSxobGluZXRvOmEoW1wieFwiXSxmdW5jdGlvbihlKXtyZXR1cm4gaSh7Y29tbWFuZDpcIkhcIixwYXJhbXM6W2VdfSl9KSx2bGluZXRvOmEoW1wieVwiXSxmdW5jdGlvbihlKXtyZXR1cm4gaSh7Y29tbWFuZDpcIlZcIixwYXJhbXM6W2VdfSl9KSxjbG9zZXBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gaSh7Y29tbWFuZDpcIlpcIixwYXJhbXM6W119KX0sY3VydmV0bzphKFtcIngxXCIsXCJ5MVwiLFwieDJcIixcInkyXCIsXCJ4XCIsXCJ5XCJdLGZ1bmN0aW9uKGUsdCxuLHIscyxvKXtyZXR1cm4gaSh7Y29tbWFuZDpcIkNcIixwYXJhbXM6W2UsdCxuLHIscyxvXX0pfSksc21vb3RoY3VydmV0bzphKFtcIngyXCIsXCJ5MlwiLFwieFwiLFwieVwiXSxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gaSh7Y29tbWFuZDpcIlNcIixwYXJhbXM6W2UsdCxuLHJdfSl9KSxxY3VydmV0bzphKFtcIngxXCIsXCJ5MVwiLFwieFwiLFwieVwiXSxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gaSh7Y29tbWFuZDpcIlFcIixwYXJhbXM6W2UsdCxuLHJdfSl9KSxzbW9vdGhxY3VydmV0bzphKFtcInhcIixcInlcIl0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh7Y29tbWFuZDpcIlRcIixwYXJhbXM6W2UsdF19KX0pLGFyYzphKFtcInJ4XCIsXCJyeVwiLFwieHJvdFwiLFwibGFyZ2VfYXJjX2ZsYWdcIixcInN3ZWVwX2ZsYWdcIixcInhcIixcInlcIl0sZnVuY3Rpb24oZSx0LG4scixzLG8sdSl7cmV0dXJuIGkoe2NvbW1hbmQ6XCJBXCIscGFyYW1zOltlLHQsbixyLHMsbyx1XX0pfSkscHJpbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5tYXAobykuam9pbihcIiBcIil9LHBvaW50czpmdW5jdGlvbigpe3ZhciBlLHQsbixpLG8sdTtuPVtdLHQ9WzAsMF0saT1mdW5jdGlvbigpe3ZhciByO3I9cyhlLHQpLHQ9cjtpZihyKXJldHVybiBuLnB1c2gocil9O2ZvcihvPTAsdT1yLmxlbmd0aDtvPHU7bysrKWU9cltvXSxpKCk7cmV0dXJuIG59LGluc3RydWN0aW9uczpmdW5jdGlvbigpe3JldHVybiByLnNsaWNlKDAsci5sZW5ndGgpfSxjb25uZWN0OmZ1bmN0aW9uKHQpe3ZhciByLGkscztyZXR1cm4gaT10aGlzLnBvaW50cygpLnNsaWNlKC0xKVswXSxyPXQucG9pbnRzKClbMF0scz10Lmluc3RydWN0aW9ucygpLnNsaWNlKDEpLG4oaSxyKXx8cy51bnNoaWZ0KHtjb21tYW5kOlwiTFwiLHBhcmFtczpyfSksZSh0aGlzLmluc3RydWN0aW9ucygpLmNvbmNhdChzKSl9fX0sZnVuY3Rpb24oKXtyZXR1cm4gZSgpfX0oKSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByLGkscyxvLHUsYSxmO3JldHVybiB1PW4ucG9pbnRzLHI9bi5jbG9zZWQscz11Lmxlbmd0aCxpPXVbMF0sYT11LnNsaWNlKDEsK3MrMXx8OWU5KSxvPWEucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGluZXRvLmFwcGx5KGUsdCl9LChmPWUoKSkubW92ZXRvLmFwcGx5KGYsaSkpLHtwYXRoOnI/by5jbG9zZXBhdGgoKTpvLGNlbnRyb2lkOnQuYXZlcmFnZSh1KX19fShuLGUpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuLHIsaSxzO3JldHVybiByPXQubGVmdCxpPXQucmlnaHQscz10LnRvcCxuPXQuYm90dG9tLGUoe3BvaW50czpbW2ksc10sW2ksbl0sW3Isbl0sW3Isc11dLGNsb3NlZDohMH0pfX0ocikscz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpLHMsbyx1LGEsZixsLGMsaCxwLGQsdixtLGcseSxiLHcsRSxTLHgsVCxOLEMsayxMLEEsTSxfLEQsUCxILEIsaixGO2Y9ci5kYXRhLGk9ci5hY2Nlc3NvcixBPXIud2lkdGgsdj1yLmhlaWdodCxkPXIuZ3V0dGVyLG89ci5jb21wdXRlLGk9PW51bGwmJihpPWZ1bmN0aW9uKGUpe3JldHVybiBlfSksZD09bnVsbCYmKGQ9MCkscD1bXSxFPTAsdz0wO2ZvcihtPU09MCxIPWYubGVuZ3RoO008SDttPSsrTSl7YT1mW21dO2ZvcihnPV89MCxCPWEubGVuZ3RoO188QjtnPSsrXylsPWFbZ10saz1pKGwpLGs8RSYmKEU9ayksaz53JiYodz1rKSxwW2ddPT1udWxsJiYocFtnXT1bXSkscFtnXVttXT1rfVM9cC5sZW5ndGgsaD0oQS1kKihTLTEpKS9TLHU9W10sVD10KFtFLHddLFt2LDBdKTtmb3IobT1EPTAsaj1wLmxlbmd0aDtEPGo7bT0rK0Qpe2M9cFttXSxMPWgvYy5sZW5ndGgsTj0oaCtkKSptO2ZvcihnPVA9MCxGPWMubGVuZ3RoO1A8RjtnPSsrUClsPWNbZ10seT1OK0wqZyx4PXkrTCxzPVQoMCksQz1UKGwpLGI9bih7bGVmdDp5LHJpZ2h0OngsYm90dG9tOnMsdG9wOkN9KSx1LnB1c2goZS5lbmhhbmNlKG8se2l0ZW06ZltnXVttXSxsaW5lOmIsaW5kZXg6Z30pKX1yZXR1cm57Y3VydmVzOnUsc2NhbGU6VH19fShlLHQsaSksbz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQubWludXModC50aW1lcygyLGUpLG4pfSxmdW5jdGlvbihyKXt2YXIgaSxzLG8sdSxhLGYsbCxjLGgscCxkLHYsbSxnLHksYix3LEUsUztwPXIucG9pbnRzLGQ9ci50ZW5zaW9uLGQ9PW51bGwmJihkPS4zKSx1PVtdLGY9cC5sZW5ndGg7Zm9yKGE9dj0xLHk9Zi0xOzE8PXk/djw9eTp2Pj15O2E9MTw9eT8rK3Y6LS12KXUucHVzaCh0LnRpbWVzKGQsdC5taW51cyhwW2FdLHBbYS0xXSkpKTtvPVt0LnBsdXMocFswXSxuKHVbMF0sdVsxXSkpXTtmb3IoYT1tPTEsYj1mLTI7MTw9Yj9tPD1iOm0+PWI7YT0xPD1iPysrbTotLW0pby5wdXNoKHQubWludXMocFthXSx0LmF2ZXJhZ2UoW3VbYV0sdVthLTFdXSkpKTtyZXR1cm4gby5wdXNoKHQubWludXMocFtmLTFdLG4odVtmLTJdLHVbZi0zXSkpKSxpPW9bMF0scz1vWzFdLGw9cFswXSxjPXBbMV0saD0odz1lKCkpLm1vdmV0by5hcHBseSh3LGwpLmN1cnZldG8oaVswXSxpWzFdLHNbMF0sc1sxXSxjWzBdLGNbMV0pLHtwYXRoOmZ1bmN0aW9uKCl7Uz1bXTtmb3IodmFyIGU9Mix0PWYtMTsyPD10P2U8PXQ6ZT49dDsyPD10P2UrKzplLS0pUy5wdXNoKGUpO3JldHVybiBTfS5hcHBseSh0aGlzKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiBuPW9bdF0scj1wW3RdLGUuc21vb3RoY3VydmV0byhuWzBdLG5bMV0sclswXSxyWzFdKX0saCksY2VudHJvaWQ6dC5hdmVyYWdlKHApfX19KG4sZSksdT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcixpLHMsbyx1LGEsZixsLGMsaCxwLGQsdjtyZXR1cm4gYz1uLnN0YXJ0LHU9bi5lbmQsaD1uLnRlbnNpb24saD09bnVsbCYmKGg9LjA1KSxyPWNbMF0saT1jWzFdLHM9dVswXSxvPXVbMV0sYT0ocy1yKSpoLGY9W3IrYSxpXSxsPVtzLWEsb10se3BhdGg6KHA9KGQ9KHY9ZSgpKS5tb3ZldG8uYXBwbHkodixjKSkubGluZXRvLmFwcGx5KGQsZikuY3VydmV0byhyKzUqYSxpLHMtNSphLG8scy1hLG8pKS5saW5ldG8uYXBwbHkocCx1KSxjZW50cm9pZDp0LmF2ZXJhZ2UoW2MsdV0pfX19KG4sZSksYT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByLGkscyxvLHUsYSxmLGw7cmV0dXJuIGY9ZS50b3BsZWZ0LGw9ZS50b3ByaWdodCxpPWUuYm90dG9tbGVmdCxzPWUuYm90dG9tcmlnaHQsYT10KHtzdGFydDpmLGVuZDpsfSkucGF0aCxyPXQoe3N0YXJ0OnMsZW5kOml9KS5wYXRoLHU9YS5jb25uZWN0KHIpLmNsb3NlcGF0aCgpLG89bi5hdmVyYWdlKFtmLGwsaSxzXSkse3BhdGg6dSxjZW50cm9pZDpvfX19KG4sdSxlKSxmPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHMsbyx1LGEsZixsLGMsaCxwO3JldHVybiBuPWZ1bmN0aW9uKHQsbil7dmFyIHIsaTtyZXR1cm4gcj10Lm1hc3Mrbi5tYXNzLGk9ZS50aW1lcygxL3IsZS5wbHVzKGUudGltZXModC5tYXNzLHQucG9pbnQpLGUudGltZXMobi5tYXNzLG4ucG9pbnQpKSksW2kscl19LG89ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscyxvLHUsYSxmLGwsYzt1PWVbMF0sYT1lWzFdO2ZvcihmPTAsbD10Lmxlbmd0aDtmPGw7ZisrKXtpPXRbZl0sYz1pLmJveCxvPWMudG9wLG49Yy5ib3R0b20scj1jLmxlZnQscz1jLnJpZ2h0O2lmKHI8PXUmJnU8PXMmJm48PWEmJmE8PW8pcmV0dXJuIGl9fSxhPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHMsbyx1LGEsZjtyZXR1cm4gZj1lLnRvcCxpPWUuYm90dG9tLHU9ZS5sZWZ0LGE9ZS5yaWdodCxuPXRbMF0scj10WzFdLG89KHUrYSkvMixzPShmK2kpLzIse2JveDp7dG9wOnI/czpmLGJvdHRvbTpyP2k6cyxsZWZ0Om4/bzp1LHJpZ2h0Om4/YTpvfX19LGg9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9ZS5ib3gsW2EodCxbMCwwXSksYSh0LFsxLDBdKSxhKHQsWzAsMV0pLGEodCxbMSwxXSldfSx0PWZ1bmN0aW9uKGUscil7dmFyIGkscyx1O3JldHVybiBlLmJvZHk/KHM9ZS5ib2R5LGRlbGV0ZSBlLmJvZHksZS5jaGlsZHJlbj1oKGUpLHQoZSxzKSx0KGUscikpOmUuY2hpbGRyZW4/KGk9byhyLnBvaW50LGUuY2hpbGRyZW4pLHU9ZS5wb2ludD9uKGUscik6W3IucG9pbnQsci5tYXNzXSxlLnBvaW50PXVbMF0sZS5tYXNzPXVbMV0sdChpLHIpKTplLmJvZHk9cn0sbD1mdW5jdGlvbihlLG4pe3ZhciByO3JldHVybiBlLmxlbmd0aD09PTA/bjoocj1lLnNoaWZ0KCksdChuLHIpLGwoZSxuKSl9LHU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3Q9W107Zm9yKG4gaW4gZSlyPWVbbl0sdC5wdXNoKHtpZDpuLHBvaW50OnIsbWFzczoxfSk7cmV0dXJuIHR9LGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm57Ym94Ont0b3A6dCxib3R0b206MCxsZWZ0OjAscmlnaHQ6ZX19fSxwPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHMsbztpZihlLmJvZHkpcmV0dXJuIHQoZSk7aWYoZS5jaGlsZHJlbil7cz1lLmNoaWxkcmVuLG89W107Zm9yKHI9MCxpPXMubGVuZ3RoO3I8aTtyKyspbj1zW3JdLG8ucHVzaChwKG4sdCkpO3JldHVybiBvfX0scj1mdW5jdGlvbih0LG4scil7dmFyIGkscztyZXR1cm4gcz1lLm1pbnVzKHQucG9pbnQsbi5wb2ludCksaT1lLmxlbmd0aChzKSxlLnRpbWVzKHIqdC5tYXNzKm4ubWFzcy8oaSppKmkpLHMpfSxpPWZ1bmN0aW9uKHQpe3ZhciBuLHIsaSxzO3JldHVybiBzPXQudG9wLG49dC5ib3R0b20scj10LmxlZnQsaT10LnJpZ2h0LGUubGVuZ3RoKFtzLW4saS1yXSl9LHM9ZnVuY3Rpb24odCxuLG8sdSl7dmFyIGEsZjtyZXR1cm4gbj09PXQ/WzAsMF06bi5ib2R5P3IodC5ib2R5LG4uYm9keSxvKTpuLnBvaW50PyhmPWkobi5ib3gpLGE9ZS5sZW5ndGgoZS5taW51cyh0LmJvZHkucG9pbnQsbi5wb2ludCkpLGYvYTx1P3IodC5ib2R5LG4sbyk6ZS5zdW1fdmVjdG9ycyhuLmNoaWxkcmVuLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcyh0LGUsbyx1KX0pKSk6WzAsMF19LGM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiByPXt9LHAoZSxmdW5jdGlvbihpKXtyZXR1cm4gcltpLmJvZHkuaWRdPXMoaSxlLHQsbil9KSxyfSx7dHJlZTpsLGJvZGllczp1LHJvb3Q6Zixmb3JjZXM6Y319KGUpLGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscyxvLHU7cmV0dXJuIHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm5bTWF0aC5yYW5kb20oKSplLE1hdGgucmFuZG9tKCkqdF19LGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodCwwKSxlKX0scz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcixzO3JldHVybiByPW5bMF0scz1uWzFdLFtpKGUsciksaSh0LHMpXX19LG89ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7cj1bXTtmb3IobiBpbiBlKWk9ZVtuXSxyLnB1c2godChuLGkpKTtyZXR1cm4gcn0scj1mdW5jdGlvbihlLG4scil7dmFyIGkscyxvLHUsYSxmLGwsYyxoO289e307Zm9yKHUgaW4gZSloPWVbdV0sbD1oLnN0YXJ0LGk9aC5lbmQsYz1oLndlaWdodCxhPW5bbF0sZj1uW2ldLHM9dC50aW1lcyhyKmMsdC5taW51cyhhLGYpKSxvW2xdPT1udWxsJiYob1tsXT1bMCwwXSksb1tpXT09bnVsbCYmKG9baV09WzAsMF0pLG9bbF09dC5taW51cyhvW2xdLHMpLG9baV09dC5wbHVzKG9baV0scyk7cmV0dXJuIG99LGZ1bmN0aW9uKGkpe3ZhciBhLGYsbCxjLGgscCxkLHYsbSxnLHksYix3LEUsUyx4LFQsTixDLGssTCxBLE0sXyxELFAsSCxCLGosRixJO2g9aS5kYXRhLFM9aS5ub2RlYWNjZXNzb3IseT1pLmxpbmthY2Nlc3NvcixQPWkud2lkdGgsdj1pLmhlaWdodCxhPWkuYXR0cmFjdGlvbixrPWkucmVwdWxzaW9uLEE9aS50aHJlc2hvbGQsUz09bnVsbCYmKFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSx5PT1udWxsJiYoeT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLGE9PW51bGwmJihhPTEpLGs9PW51bGwmJihrPTEpLEE9PW51bGwmJihBPS41KSxmPXMoUCx2KSx4PWgubm9kZXMsYj1oLmxpbmtzLGM9aC5jb25zdHJhaW50cyxjPT1udWxsJiYoYz17fSksTj17fSxUPXt9O2ZvcihIPTAsaj14Lmxlbmd0aDtIPGo7SCsrKUU9eFtIXSxtPVMoRSksTlttXT1jW21dfHx1KFAsdiksVFttXT1FO3c9e307Zm9yKEI9MCxGPWIubGVuZ3RoO0I8RjtCKyspZz1iW0JdLEk9eShnKSxMPUkuc3RhcnQscD1JLmVuZCxEPUkud2VpZ2h0LHdbXCJcIitMK1wifFwiK3BdPXt3ZWlnaHQ6RCxzdGFydDpMLGVuZDpwLGxpbms6Z307cmV0dXJuIE09ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbyx1LGwsaCxwLGQ7aT1uLmJvZGllcyhOKSxwPW4ucm9vdChQLHYpLGQ9bi50cmVlKGkscCksZT1yKHcsTixhLzFlMyksaD1uLmZvcmNlcyhkLGsqMWUzLEEpO2ZvcihtIGluIE4pbD1OW21dLGNbbV0/TlttXT1jW21dOihvPWVbbV18fFswLDBdLHU9aFttXXx8WzAsMF0scz10LnBsdXMobyx1KSxOW21dPWYodC5wbHVzKGwscykpKTtyZXR1cm4gQygpfSxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNbZV09dH0sXz1mdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIGNbZV19LGQ9e3RpY2s6TSxjb25zdHJhaW46bCx1bmNvbnN0cmFpbjpffSxDPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9LTEsZC5jdXJ2ZXM9byh3LGZ1bmN0aW9uKG4scil7dmFyIGkscyxvLHUsYTtyZXR1cm4gYT1yLnN0YXJ0LGk9ci5lbmQscz1yLmxpbmssdCs9MSxvPU5bYV0sdT1OW2ldLHtsaW5rOmUoe3BvaW50czpbbyx1XSxjbG9zZWQ6ITF9KSxpdGVtOnMsaW5kZXg6dH19KSxkLm5vZGVzPW8oVCxmdW5jdGlvbihlLHQpe3JldHVybntwb2ludDpOW2VdLGl0ZW06dH19KSxkfSxDKCl9fShyLGUsZiksYz1bXS5zbGljZSxoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByLGkscyxvLHUsYSxmLGwsaCxwLGQsdixtLGcseSxiLHcsRTtyZXR1cm4gdT1uLmNlbnRlcixtPW4ucixyPW4uUixnPW4uc3RhcnQsbD1uLmVuZCxpPXQucGx1cyh1LHQub25fY2lyY2xlKHIsZykpLHM9dC5wbHVzKHUsdC5vbl9jaXJjbGUocixsKSksbz10LnBsdXModSx0Lm9uX2NpcmNsZShtLGwpKSxmPXQucGx1cyh1LHQub25fY2lyY2xlKG0sZykpLGg9bC1nPk1hdGguUEk/MTowLHY9KHk9KGI9KHc9KEU9ZSgpKS5tb3ZldG8uYXBwbHkoRSxpKSkuYXJjLmFwcGx5KHcsW3IsciwwLGgsMV0uY29uY2F0KGMuY2FsbChzKSkpKS5saW5ldG8uYXBwbHkoYixvKSkuYXJjLmFwcGx5KHksW20sbSwwLGgsMF0uY29uY2F0KGMuY2FsbChmKSkpLmNsb3NlcGF0aCgpLHA9KGcrbCkvMixkPShtK3IpLzIsYT10LnBsdXModSx0Lm9uX2NpcmNsZShkLHApKSx7cGF0aDp2LGNlbnRyb2lkOmF9fX0obixlKSxwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGkscyxvLHUsYSxmLGwsYyxoLHAsZCx2LG0sZyx5LGI7Zj1yLmRhdGEscz1yLmFjY2Vzc29yLG89ci5jZW50ZXIsaD1yLnIsaT1yLlIsdT1yLmNvbXB1dGUsZz1mdW5jdGlvbigpe3ZhciBlLHQsbjtuPVtdO2ZvcihlPTAsdD1mLmxlbmd0aDtlPHQ7ZSsrKWM9ZltlXSxuLnB1c2gocyhjKSk7cmV0dXJuIG59KCkscD10LnN1bShnKSxkPWUoWzAscF0sWzAsMipNYXRoLlBJXSksYT1bXSx2PTA7Zm9yKGw9eT0wLGI9Zi5sZW5ndGg7eTxiO2w9Kyt5KWM9ZltsXSxtPWdbbF0sYS5wdXNoKHQuZW5oYW5jZSh1LHtpdGVtOmMsaW5kZXg6bCxzZWN0b3I6bih7Y2VudGVyOm8scjpoLFI6aSxzdGFydDpkKHYpLGVuZDpkKHYrbSl9KX0pKSx2Kz1tO3JldHVybntjdXJ2ZXM6YX19fSh0LGUsaCksZD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgcixpLHMsbztyZXR1cm4gaT1uLmNlbnRlcixvPW4ucmFkaWkscj0yKk1hdGguUEkvby5sZW5ndGgscz1vLm1hcChmdW5jdGlvbihlLG4pe3JldHVybiB0LnBsdXMoaSx0Lm9uX2NpcmNsZShlLG4qcikpfSksZSh7cG9pbnRzOnMsY2xvc2VkOiEwfSl9fShyLGUpLHY9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7cmV0dXJuIG49ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGkscyxvLHUsYSxmLGw7bj1bXSxyPWZ1bmN0aW9uKCl7dmFyIHQsbixyO3I9W107Zm9yKHQ9MCxuPWUubGVuZ3RoO3Q8bjt0KyspaT1lW3RdLHIucHVzaChPYmplY3Qua2V5cyhpKSk7cmV0dXJuIHJ9KCk7Zm9yKG89MCxhPWUubGVuZ3RoO288YTtvKyspe3M9ZVtvXSxsPU9iamVjdC5rZXlzKHMpO2Zvcih1PTAsZj1sLmxlbmd0aDt1PGY7dSsrKXQ9bFt1XSxuLmluZGV4T2YodCk9PT0tMSYmbi5wdXNoKHQpfXJldHVybiBufSxpPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHM7dD17fSxyPWZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0W2VdfX07Zm9yKGk9MCxzPWUubGVuZ3RoO2k8cztpKyspbj1lW2ldLHIobik7cmV0dXJuIHR9LHI9ZnVuY3Rpb24oZSxuKXt2YXIgcixpO3JldHVybiByPU9iamVjdC5rZXlzKG4pLGk9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIGk7cmV0dXJuIGk9ci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5bdF0oZSl9KSx0Lm1heChpKX0pLHQubWF4KGkpfSxmdW5jdGlvbihzKXt2YXIgbyx1LGEsZixsLGMsaCxwLGQsdixtLGcseSxiLHc7cmV0dXJuIGw9cy5kYXRhLG89cy5hY2Nlc3NvcixhPXMuY2VudGVyLHY9cy5yLHA9cy5tYXgsZz1zLnJpbmdzLGY9cy5jb21wdXRlLGc9PW51bGwmJihnPTMpLG89PW51bGwmJihvPWkobihsKSkpLGg9T2JqZWN0LmtleXMobykseT1oLmxlbmd0aCx1PTIqTWF0aC5QSS95LGM9LTEscD09bnVsbCYmKHA9cihsLG8pKSxtPWZ1bmN0aW9uKCl7dz1bXTtmb3IodmFyIGU9MTsxPD1nP2U8PWc6ZT49ZzsxPD1nP2UrKzplLS0pdy5wdXNoKGUpO3JldHVybiB3fS5hcHBseSh0aGlzKS5tYXAoZnVuY3Rpb24odCl7dmFyIG4scixpLHM7cmV0dXJuIG49dip0L2csZSh7Y2VudGVyOmEscmFkaWk6ZnVuY3Rpb24oKXtzPVtdO2Zvcih2YXIgZT0wLHQ9eS0xOzA8PXQ/ZTw9dDplPj10OzA8PXQ/ZSsrOmUtLSlzLnB1c2goZSk7cmV0dXJuIHN9LmFwcGx5KHRoaXMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbn0pfSl9KSxkPWwubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBjKz0xLHQuZW5oYW5jZShmLHtwb2x5Z29uOmUoe2NlbnRlcjphLHJhZGlpOmgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB2Km9bZV0obikvcH0pfSksaXRlbTpuLGluZGV4OmN9KX0pLHtjdXJ2ZXM6ZCxyaW5nczptfX19KGQsZSksbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpLHMsbyx1LGEsZixsLGMsaCxwLGQsdixtLGcseSxiLHcsRSxTLHgsVCxOO289ci5kYXRhLGQ9ci5ub2RlX2FjY2Vzc29yLGw9ci5saW5rX2FjY2Vzc29yLE49ci53aWR0aCxhPXIuaGVpZ2h0LHU9ci5ndXR0ZXIsZz1yLnJlY3Rfd2lkdGgsaT1yLmNvbXB1dGUsZD09bnVsbCYmKGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxsPT1udWxsJiYobD1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLHU9PW51bGwmJih1PTEwKSxnPT1udWxsJiYoZz0xMCksYz1vLmxpbmtzLm1hcChsKSxtPW8ubm9kZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChkKX0pLEU9KE4tZykvKG8ubm9kZXMubGVuZ3RoLTEpLHA9e30sbS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBwW2VdPXt2YWx1ZTowLGN1cnJlbnRseV91c2VkX2luOjAsY3VycmVudGx5X3VzZWRfb3V0OjB9fSk7Zm9yKGggaW4gcCl4PWMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZD09PWh9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2VpZ2h0fSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sMCksVD1jLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydD09PWh9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2VpZ2h0fSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sMCkscFtoXS52YWx1ZT1NYXRoLm1heCh4LFQpO2Y9bS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwW2VdLnZhbHVlfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0pfSksdz1tLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYS0oZS5sZW5ndGgtMSkqdX0pLGI9Zi5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gd1t0XS9lfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWluKGUsdCl9KTtmb3IoaCBpbiBwKVM9cFtoXSxwW2hdLnNjYWxlZF92YWx1ZT1iKlMudmFsdWU7cmV0dXJuIHk9W10sdj0tMSxtLmZvckVhY2goZnVuY3Rpb24odCxyKXt2YXIgcyxmLGwsYztyZXR1cm4gZj10LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3BbdF0uc2NhbGVkX3ZhbHVlfSwwKSsodC5sZW5ndGgtMSkqdSxjPShhLWYpLzIscz1jLGw9cy11LHQuZm9yRWFjaChmdW5jdGlvbih0LHMpe3ZhciBhLGYsYztyZXR1cm4gYz1sK3UsZj1jK3BbdF0uc2NhbGVkX3ZhbHVlLGw9ZixhPXBbdF0ucmVjdGFuZ2xlX2Nvb3Jkcz17dG9wOmMsYm90dG9tOmYsbGVmdDpnLzIrcipFLWcvMixyaWdodDpnLzIrcipFK2cvMn0sdis9MSx5LnB1c2gobi5lbmhhbmNlKGkse2N1cnZlOmUoYSksaXRlbTpvLm5vZGVzW3JdW3NdLGluZGV4OnYsZ3JvdXA6cn0pKX0pfSkscz1jLm1hcChmdW5jdGlvbihlLHIpe3ZhciBzLHUsYSxmLGwsYyxoLGQ7cmV0dXJuIGg9ZS5zdGFydCxkPWUuZW5kLGY9cFtoXS5yZWN0YW5nbGVfY29vcmRzLGw9cFtkXS5yZWN0YW5nbGVfY29vcmRzLGM9ZS53ZWlnaHQqYixzPWYudG9wK3BbaF0uY3VycmVudGx5X3VzZWRfb3V0LHU9bC50b3ArcFtkXS5jdXJyZW50bHlfdXNlZF9pbixhPXt0b3BsZWZ0OltmLnJpZ2h0LHNdLHRvcHJpZ2h0OltsLmxlZnQsdV0sYm90dG9tbGVmdDpbZi5yaWdodCxzK2NdLGJvdHRvbXJpZ2h0OltsLmxlZnQsdStjXX0scFtoXS5jdXJyZW50bHlfdXNlZF9vdXQ9cFtoXS5jdXJyZW50bHlfdXNlZF9vdXQrYyxwW2RdLmN1cnJlbnRseV91c2VkX2luPXBbZF0uY3VycmVudGx5X3VzZWRfaW4rYyxuLmVuaGFuY2UoaSx7Y3VydmU6dChhKSxpdGVtOm8ubGlua3Nbcl0saW5kZXg6cn0pfSkse2N1cnZlZFJlY3RhbmdsZXM6cyxyZWN0YW5nbGVzOnl9fX0oaSxhLGUpLGc9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj1mdW5jdGlvbihlLG4pe3ZhciByLGkscyxvLHU7cmV0dXJuIHM9ZnVuY3Rpb24oKXt2YXIgdCxpLHM7cz1bXTtmb3IodD0wLGk9ZS5sZW5ndGg7dDxpO3QrKylyPWVbdF0scy5wdXNoKG4ocikpO3JldHVybiBzfSgpLG89cy5zb3J0KGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHM7cmV0dXJuIG49ZVswXSxyPWVbMV0saT10WzBdLHM9dFsxXSxuLWl9KSx1PW8ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSksaT1vLmxlbmd0aCx7cG9pbnRzOm8seG1pbjpvWzBdWzBdLHhtYXg6b1tpLTFdWzBdLHltaW46dC5taW4odSkseW1heDp0Lm1heCh1KX19LGZ1bmN0aW9uKHIpe3ZhciBpLHMsbyx1LGEsZixsLGMsaCxwLGQsdixtLGcseSxiLHc7cmV0dXJuIHU9ci5kYXRhLHA9ci54YWNjZXNzb3IsZz1yLnlhY2Nlc3NvcixoPXIud2lkdGgsbD1yLmhlaWdodCxvPXIuY2xvc2VkLHA9PW51bGwmJihwPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIHQ9ZVswXSxuPWVbMV0sdH0pLGc9PW51bGwmJihnPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIHQ9ZVswXSxuPWVbMV0sbn0pLGY9ZnVuY3Rpb24oZSl7cmV0dXJuW3AoZSksZyhlKV19LGk9ZnVuY3Rpb24oKXt2YXIgZSx0LHI7cj1bXTtmb3IoZT0wLHQ9dS5sZW5ndGg7ZTx0O2UrKylhPXVbZV0sci5wdXNoKG4oYSxmKSk7cmV0dXJuIHJ9KCksdj10Lm1pbihpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS54bWlufSkpLGQ9dC5tYXgoaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUueG1heH0pKSxiPXQubWluKGkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnltaW59KSkseT10Lm1heChpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS55bWF4fSkpLG8mJihiPU1hdGgubWluKGIsMCkseT1NYXRoLm1heCh5LDApKSxzPW8/MDpiLG09ZShbdixkXSxbMCxoXSksdz1lKFtiLHldLFtsLDBdKSxjPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIHQ9ZVswXSxuPWVbMV0sW20odCksdyhuKV19LHthcnJhbmdlZDppLHNjYWxlOmMseHNjYWxlOm0seXNjYWxlOncsYmFzZTpzfX19KHQsZSkseT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpLHMsbyx1LGEsZixsLGM7cmV0dXJuIGM9bihyKSxpPWMuYXJyYW5nZWQsYT1jLnNjYWxlLGY9Yy54c2NhbGUsbD1jLnlzY2FsZSxzPWMuYmFzZSxvPS0xLHU9aS5tYXAoZnVuY3Rpb24obil7dmFyIGksdSxmLGwsYyxoLHAsZDtyZXR1cm4gZj1uLnBvaW50cyxoPW4ueG1pbixjPW4ueG1heCxsPWYubWFwKGEpLG8rPTEsdT1lKHtwb2ludHM6bH0pLGk9e3BhdGg6KHA9KGQ9dS5wYXRoKS5saW5ldG8uYXBwbHkoZCxhKFtjLHNdKSkpLmxpbmV0by5hcHBseShwLGEoW2gsc10pKS5jbG9zZXBhdGgoKSxjZW50cm9pZDp0LmF2ZXJhZ2UoW3UuY2VudHJvaWQsYShbaCxzXSksYShbYyxzXSldKX0sdC5lbmhhbmNlKHIuY29tcHV0ZSx7aXRlbTpyLmRhdGFbb10sbGluZTp1LGFyZWE6aSxpbmRleDpvfSl9KSx7Y3VydmVzOnUseHNjYWxlOmYseXNjYWxlOmx9fX0obyxlLGcpLGI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaSxzLG8sdSxhLGYsbCxjO3JldHVybiBjPXQociksaT1jLmFycmFuZ2VkLGE9Yy5zY2FsZSxmPWMueHNjYWxlLGw9Yy55c2NhbGUscz1jLmJhc2Usbz0tMSx1PWkubWFwKGZ1bmN0aW9uKHQpe3ZhciBpLHUsZixsLGM7cmV0dXJuIGk9dC5wb2ludHMsYz10LnhtaW4sbD10LnhtYXgsdT1pLm1hcChhKSxpLnB1c2goW2wsc10pLGkucHVzaChbYyxzXSksZj1pLm1hcChhKSxvKz0xLG4uZW5oYW5jZShyLmNvbXB1dGUse2l0ZW06ci5kYXRhW29dLGxpbmU6ZSh7cG9pbnRzOnUsY2xvc2VkOiExfSksYXJlYTplKHtwb2ludHM6ZixjbG9zZWQ6ITB9KSxpbmRleDpvfSl9KSx7Y3VydmVzOnUseHNjYWxlOmYseXNjYWxlOmx9fX0ocixnLGUpLHc9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpO3JldHVybiBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PW51bGwmJihlPVtdKSxlLnJlZHVjZShmdW5jdGlvbihlLG4pe3JldHVybiBNYXRoLm1heChlLHQobikpfSwwKX0saT1mdW5jdGlvbihlKXtyZXR1cm4gMStuKGUuY2hpbGRyZW4saSl9LGU9ZnVuY3Rpb24odCxuLHIpe3ZhciBpLHM7cmV0dXJuIHI9PW51bGwmJihyPTApLHM9e2l0ZW06dCxsZXZlbDpyfSxpPW4odCksaSYmaS5sZW5ndGgmJihzLmNoaWxkcmVuPWkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQsbixyKzEpfSkpLHN9LHI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHMsbyx1O249PW51bGwmJihuPVtdKSx0PT1udWxsJiYodD0wKSxuW3RdIT1udWxsPyhlLmhlaWdodD1uW3RdKzEsblt0XSs9MSk6KG5bdF09MCxlLmhlaWdodD0wKSx1PWUuY2hpbGRyZW58fFtdO2ZvcihzPTAsbz11Lmxlbmd0aDtzPG87cysrKWk9dVtzXSxyKGksdCsxLG4pO3JldHVybiBufSx0PWZ1bmN0aW9uKGUsbil7dmFyIHIsaSxzLG8sdTtpPVtdLHU9ZS5jaGlsZHJlbnx8W107Zm9yKHM9MCxvPXUubGVuZ3RoO3M8bztzKyspcj11W3NdLGkucHVzaChuKGUscikpLGk9aS5jb25jYXQodChyLG4pKTtyZXR1cm4gaX0se3RyZWVfaGVpZ2h0OmksYnVpbGRfdHJlZTplLHNldF9oZWlnaHQ6cixjb2xsZWN0OnR9fSgpLEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaSxzLG8sdSxhLGYsbCxjLGgscCxkLHYsbSxnLHksYix3LEUsUztyZXR1cm4gdT1yLmRhdGEsYj1yLndpZHRoLGE9ci5oZWlnaHQscz1yLmNoaWxkcmVuLG09ci50ZW5zaW9uLHM9PW51bGwmJihzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVufSksZz1uLmJ1aWxkX3RyZWUodSxzKSxoPW4udHJlZV9oZWlnaHQoZykscD1uLnNldF9oZWlnaHQoZyksbD1iLyhoLTEpLGY9dChbMCxoLTFdLFswLGJdKSx5PWZ1bmN0aW9uKCl7Uz1bXTtmb3IodmFyIGU9MCx0PWgtMTswPD10P2U8PXQ6ZT49dDswPD10P2UrKzplLS0pUy5wdXNoKGUpO3JldHVybiBTfS5hcHBseSh0aGlzKS5tYXAoZnVuY3Rpb24oZSl7dmFyIG4scixpLHM7cmV0dXJuIG49TWF0aC5zcXJ0KGUvKGgtMSkpKmEscz0oYS1uKS8yLHI9cytuLGk9ZT4wP3BbZV0rcFtlLTFdOnBbZV0saT09PTA/ZnVuY3Rpb24oZSl7cmV0dXJuIGEvMn06dChbMCxpXSxbcyxyXSl9KSxkPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIHQ9ZS5sZXZlbCxuPXlbdF0sW2YodCksbihlLmhlaWdodF8pXX0sYz0tMSxvPW4uY29sbGVjdChnLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGMrPTEsbi5oZWlnaHRfPW4uaGVpZ2h0K3QuaGVpZ2h0LHtjb25uZWN0b3I6ZSh7c3RhcnQ6ZCh0KSxlbmQ6ZChuKSx0ZW5zaW9uOm19KSxpbmRleDpjLGl0ZW06e3N0YXJ0OnQuaXRlbSxlbmQ6bi5pdGVtfX19KSxpPW4uY29sbGVjdChnLGZ1bmN0aW9uKGUsdCl7cmV0dXJue3BvaW50OmQodCksaXRlbTp0Lml0ZW19fSksdj17cG9pbnQ6ZChnKSxpdGVtOmcuaXRlbX0se2N1cnZlczpvLG5vZGVzOlt2XS5jb25jYXQoaSl9fX0odSx0LHcpLFM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaSxzLG8sdSxhLGYsbCxjLGgscCxkLHYsbSxnLHksYix3LEUsUyx4LFQsTixDLGssTCxBLE0sXyxELFAsSCxCLGo7aD1yLmRhdGEsbz1yLmFjY2Vzc29yLE09ci53aWR0aCx2PXIuaGVpZ2h0LGQ9ci5ndXR0ZXIsZj1yLmNvbXB1dGUsVD1yLm1pbix4PXIubWF4LG89PW51bGwmJihvPWZ1bmN0aW9uKGUpe3JldHVybiBlfSksZD09bnVsbCYmKGQ9MCksVD09bnVsbCYmKFQ9MCkseD09bnVsbCYmKHg9MCkseT0wLHA9W107Zm9yKF89MCxQPWgubGVuZ3RoO188UDtfKyspYz1oW19dLEI9byhjKSxBPUIudmFsdWUscz1CLmFic29sdXRlLGo9cz9bMCxBfHx5XTpbeSx5K0FdLEU9alswXSxtPWpbMV0sUz1NYXRoLm1pbihFLG0pLGk9TWF0aC5tYXgoRSxtKSxUPU1hdGgubWluKFQsUykseD1NYXRoLm1heCh4LGkpLHk9bSxwLnB1c2goe2l0ZW06Yyxsb3c6RSxoaWdoOm0sdmFsdWU6QSE9bnVsbD9BOm19KTtOPXAubGVuZ3RoLHU9KE0tZCooTi0xKSkvTixsPVtdLGs9dChbVCx4XSxbdiwwXSk7Zm9yKGc9RD0wLEg9cC5sZW5ndGg7RDxIO2c9KytEKWM9cFtnXSxiPWcqKHUrZCksQz1iK3UsYT1rKGMubG93KSxMPWsoYy5oaWdoKSx3PW4oe2xlZnQ6YixyaWdodDpDLGJvdHRvbTphLHRvcDpMfSksbC5wdXNoKGUuZW5oYW5jZShmLHtpdGVtOmMuaXRlbSxsaW5lOncsdmFsdWU6Yy52YWx1ZSxpbmRleDpnfSkpO3JldHVybntjdXJ2ZXM6bCxzY2FsZTprfX19KGUsdCxpKSx4PWZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSxhLGYsbCxjLGgscCxkLHYsbSxnLHkpe3JldHVybiB3aW5kb3cucGF0aHM9e0JhcjplLEJlemllcjp0LENvbm5lY3RvcjpuLEN1cnZlZFJlY3RhbmdsZTpyLEdyYXBoOmksTGluZWFyOnMsT3BzOm8sUGF0aDp1LFBpZTphLFBvbHlnb246ZixSYWRhcjpsLFJlY3RhbmdsZTpjLFNhbmtleTpoLFNlY3RvcjpwLFNlbWlSZWd1bGFyUG9seWdvbjpkLFNtb290aExpbmU6dixTdG9jazptLFRyZWU6ZyxXYXRlcmZhbGw6eX19KHMsbyx1LGEsbCx0LGUsbixwLHIsdixpLG0saCxkLHksYixFLFMpfSkoKTtcbiJdfQ==
