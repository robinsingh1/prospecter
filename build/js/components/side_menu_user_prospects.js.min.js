/** @jsx React.DOM */

var SideMenuListOption = require('./user_side_menu_list.js.min.js');
var createListModal = require('./create_list_modal.js.min.js')

module.exports = React.createClass({displayName: 'exports',
  //SideMenuProspects
  createList: function (data) {
    this.props.createList(data)
  },

  componentDidMount: function() {
  },

  changeList: function(e) {
    /*
    currentList = $(e.target).parent()//.data('list')
    console.log(currentList)
    this.props.changeList(currentList.name, currentList.objectId)
    */
  },

  render: function() {
    
    styles = (this.props.currentList == "All") ? {'backgroundColor':'rgb(0, 122, 255)', 'color':'white'} : {}

    lists  = [ React.DOM.button({type: "button", onClick: this.props.changeList, style: styles, className: "list-names btn btn-default all"}, 'All', 
      React.DOM.span({style: {float:'right',marginTop:'1px', backgroundColor:'#999'}, className: "badge badge-default"}, this.props.count)),
      React.DOM.button({type: "button", onClick: this.props.changeList, style: styles, className: "list-names btn btn-default all"}, 
        React.DOM.i({className: "fa fa-archive"}), "  ", 
        'Archived', " ", React.DOM.span({style: {float:'right',marginTop:'1px', backgroundColor:'#999'}, className: "badge badge-default"}, this.props.count)) ]
  
    for(i=0;i<this.props.lists.length;i++){
      list = this.props.lists[i]
      lists.push(
        React.DOM.button({type: "button", onClick: this.props.changeList, 'data-list': JSON.stringify(list), className: "list-names btn btn-default"}, list.name, React.DOM.span({style: {backgroundColor:'#999',float:'right',marginTop:'1px'}, className: "badge badge-default"}, list.count), "      ")
      )
    }
    lists = [SideMenuListOption({list: {name: 'All',count: this.props.totalCount}, 
                iconType: 'users', 
                changeList: this.props.changeList}), SideMenuListOption({list: {name: 'Archived', count: '~'}, iconType: 'archive', changeList: this.props.changeList, hideCount: true})]
    for(i=0;i<this.props.lists.length;i++){
      list = this.props.lists[i]
      lists.push(
        SideMenuListOption({list: list, changeList: this.props.changeList})
      )
    }

    
    return (
      React.DOM.div({className: "col-md-2", style: {padding:'0',height:'438px',backgroundColor:'#e0e9ee',borderRight:'1px solid #b0b8bf',textAlign:'center'}}, 
        React.DOM.div({className: "prospect-list-header"}, 
          "Lists"
        ), 
        React.DOM.div({className: "btn-group-vertical", style: {width:'100%', height: '320px', overflow: 'auto'}}, 
          lists
        ), 
        React.DOM.br(null), 
        React.DOM.br(null), 
        React.DOM.a({href: "javascript:", className: "btn btn-primary", 
              'data-toggle': "modal", 'data-target': ".bs-example-modal-sm", 
              style: { backgroundImage: 'linear-gradient(180deg, #0096ff 0%, #005dff 100%)'}}, 
          React.DOM.i({className: "fa fa-plus-circle"}), "  New List"
        ), 
        createListModal({createList: this.createList}), 
        React.DOM.br(null)
      )
    );
  },

});
