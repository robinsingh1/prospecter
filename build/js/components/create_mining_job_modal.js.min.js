(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // createSignalModal
  createMiningJob: function(date) {
    var thiss = this;
    $.ajax({
      //url:'http://127.0.0.1:5000/mining_job/hiring',
      url:'https://nameless-retreat-3525.herokuapp.com/mining_job/hiring',
      data: {profile_id: thiss.props.currentProfile.objectId, timestamp: date},
      success: function(res) { console.log(res) },
      error: function(err) {console.log(err.responseText) }
    })
    this.props.createMiningJob(this.props.currentProfile, date)
  },

  render: function() {
    // moment.utc(moment().startOf('day')).valueOf()/1000
    // recieve completed days as props
    //console.log(this.props.currentProfile)
    mining_days = this.props.currentProfile.mining_days
    dates = []
    for(i=0;i< 30; i++) {  
      date = moment().subtract((i+1), 'days').startOf('day')
      mining_day = _.indexOf(mining_days, date.valueOf()/1000) != -1
      dates.push(DownloadDateRow({updateDate: this.updateDate, 
                                  createMiningJob: this.createMiningJob, 
                                  mining_day: mining_day, 
                                  date: date}))
    }

    return (
      React.DOM.div({className: "modal fade bs-createMiningJob-modal-md", 
           tabIndex: "-1", role: "dialog", 
           'aria-labelledby': "mySmallModalLabel", 'aria-hidden': "true", 
           id: "createMiningJobModal", 
           style: {top:'50px',overflow:'hidden'}}, 
        React.DOM.div({className: "modal-dialog modal-sm", style: {width:350}}, 
          React.DOM.div({className: "modal-content"}, 
            React.DOM.div({className: "modal-header"}, 
              React.DOM.h4({className: "modal-title", id: "myModalLabel"}, 
                React.DOM.i({className: "fa fa-cloud-download"}), " " + ' ' +
                "Download Prospects"
              ), 
              React.DOM.a({href: "javascript:", className: "btn btn-success btn-sm", 
                 onClick: this.createMiningJob, 
                 style: {float:'right',marginTop:-28,
                         marginRight:-5,display:'none'}}, 
                 "Download"
              )
            ), 
            React.DOM.div({className: "modal-body"}, 

              React.DOM.ul({className: "list-group date-download-prospects", 
                  style: {height:400,overflow:'auto',
                  borderBottom:'solid 1px #ddd',
                  cursor:'pointer',
                  borderTop:'solid 1px #ddd'}}, 
                React.DOM.h6({style: {margin:0}}, dates)
              )

            )
          )
        )
      )
    );
  },
});

var DownloadDateRow = React.createClass({displayName: 'DownloadDateRow',
  updateDate: function() {
    //this.createMiningJob()
    date = this.props.date.startOf('day').valueOf()/1000
    //date = moment().subtract((i+1), 'days').startOf('day')
    this.props.createMiningJob(date)
  },

  render: function() {
    loading = (this.props.mining_day) ?  React.DOM.div({className: "profile-loading", style: {float:'right',height:20,width:20}}, 
            React.DOM.div({className: "double-bounce1", style: {backgroundColor:'#5cb85c'}}), 
            React.DOM.div({className: "double-bounce2", style: {backgroundColor:'#5cb85c'}})
          ) : ""
    loading = ""
    return (
        React.DOM.li({onClick: this.updateDate, style: {textAlign:'center'}, 
          className: "list-group-item download-date bg-success", 
          style: (this.props.mining_day) ? {backgroundColor:'#dff0d8',textAlign:'center'} : {textAlign:'center'}}, 
          React.DOM.span({style: {width:85}}, 
            React.DOM.i({className: "fa fa-calendar"}), " ", 
            this.props.date.format('ll'), "      "
          ), 
          React.DOM.a({href: "javascript:", style: {width:89}, 
      className: (this.props.mining_day) ? "btn btn-success btn-xs disabled" : "btn btn-success btn-xs"}, 
            (this.props.mining_day) ? "Downloading" : "Download"), 
          loading
        )
    )
  }
})


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvY3JlYXRlX21pbmluZ19qb2JfbW9kYWwuanMubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gY3JlYXRlU2lnbmFsTW9kYWxcbiAgY3JlYXRlTWluaW5nSm9iOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHRoaXNzID0gdGhpcztcbiAgICAkLmFqYXgoe1xuICAgICAgLy91cmw6J2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9taW5pbmdfam9iL2hpcmluZycsXG4gICAgICB1cmw6J2h0dHBzOi8vbmFtZWxlc3MtcmV0cmVhdC0zNTI1Lmhlcm9rdWFwcC5jb20vbWluaW5nX2pvYi9oaXJpbmcnLFxuICAgICAgZGF0YToge3Byb2ZpbGVfaWQ6IHRoaXNzLnByb3BzLmN1cnJlbnRQcm9maWxlLm9iamVjdElkLCB0aW1lc3RhbXA6IGRhdGV9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7IGNvbnNvbGUubG9nKHJlcykgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtjb25zb2xlLmxvZyhlcnIucmVzcG9uc2VUZXh0KSB9XG4gICAgfSlcbiAgICB0aGlzLnByb3BzLmNyZWF0ZU1pbmluZ0pvYih0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlLCBkYXRlKVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy8gbW9tZW50LnV0Yyhtb21lbnQoKS5zdGFydE9mKCdkYXknKSkudmFsdWVPZigpLzEwMDBcbiAgICAvLyByZWNpZXZlIGNvbXBsZXRlZCBkYXlzIGFzIHByb3BzXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLmN1cnJlbnRQcm9maWxlKVxuICAgIG1pbmluZ19kYXlzID0gdGhpcy5wcm9wcy5jdXJyZW50UHJvZmlsZS5taW5pbmdfZGF5c1xuICAgIGRhdGVzID0gW11cbiAgICBmb3IoaT0wO2k8IDMwOyBpKyspIHsgIFxuICAgICAgZGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KChpKzEpLCAnZGF5cycpLnN0YXJ0T2YoJ2RheScpXG4gICAgICBtaW5pbmdfZGF5ID0gXy5pbmRleE9mKG1pbmluZ19kYXlzLCBkYXRlLnZhbHVlT2YoKS8xMDAwKSAhPSAtMVxuICAgICAgZGF0ZXMucHVzaChEb3dubG9hZERhdGVSb3coe3VwZGF0ZURhdGU6IHRoaXMudXBkYXRlRGF0ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlTWluaW5nSm9iOiB0aGlzLmNyZWF0ZU1pbmluZ0pvYiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW5nX2RheTogbWluaW5nX2RheSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZX0pKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibW9kYWwgZmFkZSBicy1jcmVhdGVNaW5pbmdKb2ItbW9kYWwtbWRcIiwgXG4gICAgICAgICAgIHRhYkluZGV4OiBcIi0xXCIsIHJvbGU6IFwiZGlhbG9nXCIsIFxuICAgICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogXCJteVNtYWxsTW9kYWxMYWJlbFwiLCAnYXJpYS1oaWRkZW4nOiBcInRydWVcIiwgXG4gICAgICAgICAgIGlkOiBcImNyZWF0ZU1pbmluZ0pvYk1vZGFsXCIsIFxuICAgICAgICAgICBzdHlsZToge3RvcDonNTBweCcsb3ZlcmZsb3c6J2hpZGRlbid9fSwgXG4gICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiwgc3R5bGU6IHt3aWR0aDozNTB9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWNvbnRlbnRcIn0sIFxuICAgICAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcIm1vZGFsLWhlYWRlclwifSwgXG4gICAgICAgICAgICAgIFJlYWN0LkRPTS5oNCh7Y2xhc3NOYW1lOiBcIm1vZGFsLXRpdGxlXCIsIGlkOiBcIm15TW9kYWxMYWJlbFwifSwgXG4gICAgICAgICAgICAgICAgUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1jbG91ZC1kb3dubG9hZFwifSksIFwiwqBcIiArICcgJyArXG4gICAgICAgICAgICAgICAgXCJEb3dubG9hZCBQcm9zcGVjdHNcIlxuICAgICAgICAgICAgICApLCBcbiAgICAgICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgY2xhc3NOYW1lOiBcImJ0biBidG4tc3VjY2VzcyBidG4tc21cIiwgXG4gICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY3JlYXRlTWluaW5nSm9iLCBcbiAgICAgICAgICAgICAgICAgc3R5bGU6IHtmbG9hdDoncmlnaHQnLG1hcmdpblRvcDotMjgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6LTUsZGlzcGxheTonbm9uZSd9fSwgXG4gICAgICAgICAgICAgICAgIFwiRG93bmxvYWRcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJtb2RhbC1ib2R5XCJ9LCBcblxuICAgICAgICAgICAgICBSZWFjdC5ET00udWwoe2NsYXNzTmFtZTogXCJsaXN0LWdyb3VwIGRhdGUtZG93bmxvYWQtcHJvc3BlY3RzXCIsIFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IHtoZWlnaHQ6NDAwLG92ZXJmbG93OidhdXRvJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTonc29saWQgMXB4ICNkZGQnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOidwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclRvcDonc29saWQgMXB4ICNkZGQnfX0sIFxuICAgICAgICAgICAgICAgIFJlYWN0LkRPTS5oNih7c3R5bGU6IHttYXJnaW46MH19LCBkYXRlcylcbiAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfSxcbn0pO1xuXG52YXIgRG93bmxvYWREYXRlUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOiAnRG93bmxvYWREYXRlUm93JyxcbiAgdXBkYXRlRGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgLy90aGlzLmNyZWF0ZU1pbmluZ0pvYigpXG4gICAgZGF0ZSA9IHRoaXMucHJvcHMuZGF0ZS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCkvMTAwMFxuICAgIC8vZGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KChpKzEpLCAnZGF5cycpLnN0YXJ0T2YoJ2RheScpXG4gICAgdGhpcy5wcm9wcy5jcmVhdGVNaW5pbmdKb2IoZGF0ZSlcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGxvYWRpbmcgPSAodGhpcy5wcm9wcy5taW5pbmdfZGF5KSA/ICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwicHJvZmlsZS1sb2FkaW5nXCIsIHN0eWxlOiB7ZmxvYXQ6J3JpZ2h0JyxoZWlnaHQ6MjAsd2lkdGg6MjB9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZG91YmxlLWJvdW5jZTFcIiwgc3R5bGU6IHtiYWNrZ3JvdW5kQ29sb3I6JyM1Y2I4NWMnfX0pLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkb3VibGUtYm91bmNlMlwiLCBzdHlsZToge2JhY2tncm91bmRDb2xvcjonIzVjYjg1Yyd9fSlcbiAgICAgICAgICApIDogXCJcIlxuICAgIGxvYWRpbmcgPSBcIlwiXG4gICAgcmV0dXJuIChcbiAgICAgICAgUmVhY3QuRE9NLmxpKHtvbkNsaWNrOiB0aGlzLnVwZGF0ZURhdGUsIHN0eWxlOiB7dGV4dEFsaWduOidjZW50ZXInfSwgXG4gICAgICAgICAgY2xhc3NOYW1lOiBcImxpc3QtZ3JvdXAtaXRlbSBkb3dubG9hZC1kYXRlIGJnLXN1Y2Nlc3NcIiwgXG4gICAgICAgICAgc3R5bGU6ICh0aGlzLnByb3BzLm1pbmluZ19kYXkpID8ge2JhY2tncm91bmRDb2xvcjonI2RmZjBkOCcsdGV4dEFsaWduOidjZW50ZXInfSA6IHt0ZXh0QWxpZ246J2NlbnRlcid9fSwgXG4gICAgICAgICAgUmVhY3QuRE9NLnNwYW4oe3N0eWxlOiB7d2lkdGg6ODV9fSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNhbGVuZGFyXCJ9KSwgXCLCoFwiLCBcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0ZS5mb3JtYXQoJ2xsJyksIFwiIMKgIMKgIMKgXCJcbiAgICAgICAgICApLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBzdHlsZToge3dpZHRoOjg5fSwgXG4gICAgICBjbGFzc05hbWU6ICh0aGlzLnByb3BzLm1pbmluZ19kYXkpID8gXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzIGRpc2FibGVkXCIgOiBcImJ0biBidG4tc3VjY2VzcyBidG4teHNcIn0sIFxuICAgICAgICAgICAgKHRoaXMucHJvcHMubWluaW5nX2RheSkgPyBcIkRvd25sb2FkaW5nXCIgOiBcIkRvd25sb2FkXCIpLCBcbiAgICAgICAgICBsb2FkaW5nXG4gICAgICAgIClcbiAgICApXG4gIH1cbn0pXG5cbiJdfQ==
