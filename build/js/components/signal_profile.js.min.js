(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

module.exports = React.createClass({displayName: 'exports',
  // SignalProfile
  setCurrentView: function(e) {
    if(!this.props.profile.mining_job)
      this.props.setCurrentView('Calendar')
    else
      this.props.setCurrentView('MiningJobCalendar')
    //e.stopPropagation()
  },

  calendarClick:function(e) {
    this.props.setCurrentProfile(this.props.profile)

    if(!this.props.profile.mining_job)
      this.props.setCurrentView('Calendar')
    else
      this.props.setCurrentView('MiningJobCalendar')

    e.stopPropagation()
  },

  setCurrentProfile: function() {
    this.props.setCurrentProfile(this.props.profile)
    this.props.setCurrentView('Feed')
  },

  removeTheProfile: function() {
    this.props.removeProfile(this.props.profile)
  },

  removeProfile: function() {
    thissss = this;
    console.log(thiss.removeTheProfile)

    swal({   
      title: "Are you sure?",   
      text: "Your will not be able to recover this prospect list!",   
      type: "warning",   
      showCancelButton: true,   
      confirmButtonColor: "#DD6B55",   
      confirmButtonText: "Yes, delete it!",   
      closeOnConfirm: false }, 
      function(){   
        swal("Deleted!", "Your prospect list has been deleted.", "success"); 
        thissss.removeTheProfile()
        console.log('deleted')
      });
  },

  render: function() {
    //console.log(this.props.profile)
    signalDetails = []
    for(i=0;i< this.props.profile.profiles.length; i++) {
      signalDetails.push(ProfileType({profile: this.props.profile.profiles[i]}))
    }
    if(!this.props.profile.mining_job) 
      icon = React.DOM.i({className: "fa fa-wifi", style: {marginRight:5}})
    else
      icon = React.DOM.i({className: "fa fa-cloud-download", style: {marginRight:5}})

    loading = (!this.props.profile.done) ? React.DOM.div({className: "profile-loading"}, 
            React.DOM.div({className: "double-bounce1"}), 
            React.DOM.div({className: "double-bounce2"})
          ) : ""
    return (
      React.DOM.div({className: "list-group-item ideal-company-profile", 
           onClick: this.setCurrentProfile, 
           style: {paddingTop:5,borderLeft:0,paddingLeft:10,
                   borderRight:'1px solid #ddd'}}, 
        React.DOM.span({className: "profile-title"}, 
          React.DOM.h6({className: "label label-default profile-name"}, 
            icon, 
            this.props.profile.name
          ), 
          loading, 
          React.DOM.a({href: "javascript:", 
             className: "btn btn-primary btn-xs signal-detail-btn", 
             onClick: this.removeProfile}, 
            React.DOM.i({className: "fa fa-trash"})), 
          React.DOM.a({href: "javascript:", 
            style: {display:'none'}, 
            className: "btn btn-primary btn-xs signal-detail-btn"}, 
            React.DOM.i({className: "fa fa-cog"})), 
          React.DOM.a({href: "javascript:", className: "btn btn-primary btn-xs signal-detail-btn", 
             onClick: this.calendarClick}, 
            React.DOM.i({className: "fa fa-calendar"})), 
          React.DOM.a({href: "javascript:", 
             onClick: this.launchModal, 
             style: (this.props.profile.mining_job) ? {display:'none'}:{display:'block'}, 
             className: "btn btn-primary btn-xs signal-detail-btn"}, 
            React.DOM.i({className: "fa fa-cloud-download"}))
        ), 

        React.DOM.div({className: "profile-body", style: {marginTop:5}}, 
          signalDetails
        )
      )
    );
  },
  launchModal: function(e) {
    $('#createMiningJobModal').modal()
    e.stopPropogation()
  }
});

var ProfileType = React.createClass({displayName: 'ProfileType',
  render: function() {

  if(this.props.profile){
    if(this.props.profile.className == "HiringProfile") {
      signalIcon = React.DOM.i({className: "fa fa-suitcase"})
      signalName = "Hiring"
      signalValue = _.reduce(this.props.profile.roles, function(result, role) {
        return role + ", "+ result
      }, "");
      //console.log('wtf')
      //console.log(signalValue)
    } else if (this.props.profile.className  == "EmployeeProfile") {
      signalIcon = React.DOM.i({className: "fa fa-users"})
      signalName = "Company Size"
      signalValue = _.reduce(this.props.profile.employees, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "FundingProfile") {
      signalIcon = React.DOM.i({className: "fa fa-institution"})
      signalName = "Funding"
      signalValue = _.reduce(this.props.profile.revenues, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "RevenueProfile") {
      signalIcon = React.DOM.i({className: "fa fa-money"})
      signalName = "Revenue"
      signalValue = _.reduce(this.props.profile.revenues, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "TechnologyProfile") {
      signalIcon = React.DOM.i({className: "fa fa-wrench"})
      signalName = "Technology"
    } else if (this.props.profile.className  == "LocationProfile") {
      signalIcon = React.DOM.i({className: "fa fa-map-marker"})
      signalName = "Locale"
      signalValue = _.reduce(this.props.profile.locale, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "IndustryProfile") {
      signalIcon = React.DOM.i({className: "fa fa-building"})
      signalName = "Industries"
      signalValue = _.reduce(this.props.profile.industries, function(result, role) {
        return role + ", "+ result
      }, "");
    } else if (this.props.profile.className  == "CompanySizeProfile") {
      signalIcon = React.DOM.i({className: "fa fa-wrench"})
      signalName = "Technology"
    } else if (this.props.profile.className  == "ProspectTitleProfile") {
      signalIcon = React.DOM.i({className: "fa fa-user"})
      signalName = "Titles"
      signalValue = _.reduce(this.props.profile.title_keywords, 
     function(result, role) {
        return role + ", "+ result
      }, "");
    } else {
      signalIcon = "not found"
      signalName = "Not found"
      signalValue= "Not found"
    }
  } else {
      signalIcon = "not found"
      signalName = "Not found"
      signalValue= "Not found"

  }

    return (
      React.DOM.span({className: "ideal-profile"}, " ", signalIcon, 
        React.DOM.h6({className: "profile-signal-name"}, signalName, " - "), 
        React.DOM.span({className: "profile-signal-value"}, " "+signalValue)
      )
    );
  }
});

/*
  Funding Profile
  - Amount Raised - btn group
  - Stage - btn group

  People Profile
  - Locale - tags w/ typahead
  - Title - tags w/ typahead

  Company Profile
  - Industries - tags with typahead
  - Revenue - btn group
  - # of Employees - btn group
  - Locale - tags with typahead
*/


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9yb2Jpbi9Qcm9qZWN0cy9wcm9zcGVjdGVyL3Byb3NwZWN0ZXItcGFyc2UvZGV2L2J1aWxkL2pzL2NvbXBvbmVudHMvc2lnbmFsX3Byb2ZpbGUuanMubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6ICdleHBvcnRzJyxcbiAgLy8gU2lnbmFsUHJvZmlsZVxuICBzZXRDdXJyZW50VmlldzogZnVuY3Rpb24oZSkge1xuICAgIGlmKCF0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYilcbiAgICAgIHRoaXMucHJvcHMuc2V0Q3VycmVudFZpZXcoJ0NhbGVuZGFyJylcbiAgICBlbHNlXG4gICAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdNaW5pbmdKb2JDYWxlbmRhcicpXG4gICAgLy9lLnN0b3BQcm9wYWdhdGlvbigpXG4gIH0sXG5cbiAgY2FsZW5kYXJDbGljazpmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50UHJvZmlsZSh0aGlzLnByb3BzLnByb2ZpbGUpXG5cbiAgICBpZighdGhpcy5wcm9wcy5wcm9maWxlLm1pbmluZ19qb2IpXG4gICAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdDYWxlbmRhcicpXG4gICAgZWxzZVxuICAgICAgdGhpcy5wcm9wcy5zZXRDdXJyZW50VmlldygnTWluaW5nSm9iQ2FsZW5kYXInKVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICB9LFxuXG4gIHNldEN1cnJlbnRQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRQcm9maWxlKHRoaXMucHJvcHMucHJvZmlsZSlcbiAgICB0aGlzLnByb3BzLnNldEN1cnJlbnRWaWV3KCdGZWVkJylcbiAgfSxcblxuICByZW1vdmVUaGVQcm9maWxlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnJlbW92ZVByb2ZpbGUodGhpcy5wcm9wcy5wcm9maWxlKVxuICB9LFxuXG4gIHJlbW92ZVByb2ZpbGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXNzc3MgPSB0aGlzO1xuICAgIGNvbnNvbGUubG9nKHRoaXNzLnJlbW92ZVRoZVByb2ZpbGUpXG5cbiAgICBzd2FsKHsgICBcbiAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIiwgICBcbiAgICAgIHRleHQ6IFwiWW91ciB3aWxsIG5vdCBiZSBhYmxlIHRvIHJlY292ZXIgdGhpcyBwcm9zcGVjdCBsaXN0IVwiLCAgIFxuICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsICAgXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLCAgIFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIiwgICBcbiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgZGVsZXRlIGl0IVwiLCAgIFxuICAgICAgY2xvc2VPbkNvbmZpcm06IGZhbHNlIH0sIFxuICAgICAgZnVuY3Rpb24oKXsgICBcbiAgICAgICAgc3dhbChcIkRlbGV0ZWQhXCIsIFwiWW91ciBwcm9zcGVjdCBsaXN0IGhhcyBiZWVuIGRlbGV0ZWQuXCIsIFwic3VjY2Vzc1wiKTsgXG4gICAgICAgIHRoaXNzc3MucmVtb3ZlVGhlUHJvZmlsZSgpXG4gICAgICAgIGNvbnNvbGUubG9nKCdkZWxldGVkJylcbiAgICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnByb3BzLnByb2ZpbGUpXG4gICAgc2lnbmFsRGV0YWlscyA9IFtdXG4gICAgZm9yKGk9MDtpPCB0aGlzLnByb3BzLnByb2ZpbGUucHJvZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNpZ25hbERldGFpbHMucHVzaChQcm9maWxlVHlwZSh7cHJvZmlsZTogdGhpcy5wcm9wcy5wcm9maWxlLnByb2ZpbGVzW2ldfSkpXG4gICAgfVxuICAgIGlmKCF0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYikgXG4gICAgICBpY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13aWZpXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6NX19KVxuICAgIGVsc2VcbiAgICAgIGljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCIsIHN0eWxlOiB7bWFyZ2luUmlnaHQ6NX19KVxuXG4gICAgbG9hZGluZyA9ICghdGhpcy5wcm9wcy5wcm9maWxlLmRvbmUpID8gUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtbG9hZGluZ1wifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwiZG91YmxlLWJvdW5jZTFcIn0pLCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5kaXYoe2NsYXNzTmFtZTogXCJkb3VibGUtYm91bmNlMlwifSlcbiAgICAgICAgICApIDogXCJcIlxuICAgIHJldHVybiAoXG4gICAgICBSZWFjdC5ET00uZGl2KHtjbGFzc05hbWU6IFwibGlzdC1ncm91cC1pdGVtIGlkZWFsLWNvbXBhbnktcHJvZmlsZVwiLCBcbiAgICAgICAgICAgb25DbGljazogdGhpcy5zZXRDdXJyZW50UHJvZmlsZSwgXG4gICAgICAgICAgIHN0eWxlOiB7cGFkZGluZ1RvcDo1LGJvcmRlckxlZnQ6MCxwYWRkaW5nTGVmdDoxMCxcbiAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDonMXB4IHNvbGlkICNkZGQnfX0sIFxuICAgICAgICBSZWFjdC5ET00uc3Bhbih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtdGl0bGVcIn0sIFxuICAgICAgICAgIFJlYWN0LkRPTS5oNih7Y2xhc3NOYW1lOiBcImxhYmVsIGxhYmVsLWRlZmF1bHQgcHJvZmlsZS1uYW1lXCJ9LCBcbiAgICAgICAgICAgIGljb24sIFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLm5hbWVcbiAgICAgICAgICApLCBcbiAgICAgICAgICBsb2FkaW5nLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnJlbW92ZVByb2ZpbGV9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdHJhc2hcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICBzdHlsZToge2Rpc3BsYXk6J25vbmUnfSwgXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNvZ1wifSkpLCBcbiAgICAgICAgICBSZWFjdC5ET00uYSh7aHJlZjogXCJqYXZhc2NyaXB0OlwiLCBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwiLCBcbiAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNhbGVuZGFyQ2xpY2t9LCBcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtY2FsZW5kYXJcIn0pKSwgXG4gICAgICAgICAgUmVhY3QuRE9NLmEoe2hyZWY6IFwiamF2YXNjcmlwdDpcIiwgXG4gICAgICAgICAgICAgb25DbGljazogdGhpcy5sYXVuY2hNb2RhbCwgXG4gICAgICAgICAgICAgc3R5bGU6ICh0aGlzLnByb3BzLnByb2ZpbGUubWluaW5nX2pvYikgPyB7ZGlzcGxheTonbm9uZSd9OntkaXNwbGF5OidibG9jayd9LCBcbiAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBzaWduYWwtZGV0YWlsLWJ0blwifSwgXG4gICAgICAgICAgICBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWNsb3VkLWRvd25sb2FkXCJ9KSlcbiAgICAgICAgKSwgXG5cbiAgICAgICAgUmVhY3QuRE9NLmRpdih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtYm9keVwiLCBzdHlsZToge21hcmdpblRvcDo1fX0sIFxuICAgICAgICAgIHNpZ25hbERldGFpbHNcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH0sXG4gIGxhdW5jaE1vZGFsOiBmdW5jdGlvbihlKSB7XG4gICAgJCgnI2NyZWF0ZU1pbmluZ0pvYk1vZGFsJykubW9kYWwoKVxuICAgIGUuc3RvcFByb3BvZ2F0aW9uKClcbiAgfVxufSk7XG5cbnZhciBQcm9maWxlVHlwZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtkaXNwbGF5TmFtZTogJ1Byb2ZpbGVUeXBlJyxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblxuICBpZih0aGlzLnByb3BzLnByb2ZpbGUpe1xuICAgIGlmKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgPT0gXCJIaXJpbmdQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXN1aXRjYXNlXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiSGlyaW5nXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLnJvbGVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgICAvL2NvbnNvbGUubG9nKCd3dGYnKVxuICAgICAgLy9jb25zb2xlLmxvZyhzaWduYWxWYWx1ZSlcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiRW1wbG95ZWVQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXVzZXJzXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiQ29tcGFueSBTaXplXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLmVtcGxveWVlcywgZnVuY3Rpb24ocmVzdWx0LCByb2xlKSB7XG4gICAgICAgIHJldHVybiByb2xlICsgXCIsIFwiKyByZXN1bHRcbiAgICAgIH0sIFwiXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJGdW5kaW5nUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS1pbnN0aXR1dGlvblwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkZ1bmRpbmdcIlxuICAgICAgc2lnbmFsVmFsdWUgPSBfLnJlZHVjZSh0aGlzLnByb3BzLnByb2ZpbGUucmV2ZW51ZXMsIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiUmV2ZW51ZVByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbW9uZXlcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJSZXZlbnVlXCJcbiAgICAgIHNpZ25hbFZhbHVlID0gXy5yZWR1Y2UodGhpcy5wcm9wcy5wcm9maWxlLnJldmVudWVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIlRlY2hub2xvZ3lQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLXdyZW5jaFwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIlRlY2hub2xvZ3lcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmNsYXNzTmFtZSAgPT0gXCJMb2NhdGlvblByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtbWFwLW1hcmtlclwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIkxvY2FsZVwiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS5sb2NhbGUsIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiSW5kdXN0cnlQcm9maWxlXCIpIHtcbiAgICAgIHNpZ25hbEljb24gPSBSZWFjdC5ET00uaSh7Y2xhc3NOYW1lOiBcImZhIGZhLWJ1aWxkaW5nXCJ9KVxuICAgICAgc2lnbmFsTmFtZSA9IFwiSW5kdXN0cmllc1wiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS5pbmR1c3RyaWVzLCBmdW5jdGlvbihyZXN1bHQsIHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHJvbGUgKyBcIiwgXCIrIHJlc3VsdFxuICAgICAgfSwgXCJcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuY2xhc3NOYW1lICA9PSBcIkNvbXBhbnlTaXplUHJvZmlsZVwiKSB7XG4gICAgICBzaWduYWxJY29uID0gUmVhY3QuRE9NLmkoe2NsYXNzTmFtZTogXCJmYSBmYS13cmVuY2hcIn0pXG4gICAgICBzaWduYWxOYW1lID0gXCJUZWNobm9sb2d5XCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5jbGFzc05hbWUgID09IFwiUHJvc3BlY3RUaXRsZVByb2ZpbGVcIikge1xuICAgICAgc2lnbmFsSWNvbiA9IFJlYWN0LkRPTS5pKHtjbGFzc05hbWU6IFwiZmEgZmEtdXNlclwifSlcbiAgICAgIHNpZ25hbE5hbWUgPSBcIlRpdGxlc1wiXG4gICAgICBzaWduYWxWYWx1ZSA9IF8ucmVkdWNlKHRoaXMucHJvcHMucHJvZmlsZS50aXRsZV9rZXl3b3JkcywgXG4gICAgIGZ1bmN0aW9uKHJlc3VsdCwgcm9sZSkge1xuICAgICAgICByZXR1cm4gcm9sZSArIFwiLCBcIisgcmVzdWx0XG4gICAgICB9LCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2lnbmFsSWNvbiA9IFwibm90IGZvdW5kXCJcbiAgICAgIHNpZ25hbE5hbWUgPSBcIk5vdCBmb3VuZFwiXG4gICAgICBzaWduYWxWYWx1ZT0gXCJOb3QgZm91bmRcIlxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAgIHNpZ25hbEljb24gPSBcIm5vdCBmb3VuZFwiXG4gICAgICBzaWduYWxOYW1lID0gXCJOb3QgZm91bmRcIlxuICAgICAgc2lnbmFsVmFsdWU9IFwiTm90IGZvdW5kXCJcblxuICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJpZGVhbC1wcm9maWxlXCJ9LCBcIiBcIiwgc2lnbmFsSWNvbiwgXG4gICAgICAgIFJlYWN0LkRPTS5oNih7Y2xhc3NOYW1lOiBcInByb2ZpbGUtc2lnbmFsLW5hbWVcIn0sIHNpZ25hbE5hbWUsIFwiIC0gXCIpLCBcbiAgICAgICAgUmVhY3QuRE9NLnNwYW4oe2NsYXNzTmFtZTogXCJwcm9maWxlLXNpZ25hbC12YWx1ZVwifSwgXCIgXCIrc2lnbmFsVmFsdWUpXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbi8qXG4gIEZ1bmRpbmcgUHJvZmlsZVxuICAtIEFtb3VudCBSYWlzZWQgLSBidG4gZ3JvdXBcbiAgLSBTdGFnZSAtIGJ0biBncm91cFxuXG4gIFBlb3BsZSBQcm9maWxlXG4gIC0gTG9jYWxlIC0gdGFncyB3LyB0eXBhaGVhZFxuICAtIFRpdGxlIC0gdGFncyB3LyB0eXBhaGVhZFxuXG4gIENvbXBhbnkgUHJvZmlsZVxuICAtIEluZHVzdHJpZXMgLSB0YWdzIHdpdGggdHlwYWhlYWRcbiAgLSBSZXZlbnVlIC0gYnRuIGdyb3VwXG4gIC0gIyBvZiBFbXBsb3llZXMgLSBidG4gZ3JvdXBcbiAgLSBMb2NhbGUgLSB0YWdzIHdpdGggdHlwYWhlYWRcbiovXG5cbiJdfQ==
